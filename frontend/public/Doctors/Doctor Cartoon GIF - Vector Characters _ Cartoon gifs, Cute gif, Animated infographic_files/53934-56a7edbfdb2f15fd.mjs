"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[53934],{32346:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},286988:(e,t,n)=>{n.d(t,{Z:()=>l,v:()=>i});let i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function l(){if(!i())return[];try{let e=await navigator.getInstalledRelatedApps();return e}catch(e){return[]}}},119936:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var i=n(667294),l=n(883119),a=n(32346),r=n(844683),s=n(140017),o=n(30378),p=n(5859),d=n(55202),u=n(217058),c=n(554786),m=n(239821),_=n(785893);let y=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},h=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function w({accessibilityModalLabel:e,align:t="center",allowClickAndDrag:n,allowScroll:w=!1,children:v,closeOnOutsideClick:f=!0,footer:g,heading:x,isOpen:b,mobileAccessibilityCloseIconLabel:T,mobileHideCloseIcon:k,mobileIsFooter:I,mobileIsFullscreen:j,mobileIsSlideUp:A,onDismiss:P,subHeading:S,type:Z,zIndex:C}){let L=(0,s.ZP)(),{isRTL:E}=(0,p.B)(),z=(0,i.useRef)(!1),[D,R]=(0,i.useState)(!1),{setAppFocusState:U}=(0,m.I)(),B=(0,c.ZP)();return((0,i.useEffect)(()=>(z.current=(0,a.Z)(()=>{z.current&&R(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&z.current&&(window.cancelAnimationFrame(z.current),z.current=null)}),[]),(0,i.useEffect)(()=>(b?(o.Z.pause(),U(!1),(0,u.My)(`mweb_unauth.mobile_modal.${Z||"unknown_type"}.did_mount.is_open.true`)):(o.Z.resume(),U(!0)),()=>{b&&(o.Z.resume(),U(!0),(0,u.My)(`mweb_unauth.mobile_modal.${Z||"unknown_type"}.did_mount.is_open.false`))}),[U,b]),(0,i.useEffect)(()=>{let e=b&&!w;return e&&y(),()=>{e&&h()}},[b,w]),b)?(0,_.jsx)(d.Z,{allowClickAndDrag:n,children:(0,_.jsx)(l.mh,{children:(0,_.jsxs)(l.xu,{"aria-label":e,display:"inlineBlock",position:"relative",role:"dialog",zIndex:C||r.ZM,children:[(0,_.jsx)(l.iP,{accessibilityLabel:L._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{e.clientX&&e.clientY&&(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${Z||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),f&&P()},tapStyle:"none",children:(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1)})}),(0,_.jsxs)(l.xu,{color:"default",dangerouslySetInlineStyle:A?(0,r.Vf)({isFullscreen:j,isTablet:"tablet"===B,isShowing:D,isRelatedInterestsModal:"related_interests_modal"===Z}):(0,r.JN)({variant:j?"fullscreen":"tablet"===B?"tablet":I?"footer":"signup"===Z?"signup":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,_.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",width:"100%",children:[T&&!k?(0,_.jsx)(l.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,_.jsx)(l.hU,{accessibilityLabel:T,icon:"cancel",iconColor:"darkGray",onClick:P,padding:4,size:"sm"})}):null,x?(0,_.jsx)(l.kC.Item,{flex:"grow",children:(0,_.jsx)(l.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,_.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:T&&!k?{marginRight:E?-10:50,marginLeft:E?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[j?x:(0,_.jsx)(l.xv,{align:t,size:"400",weight:"bold",children:x}),S?(0,_.jsx)(l.xv,{align:t,children:S}):null]})})}):null]}),(0,_.jsxs)(l.xu,{overflow:"auto",children:[v,g]})]})]})})}):null}},454514:(e,t,n)=>{n.d(t,{UZ:()=>p,Vg:()=>o,ZP:()=>d});var i=n(667294),l=n(883119),a=n(554786),r=n(494125),s=n(785893);let o=200,p=({deviceType:e,hiding:t,visible:n})=>{let i="desktop"===e,l=0,a=i?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",s="hidden";return n&&!t&&(l=1,a="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),n&&t&&(a="scale(1.1)",r="opacity transform 0.2s"),{opacity:l,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:a,transition:r,visibility:s}};function d({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:d,dismissButton:u,helperLink:c,thumbnail:m,type:_,dataTestId:y,duration:h=2e3,onHide:w,href:v,onClick:f,openNewPage:g,imageUrl:x}){let b;let T=(0,a.ZP)(),[k,I]=(0,i.useState)(!1),[j,A]=(0,i.useState)(!1),P=(0,i.useRef)(),S=()=>{I(!0),P.current=setTimeout(w,o)},Z=()=>{P.current=setTimeout(S,h)},C=()=>{P.current&&clearTimeout(P.current)};(0,r.Z)(()=>(setTimeout(()=>A(!0),100),Z(),C)),x&&(b={image:(0,s.jsx)(l.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:x})});let L=(0,s.jsx)(l.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:u,helperLink:c,primaryAction:d,text:n,thumbnail:b??m,type:_}),{marginTop:E,opacity:z,pointerEvents:D,position:R,transform:U,transition:B,visibility:M}=p({deviceType:T,hiding:k,visible:j});return(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transform:U,transition:B,visibility:M,pointerEvents:D}},"data-test-id":y??"toast",display:"flex",marginTop:E,onMouseEnter:C,onMouseLeave:Z,opacity:z,position:R,children:v?(0,s.jsx)(l.Tg,{href:v,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{v.startsWith("#")&&(e.preventDefault(),t()),f?.(e)},rounding:"pill",target:g?"blank":null,children:L}):L})}},205841:(e,t,n)=>{n.d(t,{qE:()=>s,u_:()=>o.ZP});var i=n(883119),l=n(785893);let a=(e,t)=>{let n=e?.includes("images/user/default");return!!(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:s,verified:o}){return(0,l.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:a(s,t)?void 0:s,verified:o})}r.displayName="Avatar";let s=r;var o=n(930837);n(454514)},666472:(e,t,n)=>{n.d(t,{F:()=>p,Z:()=>o});var i=n(667294),l=n(263032),a=n(214877),r=n(30378);let s={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054}};function o({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:o,contextLogData:p,clientTrackingParams:d,elementType:u,impressionAuxFields:c,inImpressionExp:m,impressionType:_,impressionsFramework:y,isPaused:h,loggingId:w,objectIdStr:v,slotIndex:f,trackCarousel:g,viewData:x,viewParameter:b,viewType:T,isPromoted:k,storyPinProductEventData:I,pinData:j}){let{logContextEvent:A}=(0,a.v)(),P=y||r.Z,S=(0,i.useRef)(null),Z=i=>{let a=s[_],r=a.idType,m={clientTrackingParams:d,endTime:i.endTime,[r]:w,slotIndex:f,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...c,forcedExit:"removed"===i.forcedExit?0:void 0},y={};if("Pin"===_&&(m={...m,pinCellWidth:S.current?.getBoundingClientRect().width||0,pinCellHeight:S.current?.getBoundingClientRect().height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},c?.chromeAraViewExp&&j&&j.isPromoted)){let{attributionSourceId:e}=j;(0,l.YS)(_,j.isPromoted??null,e??null,j.link??null,j.campaignId??null,c.araAuxData??null,j.advertiserId??null,j.domain??null,j.adDestinationUrl??null),y={is_arapi:!0,attribution_source_id:e||""}}let h={component:o,object_id_str:v,view_type:T,view_data:x||{},view_parameter:b};g?e&&g&&A({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...m,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...h,aux_data:{...p,...y}}):A({clientTrackingParams:d,event_type:a.eventType,...h,element:u,event_data:{[a.impressionType]:"Story"===_?m:[m],...I?{storyPinProductEventData:I}:{}},aux_data:{closeup_navigation_type:n,...p,...y}})},C=(0,i.useCallback)(()=>{try{let{current:e}=S;e instanceof HTMLElement&&(!k||e.getElementsByTagName("img").length>0)&&P.start(e).onExitViewport(Z).setDebugId(w||"unknown")}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[S.current]);return(0,i.useEffect)(()=>(m&&!P.inExperiment&&P.setExperimentStatus(!0),h||C(),()=>{let{current:e}=S;e instanceof HTMLElement&&(!k||e.getElementsByTagName("img").length>0)&&P.stop(e)}),[h,C]),S}let p=({children:e,...t})=>e({impressionTrackerRef:o(t)})},870526:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),l=n(883119),a=n(490166),r=n(785893);let s=40,o=70,p={__style:{borderRadius:"4px",padding:"10px 14px"}},d={__style:{borderWidth:"1px",borderStyle:"solid",borderColor:"white"}},u={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},c=e=>({__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...e}}),m=e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default",_=({color:e,icon:t})=>t?u:"transparent"===e?{__style:{...p.__style,...d.__style}}:p,y=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:p,icon:d,inline:u=!1,minHeight:y=s,minWidth:h=o,onTouch:w,pressState:v,shape:f,text:g})=>{let[x,b]=(0,i.useState)(!1),T=m(t),k=_({color:t,icon:d}),I=(0,r.jsx)(l.xu,{onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),position:"relative",children:(0,r.jsx)(l.xu,{color:"primary"===t&&x?"errorBase":t,dangerouslySetInlineStyle:"pill"===f?c(n):k,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:y,minWidth:h,children:(0,r.jsxs)(l.kC,{alignItems:"center",justifyContent:"center",children:[d&&(0,r.jsx)(l.xu,{paddingX:"check"===d?2:0,children:(0,r.jsx)(l.JO,{accessibilityLabel:e,color:T,icon:d,inline:!0,size:"check"===d?16:20})}),(0,r.jsx)(l.xv,{color:T,inline:!0,lineClamp:1,size:"300",weight:"bold",children:g})]})})});return w?(0,r.jsx)(a.Z,{onTouch:w,pressState:v||"none",rounding:"pill"===f?"pill":2,children:(0,r.jsx)(l.xu,{ref:p,children:I})}):I}},233731:(e,t,n)=>{n.d(t,{MZ:()=>E,di:()=>D,Ai:()=>z});var i=n(667294),l=n(616550),a=n(883119),r=n(286988),s=n(587703),o=n(422210),p=n(96157),d=n(340523),u=n(182962),c=n(805783),m=n(5859),_=n(191313),y=n(573810),h=n(217058),w=n(149722),v=n(90647),f=n(547010),g=n(773616),x=n(870526),b=n(460270),T=n(263148),k=n(862249),I=n(171966);let j=({children:e,external:t,externalQueryParams:n,target:i,href:a,features:r})=>{let s=(0,l.k6)();if(!a)return null;let o=(0,b.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,k.Z)({url:o})||t?"undefined"!=typeof window&&window.Windows?(0,I.Z)(o):(0,T.Gj)(o,{queryParams:n,features:r}):(0,T.G3)({event:e,href:a,history:s,target:"blank"===i?"blank":null})}})};var A=n(785893),P=n(86264),S=n(669177),Z=n(386008);let C=e=>"string"==typeof e?e:`${e.pathname||""}${e.search?`?${e.search}`:""}`,L=(e,t=!1)=>function({isAppUpsellDisabled:n,...x}){let{children:b,clientTrackingParams:T,deeplinkUri:k,external:I,onTouch:j,refresh:L,to:E,viewParameter:z,viewType:D}=x,R=(0,g.Z)(),[U,B]=(0,i.useState)(!1),[M,O]=(0,i.useState)(!1),[N,W]=(0,i.useState)(!1),{isAuth:F}=(0,w.Z)(),{userAgent:{platform:H},locale:$}=(0,m.B)(),q=(0,Z.Tt)(),G=(0,s.Z)(),{checkExperiment:Y}=(0,d.F)(),X=(0,l.TH)(),J=(0,u.Z)();(0,i.useEffect)(()=>{(async function(){if((0,r.v)()){W(!0);let e=await (0,r.Z)();e.length>0&&O(!0)}})()},[]),(0,i.useEffect)(()=>{F||"true"===(0,y.qn)("hasAppInstalledWasLogged")||((0,h.My)(`unauth.app_upsell.has_app.${M.toString()}`),(0,y.Nh)("hasAppInstalledWasLogged","true"))},[M,F]);let V=()=>{G({event_type:1701,view_type:D,view_parameter:z}),U&&B(!1)};return(0,A.jsxs)(a.xu,{"data-test-id":"deeplink-wrapper",children:[U&&(0,A.jsx)(f.Z,{app_upsell_type:"deep-link-app-upsell-modal",clientTrackingParams:T,deepLinkUri:k,isOpen:!0,onDismiss:()=>{G({component:14157,element:10308,event_type:10220,view_type:D||202,view_parameter:z,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,_.Nh)("deeplinkBehavior","branchfallback"),V()},shouldTrackDismiss:!0,to:E,viewParameter:z,viewType:D}),(0,A.jsx)(P.Z,{children:i=>(0,A.jsx)(e,{...x,onTouch:e=>{let l=R&&!n&&F&&!I&&!L&&!(0,c.FP)(window)&&!("ios"===H&&($||"").startsWith("ar"))&&(0,S.kp)((0,o.Z)(q?.created_at));if(l){let t=!0,n=!1,l="string"==typeof k&&(k||"").startsWith("/pin/")&&((0,p.uM)(X)||(0,p.am)(X)||(0,p.C$)(X));l?N&&M&&k&&"android"===H&&Y("mweb_auth_deep_link_app_installed_user").anyEnabled&&(J(),t=!1):(t=!1,n=!0),t?(e.stopPropagation(),e.preventDefault(),B(!0)):n||(e.stopPropagation(),e.preventDefault(),G({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{upsell_reason:"deep-link-app-upsell-modal"}}),i(k??(0,v.B)(X,"android"===H),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,_.qn)("deeplinkBehavior")||(0,y.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,y.Nh)("fallbackAttempt",1),i(k,"deep-link-app-upsell-modal",`${window.location.origin}${C(E)}`),V());!(t&&l)&&j&&j(e)},children:b})})]})},E=L(({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,features:l,inline:r=!1,newTab:s,nofollow:o,onTouch:p,onBlur:d,onFocus:u,pressState:c,rounding:m,to:_})=>(0,A.jsx)(j,{external:n,externalQueryParams:i,features:l,href:_,target:s?"blank":null,children:({navigate:n})=>(0,A.jsx)(a.rU,{accessibilityLabel:e,display:r?"inlineBlock":"block",href:(0,b.Z)(_),onBlur:d?({event:e})=>d(e):void 0,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),p?.(e),e.defaultPrevented||n(e)},onFocus:u?({event:e})=>u(e):void 0,rel:o?"nofollow":"none",rounding:m,tapStyle:(Array.isArray(c)?c:[c]).includes("compress")?"compress":"none",underline:"none",children:t})})),z=L(({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:l,...a})=>(0,A.jsx)(j,{external:e,externalQueryParams:t,href:l,target:n?"blank":null,children:({navigate:e})=>(0,A.jsx)(x.Z,{onTouch:t=>{i?.(t),t.defaultPrevented||e(t)},...a})})),D=L(x.Z,!0)},86264:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(214877),l=n(340523),a=n(5859),r=n(344064),s=n(669177),o=n(286988),p=n(624797),d=n(953565);let u="http://play.google.com/store/apps/details?id=com.pinterest",c=["access_token","new_password","new_password_confirm","password","next"],m=(e,t)=>t?(0,p.ru)(e,{invite_code:t}):e,_=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?m(e,n):"ios"===t||"ipad"===t?m(e.iOS,n):"android"===t?m(e.android,n):null},y=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:l,app_upsell_type:a})=>({deeplink_path:_(e,n,t),current_page_url:(0,p.Gw)("undefined"!=typeof window?window.location.href:"",c),install_id:l,utm_source:140,utm_medium:2152,app_upsell_type:a,...i?{af_r:i}:null}),h=({deeplinkUri:e,invite_code:t,platform:n,unauthId:i,app_upsell_type:l})=>{let a=JSON.stringify({deeplink_path:_(e,n,t),current_page_url:(0,p.Gw)("undefined"!=typeof window?window.location.href:"",c),install_id:i}),r=(0,p.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:l});return{referrer:r}},w=({unauthId:e,app_upsell_type:t})=>{let n=(0,p.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t});return{referrer:encodeURI(n)}},v=({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,logContextEvent:l,platform:a,redirectToLite:r,unauthId:s,userAgent:c,app_upsell_type:m})=>{if(l?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),t){let _=y({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,platform:a,unauthId:s,userAgent:c,app_upsell_type:m});if((0,d.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:a}}),i&&(0,d.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,d.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!s}}),r){(0,d.nP)("mweb.deeplink.lite_link",{sampleRate:1}),l?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});let e=w({unauthId:s,app_upsell_type:m});window.location.href=(0,p.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===a){let e=h({deeplinkUri:t,invite_code:i,platform:a,unauthId:s,app_upsell_type:m});(0,o.v)()?(0,o.Z)().then(t=>{if(t.length>0){let e=(0,p.ru)(window.location.href,_);l?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});let t=window.open(e);t||l?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}})}else l?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,p.ru)(u,e)}).catch(()=>{(0,d.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(l?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,p.ru)(u,e))}else{if((0,d.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===a&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,p.ru)("https://pinterest.com/pinterest-predicts",_);return}l?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,p.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",_)}}};var f=n(785893);function g({children:e,invite_code:t}){let{isAuthenticated:n,isBot:r,unauthId:o,userAgent:{platform:p,raw:d}}=(0,a.B)(),{logContextEvent:u}=(0,i.v)(),{checkExperiment:c}=(0,l.F)(),m=async(e,i,l)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),v({isAuthenticated:n,checkExperiment:c,deeplinkUri:e,fallbackUrl:l,invite_code:t,logContextEvent:u,platform:p,redirectToLite:(0,s.Rp)({isBot:r,platform:p,userAgent:d}),unauthId:o,userAgent:d,app_upsell_type:i})};return e(m)}let x=e=>(0,f.jsx)(r.ty,{children:t=>(0,f.jsx)(g,{...e,invite_code:t})});x.displayName="DeepLinkNavigator";let b=x},490166:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),l=n(785893);function a({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:a,rounding:r,fullWidth:s=!1,pressState:o="none",accessibilityLabel:p,role:d}){let u=(Array.isArray(o)?o:[o]).includes("compress");return(0,l.jsx)(i.iP,{accessibilityLabel:p,fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:a&&(({event:e})=>a(e)),role:d,rounding:r,tapStyle:u?"compress":"none",children:e})}},766311:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),l=n(587703),a=n(217058);let r=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),s=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:l,component:s,clientTrackingParams:o,element:p},d)=>{let u=r({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:l,component:s,clientTrackingParams:o,element:p});-1===Object.keys(u).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),d(u)};function o(e){let{auxData:t,clientTrackingParams:n,children:a,component:r,element:o,objectIdStr:p,viewData:d,viewParameter:u,viewType:c}=e,m=(0,l.Z)(),_=JSON.stringify(t),y=JSON.stringify(d);return(0,i.useEffect)(()=>{s(e,m)},[m,_,n,r,o,p,y,u,c]),i.Children.only(a)}},90647:(e,t,n)=>{n.d(t,{B:()=>y,Z:()=>h});var i=n(667294),l=n(616550),a=n(214877),r=n(525364),s=n(96157),o=n(5859),p=n(217058),d=n(623409),u=n(773616),c=n(86264),m=n(953565),_=n(785893);let y=(e,t)=>"/"===e.pathname?"/":(0,s.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function h({children:e,componentType:t,app_upsell_type:n}){let s=(0,l.TH)(),{flushContextEvents:h,logContextEvent:w}=(0,a.v)(),{viewType:v,viewParameter:f}=(0,r.SU)(),g=(0,d.Z)(),{userAgent:{platform:x}}=(0,o.B)();(0,i.useEffect)(()=>{g({action:"view",item:"download-button",within:n})},[s,n,g]);let b=(0,i.useRef)(!1);(0,i.useEffect)(()=>{v&&202!==v?(w({component:t||13106,element:10308,event_type:9976,view_type:v,view_parameter:f,aux_data:{app_upsell_type:n,app_upsell_is_dupe:b.current}}),b.current=!0):(0,m.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:v,view_parameter:f,app_upsell_type:n,app_upsell_is_dupe:b.current}})},[t,w,f,v,n]);let T=(0,u.Z)();return(0,i.useEffect)(()=>{T||(0,p.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[T,n]),(0,_.jsx)(c.Z,{children:i=>e({handleOpenApp:e=>{g({action:"click",item:"download-button",within:n}),(0,p.NC)("press_open_app",!0),w({component:t||13106,element:10308,event_type:102,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:n}}),w({component:t||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:n}}),h(!0),i&&(w({component:t||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:n}}),i(e?.deepLinkUri??y(s,"android"===x),n))}})})}},547010:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(883119),l=n(119936),a=n(140017),r=n(340370),s=n(5859),o=n(554786),p=n(90647),d=n(677233),u=n(669177),c=n(785893);let m=({deepLinkUri:e,isOpen:t,onDismiss:n,onOpenInApp:d,to:m,app_upsell_type:_})=>{let y=(0,a.ZP)(),h=(0,o.Wb)(),{isBot:w,userAgent:{platform:v,raw:f}}=(0,s.B)(),g=(0,u.Rp)({isBot:w,platform:v,userAgent:f}),x=(0,r.Z)({href:m??""}),b=h?60:40;return(0,c.jsx)(l.default,{accessibilityModalLabel:"",closeOnOutsideClick:!1,isOpen:t,mobileHideCloseIcon:!0,onDismiss:()=>{},type:"app_upsell_v1",zIndex:new i.Ry(101),children:(0,c.jsx)(p.Z,{app_upsell_type:_,componentType:14157,children:({handleOpenApp:t})=>(0,c.jsxs)(i.xu,{"data-test-id":"appUpsell-iframe",padding:3,children:[(0,c.jsx)(i.xu,{display:"inlineBlock",position:"absolute",children:(0,c.jsx)(i.xu,{"data-test-id":"appUpsell-continue",children:(0,c.jsx)(i.hU,{accessibilityLabel:y._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",iconColor:"gray",onClick:({event:e})=>{n({event:e}),x&&!e.defaultPrevented&&x({event:e})},size:"lg"})})}),(0,c.jsxs)(i.xu,{paddingX:2,paddingY:6,children:[(0,c.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,c.jsx)(i.JO,{accessibilityLabel:"Pinterest App",color:"brandPrimary",icon:"pinterest",size:b})}),(0,c.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,c.jsx)(i.xu,{paddingY:2,children:(0,c.jsx)(i.X6,{align:"center",size:"400",children:g?y._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):y._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app')})}),(0,c.jsx)(i.xv,{align:"center",size:"300",children:g?y._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):y._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')}),(0,c.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,c.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:()=>{t({deepLinkUri:e}),d()},size:"lg",text:y._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app')})})]})]})]})})})};function _({clientTrackingParams:e,deepLinkUri:t,isOpen:n,onDismiss:i,onOpenInApp:l,shouldTrackDismiss:a,to:r,viewParameter:s,viewType:o,app_upsell_type:p}){return(0,c.jsx)(d.Z,{clientTrackingParams:e,viewParameter:s,viewType:o,children:(0,c.jsx)(m,{app_upsell_type:p,deepLinkUri:t,isOpen:n,onDismiss:e=>{a&&(0,d.y)(),i(e)},onOpenInApp:()=>{(0,d.y)(),l()},to:r})})}},677233:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>d});var i=n(667294),l=n(805783),a=n(191313),r=n(573810),s=n(194602),o=n(766311),p=n(785893);let d=()=>{(0,a.Nh)("appUpsell",Date.now()),(0,a.qn)("firstUpsellTime")||(0,a.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:a}){let r=(0,s.Z)();return r||(0,l.FP)(window)?null:(0,p.jsx)(o.Z,{clientTrackingParams:t,component:13106,viewParameter:n,viewType:a,children:(0,p.jsx)(i.Fragment,{children:e})})}},773616:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702664);let l=()=>(0,i.useSelector)(({session:{canUseNativeApp:e}})=>e)},669177:(e,t,n)=>{n.d(t,{G3:()=>d,Rp:()=>p,kp:()=>s});var i=n(188349),l=n(191313),a=n(573810);let r=14*i.F4,s=(e,t)=>{let n=function(){let e=Date.now(),t=Number((0,l.qn)("appUpsell")),n=Number((0,l.qn)("firstUpsellTime")),i=!!(0,a.qn)("showedAppUpsellCurrentSession");return{currentTime:e,firstUpsellTime:n,lastUpsellTime:t,showedAppUpsellCurrentSession:i}}();return e?function(e,t,n){let{currentTime:i,firstUpsellTime:a,lastUpsellTime:s,showedAppUpsellCurrentSession:o}=e;return(n=n||r,!a||i<a+t)?!o:i-s>n&&((0,l.L_)("firstUpsellTime"),!0)}(n,i.F4):function(e,t){let{currentTime:n,lastUpsellTime:i}=e;return t=t||r,!i||n-i>t}(n,t)},o=e=>{e=e.toLowerCase();let t=e.match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},p=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&7>parseFloat(o(n))}catch(e){return!1}},d=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},358589:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(140017),l=n(554786),a=n(166770),r=n(735728);let s=()=>{let e=(0,i.ZP)(),t=(0,l.HG)(),{viewer:n,loginForMore:s,limitedLoginModalSubheader:o,limitedLoginModalNextLocation:p}=(0,a.H)(),d="LIMITED_LOGIN"===n.type;return d?({modalHeader:n,nextLocation:i})=>l=>{let a=null;l&&(l.nativeEvent&&l.nativeEvent instanceof Event?a=l:l.event&&(a=l.event)),a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),s?.setVisible(!0),o?.setText(n||(t?r.hr(e):r.Wh(e))),i&&p?.setRoute(i)}:({fn:e})=>e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/53934-56a7edbfdb2f15fd.mjs.map