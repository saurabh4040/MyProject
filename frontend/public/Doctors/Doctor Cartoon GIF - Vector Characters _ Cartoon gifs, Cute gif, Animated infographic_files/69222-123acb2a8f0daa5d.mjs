"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[69222],{105737:(e,t,r)=>{function a(e,t,r){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a+=1)if(!o(e[a],t[a],r+1))return!1;return!0}function l(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let a in e)if(!(a in t)||!o(e[a],t[a],r+1))return!1;return!0}function o(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let o=Object.prototype.toString.call(e),n=Object.prototype.toString.call(t);if(o!==n)return!1;switch(o){case"[object Array]":return a(e,t,r);case"[object Set]":return a(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return l(e,t,r);case"[object Map]":return l(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function n(e,t){return o(e,t,0)}r.d(t,{ZP:()=>n,qP:()=>a})},587070:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(667294);function l(e,t){let r=(0,a.useRef)([]),[l,o]=(0,a.useState)(),[n,s]=(0,a.useReducer)(l??(()=>t),t),i=(0,a.useCallback)(t=>{l?s(t):(r.current.length||e().then(e=>{o(()=>e.default)}),r.current=[...r.current,t])},[e,l]);return(0,a.useEffect)(()=>{l&&(r.current.forEach(s),r.current=[])},[l]),[n,i]}},415199:(e,t,r)=>{r.d(t,{pb:()=>A,nf:()=>T,lV:()=>h});var a=r(667294),l=r(702664),o=r(441143),n=r.n(o),s=r(216167),i=r(342513),d=r(107366),c=r(638747),_=r(105737),g=r(996523);let u={feature_map:Object.freeze({})},m=(e,t)=>{let r={...(0,g.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,_.ZP)(e,r)?e:r},E=(e=u,t)=>{if("FETCH_COMPLETE"===t.type){let{payload:{resource:r}}=t,{data:a}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===r||"AggregatedCommentReplyFeedResource"===r||"DidItCommentsResource"===r){let t=a||[],r=t.reduce((t,r)=>(t[r.id]=m(e[r.id],r),t),{});return{...e,...r}}if("UnifiedCommentsResource"===r&&a&&a.length>0){let t=a.filter(e=>"aggregatedcomment"===e.type),r=t.reduce((t,r)=>(t[r.id]=m(e[r.id],r),t),{});return{...e,...r}}if("UnifiedCommentsPreviewResource"===r&&a&&a.length>0){let t=a[0].aggregated_comment,r=t?{[t.id]:m(e[t.id],t)}:{},l=a[0].creator_reply,o=l?{[l.id]:m(e[l.id],l)}:{};return{...e,...r,...o}}if("AggregatedCommentFeaturesResource"===r&&a&&Object.keys(a).length>0)return{...e,feature_map:a}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:r}}=t;return r.id?{...e,[r.id]:r}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:r}}=t,a={...e};return delete a[r],a}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:r}}=t;return Object.fromEntries(Object.entries(e).filter(e=>e[1].user?.id!==r))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:r}}=t;return{...e,[r.id]:m(e[r.id],r)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:r}}=t,a=e[r.id],l=a.reaction_counts[1]||0,o={1:r.reaction_by_me?l+1:l-1},n={...a,reaction_by_me:r.reaction_by_me,reaction_counts:o};return{...e,[r.id]:n}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:r}}=t,a=e[r.id],l=a.helpful_count||0,o=r.marked_helpful_by_me?l+1:l-1,n={...a,marked_helpful_by_me:r.marked_helpful_by_me,helpful_count:o};return{...e,[r.id]:n}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:r}}=t,a=e[r.aggregated_comment_id],l={...a,highlighted_by_pin_owner:r.is_highlighted};return{...e,[r.aggregated_comment_id]:l}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:r}}}=t;return{...e,feature_map:{...e.feature_map,...r}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:r,id:a}}=t,l=e[a];if(!l)return e;let o={...l,comment_count:l.comment_count+r};return{...e,[a]:o}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:r,tagged_users:a}}=t,l=e[r],o={...l,tagged_users:a};return{...e,[r]:o}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:r,translatedText:a}}=t,l=e[r],o={...l,translatedText:a};return{...e,[r]:o}}return e};var p=r(785893);let{Provider:f,useHook:y}=(0,i.Z)("AggregatedComments");function A({children:e}){let t=(0,l.useSelector)(({resources:e})=>e.UnifiedCommentsResource),r=u;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),a=t?.reduce((e,t)=>(e[t.id]=m(r[t.id],t),e),{});r={...r,...a}});let[o,n]=(0,a.useReducer)(E,r),s=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",s),(0,c.my)("AggregatedCommentFeaturesResource",s),(0,c.Z8)("AggregatedCommentFeedResource",s),(0,c.my)("AggregatedCommentFeedResource",s),(0,c.Z8)("AggregatedCommentReplyFeedResource",s),(0,c.my)("AggregatedCommentReplyFeedResource",s),(0,c.Z8)("DidItCommentsResource",s),(0,c.my)("DidItCommentsResource",s),(0,c.Z8)("UnifiedCommentsPreviewResource",s),(0,c.my)("UnifiedCommentsPreviewResource",s),(0,c.Z8)("UnifiedCommentsResource",s),(0,c.my)("UnifiedCommentsResource",s);let i=(0,a.useMemo)(()=>({aggregatedComments:o,dispatch:n}),[o,n]);return(0,p.jsx)(f,{value:i,children:e})}function T(){let{dispatch:e}=y();return(0,a.useMemo)(()=>({aggregatedCommentCreated(t,r){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:r}})},aggregatedCommentDeleted:(t,r)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:r}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:r})=>(0,d.Z)({url:`/v3/aggregated_comments/${e}/flag/`,method:"PUT",data:{commentId:e,reason:t,detailedReasons:r}}),deleteCommentMention:async t=>{let{resource_response:r}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),a=r.data??{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:a.id,tagged_users:a.tagged_users}})},translateAggregatedComment:async t=>{try{let{resource_response:r}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),a=r.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:a}})}catch(r){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:r})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:r?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!r}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:r,isHighlighted:a})=>{n()(t,"Could not find comment"),n()(r,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:r,highlight:!a}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:r,is_highlighted:!a}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:r})=>{(0,d.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:r?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:r?0:1}}})},updateAggregatedComment:async({commentId:t,force:r,orbacSubjectId:a,tags:l,text:o})=>{let{resource_response:n}=await s.Z.create("AggregatedCommentResource",{commentId:t,force:r,tags:l,text:o,...a?{orbacSubjectId:a}:{}}).callUpdate({showError:!1}),{tagged_users:i}=n.data??{},d=i.map(e=>({...e}));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:d,tags:JSON.parse(l),text:o}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:r,passcode:a})=>{let{resource_response:l}=await s.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:r,passcode:a}).callUpdate({showError:!1}),o=l.data??Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:o}}})},updateCommentCount:(t,r)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:r,id:t}})}}),[e])}function h(){let{aggregatedComments:e}=y();return e}},189:(e,t,r)=>{r.d(t,{G:()=>g,Kl:()=>u,vo:()=>_});var a=r(667294),l=r(342513),o=r(638747),n=r(587070),s=r(785893);let i=()=>r.e(70809).then(r.bind(r,570809)),{Provider:d,useHook:c}=(0,l.Z)("NativeEngagements");function _({children:e}){let[t,r]=(0,n.Z)(i,[]),l=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,o.Z8)("NativeInteractionsResource",l),(0,o.my)("NativeInteractionsResource",l);let c=(0,a.useMemo)(()=>({dispatch:r,nativeEngagements:t}),[r,t]);return(0,s.jsx)(d,{value:c,children:e})}function g(){let{dispatch:e}=c();return(0,a.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function u(){let{nativeEngagements:e}=c();return e}},193247:(e,t,r)=>{r.d(t,{Z:()=>_});var a=r(883119),l=r(930837),o=r(140017),n=r(339001),s=r(702497),i=r(554786),d=r(785893);let c=s.K_Y+"?source=block_dialogue";function _({firstName:e,onBlockUser:t,onClearModal:r}){let s=(0,o.ZP)(),_=(0,i.HG)(),g=(0,n.nk)(s._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:e}).join(""),u=(0,n.nk)(s._('Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other\u2019s profiles.', 'blockUser.modal.description', 'explanation of what blocking another user means'),{firstName:e});return _?(0,d.jsxs)(l.ZP,{accessibilityModalLabel:g,footer:(0,d.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,d.jsx)(a.xu,{padding:1,children:(0,d.jsx)(a.zx,{fullWidth:!0,onClick:r,size:"lg",text:s._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user')})}),(0,d.jsx)(a.xu,{padding:1,children:(0,d.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:t,size:"lg",text:s._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user')})})]}),heading:g,onDismiss:r,role:"alertdialog",size:"md",children:[(0,d.jsx)(a.xu,{"data-test-id":"block-text",marginEnd:6,marginStart:6,children:(0,d.jsx)(a.xv,{children:u})}),(0,d.jsx)(a.xu,{marginEnd:6,marginStart:6,marginTop:4,children:(0,d.jsx)(a.xv,{color:"default",weight:"bold",children:(0,d.jsx)(a.rU,{href:c,target:"blank",children:s._('Learn more', 'link to help center to learn more about blocking', 'link to help center to learn more about blocking')})})})]}):(0,d.jsxs)(l.ZP,{accessibilityModalLabel:g,mobileHideCloseIcon:!0,onDismiss:r,type:"block_button",children:[(0,d.jsx)(a.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,d.jsx)(a.X6,{accessibilityLevel:1,size:"500",children:g})}),(0,d.jsx)(a.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,d.jsx)(a.xv,{children:u})}),(0,d.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,d.jsx)(a.xu,{padding:1,children:(0,d.jsx)(a.zx,{fullWidth:!0,onClick:r,size:"md",text:s._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user')})}),(0,d.jsx)(a.xu,{padding:1,children:(0,d.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:t,size:"md",text:s._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user')})})]})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/69222-123acb2a8f0daa5d.mjs.map