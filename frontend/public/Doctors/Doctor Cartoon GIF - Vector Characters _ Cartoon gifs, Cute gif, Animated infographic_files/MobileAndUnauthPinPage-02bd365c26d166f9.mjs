(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[18192,51879,72430,65706,16117,51798,91449,48452,95813,27056,86292,75721,4394,15906,87772,65252,47639,27258,40432,42298,7012,1954,33,76624,8575,40370,1643,91276,22987,33021,53934,55306,12127,66314,34104,76030,65923,7177,95917,27408,97080,2696,22079,14260,31348,33024,47774,5142,7166,60310,69965,31958,93810,69222,18738,90328],{376030:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i,a,l={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},s=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function d(e,t,n){return Math.min(Math.max(e,t),n)}function c(e,t){return e.indexOf(t)>-1}function u(e,t){return e.apply(null,t)}var p={arr:function(e){return Array.isArray(e)},obj:function(e){return c(Object.prototype.toString.call(e),"Object")},pth:function(e){return p.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||p.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return p.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return p.hex(e)||p.rgb(e)||p.hsl(e)},key:function(e){return!l.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function m(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function h(e,t){var n=m(e),i=d(p.und(n[0])?1:n[0],.1,100),a=d(p.und(n[1])?100:n[1],.1,100),l=d(p.und(n[2])?10:n[2],.1,100),r=d(p.und(n[3])?0:n[3],.1,100),s=Math.sqrt(a/i),c=l/(2*Math.sqrt(a*i)),u=c<1?s*Math.sqrt(1-c*c):0,h=c<1?(c*s+-r)/u:-r+s;function g(e){var n=t?t*e/1e3:e;return(n=c<1?Math.exp(-n*c*s)*(1*Math.cos(u*n)+h*Math.sin(u*n)):(1+h*n)*Math.exp(-n*s),0===e||1===e)?e:1-n}return t?g:function(){var t=o.springs[e];if(t)return t;for(var n=1/6,i=0,a=0;;)if(1===g(i+=n)){if(++a>=16)break}else a=0;var l=i*n*1e3;return o.springs[e]=l,l}}function g(e){return void 0===e&&(e=10),function(t){return Math.ceil(d(t,1e-6,1)*e)*(1/e)}}var _=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function t(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}return function(n,i,a,l){if(0<=n&&n<=1&&0<=a&&a<=1){var r=new Float32Array(11);if(n!==i||a!==l)for(var s=0;s<11;++s)r[s]=e(.1*s,n,a);return function(s){return n===i&&a===l||0===s||1===s?s:e(function(i){for(var l=0,s=1;10!==s&&r[s]<=i;++s)l+=.1;var o=l+(i-r[--s])/(r[s+1]-r[s])*.1,d=t(o,n,a);return d>=.001?function(n,i,a,l){for(var r=0;r<4;++r){var s=t(i,a,l);if(0===s)break;var o=e(i,a,l)-n;i-=o/s}return i}(i,o,n,a):0===d?o:function(t,n,i,a,l){var r,s,o=0;do(r=e(s=n+(i-n)/2,a,l)-t)>0?i=s:n=s;while(Math.abs(r)>1e-7&&++o<10)return s}(i,l,l+.1,n,a)}(s),i,l)}}}}(),y=(i={linear:function(){return function(e){return e}}},a={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=d(e,1,10),i=d(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){a[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(a).forEach(function(e){var t=a[e];i["easeIn"+e]=t,i["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},i["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},i["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}}),i);function f(e,t){if(p.fnc(e))return e;var n=e.split("(")[0],i=y[n],a=m(e);switch(n){case"spring":return h(e,t);case"cubicBezier":return u(_,a);case"steps":return u(g,a);default:return u(i,a)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function v(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,a=[],l=0;l<n;l++)if(l in e){var r=e[l];t.call(i,r,l,e)&&a.push(r)}return a}function x(e){return e.reduce(function(e,t){return e.concat(p.arr(t)?x(t):t)},[])}function k(e){return p.arr(e)?e:(p.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function P(e,t){return e.some(function(e){return e===t})}function S(e){var t={};for(var n in e)t[n]=e[n];return t}function w(e,t){var n=S(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function T(e,t){var n=S(e);for(var i in t)n[i]=p.und(e[i])?t[i]:e[i];return n}function I(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return p.fnc(e)?e(t.target,t.id,t.total):e}function E(e,t){return e.getAttribute(t)}function C(e,t,n){if(P([n,"deg","rad","turn"],I(t)))return t;var i=o.CSS[t+n];if(!p.und(i))return i;var a=document.createElement(e.tagName),l=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;l.appendChild(a),a.style.position="absolute",a.style.width=100+n;var r=100/a.offsetWidth;l.removeChild(a);var s=r*parseFloat(t);return o.CSS[t+n]=s,s}function j(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?C(e,a,n):a}}function R(e,t){return p.dom(e)&&!p.inp(e)&&(!p.nil(E(e,t))||p.svg(e)&&e[t])?"attribute":p.dom(e)&&P(s,t)?"transform":p.dom(e)&&"transform"!==t&&j(e,t)?"css":null!=e[t]?"object":void 0}function L(e){if(p.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,a=new Map;t=i.exec(n);)a.set(t[1],t[2]);return a}}function F(e,t,n,i){switch(R(e,t)){case"transform":var a,l;return a=c(t,"scale")?1:0+(c(t,"translate")||"perspective"===t?"px":c(t,"rotate")||c(t,"skew")?"deg":void 0),l=L(e).get(t)||a,i&&(i.transforms.list.set(t,l),i.transforms.last=t),n?C(e,l,n):l;case"css":return j(e,t,n);case"attribute":return E(e,t);default:return e[t]||0}}function D(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=I(e)||0,a=parseFloat(t),l=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return a+l+i;case"-":return a-l+i;case"*":return a*l+i}}function O(e,t){if(p.col(e)){var n,i,a,l;return n=e,p.rgb(n)?(i=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n))?"rgba("+i[1]+",1)":n:p.hex(n)?(a=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),"rgba("+parseInt((l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))[1],16)+","+parseInt(l[2],16)+","+parseInt(l[3],16)+",1)"):p.hsl(n)?function(e){var t,n,i,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),l=parseInt(a[1],10)/360,r=parseInt(a[2],10)/100,s=parseInt(a[3],10)/100,o=a[4]||1;function d(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==r)t=n=i=s;else{var c=s<.5?s*(1+r):s+r-s*r,u=2*s-c;t=d(u,c,l+1/3),n=d(u,c,l),i=d(u,c,l-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+o+")"}(n):void 0}if(/\s/g.test(e))return e;var r=I(e),s=r?e.substr(0,e.length-r.length):e;return t?s+t:s}function z(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function M(e){for(var t,n=e.points,i=0,a=0;a<n.numberOfItems;a++){var l=n.getItem(a);a>0&&(i+=z(t,l)),t=l}return i}function N(e){var t;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*E(e,"r");case"rect":return 2*E(e,"width")+2*E(e,"height");case"line":return z({x:E(e,"x1"),y:E(e,"y1")},{x:E(e,"x2"),y:E(e,"y2")});case"polyline":return M(e);case"polygon":return t=e.points,M(e)+z(t.getItem(t.numberOfItems-1),t.getItem(0))}}function Z(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;p.svg(t)&&p.svg(t.parentNode);)t=t.parentNode;return t}(e),a=i.getBoundingClientRect(),l=E(i,"viewBox"),r=a.width,s=a.height,o=n.viewBox||(l?l.split(" "):[0,0,r,s]);return{el:i,viewBox:o,x:o[0]/1,y:o[1]/1,w:r,h:s,vW:o[2],vH:o[3]}}function B(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=O(p.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:p.str(e)||t?i.split(n):[]}}function U(e){return v(e?x(p.arr(e)?e.map(k):k(e)):[],function(e,t,n){return n.indexOf(e)===t})}function K(e){var t=U(e);return t.map(function(e,n){return{target:e,id:n,total:t.length,transforms:{list:L(e)}}})}var V={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,a){if(i.list.set(t,n),t===i.last||a){var l="";i.list.forEach(function(e,t){l+=t+"("+e+") "}),e.style.transform=l}}};function H(e,t){K(e).forEach(function(e){for(var n in t){var i=A(t[n],e),a=e.target,l=I(i),r=F(a,n,l,e),s=D(O(i,l||I(r)),r);V[R(a,n)](a,n,s,e.transforms,!0)}})}function G(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=n?Math.max.apply(Math,e.map(function(e){return i(e)+e.duration})):t.duration,a.delay=n?Math.min.apply(Math,e.map(function(e){return i(e)+e.delay})):t.delay,a.endDelay=n?a.duration-Math.max.apply(Math,e.map(function(e){return i(e)+e.duration-e.endDelay})):t.endDelay,a}var $=0,W=[],q=function(){var e;function t(n){for(var i=W.length,a=0;a<i;){var l=W[a];l.paused?(W.splice(a,1),i--):(l.tick(n),a++)}e=a>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){X.suspendWhenDocumentHidden&&(Y()?e=cancelAnimationFrame(e):(W.forEach(function(e){return e._onDocumentVisibility()}),q()))}),function(){e||Y()&&X.suspendWhenDocumentHidden||!(W.length>0)||(e=requestAnimationFrame(t))}}();function Y(){return!!document&&document.hidden}function X(e){void 0===e&&(e={});var t,n,i,a,s,o,c,u,m,g=0,_=0,y=0,b=0,k=null;function P(e){var t=window.Promise&&new Promise(function(e){return k=e});return e.finished=t,t}var E=(n=w(l,t=e),a=function(e,t){var n=[],i=t.keyframes;for(var a in i&&(t=T(function(e){for(var t=v(x(e.map(function(e){return Object.keys(e)})),function(e){return p.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),n={},i=0;i<t.length;i++)!function(i){var a=t[i];n[a]=e.map(function(e){var t={};for(var n in e)p.key(n)?n==a&&(t.value=e[n]):t[n]=e[n];return t})}(i);return n}(i),t)),t)p.key(a)&&n.push({name:a,tweens:function(e,t){var n=S(t);if(/^spring/.test(n.easing)&&(n.duration=h(n.easing)),p.arr(e)){var i=e.length;2!==i||p.obj(e[0])?p.fnc(t.duration)||(n.duration=t.duration/i):e={value:e}}var a=p.arr(e)?e:[e];return a.map(function(e,n){var i=p.obj(e)&&!p.pth(e)?e:{value:e};return p.und(i.delay)&&(i.delay=n?0:t.delay),p.und(i.endDelay)&&(i.endDelay=n===a.length-1?t.endDelay:0),i}).map(function(e){return T(e,n)})}(t[a],e)});return n}(i=w(r,t),t),c=G(o=v(x((s=K(t.targets)).map(function(e){return a.map(function(t){return function(e,t){var n=R(e.target,t.name);if(n){var i,a=t.tweens.map(function(n){var a=function(e,t){var n={};for(var i in e){var a=A(e[i],t);p.arr(a)&&1===(a=a.map(function(e){return A(e,t)})).length&&(a=a[0]),n[i]=a}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(n,e),l=a.value,r=p.arr(l)?l[1]:l,s=I(r),o=F(e.target,t.name,s,e),d=i?i.to.original:o,c=p.arr(l)?l[0]:d,u=I(c)||I(o),m=s||u;return p.und(r)&&(r=d),a.from=B(c,m),a.to=B(D(r,c),m),a.start=i?i.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=f(a.easing,a.duration),a.isPath=p.pth(l),a.isPathTargetInsideSVG=a.isPath&&p.svg(e.target),a.isColor=p.col(a.from.original),a.isColor&&(a.round=1),i=a,a}),l=a[a.length-1];return{type:n,property:t.name,animatable:e,tweens:a,duration:l.end,delay:a[0].delay,endDelay:l.endDelay}}}(e,t)})})),function(e){return!p.und(e)}),i),u=$,$++,T(n,{id:u,children:[],animatables:s,animations:o,duration:c.duration,delay:c.delay,endDelay:c.endDelay}));function C(){var e=E.direction;"alternate"!==e&&(E.direction="normal"!==e?"normal":"reverse"),E.reversed=!E.reversed,m.forEach(function(e){return e.reversed=E.reversed})}function j(e){return E.reversed?E.duration-e:e}function L(){g=0,_=j(E.currentTime)*(1/X.speed)}function O(e,t){t&&t.seek(e-t.timelineOffset)}function z(e){for(var t=0,n=E.animations,i=n.length;t<i;){var a=n[t],l=a.animatable,r=a.tweens,s=r.length-1,o=r[s];s&&(o=v(r,function(t){return e<t.end})[0]||o);for(var c=d(e-o.start-o.delay,0,o.duration)/o.duration,u=isNaN(c)?1:o.easing(c),p=o.to.strings,m=o.round,h=[],g=o.to.numbers.length,_=void 0,y=0;y<g;y++){var f=void 0,b=o.to.numbers[y],x=o.from.numbers[y]||0;f=o.isPath?function(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var a=Z(e.el,e.svg),l=i(),r=i(-1),s=i(1),o=n?1:a.w/a.vW,d=n?1:a.h/a.vH;switch(e.property){case"x":return(l.x-a.x)*o;case"y":return(l.y-a.y)*d;case"angle":return 180*Math.atan2(s.y-r.y,s.x-r.x)/Math.PI}}(o.value,u*b,o.isPathTargetInsideSVG):x+u*(b-x),m&&!(o.isColor&&y>2)&&(f=Math.round(f*m)/m),h.push(f)}var k=p.length;if(k){_=p[0];for(var P=0;P<k;P++){p[P];var S=p[P+1],w=h[P];isNaN(w)||(S?_+=w+S:_+=w+" ")}}else _=h[0];V[a.type](l.target,a.property,_,l.transforms),a.currentValue=_,t++}}function M(e){E[e]&&!E.passThrough&&E[e](E)}function N(e){var t=E.duration,n=E.delay,i=t-E.endDelay,a=j(e);E.progress=d(a/t*100,0,100),E.reversePlayback=a<E.currentTime,m&&function(e){if(E.reversePlayback)for(var t=b;t--;)O(e,m[t]);else for(var n=0;n<b;n++)O(e,m[n])}(a),!E.began&&E.currentTime>0&&(E.began=!0,M("begin")),!E.loopBegan&&E.currentTime>0&&(E.loopBegan=!0,M("loopBegin")),a<=n&&0!==E.currentTime&&z(0),(a>=i&&E.currentTime!==t||!t)&&z(t),a>n&&a<i?(E.changeBegan||(E.changeBegan=!0,E.changeCompleted=!1,M("changeBegin")),M("change"),z(a)):E.changeBegan&&(E.changeCompleted=!0,E.changeBegan=!1,M("changeComplete")),E.currentTime=d(a,0,t),E.began&&M("update"),e>=t&&(_=0,E.remaining&&!0!==E.remaining&&E.remaining--,E.remaining?(g=y,M("loopComplete"),E.loopBegan=!1,"alternate"===E.direction&&C()):(E.paused=!0,!E.completed&&(E.completed=!0,M("loopComplete"),M("complete"),!E.passThrough&&"Promise"in window&&(k(),P(E)))))}return P(E),E.reset=function(){var e=E.direction;E.passThrough=!1,E.currentTime=0,E.progress=0,E.paused=!0,E.began=!1,E.loopBegan=!1,E.changeBegan=!1,E.completed=!1,E.changeCompleted=!1,E.reversePlayback=!1,E.reversed="reverse"===e,E.remaining=E.loop,b=(m=E.children).length;for(var t=b;t--;)E.children[t].reset();(E.reversed&&!0!==E.loop||"alternate"===e&&1===E.loop)&&E.remaining++,z(E.reversed?E.duration:0)},E._onDocumentVisibility=L,E.set=function(e,t){return H(e,t),E},E.tick=function(e){y=e,g||(g=y),N((y+(_-g))*X.speed)},E.seek=function(e){N(j(e))},E.pause=function(){E.paused=!0,L()},E.play=function(){E.paused&&(E.completed&&E.reset(),E.paused=!1,W.push(E),L(),q())},E.reverse=function(){C(),E.completed=!E.reversed,L()},E.restart=function(){E.reset(),E.play()},E.remove=function(e){Q(U(e),E)},E.reset(),E.autoplay&&E.play(),E}function J(e,t){for(var n=t.length;n--;)P(e,t[n].animatable.target)&&t.splice(n,1)}function Q(e,t){var n=t.animations,i=t.children;J(e,n);for(var a=i.length;a--;){var l=i[a],r=l.animations;J(e,r),r.length||l.children.length||i.splice(a,1)}n.length||i.length||t.pause()}X.version="3.2.1",X.speed=1,X.suspendWhenDocumentHidden=!0,X.running=W,X.remove=function(e){for(var t=U(e),n=W.length;n--;)Q(t,W[n])},X.get=F,X.set=H,X.convertPx=C,X.path=function(e,t){var n=p.str(e)?b(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:Z(n),totalLength:N(n)*(i/100)}}},X.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},X.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?f(t.easing):null,a=t.grid,l=t.axis,r=t.from||0,s="first"===r,o="center"===r,d="last"===r,c=p.arr(e),u=c?parseFloat(e[0]):parseFloat(e),m=c?parseFloat(e[1]):0,h=I(c?e[1]:e)||0,g=t.start||0+(c?u:0),_=[],y=0;return function(e,t,p){if(s&&(r=0),o&&(r=(p-1)/2),d&&(r=p-1),!_.length){for(var f=0;f<p;f++){if(a){var b=o?(a[0]-1)/2:r%a[0],v=o?(a[1]-1)/2:Math.floor(r/a[0]),x=f%a[0],k=Math.floor(f/a[0]),P=b-x,S=v-k,w=Math.sqrt(P*P+S*S);"x"===l&&(w=-P),"y"===l&&(w=-S),_.push(w)}else _.push(Math.abs(r-f));y=Math.max.apply(Math,_)}i&&(_=_.map(function(e){return i(e/y)*y})),"reverse"===n&&(_=_.map(function(e){return l?e<0?-1*e:-e:Math.abs(y-e)}))}return g+(c?(m-u)/y:u)*(Math.round(100*_[t])/100)+h}},X.timeline=function(e){void 0===e&&(e={});var t=X(e);return t.duration=0,t.add=function(n,i){var a=W.indexOf(t),l=t.children;function s(e){e.passThrough=!0}a>-1&&W.splice(a,1);for(var o=0;o<l.length;o++)s(l[o]);var d=T(n,w(r,e));d.targets=d.targets||e.targets;var c=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=p.und(i)?c:D(i,c),s(t),t.seek(d.timelineOffset);var u=X(d);s(u),l.push(u);var m=G(l,e);return t.delay=m.delay,t.endDelay=m.endDelay,t.duration=m.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},X.easing=f,X.penner=y,X.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};let ee=X},497621:(e,t,n)=>{"use strict";function i(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function a(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}n.d(t,{Z:()=>l});let l={p:a,P:function(e,t){var n,l=e.match(/(P+)(p+)?/),r=l[1],s=l[2];if(!s)return i(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",i(r,t)).replace("{{time}}",a(s,t))}}},924262:(e,t,n)=>{"use strict";function i(e){return e.getTime()%6e4}function a(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var a=n>0?(6e4+i(t))%6e4:i(t);return 6e4*n+a}n.d(t,{Z:()=>a})},333276:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(619013),a=n(666979),l=n(507032),r=n(13882);function s(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return Math.round(((0,a.Z)(t).getTime()-(function(e){(0,r.Z)(1,arguments);var t=(0,l.Z)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,a.Z)(n)})(t).getTime())/6048e5)+1}},507032:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(619013),a=n(666979),l=n(13882);function r(e){(0,l.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=(0,a.Z)(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var d=(0,a.Z)(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}},505230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(619013),a=n(159025),l=n(983946),r=n(107651),s=n(13882);function o(e,t){(0,s.Z)(1,arguments);var n=(0,i.Z)(e);return Math.round(((0,a.Z)(n,t).getTime()-(function(e,t){(0,s.Z)(1,arguments);var n=t||{},i=n.locale,o=i&&i.options&&i.options.firstWeekContainsDate,d=null==o?1:(0,l.Z)(o),c=null==n.firstWeekContainsDate?d:(0,l.Z)(n.firstWeekContainsDate),u=(0,r.Z)(e,t),p=new Date(0);return p.setUTCFullYear(u,0,c),p.setUTCHours(0,0,0,0),(0,a.Z)(p,t)})(n,t).getTime())/6048e5)+1}},107651:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(983946),a=n(619013),l=n(159025),r=n(13882);function s(e,t){(0,r.Z)(1,arguments);var n=(0,a.Z)(e,t),s=n.getUTCFullYear(),o=t||{},d=o.locale,c=d&&d.options&&d.options.firstWeekContainsDate,u=null==c?1:(0,i.Z)(c),p=null==o.firstWeekContainsDate?u:(0,i.Z)(o.firstWeekContainsDate);if(!(p>=1&&p<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(s+1,0,p),m.setUTCHours(0,0,0,0);var h=(0,l.Z)(m,t),g=new Date(0);g.setUTCFullYear(s,0,p),g.setUTCHours(0,0,0,0);var _=(0,l.Z)(g,t);return n.getTime()>=h.getTime()?s+1:n.getTime()>=_.getTime()?s:s-1}},5267:(e,t,n)=>{"use strict";n.d(t,{Do:()=>r,Iu:()=>l,qp:()=>s});var i=["D","DD"],a=["YY","YYYY"];function l(e){return -1!==i.indexOf(e)}function r(e){return -1!==a.indexOf(e)}function s(e,t,n){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}},13882:(e,t,n)=>{"use strict";function i(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>i})},666979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(619013),a=n(13882);function l(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-((n<1?7:0)+n-1)),t.setUTCHours(0,0,0,0),t}},159025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(983946),a=n(619013),l=n(13882);function r(e,t){(0,l.Z)(1,arguments);var n=t||{},r=n.locale,s=r&&r.options&&r.options.weekStartsOn,o=null==s?0:(0,i.Z)(s),d=null==n.weekStartsOn?o:(0,i.Z)(n.weekStartsOn);if(!(d>=0&&d<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,a.Z)(e),u=c.getUTCDay();return c.setUTCDate(c.getUTCDate()-((u<d?7:0)+u-d)),c.setUTCHours(0,0,0,0),c}},983946:(e,t,n)=>{"use strict";function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},51820:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(983946),a=n(619013),l=n(13882);function r(e,t){(0,l.Z)(2,arguments);var n=(0,a.Z)(e).getTime(),r=(0,i.Z)(t);return new Date(n+r)}},642298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i=n(112274),a=n(983975),l=n(491218),r=n(619013);function s(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return(e<0?"-":"")+n}let o={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return s("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):s(n+1,2)},d:function(e,t){return s(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return s(e.getUTCHours()%12||12,t.length)},H:function(e,t){return s(e.getUTCHours(),t.length)},m:function(e,t){return s(e.getUTCMinutes(),t.length)},s:function(e,t){return s(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length;return s(Math.floor(e.getUTCMilliseconds()*Math.pow(10,n-3)),t.length)}};var d=n(13882),c=n(333276),u=n(507032),p=n(505230),m=n(107651),h={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function g(e,t){var n=e>0?"-":"+",i=Math.abs(e),a=Math.floor(i/60),l=i%60;return 0===l?n+String(a):n+String(a)+(t||"")+s(l,2)}function _(e,t){return e%60==0?(e>0?"-":"+")+s(Math.abs(e)/60,2):y(e,t)}function y(e,t){var n=e>0?"-":"+",i=Math.abs(e);return n+s(Math.floor(i/60),2)+(t||"")+s(i%60,2)}let f={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return o.y(e,t)},Y:function(e,t,n,i){var a=(0,m.Z)(e,i),l=a>0?a:1-a;return"YY"===t?s(l%100,2):"Yo"===t?n.ordinalNumber(l,{unit:"year"}):s(l,t.length)},R:function(e,t){return s((0,u.Z)(e),t.length)},u:function(e,t){return s(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return s(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return s(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return o.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return s(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var a=(0,p.Z)(e,i);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):s(a,t.length)},I:function(e,t,n){var i=(0,c.Z)(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):s(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):o.d(e,t)},D:function(e,t,n){var i=function(e){(0,d.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((n-t.getTime())/864e5)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):s(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var a=e.getUTCDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return s(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var a=e.getUTCDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return s(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),a=0===i?7:i;switch(t){case"i":return String(a);case"ii":return s(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,a=e.getUTCHours();switch(i=12===a?h.noon:0===a?h.midnight:a/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,a=e.getUTCHours();switch(i=a>=17?h.evening:a>=12?h.afternoon:a>=4?h.morning:h.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return o.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):o.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):s(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return(0===i&&(i=24),"ko"===t)?n.ordinalNumber(i,{unit:"hour"}):s(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):o.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):o.s(e,t)},S:function(e,t){return o.S(e,t)},X:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return _(a);case"XXXX":case"XX":return y(a);default:return y(a,":")}},x:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return _(a);case"xxxx":case"xx":return y(a);default:return y(a,":")}},O:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g(a,":");default:return"GMT"+y(a,":")}},z:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g(a,":");default:return"GMT"+y(a,":")}},t:function(e,t,n,i){return s(Math.floor((i._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,n,i){return s((i._originalDate||e).getTime(),t.length)}};var b=n(497621),v=n(924262),x=n(5267),k=n(983946),P=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w=/^'([^]*?)'?$/,T=/''/g,I=/[a-zA-Z]/;function A(e,t,n){(0,d.Z)(2,arguments);var s=String(t),o=n||{},c=o.locale||a.default,u=c.options&&c.options.firstWeekContainsDate,p=null==u?1:(0,k.Z)(u),m=null==o.firstWeekContainsDate?p:(0,k.Z)(o.firstWeekContainsDate);if(!(m>=1&&m<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=c.options&&c.options.weekStartsOn,g=null==h?0:(0,k.Z)(h),_=null==o.weekStartsOn?g:(0,k.Z)(o.weekStartsOn);if(!(_>=0&&_<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw RangeError("locale must contain localize property");if(!c.formatLong)throw RangeError("locale must contain formatLong property");var y=(0,r.Z)(e);if(!(0,i.Z)(y))throw RangeError("Invalid time value");var A=(0,v.Z)(y),E=(0,l.Z)(y,A),C={firstWeekContainsDate:m,weekStartsOn:_,locale:c,_originalDate:y};return s.match(S).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,b.Z[t])(e,c.formatLong,C):e}).join("").match(P).map(function(n){if("''"===n)return"'";var i=n[0];if("'"===i)return n.match(w)[1].replace(T,"'");var a=f[i];if(a)return!o.useAdditionalWeekYearTokens&&(0,x.Do)(n)&&(0,x.qp)(n,t,e),!o.useAdditionalDayOfYearTokens&&(0,x.Iu)(n)&&(0,x.qp)(n,t,e),a(E,n,c.localize,C);if(i.match(I))throw RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n}).join("")}},112274:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(619013),a=n(13882);function l(e){return(0,a.Z)(1,arguments),!isNaN((0,i.Z)(e))}},849526:(e,t,n)=>{"use strict";function i(e){return function(t){var n=t||{},i=n.width?String(n.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}n.d(t,{Z:()=>i})},688486:(e,t,n)=>{"use strict";function i(e){return function(t,n){var i,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,r=a.width?String(a.width):l;i=e.formattingValues[r]||e.formattingValues[l]}else{var s=e.defaultWidth,o=a.width?String(a.width):e.defaultWidth;i=e.values[o]||e.values[s]}return i[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{Z:()=>i})},276723:(e,t,n)=>{"use strict";function i(e){return function(t,n){var i,a=String(t),l=n||{},r=l.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=a.match(s);if(!o)return null;var d=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth];return i="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(c,function(e){return e.test(d)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(c,function(e){return e.test(d)}),i=e.valueCallback?e.valueCallback(i):i,{value:i=l.valueCallback?l.valueCallback(i):i,rest:a.slice(d.length)}}}n.d(t,{Z:()=>i})},360974:(e,t,n)=>{"use strict";function i(e){return function(t,n){var i=String(t),a=n||{},l=i.match(e.matchPattern);if(!l)return null;var r=l[0],s=i.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:o=a.valueCallback?a.valueCallback(o):o,rest:i.slice(r.length)}}}n.d(t,{Z:()=>i})},181991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e,t,n){var a;return(n=n||{},a="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix)?n.comparison>0?"in "+a:a+" ago":a}},721865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function a(e,t,n,a){return i[e]}},611950:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(688486),a={ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,i.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,i.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};let l=a},507219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(360974),a=n(276723),l={ordinalNumber:(0,i.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,a.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,a.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,a.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,a.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,a.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};let r=l},983975:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(181991),a=n(849526),l={date:(0,a.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,a.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,a.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},r=n(721865),s=n(611950),o=n(507219),d={code:"en-US",formatDistance:i.Z,formatLong:l,formatRelative:r.Z,localize:s.Z,match:o.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}};let c=d},491218:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(983946),a=n(51820),l=n(13882);function r(e,t){(0,l.Z)(2,arguments);var n=(0,i.Z)(t);return(0,a.Z)(e,-n)}},619013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13882);function a(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},537347:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function l(e,n){function i(){a(l)&&l.a.parentNode&&n(l.g)}var l=e;t(e.b,i),t(e.c,i),a(e)}function r(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,o=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function p(e,t){return[e.style,e.weight,!function(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}d=""!==e.style.font}return d}()?"":e.stretch,"100px",t].join(" ")}r.prototype.load=function(e,t){var a=this,r=e||"BESbswy",d=0,c=t||3e3,m=(new Date).getTime();return new Promise(function(e,t){if(u()&&!function(){if(null===o){if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);o=!!e&&603>parseInt(e[1],10)}else o=!1}return o}()){var h,g=new Promise(function(e,t){!function n(){(new Date).getTime()-m>=c?t(Error(""+c+"ms timeout exceeded")):document.fonts.load(p(a,'"'+a.family+'"'),r).then(function(t){1<=t.length?e():setTimeout(n,25)},t)}()});Promise.race([new Promise(function(e,t){d=setTimeout(function(){t(Error(""+c+"ms timeout exceeded"))},c)}),g]).then(function(){clearTimeout(d),e(a)},t)}else h=function(){function o(){var t;(t=-1!=_&&-1!=y||-1!=_&&-1!=f||-1!=y&&-1!=f)&&((t=_!=y&&_!=f&&y!=f)||(null===s&&(s=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(_==b&&y==b&&f==b||_==v&&y==v&&f==v||_==x&&y==x&&f==x)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(d),e(a))}var u=new n(r),h=new n(r),g=new n(r),_=-1,y=-1,f=-1,b=-1,v=-1,x=-1,k=document.createElement("div");k.dir="ltr",i(u,p(a,"sans-serif")),i(h,p(a,"serif")),i(g,p(a,"monospace")),k.appendChild(u.a),k.appendChild(h.a),k.appendChild(g.a),document.body.appendChild(k),b=u.a.offsetWidth,v=h.a.offsetWidth,x=g.a.offsetWidth,function e(){if((new Date).getTime()-m>=c)k.parentNode&&k.parentNode.removeChild(k),t(Error(""+c+"ms timeout exceeded"));else{var n=document.hidden;(!0===n||void 0===n)&&(_=u.a.offsetWidth,y=h.a.offsetWidth,f=g.a.offsetWidth,o()),d=setTimeout(e,50)}}(),l(u,function(e){_=e,o()}),i(u,p(a,'"'+a.family+'",sans-serif')),l(h,function(e){y=e,o()}),i(h,p(a,'"'+a.family+'",serif')),l(g,function(e){f=e,o()}),i(g,p(a,'"'+a.family+'",monospace'))},document.body?h():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),h()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),h())})})},e.exports=r}()},40432:(e,t,n)=>{"use strict";n.d(t,{$Vb:()=>A,BOn:()=>E,BfK:()=>I,CTP:()=>o,DMd:()=>X,E8o:()=>ea,EEg:()=>P,E_l:()=>d,Euu:()=>l,FVr:()=>N,FjJ:()=>eo,H3M:()=>k,JTq:()=>q,Ky9:()=>c,LUU:()=>M,LyT:()=>es,N$G:()=>D,OOl:()=>H,O_S:()=>R,PT2:()=>i,Pgj:()=>$,Pv2:()=>C,QzT:()=>V,RfW:()=>x,S6t:()=>U,UdT:()=>g,Uor:()=>y,UrY:()=>G,XxE:()=>u,Zt2:()=>ed,_VP:()=>en,_Vp:()=>O,cMj:()=>S,ckK:()=>v,ePR:()=>_,efI:()=>ee,fpf:()=>B,gxR:()=>ec,h5_:()=>K,h7s:()=>ei,hRj:()=>J,iJi:()=>Q,ieP:()=>p,jRv:()=>a,k95:()=>W,lWv:()=>F,mJW:()=>T,ni8:()=>w,o7L:()=>L,odg:()=>m,pzk:()=>j,qx5:()=>et,rP7:()=>r,rhk:()=>b,seF:()=>h,u2Z:()=>Z,uu9:()=>f,wMN:()=>z,wdt:()=>Y,wvI:()=>el,x_d:()=>s,z5V:()=>er});let i="var(--color-red-pushpin-50)",a="var(--color-red-pushpin-100)",l="var(--color-red-pushpin-200)",r="var(--color-red-pushpin-300)",s="var(--color-red-pushpin-450)",o="var(--color-red-pushpin-500)",d="var(--color-red-pushpin-600)",c="var(--color-red-pushpin-700)",u="var(--color-red-pushpin-800)",p="var(--color-pink-flaminglow-0)",m="var(--color-blue-skycicle-100)",h="var(--color-blue-skycicle-500)",g="var(--color-blue-skycicle-900)",_="var(--color-teal-spabattical-100)",y="var(--color-purple-mysticool-100)",f="var(--color-purple-mysticool-200)",b="var(--color-purple-mysticool-300)",v="var(--color-purple-mysticool-500)",x="var(--color-orange-firetini-50)",k="var(--color-yellow-caramellow-50)",P="var(--color-yellow-caramellow-300)",S="var(--color-white-mochimalist-0)",w="var(--color-gray-roboflow-50)",T="var(--color-gray-roboflow-200)",I="var(--color-gray-roboflow-300)",A="var(--color-gray-roboflow-400)",E="var(--color-gray-roboflow-500)",C="var(--color-gray-roboflow-600)",j="var(--color-gray-roboflow-700)",R="var(--color-black-cosmicore-900)",L="var(--color-transparent)",F="var(--color-data-visualization-10)",D="var(--color-data-visualization-11)",O="var(--color-data-visualization-12)",z="var(--color-data-visualization-01)",M="var(--color-data-visualization-02)",N="var(--color-data-visualization-03)",Z="var(--color-data-visualization-04)",B="var(--color-data-visualization-05)",U="var(--color-data-visualization-06)",K="var(--color-data-visualization-07)",V="var(--color-data-visualization-08)",H="var(--color-data-visualization-09)",G="var(--color-text-subtle)",$="var(--color-text-inverse)",W="var(--color-background-default)",q="var(--color-background-info-base)",Y="var(--color-background-info-weak)",X="var(--color-background-error-base)",J="var(--color-background-warning-base)",Q="var(--color-background-success-base)",ee="var(--color-background-recommendation-weak)",et="var(--color-background-shopping)",en="var(--color-background-secondary-base)",ei="var(--color-background-inverse-base)",ea="var(--color-background-box-light)",el="var(--color-background-formfield-primary)",er="var(--color-border-container)",es="var(--color-border-error)",eo="var(--elevation-raised-top)",ed="var(--font-size-100)",ec="var(--font-family-default-latin)"},782677:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function s(e){return!!(e&&"function"==typeof e.hasOwnProperty&&(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function o(e,t,n){return Object.keys(e).reduce(function(t,i){var a=""+i;return t.has(a)?t.set(a,n(t.get(a),e[a])):t},t)}n.d(t,{Fv:()=>b,fK:()=>f});var d=function(){function e(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!e||"string"!=typeof e)throw Error("Expected a string key for Entity, but found "+e+".");var i=n,a=i.idAttribute,r=void 0===a?"id":a,o=i.mergeStrategy,d=void 0===o?function(e,t){return l({},e,t)}:o,c=i.processStrategy,u=void 0===c?function(e){return l({},e)}:c,p=i.fallbackStrategy;this._key=e,this._getId="function"==typeof r?r:function(e){return s(e)?e.get(r):e[r]},this._idAttribute=r,this._mergeStrategy=d,this._processStrategy=u,this._fallbackStrategy=void 0===p?function(e,t){}:p,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var i,a=e[n];return l({},t,((i={})[n]=a,i))},this.schema||{})},t.getId=function(e,t,n){return this._getId(e,t,n)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,n,i,a,l){var r=this,s=this.getId(e,t,n),o=this.key;if(o in l||(l[o]={}),s in l[o]||(l[o][s]=[]),l[o][s].some(function(t){return t===e}))return s;l[o][s].push(e);var d=this._processStrategy(e,t,n);return Object.keys(this.schema).forEach(function(t){if(d.hasOwnProperty(t)&&"object"==typeof d[t]){var n=r.schema[t],s="function"==typeof n?n(e):n;d[t]=i(d[t],d,t,s,a,l)}}),a(this,d,e,t,n),s},t.denormalize=function(e,t){var n=this;return s(e)?o(this.schema,e,t):(Object.keys(this.schema).forEach(function(i){if(e.hasOwnProperty(i)){var a=n.schema[i];e[i]=t(e[i],a)}}),e)},a(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),c=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,n){return!this.isSingleSchema&&this._schemaAttribute(e,t,n)},t.inferSchema=function(e,t,n){if(this.isSingleSchema)return this.schema;var i=this.getSchemaAttribute(e,t,n);return this.schema[i]},t.normalizeValue=function(e,t,n,i,a,l){var r=this.inferSchema(e,t,n);if(!r)return e;var s=i(e,t,n,r,a,l);return this.isSingleSchema||null==s?s:{id:s,schema:this.getSchemaAttribute(e,t,n)}},t.denormalizeValue=function(e,t){var n=s(e)?e.get("schema"):e.schema;return this.isSingleSchema||n?t((this.isSingleSchema?void 0:s(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[n]):e},a(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,n){if(!n)throw Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,n)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,l){return this.normalizeValue(e,t,n,i,a,l)},n.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(c),p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,r){var s=this;return Object.keys(e).reduce(function(t,n,o){var d,c=e[n];return null!=c?l({},t,((d={})[n]=s.normalizeValue(c,e,n,i,a,r),d)):t},{})},n.denormalize=function(e,t){var n=this;return Object.keys(e).reduce(function(i,a){var r,s=e[a];return l({},i,((r={})[a]=n.denormalizeValue(s,t),r))},{})},t}(c),m=function(e){if(Array.isArray(e)&&e.length>1)throw Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},h=function(e){return Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t]})},g=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,l){var r=this;return h(e).map(function(e,s){return r.normalizeValue(e,t,n,i,a,l)}).filter(function(e){return null!=e})},n.denormalize=function(e,t){var n=this;return e&&e.map?e.map(function(e){return n.denormalizeValue(e,t)}):e},t}(c),_=function(e,t,n,i,a,r,s){var o=l({},t);return Object.keys(e).forEach(function(n){var i=e[n],l="function"==typeof i?i(t):i,d=a(t[n],t,n,l,r,s);null==d?delete o[n]:o[n]=d}),o},y=function(e,t,n){if(s(t))return o(e,t,n);var i=l({},t);return Object.keys(e).forEach(function(t){null!=i[t]&&(i[t]=n(i[t],e[t]))}),i},f={Array:g,Entity:d,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var i,a=e[n];return l({},t,((i={})[n]=a,i))},this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:p},b=function(e,t){if(!e||"object"!=typeof e)throw Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var n={};return{entities:n,result:function e(t,n,i,a,l,r){return"object"==typeof t&&t?"object"!=typeof a||a.normalize&&"function"==typeof a.normalize?a.normalize(t,n,i,e,l,r):(Array.isArray(a)?function(e,t,n,i,a,l,r){return e=m(e),h(t).map(function(t,s){return a(t,n,i,e,l,r)})}:_)(a,t,n,i,e,l,r):t}(e,e,null,t,function(e,t,i,a,l){var r=e.key,s=e.getId(i,a,l);r in n||(n[r]={});var o=n[r][s];o?n[r][s]=e.merge(o,t):n[r][s]=t},{})}}},762587:e=>{"use strict";e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var l=/\+/g;e=e.split(t);var r=1e3;i&&"number"==typeof i.maxKeys&&(r=i.maxKeys);var s=e.length;r>0&&s>r&&(s=r);for(var o=0;o<s;++o){var d,c,u,p,m=e[o].replace(l,"%20"),h=m.indexOf(n);(h>=0?(d=m.substr(0,h),c=m.substr(h+1)):(d=m,c=""),u=decodeURIComponent(d),p=decodeURIComponent(c),Object.prototype.hasOwnProperty.call(a,u))?Array.isArray(a[u])?a[u].push(p):a[u]=[a[u],p]:a[u]=p}return a}},712361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,a){return(n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(a){var l=encodeURIComponent(t(a))+i;return Array.isArray(e[a])?e[a].map(function(e){return l+encodeURIComponent(t(e))}).join(n):l+encodeURIComponent(t(e[a]))}).join(n):a?encodeURIComponent(t(a))+i+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{"use strict";t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},442279:(e,t)=>{"use strict";function n(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var l=0,r=i.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return typeof e}).join(", ")+"]");return t}(i),o=e.apply(void 0,[function(){return l++,r.apply(void 0,arguments)}].concat(n)),d=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var l=s.map(function(n){return n.apply(void 0,[e,t].concat(i))});return o.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(l))};return d.resultFunc=r,d.recomputations=function(){return l},d.resetRecomputations=function(){return l=0},d}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],i=null,a=null;return function(){for(var n=arguments.length,l=Array(n),r=0;r<n;r++)l[r]=arguments[r];return null!==i&&i.length===l.length&&l.every(function(e,n){return t(e,i[n])})||(a=e.apply(void 0,l)),i=l,a}})},560053:(e,t)=>{"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;for(e.push(t);0<n;){var i=n-1>>>1,a=e[i];if(0<l(a,t))e[i]=t,e[n]=a,n=i;else break}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var i=0,a=e.length,r=a>>>1;i<r;){var s=2*(i+1)-1,o=e[s],d=s+1,c=e[d];if(0>l(o,n))d<a&&0>l(c,o)?(e[i]=c,e[d]=n,i=d):(e[i]=o,e[s]=n,i=s);else if(d<a&&0>l(c,n))e[i]=c,e[d]=n,i=d;else break}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var r,s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,d=o.now();t.unstable_now=function(){return o.now()-d}}var c=[],u=[],p=1,m=null,h=3,g=!1,_=!1,y=!1,f="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=i(u);null!==t;){if(null===t.callback)a(u);else if(t.startTime<=e)a(u),t.sortIndex=t.expirationTime,n(c,t);else break;t=i(u)}}function k(e){if(y=!1,x(e),!_){if(null!==i(c))_=!0,L(P);else{var t=i(u);null!==t&&F(k,t.startTime-e)}}}function P(e,n){_=!1,y&&(y=!1,b(T),T=-1),g=!0;var l=h;try{for(x(n),m=i(c);null!==m&&(!(m.expirationTime>n)||e&&!E());){var r=m.callback;if("function"==typeof r){m.callback=null,h=m.priorityLevel;var s=r(m.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?m.callback=s:m===i(c)&&a(c),x(n)}else a(c);m=i(c)}if(null!==m)var o=!0;else{var d=i(u);null!==d&&F(k,d.startTime-n),o=!1}return o}finally{m=null,h=l,g=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S=!1,w=null,T=-1,I=5,A=-1;function E(){return!(t.unstable_now()-A<I)}function C(){if(null!==w){var e=t.unstable_now();A=e;var n=!0;try{n=w(!0,e)}finally{n?r():(S=!1,w=null)}}else S=!1}if("function"==typeof v)r=function(){v(C)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=C,r=function(){R.postMessage(null)}}else r=function(){f(C,0)};function L(e){w=e,S||(S=!0,r())}function F(e,n){T=f(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,L(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,l){var r=t.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?r+l:r,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=l+s,e={id:p++,callback:a,priorityLevel:e,startTime:l,expirationTime:s,sortIndex:-1},l>r?(e.sortIndex=l,n(u,e),null===i(c)&&e===i(u)&&(y?(b(T),T=-1):y=!0,F(k,l-r))):(e.sortIndex=s,n(c,e),_||g||(_=!0,L(P))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},363840:(e,t,n)=>{"use strict";e.exports=n(560053)},52511:function(e,t,n){var i;e=n.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var l="object"==typeof n.g&&n.g;l.global===l||l.window===l||l.self;var r,s=/^xn--/,o=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=Math.floor,p=String.fromCharCode;function m(e){throw RangeError(c[e])}function h(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function g(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+h((e=e.replace(d,".")).split("."),t).join(".")}function _(e){for(var t,n,i=[],a=0,l=e.length;a<l;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<l?(64512&(n=e.charCodeAt(a++)))==56320?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function y(e){return h(e,function(e){var t="";return e>65535&&(e-=65536,t+=p(e>>>10&1023|55296),e=56320|1023&e),t+=p(e)}).join("")}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,n){var i=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;i+=36)e=u(e/35);return u(i+36*e/(e+38))}function v(e){var t,n,i,a,l,r,s,o,d,c,p,h=[],g=e.length,_=0,f=128,v=72;for((i=e.lastIndexOf("-"))<0&&(i=0),a=0;a<i;++a)e.charCodeAt(a)>=128&&m("not-basic"),h.push(e.charCodeAt(a));for(l=i>0?i+1:0;l<g;){for(r=_,s=1,o=36;l>=g&&m("invalid-input"),((d=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||d>u((2147483647-_)/s))&&m("overflow"),_+=d*s,!(d<(c=o<=v?1:o>=v+26?26:o-v));o+=36)s>u(2147483647/(p=36-c))&&m("overflow"),s*=p;v=b(_-r,n=h.length+1,0==r),u(_/n)>2147483647-f&&m("overflow"),f+=u(_/n),_%=n,h.splice(_++,0,f)}return y(h)}function x(e){var t,n,i,a,l,r,s,o,d,c,h,g,y,v,x,k=[];for(r=0,g=(e=_(e)).length,t=128,n=0,l=72;r<g;++r)(h=e[r])<128&&k.push(p(h));for(i=a=k.length,a&&k.push("-");i<g;){for(s=2147483647,r=0;r<g;++r)(h=e[r])>=t&&h<s&&(s=h);for(s-t>u((2147483647-n)/(y=i+1))&&m("overflow"),n+=(s-t)*y,t=s,r=0;r<g;++r)if((h=e[r])<t&&++n>2147483647&&m("overflow"),h==t){for(o=n,d=36;!(o<(c=d<=l?1:d>=l+26?26:d-l));d+=36)x=o-c,v=36-c,k.push(p(f(c+x%v,0))),o=u(x/v);k.push(p(f(o,0))),l=b(n,y,i==a),n=0,++i}++n,++t}return k.join("")}r={version:"1.3.2",ucs2:{decode:_,encode:y},decode:v,encode:x,toASCII:function(e){return g(e,function(e){return o.test(e)?"xn--"+x(e):e})},toUnicode:function(e){return g(e,function(e){return s.test(e)?v(e.slice(4).toLowerCase()):e})}},void 0!==(i=(function(){return r}).call(t,n,t,e))&&(e.exports=i)}(0)},608575:(e,t,n)=>{"use strict";var i=n(52511),a=n(762502);function l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=f,t.resolve=function(e,t){return f(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?f(e,!1,!0).resolveObject(t):t},t.format=function(e){return(a.isString(e)&&(e=f(e)),e instanceof l)?e.format():l.prototype.format.call(e)},t.Url=l;var r=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"])),c=["%","/","?",";","#"].concat(d),u=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(817673);function f(e,t,n){if(e&&a.isObject(e)&&e instanceof l)return e;var i=new l;return i.parse(e,t,n),i}l.prototype.parse=function(e,t,n){if(!a.isString(e))throw TypeError("Parameter 'url' must be a string, not "+typeof e);var l=e.indexOf("?"),s=-1!==l&&l<e.indexOf("#")?"?":"#",f=e.split(s);f[0]=f[0].replace(/\\/g,"/");var b=e=f.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var v=o.exec(b);if(v)return this.path=b,this.href=b,this.pathname=v[1],v[2]?(this.search=v[2],t?this.query=y.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=r.exec(b);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var P="//"===b.substr(0,2);P&&!(x&&g[x])&&(b=b.substr(2),this.slashes=!0)}if(!g[x]&&(P||x&&!_[x])){for(var S,w,T=-1,I=0;I<u.length;I++){var A=b.indexOf(u[I]);-1!==A&&(-1===T||A<T)&&(T=A)}-1!==(w=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(S=b.slice(0,w),b=b.slice(w+1),this.auth=decodeURIComponent(S)),T=-1;for(var I=0;I<c.length;I++){var A=b.indexOf(c[I]);-1!==A&&(-1===T||A<T)&&(T=A)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var C=this.hostname.split(/\./),I=0,j=C.length;I<j;I++){var R=C[I];if(R&&!R.match(p)){for(var L="",F=0,D=R.length;F<D;F++)R.charCodeAt(F)>127?L+="x":L+=R[F];if(!L.match(p)){var O=C.slice(0,I),z=C.slice(I+1),M=R.match(m);M&&(O.push(M[1]),z.unshift(M[2])),z.length&&(b="/"+z.join(".")+b),this.hostname=O.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=i.toASCII(this.hostname));var N=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+N,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!h[k])for(var I=0,j=d.length;I<j;I++){var B=d[I];if(-1!==b.indexOf(B)){var U=encodeURIComponent(B);U===B&&(U=escape(B)),b=b.split(B).join(U)}}var K=b.indexOf("#");-1!==K&&(this.hash=b.substr(K),b=b.slice(0,K));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),_[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",H=this.search||"";this.path=N+H}return this.href=this.format(),this},l.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":")+"@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",l=!1,r="";this.host?l=e+this.host:this.hostname&&(l=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(l+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(r=y.stringify(this.query));var s=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==l?(l="//"+(l||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):l||(l=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+l+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+i},l.prototype.resolve=function(e){return this.resolveObject(f(e,!1,!0)).format()},l.prototype.resolveObject=function(e){if(a.isString(e)){var t=new l;t.parse(e,!1,!0),e=t}for(var n=new l,i=Object.keys(this),r=0;r<i.length;r++){var s=i[r];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),d=0;d<o.length;d++){var c=o[d];"protocol"!==c&&(n[c]=e[c])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol]){for(var u=Object.keys(e),p=0;p<u.length;p++){var m=u[p];n[m]=e[m]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var y=n.pathname||"",f=n.search||"";n.path=y+f}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=v||b||n.host&&e.pathname,k=x,P=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!_[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===P[0]?P[0]=n.host:P.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),x=x&&(""===h[0]||""===P[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,P=h;else if(h.length)P||(P=[]),P.pop(),P=P.concat(h),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=P.shift();var w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");w&&(n.auth=w.shift(),n.host=n.hostname=w.shift())}return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!P.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=P.slice(-1)[0],I=(n.host||e.host||P.length>1)&&("."===T||".."===T)||""===T,A=0,E=P.length;E>=0;E--)"."===(T=P[E])?P.splice(E,1):".."===T?(P.splice(E,1),A++):A&&(P.splice(E,1),A--);if(!x&&!k)for(;A--;A)P.unshift("..");x&&""!==P[0]&&(!P[0]||"/"!==P[0].charAt(0))&&P.unshift(""),I&&"/"!==P.join("/").substr(-1)&&P.push("");var C=""===P[0]||P[0]&&"/"===P[0].charAt(0);if(S){n.hostname=n.host=C?"":P.length?P.shift():"";var w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");w&&(n.auth=w.shift(),n.host=n.hostname=w.shift())}return(x=x||n.host&&P.length)&&!C&&P.unshift(""),P.length?n.pathname=P.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},l.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},762502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},653250:(e,t,n)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(667294),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=i.useState,r=i.useEffect,s=i.useLayoutEffect,o=i.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=l({inst:{value:n,getSnapshot:t}}),a=i[0].inst,c=i[1];return s(function(){a.value=n,a.getSnapshot=t,d(a)&&c({inst:a})},[e,n,t]),r(function(){return d(a)&&c({inst:a}),e(function(){d(a)&&c({inst:a})})},[e]),o(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},950139:(e,t,n)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(667294),a=n(61688),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useSyncExternalStore,s=i.useRef,o=i.useEffect,d=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,a){var u=s(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;var m=r(e,(u=d(function(){function e(e){if(!o){if(o=!0,r=e,e=i(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return s=t}return s=e}if(t=s,l(r,e))return t;var n=i(e);return void 0!==a&&a(t,n)?t:(r=e,s=n)}var r,s,o=!1,d=void 0===n?null:n;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,n,i,a]))[0],u[1]);return o(function(){p.hasValue=!0,p.value=m},[m]),c(m),m}},61688:(e,t,n)=>{"use strict";e.exports=n(653250)},552798:(e,t,n)=>{"use strict";e.exports=n(950139)},17314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i,a,l=n(813653),r=n(861470),s=0,o=0;let d=function(e,t,n){var d=t&&n||0,c=t||Array(16),u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var m=e.random||(e.rng||l.Z)();null==u&&(u=i=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=a=(m[6]<<8|m[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:o+1,_=h-s+(g-o)/1e4;if(_<0&&void 0===e.clockseq&&(p=p+1&16383),(_<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,o=g,a=p;var y=((268435455&(h+=122192928e5))*1e4+g)%4294967296;c[d++]=y>>>24&255,c[d++]=y>>>16&255,c[d++]=y>>>8&255,c[d++]=255&y;var f=h/4294967296*1e4&268435455;c[d++]=f>>>8&255,c[d++]=255&f,c[d++]=f>>>24&15|16,c[d++]=f>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var b=0;b<6;++b)c[d+b]=u[b];return t||(0,r.Z)(c)}},256218:(e,t,n)=>{"use strict";var i,a,l,r;n.r(t),n.d(t,{default:()=>o});let s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[r],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};s.hash="bc8b32c56a4a58de585c9a05ae69bd9c";let o=s;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(s.default||s)},489503:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Attribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinDescription_pin"},{args:null,kind:"FragmentSpread",name:"MusicAttribution_pin"}],type:"Pin",abstractKey:null};i.hash="073d579cf70fb0330fe26977d9b9f41a";let a=i},670496:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionMediaAttribution_pin",selections:[{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="91cf1b742f42f2f57e9e89991ad2eebd";let a=i},521467:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="5dff28be2de95106e382c42d78ad1833";let l=a},935949:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},i,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionMediaAttribution_pin"}],type:"Pin",abstractKey:null};l.hash="c8423888a19a8f6884a814676a99cd51";let r=l},402931:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsBasicsLayout_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:i=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="b8f25f1b5aa21f88bc1091e219609eb8";let l=a},881285:(e,t,n)=>{"use strict";var i,a,l,r,s,o,d;n.r(t),n.d(t,{default:()=>u});let c=(d=[{args:null,kind:"FragmentSpread",name:"CloseupDetails_user"}],{argumentDefinitions:[{kind:"RootArgument",name:"isAuth"},{kind:"RootArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:o=[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:o,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[r,a,l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[s,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsBasicsLayout_pin"},{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupSavedAttribution_pin"},{args:null,kind:"FragmentSpread",name:"PinFeaturedInArticleCard_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]},{args:null,kind:"FragmentSpread",name:"UserRep_pin"}],type:"Pin",abstractKey:null});c.hash="dcaa8a58d5c57bfd6102d38445b446e8";let u=c},491442:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetails_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};i.hash="c9713d85ef89281fa5ad27120a1c71f9";let a=i},992496:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupFullDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBar_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupModals_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthCloseupRelatedPins_pin"}]},{args:null,kind:"FragmentSpread",name:"CommentModule_pin"}],type:"Pin",abstractKey:null};i.hash="7853ff40654282b0b7a514e8c2ddc7ca";let a=i},903755:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainIframe_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};i.hash="040479189b5808c581351271292cad96";let a=i},238909:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupMainPinDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainIframe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetails_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"LeafSnippet_pin"}]}],type:"Pin",abstractKey:null};i.hash="6ea1313a0779b623844930226c01b624";let a=i},342275:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImage_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectionType",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"136x136")'},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},i],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};l.hash="a3d36c1e52d32ecd6ee57ce1749cd641";let r=l},85469:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinStoryPin_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupStoryPinBlock_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseup_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnMobile_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnDesktop_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseupDetailsOnDesktop_pin"}]}],type:"Pin",abstractKey:null};i.hash="33567d57b67b5a49be2253f636baf23e";let a=i},42112:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPin_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImage_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideo_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};a.hash="8f46840f8000dc1e4bcb2ce3bf21b9e1";let l=a},299749:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPageContainer_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenuController_pin"}],type:"Pin",abstractKey:null};i.hash="4f6345abad9348df2ae456106d4b9c44";let a=i},530632:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageViewAndTimeSpent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};i.hash="5b01543e9ace6cf2b437348f6b1a3a64";let a=i},373435:(e,t,n)=>{"use strict";var i,a,l;n.r(t),n.d(t,{default:()=>s});let r={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPage_pin",selections:[{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CreatorClassInstance",kind:"LinkedField",name:"creatorClassInstance",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"videoUrls",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"Closeup_pin"}],type:"Pin",abstractKey:null};r.hash="a58b8b966069793cc65d32416a70af71";let s=r},107346:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupSavedAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="62fd54709d3c18c78af173903ab765f1";let a=i},835097:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupStoryPinBlock_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBlock_page"}],type:"Pin",abstractKey:null};i.hash="d344c68f5098c99fd60af6ae84bd46ae";let a=i},182692:(e,t,n)=>{"use strict";var i,a,l,r,s,o,d,c,u,p,m,h,g,_,y,f,b,v,x,k,P,S,w,T,I,A,E,C,j,R,L,F,D,O,z,M,N,Z,B,U,K,V,H,G,$,W,q,Y,X,J,Q,ee,et,en,ei,ea,el,er,es,eo,ed,ec,eu,ep,em;n.r(t),n.d(t,{default:()=>eg});let eh=(i={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},a={defaultValue:null,kind:"LocalArgument",name:"pinId"},l=[{kind:"Variable",name:"pin",variableName:"pinId"}],s=[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},y=[o={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},m={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},h,{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],v={alias:"imageSpec_750x",args:f=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b=[d,_,c],storageKey:'images(spec:"750x")'},x=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],P={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null},w=[k={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],I={alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},D=[o,T={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[d,c,u,p,{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},I,A,E,{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null}],O={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},z=[r,L],N={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},Z=[{kind:"Literal",name:"spec",value:"236x"}],B=[{kind:"Literal",name:"spec",value:"1200x"}],U=[{kind:"Literal",name:"spec",value:"orig"}],K={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},V={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},$={kind:"InlineFragment",selections:G=[h],type:"TextBlock",abstractKey:null},W={kind:"InlineFragment",selections:G,type:"ParagraphBlock",abstractKey:null},q={kind:"InlineFragment",selections:G,type:"HeadingBlock",abstractKey:null},Y={kind:"InlineFragment",selections:G,type:"LinkBlock",abstractKey:null},X={kind:"InlineFragment",selections:G,type:"StoryPinImageBlock",abstractKey:null},J={kind:"InlineFragment",selections:G,type:"StoryPinVideoBlock",abstractKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},ee=[_],et={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},en={alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},es={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},eo=[Q,L],ed={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},ec={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},eu={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},ep={kind:"ClientExtension",selections:[{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null}]},em=[P],{fragment:{argumentDefinitions:[i,a],kind:"Fragment",metadata:null,name:"CloseupStoryPinQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupStoryPin_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null},{kind:"InlineFragment",selections:s,type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,i],kind:"Operation",name:"CloseupStoryPinQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:y,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:y,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,m,v,h],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,m,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:null,args:x,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[k,d,P,_,c,S],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null},h,{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:w,storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,T,I,A,E,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[C,j,R,L],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},T,I,{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},A,{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},E,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},F],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null},F],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:D,type:"StoryPinProductStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:D,type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[h,o],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:[h,o,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,O,g,{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,O,g],type:"SupplyBlock",abstractKey:null},{kind:"InlineFragment",selections:[o],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:z,storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},M,L],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[k,S],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},N,{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},v,{alias:"imageSpec_236x",args:Z,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:B,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:U,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b,storageKey:'images(spec:"orig")'},{alias:"imageAdjustedSpec_750x",args:f,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:b,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:Z,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:b,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:B,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:b,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:U,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:b,storageKey:'imagesAdjusted(spec:"orig")'},K,{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[c,d,P,_],storageKey:null}],storageKey:null}],storageKey:null},V],storageKey:null},L,{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[r,{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[H,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[H,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,$,W,q,Y,X,J],storageKey:null}],type:"StoryPinListBlock",abstractKey:null},$,q,W,Y,X,J],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Q],storageKey:null},Q,{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ee,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},C,j,L,et,en,Q,ei,ea,el,R,er,es],storageKey:null},{alias:"imageSpec_236x",args:Z,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ee,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[Q,L,{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},N,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[et,en,Q,ei,C,ea,el,R,er,j,es,L],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eo,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[Q,C,j,L],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},M,{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:eo,storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},F],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:eo,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:eo,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ee,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ee,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ee,storageKey:'images(spec:"170x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ee,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ee,storageKey:'images(spec:"564x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ee,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:U,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ee,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},ed,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[el,L,j],storageKey:null},L],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:z,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[Q,L,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[Q,j,L,el,ec,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},er,et,eu,C,es],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[j,el,L],storageKey:null},V,K,L,{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[ea,ep]},ep,{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:s,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"imageSpec_750x",args:f,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"750x")'},{alias:"imageSpec_236x",args:Z,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:B,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:U,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[r,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[S],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:"videoListMobile",args:x,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:em,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:em,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[ec,eu],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},g,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[ed,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[O,g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},M,{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[g,_],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null}]}],storageKey:null}],type:"V3GetPin",abstractKey:null},{kind:"TypeDiscriminator",abstractKey:"__isError"}],storageKey:null}]},params:{id:"7926c638464d0ec8f7b4a14ae418ca1aa6e207d0ce387f6dd9d37aeaf59c53ed",metadata:{},name:"CloseupStoryPinQuery",operationKind:"query",text:null}});eh.hash="0fc4770b382aee80c94c86d66000808a";let eg=eh;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(eh.default||eh)},420967:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupStoryPin_pin",selections:[{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStream_pin"}]},{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupMainPinStoryPin_pin"}],type:"Pin",abstractKey:null};i.hash="4597a5267d66159a656998151fa41ab0";let a=i},890549:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null}],type:"Pin",abstractKey:null};a.hash="e77b42ec174b43e9b7604897d7df5144";let l=a},552756:(e,t,n)=>{"use strict";var i,a,l,r,s,o,d,c;n.r(t),n.d(t,{default:()=>p});let u=(a=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"Closeup_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:a,storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"136x136")'},{alias:null,args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isV1IdeaPin",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[s,c={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i,l],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:d,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:a,storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupPageViewAndTimeSpent_pin"},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"CloseupPageContainer_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainPin_pin"},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"},{args:null,kind:"FragmentSpread",name:"useGetFeedbackType_pin"},{kind:"ClientExtension",selections:[{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null});u.hash="52f743bdcb59926ec9a2ed1599f541a5";let p=u},73164:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"CommentReactionUnitedSocialModulePinReactionCountQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"CommentReactionUnitedSocialModulePinReactionCountQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"534cc4fd914eda4ab97f06d103fcaaf156a58d4ab66808c7091ffc3772bcb6c5",metadata:{},name:"CommentReactionUnitedSocialModulePinReactionCountQuery",operationKind:"query",text:null}};l.hash="617006b89ee9f57921e57d3c9098adff";let r=l;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(l.default||l)},346035:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l=(a=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});l.hash="6e4bec581cece19361386d6124ddde90";let r=l},524072:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModalEntryPoint_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],type:"Pin",abstractKey:null};i.hash="8870c13169c2c3853d298396ebbb7276";let a=i},442445:(e,t,n)=>{"use strict";var i,a,l,r,s,o;n.r(t),n.d(t,{default:()=>c});let d=(i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],a=[{kind:"Variable",name:"pin",variableName:"pinId"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"CommentThreadModalQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"CommentThreadModalQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},r,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[l],storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s],storageKey:null},r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null},s],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"a71a94cbb6bbc3b1d7072276b1e8983469142306de0d3eccfa151ce12464ea17",metadata:{},name:"CommentThreadModalQuery",operationKind:"query",text:null}});d.hash="3ab6a98b978f52a8036f26117e2bd229";let c=d;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(d.default||d)},189783:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModal_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}],type:"Pin",abstractKey:null};a.hash="94f7ae778628b666925a4aab3ebc789a";let l=a},568312:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CoverPage_story_pin_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:i=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoryPinPageImages"}],type:"StoryPinPage",abstractKey:null};a.hash="9329e2351d4ff22c3541173b9fb9d26d";let l=a},628596:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};a.hash="cabaa35ed7d59dee006897bf3ef32e3d";let l=a},25479:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinActionBar_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"},{kind:"ClientExtension",selections:[{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};l.hash="9b723d4d974b4a1352b14125921b7d08";let r=l},665076:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinVideoScrubber_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="77263a73db576ada99ff387fd2f080b7";let l=a},393204:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};i.hash="c4f99b4a897525ceeb600a989bc21a22";let a=i},639172:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IngredientsPage_story_pin_page",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null}],storageKey:null}],type:"StoryPinPage",abstractKey:null};i.hash="55064042cd1ba8a517e02b413ac45570";let a=i},554714:(e,t,n)=>{"use strict";var i,a,l;n.r(t),n.d(t,{default:()=>s});let r={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"f5c2a4544d75592cedbb5c841969c7b7f7d1b38bf96dd6d0ab116107bfa90978",metadata:{},name:"LazyLoadPinBreadcrumbsQuery",operationKind:"query",text:null}};r.hash="c8e65ee18cda32864e9b7635744f253f";let s=r;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(r.default||r)},322511:(e,t,n)=>{"use strict";var i,a,l;n.r(t),n.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MediaPage_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:l=[i={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:l,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoryPinPageImages"}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="74d7004491fe9a51e0aa578ce9aebc55";let s=r},606296:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MusicAttribution_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},a={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},a,i],type:"Pin",abstractKey:null};l.hash="4b6b65f5a09a6a83ab2a4dc6550ee39f";let r=l},987699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="17ee7538a8ba5a468f69f85d06121f1d";let a=i},829205:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"},{args:null,kind:"FragmentSpread",name:"FollowButton_pin"}],type:"Pin",abstractKey:null};i.hash="e9f1e0adefbc64e46ae0d9f836929d13";let a=i},934843:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarMoreOptions_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="97fcd2da3ac6c0f71a27d660820a6f53";let l=a},466335:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarOptionsButton_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"VaseSection_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};i.hash="b01402e9eb5ee4124874a409ef3b9bb5";let a=i},841433:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};i.hash="2ed8f79733cbeedba9e8a7ed03435228";let a=i},214303:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBar_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"}],type:"Pin",abstractKey:null};a.hash="03cf62005de03cbd9768d464b7dbfb2b";let l=a},317142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinFeaturedInArticleCard_pin",selections:[{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="a7aa8ca2a9aab89cbe065401dfa9e30d";let a=i},985005:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipeRating_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="0cd4ab994109a00e8277b7cf95fc202d";let a=i},817082:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="0399d1e5d3138c8784dabc45eac4492b";let l=a},682827:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin2"}],type:"Pin",abstractKey:null};i.hash="e347537dfa11d23546564f69613b0767";let a=i},230494:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin2",selections:[{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="513a4efd261499402068cfd0e810bf2c";let a=i},72177:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"}],type:"Pin",abstractKey:null};i.hash="e49c269bff73cba5691f5113b6f00759";let a=i},562628:(e,t,n)=>{"use strict";var i,a,l;n.r(t),n.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isMerchant",storageKey:null}],storageKey:null},a,l={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},i,{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"},{args:null,kind:"FragmentSpread",name:"ProductPrice_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviews_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null};r.hash="8da55c30ecd63040c01f96b3ca18ce77";let s=r},730206:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductPrice_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:i=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};a.hash="2d8f315013487d39e45789c61794f121";let l=a},824929:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsCollapsible_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],type:"Pin",abstractKey:null};i.hash="a663d52f0626cc8887103d9e1a8a78c2";let a=i},338453:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsModal_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="a942edb09f07e93186cbbfed0b8031a7";let a=i},495041:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsPreview_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="25e031a9439a0eef8418850148f49a45";let a=i},745611:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviews_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductReviewsCollapsible_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsPreview_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsModal_pin"}],type:"Pin",abstractKey:null};i.hash="c2f4c93600298edcacdd3b6d3a62ab79";let a=i},749608:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};i.hash="8d0233fe1acbc77ec2b5a1754e0a6e36";let a=i},545345:(e,t,n)=>{"use strict";var i,a,l,r;n.r(t),n.d(t,{default:()=>o});let s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[r],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"9444c7d899b56b0d3f582ffd76e4aa03c97bb76a403a805aeb20150c64ee61d7",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};s.hash="1fbbd3a52281ca7385d39618818c9f5c";let o=s;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(s.default||s)},736732:(e,t,n)=>{"use strict";var i,a,l,r;n.r(t),n.d(t,{default:()=>o});let s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[r],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"1a2c34659f0fc64fb8a13ad996b008dbd6b92e50c9b051a13ea424a4eeda7cb4",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};s.hash="811d4ea697a4e7e3aa559549b7762835";let o=s;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(s.default||s)},333682:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBasicsLayout_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:i=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"}],type:"Pin",abstractKey:null};a.hash="9bd82ee705047a24dfa595bf581f4c96";let l=a},752099:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},a={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinParagraphBlock_block"}],type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{args:null,kind:"FragmentSpread",name:"StoryPinHeadingBlock_block"}],type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{args:null,kind:"FragmentSpread",name:"StoryPinImageBlock_block"}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{args:null,kind:"FragmentSpread",name:"StoryPinVideoBlock_block"}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{args:null,kind:"FragmentSpread",name:"StoryPinMentionStickerBlock_block"}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},a,{args:null,kind:"FragmentSpread",name:"StoryPinGenericInteractiveStickerBlock_block"}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{args:null,kind:"FragmentSpread",name:"StoryPinProductStickerBlock_block"}],type:"StoryPinProductStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{args:null,kind:"FragmentSpread",name:"StoryPinVirtualTryOnMakeupStickerBlock_block"}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinGenericInteractiveStickerBlock_pin"}],type:"Pin",abstractKey:null};l.hash="f5ec4ea9be50b222f7c0ef2806d58324";let r=l},795912:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlockCloseup_pin"}],type:"Pin",abstractKey:null};i.hash="8bb1bb1f7bafeed0fe43bed44ef12d2a";let a=i},11432:(e,t,n)=>{"use strict";var i,a,l,r,s,o,d;n.r(t),n.d(t,{default:()=>u});let c=(o={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinCloseup_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:a=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},d],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CoverPage_story_pin_page"},{args:null,kind:"FragmentSpread",name:"IngredientsPage_story_pin_page"},{args:null,kind:"FragmentSpread",name:"SuppliesPage_story_pin_page"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[i,l,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},d,{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinActionBar_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinPage_pin"},{args:null,kind:"FragmentSpread",name:"MediaPage_pin"},{args:null,kind:"FragmentSpread",name:"Attribution_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinVideoScrubber_pin"},{args:null,kind:"FragmentSpread",name:"MusicAttribution_pin"}],type:"Pin",abstractKey:null});c.hash="881d2d3affb0135cb28928a5f3e17192";let u=c},716891:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinPreviewText_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinListModal_pin"}],type:"Pin",abstractKey:null};i.hash="698f60983e1f329c15da35026da26ed3";let a=i},779429:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinGenericInteractiveStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null},i],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null};a.hash="020b8c3f71cd0246bb11c20ad3ede297";let l=a},132142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinGenericInteractiveStickerBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlock_pin"}],type:"Pin",abstractKey:null};i.hash="2d13cb1f75d0bf3742ddb8f141ea022a";let a=i},483381:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinHeadingBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],type:"HeadingBlock",abstractKey:null};i.hash="af07b7cdd16e1077cabeda3ca6145d1b";let a=i},439231:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImageBlock_block",selections:[{alias:"imageSpec_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"750x")'}],type:"StoryPinImageBlock",abstractKey:null};i.hash="724c999686603f1e98f5d4626b40c50d";let a=i},834731:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinListModal_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinList_pin"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBasicsLayout_pin"}],type:"Pin",abstractKey:null};i.hash="b408927eb9f996106daef1a0ce894de9";let a=i},852388:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinList_pin",selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[i,a],type:"SupplyBlock",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinData",abstractKey:null};l.hash="58ca192c8da31187227f6d6d9370c6ca";let r=l},361838:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinMentionStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null};i.hash="9754fdf299e8958fcc42660ffe6c6155";let a=i},896057:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinPage_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:i=[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBlock_page"}],type:"Pin",abstractKey:null};a.hash="b66792a47f0a1f6f3458affee6280c35";let l=a},567394:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinParagraphBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],type:"ParagraphBlock",abstractKey:null};i.hash="b8a348287be5b70818ef7b7ccb39d819";let a=i},94164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinPreviewText_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"extractPreviewText_basics"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null}],type:"Pin",abstractKey:null};i.hash="e90c3859c7387fc3b0a3a59572bac234";let a=i},441496:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinProductStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinProductStickerBlock",abstractKey:null};i.hash="084531623b2f67777d2e474859ff21c2";let a=i},381954:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlockCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="7e8d917850c8329247291df0d281a59b";let a=i},267959:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlock_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="97a6e17f21fa95eedecad1971f9f2ea5";let a=i},453624:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinVideoBlock_block",selections:[{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null};l.hash="ec4888678fb26782fcb93aa6df7ecdc9";let r=l},555009:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinVirtualTryOnMakeupStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null};i.hash="2c07e1a8942151e5386e2c2786701f8e";let a=i},108536:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SuppliesPage_story_pin_page",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"SupplyBlock",abstractKey:null}],storageKey:null}],type:"StoryPinPage",abstractKey:null};i.hash="73f16c3292b301b8d4f16a586c454df1";let a=i},195020:(e,t,n)=>{"use strict";var i,a,l,r,s,o,d;n.r(t),n.d(t,{default:()=>u});let c={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,s,o,d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},d],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};c.hash="6932152931fe069ad54b218e36e66908";let u=c;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(c.default||c)},237915:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null};i.hash="9cbce2e5d42ba48125c1151e618b033c";let a=i},958636:(e,t,n)=>{"use strict";var i,a,l,r,s,o;n.r(t),n.d(t,{default:()=>c});let d=(r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],s=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l=[a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:s,storageKey:null},i,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:s,storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},o,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:s,storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null});d.hash="614687d8c4d6c124bbf9c83472a8f08e";let c=d},161541:(e,t,n)=>{"use strict";var i,a,l;n.r(t),n.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};r.hash="9927ced98afae08f50c02180203fa8b0";let s=r},12963:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"FollowButton_pin"}],type:"Pin",abstractKey:null};i.hash="3aa915f8ddd58c7ab54f435ed3309484";let a=i},183753:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};i.hash="594237c2ea6ccfb8bbc0e3e8c62cac9f";let a=i},674158:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="2e464db34007ea4c1c0752bf62bbb542";let a=i},436068:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},a,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};l.hash="dda341dce5f1fa956d1837dec35496de";let r=l},941783:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"extractPreviewText_basics",selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:a=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinBasics",abstractKey:null};l.hash="70e84f7d1d0b4c8f0d2d282682155e30";let r=l},566976:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="35075da6e1f4b526ac4314727015c44d";let a=i},571541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClickthrough_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"}],type:"Pin",abstractKey:null};i.hash="f56870994667cb51da2ca3c4833d8927";let a=i},544560:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCommerceData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null}],type:"Pin",abstractKey:null};i.hash="1b446350cec79dea7b3946321fdb0a52";let a=i},494262:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetFeedbackType_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="09058e2c22f768d113516b357e48e9cd";let l=a},391014:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="461a57fcc8f7958e3742c217e4cc45a2";let a=i},860972:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="a3cbf6d55cf89d97d6e04c32195968d9";let l=a},77003:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};a.hash="b7ea441f2c20a68b323088ebe3847835";let l=a},902965:(e,t,n)=>{"use strict";var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:a=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};l.hash="6588018e2880f2695fc6c4ba45aab606";let r=l},95840:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="11d828252f89045bc37e6aa5eb3fbea6";let a=i},965361:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};a.hash="b49953855cdc69f6ee2c8d4925149d23";let l=a},776461:(e,t,n)=>{"use strict";var i,a,l,r,s,o,d,c,u,p,m,h,g,_,y,f,b,v,x,k,P,S,w,T,I,A,E,C,j,R,L,F,D,O,z;n.r(t),n.d(t,{default:()=>N});let M=(i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"seoViewCount",storageKey:null},p={alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:u=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},c,m={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},o,d],g=[{kind:"Literal",name:"spec",value:"236x"}],_=[{kind:"Literal",name:"spec",value:"474x"}],y=[{kind:"Literal",name:"spec",value:"orig"}],f=[{kind:"Literal",name:"spec",value:"originals"}],b=[c,o,d],k=[v={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],w={kind:"InlineFragment",selections:S=[v,P={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"IngredientBlock",abstractKey:null},T={kind:"InlineFragment",selections:S,type:"SupplyBlock",abstractKey:null},A={kind:"InlineFragment",selections:I=[x,v],type:"HeadingBlock",abstractKey:null},E={kind:"InlineFragment",selections:I,type:"TextBlock",abstractKey:null},C={kind:"InlineFragment",selections:I,type:"ParagraphBlock",abstractKey:null},j={alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},F=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],D=[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:b,storageKey:null}],z=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:O=[o],storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichSnippetPin_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},i,a,{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"priceCurrency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[l,r],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[s,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[p,{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:u,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},m],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:g,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:_,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:y,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:h,storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:"imageSpec_orig",args:f,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b,storageKey:'images(spec:"originals")'},{alias:"imageAdjustedSpec_orig",args:f,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:b,storageKey:'imagesAdjusted(spec:"originals")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:k,type:"TextBlock",abstractKey:null},w,T,{kind:"InlineFragment",selections:[v,x,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[s,{alias:"videoListMobile",args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:u,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:u,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:u,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:u,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:u,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:u,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[p],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[v,x,{alias:"imageSpec_orig",args:y,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b,storageKey:'images(spec:"orig")'}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:k,type:"ParagraphBlock",abstractKey:null},A],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[E,w,T,C,A,{kind:"InlineFragment",selections:[v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[E,w,T,C,A],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[a,i,o,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[j,R,L],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[P,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:F,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:F,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:F,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[L,j,{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},R],storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},P],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[P,{alias:"additionalImage474x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shareCount",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[r,l,{alias:null,args:null,kind:"ScalarField",name:"profileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImage474x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:z,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:z,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[r],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalDomain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:O,storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null});M.hash="6c6694f3dd83f71e8f1ff9a97a4374fc";let N=M},117166:(e,t,n)=>{"use strict";var i,a,l,r,s;n.r(t),n.d(t,{default:()=>d});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoryPinPageImages",selections:[{alias:"imageSpec_750x",args:i=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"750x")'},{alias:"imageSpec_236x",args:l=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:r=[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:s=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'},{alias:"imageAdjustedSpec_750x",args:i,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:a,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:l,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:a,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:r,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:a,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:s,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:a,storageKey:'imagesAdjusted(spec:"orig")'}],type:"StoryPinPage",abstractKey:null};o.hash="c766f3f12008fe7e57798edf4ada1bd0";let d=o},560346:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescriptionFragment_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="be1864520883fcc12e69e99c1323d274";let l=a},161881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(702664),a=n(216167),l=n(415199),r=n(413110),s=n(930822),o=n(64819),d=n(232518),c=n(937310);let u={[r.o.aggregatedComment]:"AggregatedCommentReplyResource",[r.o.pin]:"AggregatedCommentResource",[r.o.didIt]:"DidItCommentsResource"};function p(){let e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,l.nf)();return async({force:i=!0,fromUnifiedComment:l,objectId:r,objectType:p,orbacSubjectId:m,pinId:h,replyToCommentId:g,tags:_,text:y})=>{let f=u[p],b={force:i,objectId:r,pinId:h,tags:_,text:y,replyToCommentId:g,...m?{orbacSubjectId:m}:{}},v=c.Z.AGGREGATED_COMMENTS;l&&(v="pin"===p?c.Z.UNIFIED_COMMENTS:c.Z.AGGREGATED_COMMENT_REPLIES);let x=await a.Z.create(f,b).callCreate({showError:!1}),k=x.resource_response.data;return t(r,k),e((0,o.vX)({feedType:v,feedId:r,itemIds:[k.id],itemType:k.type,prepend:!0})),"aggregatedComment"===p?n(r,1):"pin"!==p&&e((0,s.L8)(r,1)),h&&e((0,d.R)(h,1)),k.id||x}}},144138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(702664),a=n(216167),l=n(903591),r=n(415199),s=n(930822),o=n(64819),d=n(232518),c=n(937310);function u(){let e=(0,i.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:n}=(0,r.nf)();return async({aggregatedCommentId:i,aggregatedPinId:r,feedType:u,orbacSubjectId:p,parentId:m,type:h,updateParentCommentCount:g,pinId:_})=>{await a.Z.create("AggregatedCommentResource",{commentId:i,...p?{orbacSubjectId:p}:{}}).callDelete({showError:!1}),m&&(e((0,o.EX)({feedId:r||m,feedType:u||c.Z.AGGREGATED_COMMENTS,itemIds:[i],itemType:"aggregatedcomment"})),t(m,i),g&&(h||0===h)&&(h===l.Rv.TOP&&_?e((0,d.R)(_,-1)):h===l.Rv.REPLY_TO_AGGREGATED?n(m,-1):e((0,s.L8)(m,-1))))}}},907932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),l=n(785893);function r({accessibilityLabel:e,handleClick:t,icon:n,iconColor:r,iconOnly:s,testId:o,buttonText:d,tabIndex:c,bgColor:u,isActive:p}){let[m,h]=(0,i.useState)(!1),g=(0,i.useRef)(null),_=()=>{h(e=>!e),t()},y=e=>{g&&e.target instanceof Element&&!g.current?.contains(e.target)&&h(!1)};return(0,i.useEffect)(()=>(window.addEventListener("mousedown",y),()=>{window.removeEventListener("mousedown",y)}),[]),(0,i.useEffect)(()=>{void 0!==p&&h(p)},[p]),(0,l.jsx)(a.xu,{"data-test-id":o||"closeup-action-bar-button",children:(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.hU,{ref:g,accessibilityLabel:e,bgColor:u,icon:n,iconColor:r||"darkGray",onClick:_,selected:m,size:s?"md":"lg",tabIndex:c}),d&&(0,l.jsx)(a.iP,{onTap:_,rounding:2,children:(0,l.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:d})})]})})}},846559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var i=n(667294),a=n(616550),l=n(340523);function r({surfaceType:e}){let{checkExperiment:t}=(0,l.F)();return"flashlight"===e&&(t("web_flashlight_cta").anyEnabled||t("web_flashlight_cta_expansion").anyEnabled)||t("mweb_image_search_animated_button").anyEnabled||"stela"===e&&t("web_stela_cta").anyEnabled||"stl"===e&&(t("web_flashlight_cta").anyEnabled||t("web_flashlight_cta_expansion").anyEnabled||t("web_stela_cta").anyEnabled)}var s=n(140017),o=n(5859),d=n(883119),c=n(696534),u=n(513911),p=n(554786),m=n(785893);function h({buttonText:e,onButtonClick:t,handleAnimationEnd:n,iconType:a,styleOptions:l,textRef:r,textColor:h}){let g=(0,s.ZP)(),{isRTL:_}=(0,o.B)(),y=(0,p.HG)(),f=!y&&(0,c.Yc)(),b=g._('closeup image action button', 'closeup.image.button.defaultAccessibilityLabel', 'accessibility label for the button on the closeup image overlay. This button navigates users to the image search landing page. buttonText: image search button text'),v=e||b,x=(0,m.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:l.buttonStyle},children:e&&(0,m.jsx)(d.xu,{ref:r??void 0,dangerouslySetInlineStyle:{__style:l.textStyle},children:(0,m.jsx)(d.xv,{color:h,weight:"bold",children:e})})}),k=(u.Nv-u.ZG)/2,P=(0,m.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{bottom:k,right:_?void 0:k,left:_?k:void 0}},position:"absolute",children:(0,m.jsx)(d.JO,{accessibilityLabel:v,color:"default",icon:a,size:u.ZG})});return(0,m.jsx)(d.iP,{accessibilityLabel:v,onTap:t,rounding:"circle",children:(0,m.jsx)(d.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{backgroundColor:f?"rgba(17, 17, 17, 0.9)":"rgba(255, 255, 255, 0.9)"}},"data-test-id":"shop-button",display:"flex",justifyContent:"center",minHeight:u.Nv,minWidth:u.Nv,onAnimationEnd:n,padding:3,position:"relative",rounding:"pill",children:(0,m.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:_?(0,m.jsxs)(i.Fragment,{children:[P,x]}):(0,m.jsxs)(i.Fragment,{children:[x,P]})})})})}var g=n(587703),_=n(406893),y=n(704043),f=n(233440),b=n(494125),v=n(755453);function x({actionUrl:e,animateShopButton:t,id:n,imageSignature:l,onAnimationComplete:d,surfaceType:c}){let u=(0,i.useRef)(),p=(0,g.Z)(),x=r({surfaceType:c}),k=(0,a.k6)(),[P,S]=(0,i.useState)(),[w,T]=(0,i.useState)(),[I,A]=(0,i.useState)(),E=function({surfaceType:e,showButton:t}){let n=(0,s.ZP)(),{isAuthenticated:i}=(0,o.B)(),a=r({surfaceType:e});if(!t)return null;if(!i)return n._('Image search', 'closeup.visualSearchButton.flashlightVariant1', 'clicking on this text will open a visual search feed');if(a)return n._('Image search', 'closeup.shopButton.similarProducts', 'clicking on this text will open a feed similar shoppable Pins');switch(e){case"stela":return n._('Shop similar items', 'closeup.shopButton.similarProducts', 'clicking on this text will open a feed similar shoppable Pins');case"stl":return n._('Shop this look', 'closeup.overlay.stl.shopButtonText', 'clicking on this text will show the stl flyout with exact match products');case"flashlight":return"";default:return null}}({surfaceType:c,showButton:t});(0,b.Z)(()=>{"stl"===c?p({event_type:120,element:11963,view_type:3,aux_data:{image_signature:l}}):p({event_type:120,component:128,element:234,view_type:3,aux_data:{image_signature:l}})}),(0,i.useEffect)(()=>{if(u.current&&!P&&t){let e=u.current.getBoundingClientRect().width;e&&S(e)}},[u,P,t]),(0,i.useEffect)(()=>{t&&(T("shopButtonSlideInThenOut 3s ease-in-out forwards"),A("stelaSlideInThenOut 3s ease-in-out forwards"))},[t]);let C=t=>{f.Z.setItem("VISUAL_SEARCH_SOURCE","FLASH_LIGHT_BUTTON"),["flashlight","stela"].includes(c)&&p({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:l}}),t&&t.stopPropagation(),e&&null!=c?k.push(e):k.push((0,v.Z)({pinId:n,isProductPage:!1,surfaceType:c}))};return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(_.Z,{unsafeCSS:(0,y.Z)(P||0)}),(0,m.jsx)(h,{buttonText:E,handleAnimationEnd:d,iconType:"flashlight"===c||x?"flashlight":"shopping-bag",onButtonClick:({event:e})=>C(e),styleOptions:{buttonStyle:{animation:w},textStyle:{animation:I,whiteSpace:"nowrap"}},textColor:"default",textRef:u})]})}},160408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(140017),r=n(340523),s=n(5859),o=n(785893);function d({collapsed:e,displayViewState:t,forceTappableHeader:n,headerPaddingRight:d,headerPreview:c,heading:u,onClick:p,showArrow:m}){let h=(0,l.ZP)(),{checkExperiment:g}=(0,r.F)(),{isAuthenticated:_}=(0,s.B)(),y=_?g("auth_closeup_redesign").anyEnabled:g("unauth_closeup_redesign").anyEnabled;return(0,o.jsx)(i.Fragment,{children:n||null!==t?(0,o.jsx)(a.iP,{onTap:p,children:(0,o.jsxs)(a.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",justifyContent:"between",children:[(0,o.jsx)(a.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:y?"300":"400",children:u}),(0,o.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:d}},direction:"row",display:"flex",children:[e&&c,m&&(0,o.jsx)(a.xu,{alignItems:"center","data-test-id":"collapse-button",display:"flex",justifyContent:"center",marginStart:c?4:0,width:48,children:(0,o.jsx)(a.JO,{accessibilityLabel:h._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:e?"arrow-down":"arrow-up"})})]})]})}):(0,o.jsx)(a.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:"400",children:u})})}},656531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(883119),a=n(772667),l=n(951923),r=n(340523),s=n(785893);function o({description:e}){let{checkExperiment:t}=(0,r.F)(),n=t("web_hashtags_in_description_display").anyEnabled;return(0,s.jsx)(i.xu,{children:(0,a.Z)({isHashtagInDescriptionDisplayEnabled:n,text:e})})}function d({description:e,userMentionTags:t}){let n=e=>e.replace(/\s+/g," "),a=e.split(/\n/)||[],r=({descriptionLine:t,userMentionTags:n})=>{let i=e.indexOf(t),a=n.reduce((e,t)=>{if(t&&"number"==typeof t.offset&&t.offset>=i){let n=t.offset-i;e.push({...t,offset:n})}return e},[])||[];return a};return a.map(e=>{if(!t||0===t.length)return(0,s.jsx)(o,{description:e});let a=r({descriptionLine:e,userMentionTags:t});return a.length>0?(0,s.jsx)(i.xu,{children:(0,s.jsx)(l.Z,{description:n(e),userMentionTags:a})}):(0,s.jsx)(o,{description:e})})}},169609:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(230556),r=n(140017),s=n(626468),o=n(236817),d=n(785893);function c({isDarkMode:e,onPress:t,testID:n,label:i}){return(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":n,display:"inlineBlock",children:(0,d.jsx)(a.iP,{fullWidth:!1,onTap:t,children:(0,d.jsxs)(a.xv,{size:l.n,weight:"bold",children:["\xa0...\xa0",i]})})})}function u({children:e,isDarkMode:t,descriptionDir:n}){let u=(0,i.useRef)(null),[p,m]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1,showToggle:!1}),{isFirstLoad:h,isTruncated:g,showToggle:_}=p,y=(0,r.ZP)();return(0,i.useEffect)(()=>{if(h&&u.current){var e;let t=(0,s.xW)(u.current),n=(e=u.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;m({isTruncated:n,isFirstLoad:!1,showToggle:t>=3&&n})}},[h,g]),(0,d.jsx)(a.xu,{"data-test-id":"truncated-description",flex:"grow",position:"relative",children:(0,d.jsx)(o.Z,{dir:n,children:(0,d.jsxs)(a.xv,{ref:u,align:"ltr"===n?"forceLeft":void 0,lineClamp:h||g?3:0,size:l.n,children:[e,_?(0,d.jsx)(i.Fragment,{children:g?(0,d.jsx)(a.xu,{bottom:!0,position:"absolute",right:!0,children:(0,d.jsx)(c,{isDarkMode:t,label:y._('more', 'storyPin.previewText.more', 'Story pin preview more text truncation'),onPress:()=>m({...p,isTruncated:!1}),testID:"more-description-container"})}):(0,d.jsx)(c,{isDarkMode:t,label:y._('less', 'storyPin.previewText.less', 'Story pin preview less text truncation'),onPress:()=>m({...p,isTruncated:!0}),testID:"less-description-container"})}):null]})})})}},836910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(12163),r=n(214877),s=n(140017),o=n(158838),d=n(785893);class c extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t="startAudiblePlayTime",n=this.props.muted?null:new Date,(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){let{musicRecordingId:e,muted:t,pinId:n,video:i}=this.props;if(e&&!t&&this.startAudiblePlayTime){let t=new Date-this.startAudiblePlayTime;if(t>=2e3){let{hlsv3:t,mp4:a}=(0,o.ZP)({vEXP3:i.video_list?.V_EXP3,vEXP4:i.video_list?.V_EXP4,vEXP5:i.video_list?.V_EXP5,vEXP6:i.video_list?.V_EXP6,vEXP7:i.video_list?.V_EXP7,v720P:i.video_list?.V_720P,vHLSV3MOBILE:i.video_list?.V_HLSV3_MOBILE})||{},l=(a||t)?.duration||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:n,story_pin_music_duration:l}})}}}render(){let{activePageIndex:e,blockHeight:t,blockWidth:n,closeupStoryPinViewability:i,customEndCard:r,isPlaying:s,muted:c,onEnded:u,onUpdateVideoInfo:p,pageIndex:m,pinId:h,roundCorners:g=!0,video:_,videoThumbnailStartTime:y}=this.props,{hlsv3:f,mp4:b}=(0,o.ZP)({vEXP3:_.video_list?.V_EXP3,vEXP4:_.video_list?.V_EXP4,vEXP5:_.video_list?.V_EXP5,vEXP6:_.video_list?.V_EXP6,vEXP7:_.video_list?.V_EXP7,v720P:_.video_list?.V_720P,vHLSV3MOBILE:_.video_list?.V_HLSV3_MOBILE})??{},v=b||f;if(!v)return null;let{height:x,thumbnail:k,width:P}=v,S=(P??1)/(x??1),w={height:"100%",left:"0",top:"0",width:"100%"},T=n/t;if(Math.abs(T-S)>.01){if(T<S){let e=100*S/T;w.width=`${e}%`,w.left=`-${(e-100)/2}%`}else if(T>S){let e=100*T/S;w.height=`${e}%`,w.top=`-${(e-100)/2}%`}}let I="number"==typeof e&&m<=e+3;return(0,d.jsx)(a.xu,{height:t,overflow:"hidden",position:"relative",width:n,children:(0,d.jsx)(a.xu,{height:"100%",position:"absolute",width:"100%",children:I||s||y?(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:w},position:"absolute",children:(0,d.jsx)(l.Z,{autoplay:s,closeupStoryPinViewability:i,contextLogData:{component:0===m?227:228,element:10957,objectId:h,story_pin_page_id:m,view:3,viewParameter:157},customEndCard:r,customThumbnail:k,isPromoted:!1,loop:!1,muted:c,objectFit:b?"cover":void 0,onEnded:()=>{u&&u(m)},onTimeChange:({time:e})=>{if(p&&"number"==typeof v.duration&&v.duration>0){let t=v.duration/1e3;p({currentTime:e,duration:t})}},pinId:h,preferMp4:!!b,roundingOverride:g?null:0,showControls:"never",variant:"storyPin",video:{id:_.id,hlsv3:f,mp4:b},videoThumbnailStartTime:y})}):(0,d.jsx)(a.Ee,{alt:this.props.i18n._('Video cover image', 'closeup.storyPin.videoCover', 'cover image displayed for a video'),fit:"cover",naturalHeight:x??1,naturalWidth:P??1,src:k??""})})})}}function u(e){let{logContextEvent:t}=(0,r.v)(),n=(0,s.ZP)();return(0,d.jsx)(c,{...e,i18n:n,logContextEvent:t})}},990328:(e,t,n)=>{"use strict";n.d(t,{_B:()=>K,Xw:()=>V,tD:()=>H,ZP:()=>q}),n(167912);var i,a,l=n(883119),r=n(616550),s=n(214877),o=n(995917),d=n(771981),c=n(785893);let u=({block:{block_style:{height:e=0,width:t=0,x_coord:n=0,y_coord:i=0,rotation:a=0}={},original_comment_id:u},pageAspectRatio:p,scaleFactor:m})=>{let{logContextEvent:h}=(0,s.v)(),g=K/p,_=(0,r.k6)(),{data:y}=(0,o.Z)({name:"AggregatedCommentResource",options:{commentId:u,field_set_key:"comment_reply_sticker"}});return(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:n*K*m/100,top:i*g*m/100,transform:`rotate(${a}deg)`}},display:"flex",height:e*g*m/100,margin:-1,padding:1,position:"absolute",rounding:2,width:t*K*m/100,zIndex:d.B5,children:(0,c.jsx)(l.iP,{onTap:()=>{h({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:u}}),y?.pin_id&&_.push(`/pin/${y.pin_id}/comments/${u||""}`)},rounding:"pill"})})};var p=n(448318),m=n(590107);function h({src:e,fallbackSrc:t,...n}){let i=(0,m.Z)(e);return(0,c.jsx)(p.Z,{...n,src:i?e:t})}var g=n(702664);function _({isUseCache:e,signature:t}){return(0,g.useSelector)(({pinbuilder:n})=>{let{storyPinItemBlocks:i}=n;if(!e)return null;for(let e of Object.keys(i))if(i[e].media?.signatureEdited===t||i[e].media?.signature===t)return i[e];return null})}var y=n(667294),f=n(161881),b=n(406718),v=n(930837),x=n(140017),k=n(413110);let P=({aggregatedCommentId:e,onDismiss:t})=>{let n=(0,x.ZP)(),i=(0,b.Z)(),a=(0,f.Z)(),[r,s]=(0,y.useState)(""),o=(0,c.jsx)(l.kC,{justifyContent:"end",children:(0,c.jsx)(l.zx,{color:"red",disabled:!r,onClick:()=>{(async()=>{await a({fromUnifiedComment:!0,objectType:k.o.aggregatedComment,objectId:e,tags:"[]",text:r})})(),t()},text:n._('Post', 'ideapin.questionsticker.replymodal.postbutton', 'Post reply to creator Q&A question')})});return(0,c.jsx)(v.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:o,heading:n._('Reply', 'ideapin.questionsticker.replymodal', 'Reply to creator Q&A question'),onDismiss:t,children:(0,c.jsx)(l.xu,{paddingX:8,paddingY:1,children:(0,c.jsx)(l.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:({value:e})=>{s(e)},placeholder:i?n._('Your reply will show up as a public comment on this Pin.', 'pin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'):n._('Your reply will show up as a public comment on this Idea Pin.', 'ideapin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'),value:r})})})};var S=n(205841),w=n(207012),T=n(339001),I=n(340523),A=n(749886),E=n(520718);let C=void 0!==i?i:i=n(381954);function j({block:e,elementType:t,onFlyoutOpen:n,pageAspectRatio:i,pageIndex:a,pinKey:u,scaleFactor:p,tooltipElementType:m,videoPinProgress:h}){let{logContextEvent:g}=(0,s.v)(),[_,f]=(0,y.useState)(!1),[b,v]=(0,y.useState)(!1),k=(0,y.useRef)(null),j=(0,r.k6)(),R=(0,x.ZP)(),L=(0,w.Z)(C,u),{checkExperiment:F}=(0,I.F)(),{block_style:{height:D=0,width:O=0,x_coord:z=0,y_coord:M=0,rotation:N=0}={},end_time:Z,error_message:B,interactive_sticker_type:U=null,is_removed:G,is_valid:$,start_time:W,sticker_data:q,type:Y}=e,X=L?.entityId,{board_id:J,question_comment_id:Q}=q||{},{image_small_url:ee,full_name:et,username:en=""}=e.user??{},ei=null,ea=$&&5===U&&!!J,el=$&&7===U&&!!Q,er=(0,o.Z)(J&&ea?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:J}}:null),{is_collaborative:es,pin_count:eo,url:ed}=er.data||{};Y===A.h8.PRODUCT_STICKER?ei=X?`/pin/${X}/`:"/":Y===A.h8.MENTION_STICKER?ei=`/${en}/`:ea&&(ei=er.isLoaded?`${ed}`:null);let ec=K/i,{currentTime:eu}=h||{},ep=!(0,E.Z)({currentTime:eu,endTime:Z,startTime:W}),em=()=>{g({event_type:123,component:228,element:m,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:a}}),f(!1)},eh=({event:e})=>{g({event_type:120,component:228,element:m,view_type:3,view_parameter:157,aux_data:{error_message:!$&&B?B:null,story_pin_page_id:a}}),f(!0),n&&(e.stopPropagation(),n())};(0,y.useEffect)(()=>(document.addEventListener("scroll",()=>{f(!1)}),()=>document.removeEventListener("scroll",()=>{f(!1)})),[]);let eg=()=>[5].includes(U)?$?er.isLoaded?(0,c.jsxs)(y.Fragment,{children:[(0,c.jsxs)(l.xu,{flex:"grow",paddingX:2,children:[(0,c.jsx)(l.xv,{lineClamp:1,size:"100",weight:"bold",children:es?R._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):R._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing')}),(0,c.jsx)(l.xv,{size:"100",children:(!!eo||0===eo)&&(0,T.nk)(R.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', eo, 'closeup.StoryPin.stickerBlock.boardSticker.boardLabel', 'Caption when board tag flyout that showing number of Pins on board'),{pinCount:eo})})]}),(0,c.jsx)(l.xu,{flex:"none",children:(0,c.jsx)(l.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]}):(0,c.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,c.jsx)(l.xu,{marginEnd:1,paddingX:2,children:(0,c.jsx)(l.xv,{color:"subtle",lineClamp:1,size:"100",children:R._('Loading board...', 'closeup.StoryPin.stickerBlock.boardSticker.loadingText', 'Label explaining board sticker still loading')})}),(0,c.jsx)(l.$j,{accessibilityLabel:R._('Board is loading', 'closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText', 'Accessibility label for board loading spinner'),show:!0,size:"sm"})]}):(0,c.jsx)(l.xu,{paddingX:2,paddingY:2,children:(0,c.jsx)(l.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:B})}):(0,c.jsx)(l.xu,{paddingX:2,paddingY:2,children:(0,c.jsx)(l.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:R._('Sticker not supported yet', 'closeup.StoryPin.stickerBlock.genericStickerError', 'Label explaining this sticker has not been implemented yet')})}),e_=()=>{let e=null;switch(Y){case A.h8.PRODUCT_STICKER:let{gridTitle:t,imageSpec_236x:n,richSummary:i,description:a}=L||{},{displayName:r,products:s}=i||{},o=((s||[])[0]||{}).offerSummary||{},{price:d,maxPrice:u}=o||{},p=r||t||a;e=(0,c.jsxs)(y.Fragment,{children:[(0,c.jsx)(l.xu,{flex:"none",children:(0,c.jsx)(l.zd,{height:40,rounding:3,wash:!0,width:40,children:(0,c.jsx)(l.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:n?.url||""})})}),(0,c.jsx)(l.xu,{flex:"grow",paddingX:2,children:o&&(d||u)?(0,c.jsxs)(l.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,c.jsx)(l.xv,{color:"shopping",lineClamp:1,size:"100",weight:"bold",children:d}),(0,c.jsx)(l.xv,{lineClamp:1,size:"100",children:p})]}):(0,c.jsx)(l.xv,{lineClamp:1,size:"100",children:p})}),(0,c.jsx)(l.xu,{flex:"none",children:(0,c.jsx)(l.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case A.h8.MENTION_STICKER:e=(0,c.jsxs)(y.Fragment,{children:[(0,c.jsx)(l.xu,{flex:"none",children:(0,c.jsx)(S.qE,{name:et??"",size:"sm",src:ee??void 0})}),(0,c.jsx)(l.xu,{flex:"grow",paddingX:2,children:(0,c.jsx)(l.xv,{lineClamp:1,size:"200",weight:"bold",children:et})}),(0,c.jsx)(l.xu,{flex:"none",children:(0,c.jsx)(l.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case A.h8.GENERIC_STICKER:e=eg();break;case A.h8.VTO_MAKEUP_STICKER:e=(0,c.jsx)(l.xv,{size:"300",weight:"bold",children:R._('Try this sticker on your phone!', 'closeup.storyPin.vtoMakeupSticker', 'Caption when @vitural-try-on-makeup tag is tapped for Web')})}return(0,c.jsx)(l.xu,{alignItems:"center","data-test-id":Y,display:"flex",justifyContent:"center",padding:Y===A.h8.PRODUCT_STICKER?1:3,width:"100%",children:G?(0,c.jsx)(l.xv,{color:"subtle",size:"200",weight:"bold",children:R._('Tag removed!', 'closeup.storyPin.stickerBlock', 'Caption when the tag is removed')}):e})};return(0,c.jsx)(y.Fragment,{children:ep?null:(0,c.jsxs)(l.xu,{ref:k,dangerouslySetInlineStyle:{__style:{left:z*K*p/100,top:M*ec*p/100,transform:`rotate(${N}deg)`}},"data-test-id":(Y||"")+"_container",display:"flex",height:D*ec*p/100+2*V,margin:-1,padding:1,position:"absolute",rounding:2,width:O*K*p/100+2*V,zIndex:d.B5,children:[(0,c.jsx)(l.iP,{disabled:ep,onTap:_?em:({event:e})=>{!ep&&(g({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:a}}),el?F("web_question_sticker_display").anyEnabled&&v(!0):eh({event:e}))},rounding:"pill"}),_&&(0,c.jsx)(l.mh,{zIndex:H,children:(0,c.jsx)(l.J2,{_deprecatedShowCaret:!0,anchor:k.current,idealDirection:"up",onDismiss:em,positionRelativeToAnchor:!1,size:G?"flexible":"sm",children:G?e_():(0,c.jsx)(l.iP,{fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),G||(g({event_type:101,component:228,element:m,object_id_str:X,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:a}}),ei?j.push(ei):em())},children:e_()})})}),!!Q&&b&&(0,c.jsx)(P,{aggregatedCommentId:Q,onDismiss:()=>{v(!1)}})]})})}var R=n(766742),L=n(961936),F=n(626468),D=n(851193);function O({block:e,fontsLoaded:t,pageAspectRatio:n,scaleFactor:i,thumbnail:a}){let{block_style:r,style:s=A.Cc,text:o}=e,{alignment:d,font:u,font_size:p,highlight_color:m,vertical_alignment:h=A.Cc.vertical_alignment}=s,{hex_color:g=A.Cc.hex_color}=s??{},[_,f]=(0,y.useState)(0),[b,v]=(0,y.useState)([]),x=u||A.Cc.font,{name:k,default_size:P,letter_spacing:S,line_height:w}=x,T=(0,D.Z)(x),I=Math.round(100*(r?.width||100))/1e4,E=Math.round(100*(r?.height||100))/1e4,C=Math.round(100*(r?.x_coord||0))/1e4,j=Math.round(100*(r?.y_coord||0))/1e4;(0,y.useEffect)(()=>{if(t){let e=(0,F.KV)({text:o,boxHeight:L.U*E,boxWidth:L.q8*I,font:T,startFontSize:Math.floor(p||P||24)});v(e.lines),f(e.fontSize)}},[t,o]);let O=_*i,z=m?(0,A.pE)(O,w):{x:0,y:0},M=I*L.q8*i+2*z.x,N=E*L.U*i+2*z.y,Z=C*L.q8*i-z.x,B=a?`${100*j}%`:j*(L.q8/n)*i-z.y;return(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:Z,top:B}},display:"flex",height:N,position:"absolute",width:M,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:(0,R.RK)({alignment:d,verticalAlignment:h})},children:(0,c.jsx)(l.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,c.jsx)("p",{style:(0,R.BN)({fontSize:O,hexColor:g,letterSpacing:S,lineHeight:w,name:k}),children:b.map((e,t)=>(0,c.jsx)("span",{style:(0,R.xm)({fontSize:O,hasText:e.text.length>0,highlightColor:m||null,lineHeight:w}),children:t===b.length-1?e.text:(0,c.jsxs)(y.Fragment,{children:[e.text," ",(0,c.jsx)("br",{})]})},`paragraphLine-${t}-${(o??"").substr(0,9)}`))})})})})}var z=n(836910),M=n(149722);function N({ownerId:e}){let t=(0,x.ZP)(),n=(0,M.Z)(),i=n.isAuth&&n.id===e;return(0,c.jsxs)(l.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,c.jsx)(l.xv,{color:"inverse",children:i?t._('Your video is processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that their video is still processing'):t._('This video is still processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that this video is still processing')}),(0,c.jsx)(l.xv,{color:"inverse",children:t._('Check back in a few minutes.', 'closeup.storyPin.videoPlaceholder', 'Let user know to come back in a couple of minutes to view the video')})]})}var Z=n(906623),B=n(570529),U=n(667665);let K=375,V=4,H=new l.Ry(3);function G({block:e,isActive:t,pwtTrackImageLoad:n,thumbnail:i}){let a=(0,x.ZP)(),l=e.image?.images?.["750x"]||e.image?.images?.["474x"],r=_({isUseCache:!0,signature:e.image_signature});if(!l&&!r)return null;let s=i?"cover":"none";return r?(0,c.jsx)(h,{alt:a._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),fallbackSrc:r.media?.src??"",fit:s,isActive:t,naturalHeight:l?.height??1,naturalWidth:l?.width??1,onLoad:n,src:l?.url??""}):(0,c.jsx)(p.Z,{alt:a._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),fit:s,isActive:t,naturalHeight:l?.height??1,naturalWidth:l?.width??1,onLoad:n,src:l?.url??""})}function $({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,isActive:a,isSplitLayout:r=!1,musicRecordingId:s,muted:o,onEnded:d,onUpdateVideoInfo:u,ownerId:p,pageAspectRatio:m,pageDimensions:h,pageIndex:g,pinId:y,scaleFactor:f,stillLoading:b,videoThumbnailStartTime:v,thumbnail:x=!1}){let{block_style:{height:k=100,width:P=100,x_coord:S=0,y_coord:w=0}={},video:T}=t,I=K/m,{height:A,width:E}=h,C=P*K*f/100,j=k*I*f/100,R=P<100?Math.min(Math.max(100,P)-Math.abs(S),P):Math.min(Math.max(P-Math.abs(S),0),100),L=k<100?Math.min(Math.max(100,k)-Math.abs(w),k):Math.min(Math.max(k-Math.abs(w),0),100),F=L*I*f/100,D=R*K*f/100,O=Math.max(w,0)*I*f/100,M=Math.max(S,0)*K*f/100,Z=_({isUseCache:!T,signature:t.video_signature});if(b)return null;let{media:B}=Z||{},{duration:U,src:V}=B||{},H=!!V&&!!U;if(!T&&!H)return(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:M,top:O}},height:F,position:"absolute",width:D,children:(0,c.jsx)(N,{ownerId:p})});let G=T?.video_list?.V_HLSV3_MOBILE||T?.video_list?.V_720P||H;return!!G&&(0,c.jsx)(l.xu,{height:r?"50%":"100%",overflow:"hidden",position:"relative",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:M,top:O}},height:x?A:F,overflow:"hidden",position:"absolute",width:x?E:D,children:(0,c.jsx)(z.Z,{activePageIndex:e,blockHeight:x?A:j,blockWidth:x?E:C,closeupStoryPinViewability:n,customEndCard:i,isPlaying:a,musicRecordingId:s,muted:o,onEnded:d,onUpdateVideoInfo:u,pageIndex:g,pinId:y,roundCorners:j>=A&&C>=E,video:T||{video_list:{V_EXP7:{duration:U?1e3*U:0,url:V}}},videoThumbnailStartTime:v})})})}let W=void 0!==a?a:a=n(795912);function q({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,disableProductStickers:a,fontsLoaded:r,isActive:s,isSplitLayout:o=!1,musicRecordingId:d,muteVideos:p,onEnded:m,onFlyoutOpen:h,onImageLoaded:g,onUpdateVideoInfo:_,ownerId:y,pageAspectRatio:f,pageHeight:b,pageIndex:v,pageWidth:x,pinId:k,previewOnly:P,pinKey:S,stillLoading:T=!1,thumbnail:I=!1,transform:E,videoPinProgress:C,videoThumbnailStartTime:R}){let L=(0,w.Z)(W,S),{block_style:{height:F=100,width:D=100,x_coord:z=0,y_coord:M=0}={},interactive_sticker_type:N=null}=t,V=(0,B.g)(),H=(0,Z.E)();if(0===F||0===D)return null;let q=x/K;switch(t.type){case A.h8.PARAGRAPH:case A.h8.HEADING:return(0,c.jsx)(O,{block:t,fontsLoaded:r,pageAspectRatio:f,scaleFactor:q,thumbnail:I});case A.h8.VIDEO:return(0,c.jsx)($,{activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,isActive:s,isSplitLayout:o,musicRecordingId:d,muted:p,onEnded:m,onUpdateVideoInfo:_,ownerId:y,pageAspectRatio:f,pageDimensions:{height:b,width:x},pageIndex:v,pinId:k,scaleFactor:q,stillLoading:T,thumbnail:I,videoThumbnailStartTime:R});case A.h8.IMAGE:let{scaleX:Y=1,scaleY:X=1}=E||{};return(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{height:`${F}%`,left:`${z*Y}%`,top:`${M*X}%`,width:`${D}%`}},overflow:"hidden",position:"absolute",children:(0,c.jsx)(G,{block:t,isActive:s,pwtTrackImageLoad:()=>{V&&s&&(V.addBinaryAnnotation("pin.id",k,"STRING"),V.addBinaryAnnotation("video",!1,"BOOL"),V.stop()),H&&s&&(H.addBinaryAnnotation("pin.id",k,"STRING"),H.addBinaryAnnotation("video",!1,"BOOL"),H.removeConstraint(U._z),H.markConstraintComplete(U.pM)),g&&g()},thumbnail:I})});case A.h8.MENTION_STICKER:return!P&&(0,c.jsx)(j,{block:{...t},elementType:12120,onFlyoutOpen:h,pageAspectRatio:f,pageIndex:v,pinKey:null,scaleFactor:q,tooltipElementType:12121,videoPinProgress:C});case A.h8.GENERIC_STICKER:return!P&&(e=>{let t=5===N;return(0,c.jsx)(j,{block:{...e},elementType:t?12827:12858,onFlyoutOpen:h,pageAspectRatio:f,pageIndex:v,pinKey:null,scaleFactor:q,tooltipElementType:t?12828:12859,videoPinProgress:C})})(t);case A.h8.PRODUCT_STICKER:return!P&&!a&&(0,c.jsx)(j,{block:{...t},elementType:12223,onFlyoutOpen:h,pageAspectRatio:f,pageIndex:v,pinKey:L,scaleFactor:q,tooltipElementType:12224,videoPinProgress:C});case A.h8.VTO_MAKEUP_STICKER:return!P&&(0,c.jsx)(j,{block:{...t},elementType:12561,onFlyoutOpen:h,pageAspectRatio:f,pageIndex:v,pinKey:null,scaleFactor:q,tooltipElementType:12561,videoPinProgress:C});case A.h8.COMMENT_REPLY_STICKER:return t.type===A.h8.COMMENT_REPLY_STICKER&&!P&&(0,c.jsx)(u,{block:t,pageAspectRatio:f,scaleFactor:q});default:return null}}},899691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(749886);let a=[i.h8.COMMENT_REPLY_STICKER,i.h8.GENERIC_STICKER,i.h8.HEADING,i.h8.IMAGE,i.h8.MENTION_STICKER,i.h8.PARAGRAPH,i.h8.PRODUCT_STICKER,i.h8.VIDEO,i.h8.VTO_MAKEUP_STICKER];function l({storyPinBlocks:e=[],blocksToRender:t=a}){let n=[],l=[],r=[];return e.forEach(e=>{t.includes(e.type)?e.type===i.h8.PARAGRAPH||e.type===i.h8.HEADING?l.push(e):r.push(e):n.push(e)}),r.push(...l),{nonRenderableBlocks:n,textBlocks:l,blocks:r}}},46113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),a=n(107366);let l=()=>["shuffle.{id,items,effect_data}","user.{id,full_name,username,image_medium_url,follower_count}","shuffleitem.{id,pin(),shuffle_item_image(),item_type,text,offset,scale,rotation,effect_data,mask,shuffle_asset,images[236x,750x,750x(heic)]}","shuffleasset.{id,cutout_images[originals],source_images[236x]}","shuffleitemimage.{id,user()}","pin.{id,title,third_party_pin_owner,native_creator,description,link,domain,grid_title,link_domain(),link_user_website(),rich_metadata(),rich_summary(),pinner(),origin_pinner()}","domain.official_user()","user.is_verified_merchant","user.full_name"],r=e=>(0,a.Z)({url:`/v3/shuffles/${e}/`,data:{fields:l()}}),s=({shuffleId:e,shouldRenderShuffle:t})=>{let[n,a]=(0,i.useState)(null);return(0,i.useEffect)(()=>{if(t&&e){let t=async()=>{let t=await r(e);a(t.resource_response.data)};t()}},[e,t]),n}},889449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(340523),a=n(5859),l=n(554786);let r=()=>{let{isAuthenticated:e}=(0,a.B)(),t=(0,l.HG)(),{checkExperiment:n}=(0,i.F)(),r={shuffleRendererCloseup:"unauth_web_shuffle_renderer_closeup",collageCloseup:"auth_web_collage_closeup"};return e&&(r.shuffleRendererCloseup=t?"auth_dweb_shuffle_renderer_closeup_v2":"auth_mweb_shuffle_renderer_closeup"),{checkShuffleRendererExperiment:()=>n(r.shuffleRendererCloseup),checkCollageCloseupExperiment:()=>n(r.collageCloseup)}}},803947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(667294),a=n(883119),l=n(160408),r=n(340523),s=n(5859),o=n(554786),d=n(785893);function c({children:e,displayViewState:t,forceTappableHeader:n,headerPaddingRight:c,headerPreview:u,heading:p,collapseByDefault:m=!0}){let h=(0,o.ml)(),{checkExperiment:g}=(0,r.F)(),{isAuthenticated:_,isBot:y}=(0,s.B)(),f=h&&g(_?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group||"",b=["no_collapse_by_default","collapse_by_default"].includes(f),v="collapse_by_default"===f,[x,k]=(0,i.useState)(b&&!y&&v&&m||[1,2].includes(t));return(0,d.jsxs)(a.kC,{dataTestId:"collapsible-layout",direction:"column",gap:b?4:0,children:[(0,d.jsx)(l.Z,{collapsed:x,displayViewState:t,forceTappableHeader:n,headerPaddingRight:c,headerPreview:u,heading:p,onClick:()=>{k(!x)},showArrow:!0}),!x&&(0,d.jsx)(a.xu,{children:e})]})}},230556:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});let i="300"},249123:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(230556),r=n(696534),s=n(140017),o=n(785893);function d({children:e,maxLines:t=10}){let n=(0,i.useRef)(null),[d,c]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),u=(0,s.ZP)(),p=(0,r.vs)(),m=p?"#111":"#fff",{isFirstLoad:h,isTruncated:g}=d;return(0,i.useEffect)(()=>{var e;h&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&c({isFirstLoad:!1,isTruncated:!0})},[h,g]),(0,o.jsxs)(a.xu,{"data-test-id":"truncated-text",position:"relative",children:[(0,o.jsx)(a.xv,{ref:n,inline:!0,lineClamp:h||g?t:0,children:e}),g&&(0,o.jsx)(a.xu,{bottom:!0,display:"block",position:"absolute",width:"100%",children:(0,o.jsxs)(a.kC,{flex:"grow",children:[(0,o.jsx)(a.xu,{display:"inlineBlock",height:"14px",width:"120px"}),(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:15,background:`linear-gradient(90deg, transparent 0%, ${m} 15%)`}},"data-test-id":"more-button",display:"inlineBlock",children:(0,o.jsx)(a.iP,{fullWidth:!1,onTap:()=>c({...d,isTruncated:!1}),children:(0,o.jsx)(a.xv,{inline:!0,size:l.n,weight:"bold",children:u._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:m}},display:"inlineBlock",flex:"grow"})]})})]})}},772667:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);let l=/#[\p{L}\p{N}_]\S*/gu;function r({isHashtagInDescriptionDisplayEnabled:e,text:t}){return t.split(new RegExp(/(#\S*)/)).map((t,n)=>{let r=`${n}-${t}`;return(e?t.match(l):t.includes("#"))?(0,a.jsx)(i.xv,{color:"link",inline:!0,size:"300",children:(0,a.jsx)(i.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(t.replace("#",""))}`,underline:"none",children:t})},r):(0,a.jsx)("span",{children:t},r)})}},406718:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(340523),a=n(554786),l=n(149722),r=n(785059),s=n(199677);let o=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function d(e){let t=(0,a.HG)(),{checkExperiment:n}=(0,i.F)(),d=(0,r.Z)(),c=(0,l.Z)(),u=(0,s.lJ)(c,d),p=o[t?"dweb":"mweb"],m=n(p.organic).anyEnabled,h=n(p.monetized).anyEnabled,g=n("uid_sce_lightswitch_advertisers").anyEnabled;return!u&&((e&&(n("sce_lightswitch_organic"),n("sce_lightswitch_monetized")),t)?!!(m||h||g):m||h)}},951923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(230556),a=n(650384),l=n(785893);let r=({description:e,userMentionTags:t})=>(0,l.jsx)(a.Z,{description:e,mentionLinkColor:"link",shouldAdjustOffset:!0,shouldMakeHashtagLinksFromText:!0,textSize:i.n,userMentionTags:t})},650384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),l=n(772667),r=n(214877),s=n(340523),o=n(785893);let d=e=>e.replace(/\s+/g," "),c=e=>null!=e&&e>-1,u=(e,t)=>{let n=t.substr(0,e);return(e??0)-(n.length-d(n).length)},p=({color:e,mention:t,tagObjectId:n,tagType:i,textSize:l})=>{let{logContextEvent:s}=(0,r.v)();return(0,o.jsx)(a.rU,{display:"inlineBlock",href:`/${t.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:11915,aux_data:{tag_id:n,tag_type:i}})},underline:"none",children:(0,o.jsx)(a.xv,{color:e,inline:!0,overflow:"normal",size:l,weight:"bold",children:t})},n)},m=({description:e,mentionLinkColor:t,shouldAdjustOffset:n,shouldMakeHashtagLinksFromText:r,textSize:d,userMentionTags:m})=>{let{checkExperiment:h}=(0,s.F)(),g=h("web_hashtags_in_description_display").anyEnabled;if(0===m.length)return(0,o.jsx)(i.Fragment,{children:e});let _=0,y=[],f=[...m].map(t=>n?{...t,offset:u(t.offset??0,e)}:t).sort((e,t)=>(e.offset??0)-(t.offset??0)).filter(e=>c(e.offset)&&c(e.length));return f.forEach(n=>{let i=n.offset??0,a=n.length??0,l=e.substr(_,i-_),r=e.substr(i,a);y.push(l),y.push((0,o.jsx)(p,{color:t,mention:r,tagObjectId:n.objectId,tagType:n.tagType,textSize:d})),_=i+a}),y.push(e.substr(_)),(r?y.flatMap(e=>"string"!=typeof e?e:(0,l.Z)({isHashtagInDescriptionDisplayEnabled:g,text:e})):y).reduce((e,t)=>(0,o.jsxs)(a.xv,{inline:!0,size:d,children:[e,t]}),null)}},554646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(667294),a=n(883119),l=n(69861),r=n(214877),s=n(140017),o=n(906623),d=n(618799),c=n(999624),u=n(937875),p=n(785893);let m=({inMwebPdpCommentsExp:e,onOpen:t,structuredDescription:n,type:l})=>{let r=(0,s.ZP)(),m=(0,o.E)(),h=(0,i.useCallback)(()=>{m&&m.markConstraintComplete("description")},[m]),g=(0,i.useRef)(null),[_,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{var e;(g.current&&((e=g.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)||n.length>1)&&y(!0)},[g,n]);let f="expandable"===l&&n[0].type===u.X.PARAGRAPH,b=f?(0,p.jsx)(a.xv,{ref:g,lineClamp:1,size:"200",children:n[0].content}):null,v=r._('Product Details', 'productDetails.accordionHeader.text', 'text in tap area to open product description accordion panel');return!_&&b?(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(a.xu,{paddingY:1,children:(0,p.jsx)(a.xv,{size:"300",weight:"bold",children:v})}),(0,p.jsx)(a.xu,{marginBottom:1,marginEnd:6,children:b})]}):(0,p.jsx)(d.Z,{arrowDirection:"expandable"===l?"arrow-down":"arrow-forward",content:(0,p.jsx)(a.xu,{paddingY:f?0:1,children:(0,p.jsx)(c.Z,{descriptions:n,onLoad:h})}),header:v,inMwebPdpCommentsExp:e,onOpen:t,previewContent:b,previewContentHeight:f?20:0,shouldToggleOnBodyTap:!0})},h=({isOpen:e,onOpen:t,structuredDescription:n})=>{let[l,r]=(0,i.useState)(!1),d=(0,s.ZP)(),u=(0,i.useRef)(null),m=(0,o.E)(),h=(0,i.useCallback)(()=>{m&&u.current&&m.markConstraintComplete("description")},[m]),g=l&&!e,_=e?d._('See less', 'productDescription.productDescriptionPreview.cta', 'CTA label for collapsing the description'):d._('See more', 'productDescription.productDescriptionPreview.cta', 'CTA label for expanding the description');return(0,i.useLayoutEffect)(()=>{!(!u.current||Number.isNaN(u.current.offsetHeight)||150>Number(u.current.offsetHeight))&&(l||r(!0))},[l,u.current?.offsetHeight]),(0,p.jsxs)(a.xu,{"data-test-id":"product-description-preview",display:u.current?"block":"visuallyHidden",paddingY:1,children:[(0,p.jsx)(a.xv,{size:"300",weight:"bold",children:d._('Product Details', 'productDescription.productDescriptionPreview.header', 'header for the product description')}),(0,p.jsxs)(a.xu,{marginBottom:g?0:2,marginTop:2,position:"relative",children:[(0,p.jsx)(a.xu,{ref:u,height:g?150:"auto",overflow:g?"hidden":"visible",children:(0,p.jsx)(c.Z,{descriptions:n,onLoad:h})}),l&&(0,p.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:g?1:0,position:"absolute",width:"100%"})]}),l&&(0,p.jsx)(a.iP,{onTap:t,children:(0,p.jsx)(a.xv,{size:"200",weight:"bold",children:_})})]})};function g(e){let{commerceData:t,inMwebPdpCommentsExp:n,structuredDescription:a,type:s="accordion",viewParameter:o}=e,{logContextEvent:d}=(0,r.v)(),[c,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{d({event_type:120,component:13597,view_type:3,view_parameter:o,aux_data:{...t}})},[]);let _=()=>{g(!c),d({event_type:101,component:13597,view_type:3,element:c?13278:13277,view_parameter:o,aux_data:{...t}}),d({event_type:101,component:13597,view_type:3,element:10492,view_parameter:o,aux_data:{...t}})};if(0===a.length)return null;let y="expandable"===s&&a[0].type===u.X.PARAGRAPH;return"preview"===s?(0,p.jsx)(h,{...e,isOpen:c,onOpen:_}):(0,p.jsx)(l.Z,{inMwebPdpCommentsExp:n,paddingY:y?3:0,topBorder:!0,children:(0,p.jsx)(m,{...e,onOpen:_})})}},69861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),a=n(213377),l=n(168723),r=n(312244),s=n(785893);function o({children:e,inMwebPdpCommentsExp:t,paddingY:n,topBorder:o,marginEnd:d}){return(0,s.jsxs)(i.xu,{children:[t?(0,s.jsx)(r.Z,{marginStart:a.D6+l.xh}):null,(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderTop:o&&!t?"1px solid #efefef":void 0}},"data-test-id":"product-metadata-border",marginEnd:d,paddingY:n,width:"100%",children:e})]})}},7860:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(883119),a=n(89856),l=n(140017),r=n(785893);function s({colorOverride:e,isSoldOut:t,isStale:n,productDetails:s,showSalesPrice:o,type:d,weight:c="bold"}){let{maxPrice:u,minPrice:p,price:m,standardPrice:h}=s,g=!!m&&!!h&&m!==h,_="100";"pdpPlusHeading"===d?_="400":"heading"===d?_="500":"pdpPlusMobileHeading"===d&&(_="300");let y=(0,l.ZP)(),f=y._('See price on site', 'product.price.stale', 'Product is stale'),b=y._('Sold out', 'product.price.soldOut', 'Product is sold out');return n?(0,r.jsx)(i.xv,{color:"subtle",size:_,weight:"bold",children:f}):(0,r.jsxs)(i.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[t&&(0,r.jsx)(i.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,r.jsx)(i.xv,{color:"subtle",size:_,weight:"bold",children:b})}),(!!m||!!p||!!u)&&(0,r.jsx)(i.xv,{color:e||(g?"shopping":"default"),size:_,weight:c,children:(0,r.jsx)("span",{children:(0,a.Z)({maxPrice:u,minPrice:p,price:m})})}),g&&!o&&(0,r.jsx)(i.xu,{marginStart:1,children:(0,r.jsx)(i.xv,{color:"subtle",size:_,weight:["pdpPlusHeading","pdpPlusMobileHeading"].includes(d)?"normal":c,children:(0,r.jsx)("span",{style:{textDecoration:"line-through"},children:h})})})]})}},98068:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(883119),a=n(612541),l=n(140017),r=n(72461),s=n(339001),o=n(686769),d=n(5859);function c({count:e,rating:t}){return!!(t&&"None"!==t&&Number.isFinite(e))}var u=n(785893);let p=({rating:e,textSize:t,type:n})=>{if("single"===n){let n=parseFloat(e);return Number.isNaN(n)?null:(0,u.jsxs)(i.kC,{alignItems:"center",children:[(0,u.jsx)(o.A,{fill:"full"}),(0,u.jsx)(i.xv,{size:t,children:n.toFixed(1)})]})}return(0,u.jsx)(o.Z,{rating:e})},m=({bracket:e,count:t,countFormat:n,countType:a,marginStart:o,textSize:c,underline:p})=>{let{locale:m}=(0,d.B)(),h=(0,l.ZP)(),g=(0,r.Z)();if(null==t)return null;let _=g(m,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){let e="review"===a?h.ngettext('{{ count }} review', '{{ count }} reviews', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):h.ngettext('{{ count }} rating', '{{ count }} ratings', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');_=(0,s.nk)(e,{count:t}).join("")}return e&&(_=`(${_})`),(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:o,children:(0,u.jsx)(i.xv,{color:p?"subtle":"default",size:c,underline:p,children:(0,u.jsx)(i.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:_})})})};function h({bracket:e,count:t,countFormat:n,countType:a,rating:l,textSize:r,underline:s}){let o=c({count:t,rating:l});return o?(0,u.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(p,{rating:l,textSize:r,type:"multiple"}),(0,u.jsx)(m,{bracket:e,count:t,countFormat:n,countType:a,textSize:r,underline:s})]}):null}let g=({count:e,countFormat:t,ratingValue:n,shippingInfo:l})=>(0,u.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsx)(h,{count:e,countFormat:t,rating:n,textSize:"200"}),(0,u.jsx)(i.xu,{marginTop:c({count:e,rating:n})?1:0,children:(0,u.jsx)(a.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:l?.freeShippingPrice,freeShippingValue:l?.freeShippingValue})})]}),_=({count:e,countType:t,countFormat:n,hideSeparationDot:l,bracket:r,ratingValue:s,shippingInfo:o})=>(0,u.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,u.jsx)(h,{bracket:r,count:e,countFormat:n,countType:t,rating:s,textSize:"300"}),(0,u.jsx)(i.xu,{marginStart:c({count:e,rating:s})&&l?2:0,children:(0,u.jsx)(a.Z,{customStyles:{color:"default",size:"300"},freeShippingPrice:o?.freeShippingPrice,freeShippingValue:o?.freeShippingValue,showPrevDot:c({count:e,rating:s})&&!l})})]});function y(e){return e.isGridView?(0,u.jsx)(g,{...e}):(0,u.jsx)(_,{...e})}},89856:(e,t,n)=>{"use strict";function i({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}n.d(t,{Z:()=>i})},475795:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(883119),a=n(907932),l=n(140017),r=n(973868),s=n(785893);function o({controllerOptions:e,iconColor:t,iconOnly:n,buttonText:o,tabIndex:d=0,stackedCloseupEnabled:c=!1}){let u=(0,l.ZP)(),p=new i.Ry(5);return(0,s.jsx)(r.Z,{...e,children:({handleSendShareFlyoutButtonClick:e})=>(0,s.jsx)(i.u,{inline:!0,text:u._('Share', 'Closeup.SharePin.Icon', 'Icon for sharing the current pin'),zIndex:p,children:(0,s.jsx)(a.Z,{accessibilityLabel:u._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),bgColor:c?"white":void 0,buttonText:o,handleClick:()=>e(),icon:"share",iconColor:t,iconOnly:n,tabIndex:d,testId:"closeup-share-button"})})})}},439917:(e,t,n)=>{"use strict";n.d(t,{N:()=>d,d:()=>o});var i=n(667294),a=n(797781),l=n(342513),r=n(785893);let{Provider:s,useHook:o}=(0,l.Z)("Flag"),d=({children:e})=>{let[t,n]=(0,i.useState)(),[l,o]=(0,i.useState)(a.Zw.REPORT),[d,c]=(0,i.useState)(a.qb.STARTED),[u,p]=(0,i.useState)(),[m,h]=(0,i.useState)(),g=(0,i.useMemo)(()=>({flagReason:m,flow:l,status:d,selectedReason:u,modalTitle:t,setFlagReason:h,setFlow:o,setModalTitle:n,setStatus:c,setSelectedReason:p}),[t,l,d,u,m]);return(0,r.jsx)(s,{value:g,children:e})}},742103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var i=n(667294),a=n(702664),l=n(883119),r=n(216167);async function s({userId:e,blockSource:t,blockContext:n,logContextEvent:i}){let a=r.Z.create("UserBlockResource",{blocked_user_id:e,block_source:t,block_context:n});await a.callCreate(),i({event_type:54,object_id_str:e})}var o=n(439917),d=n(797781),c=n(717203),u=n(140017),p=n(339001),m=n(702497),h=n(785893);let g=m.K_Y+"?source=block_dialogue";function _(e){return e.map(({full_name:e})=>e)}let y=function({users:e,onClose:t,onSubmit:n}){let i=(0,u.ZP)(),a=(0,h.jsx)("strong",{children:(0,c.Z)(_(e),i)},"userlist");return(0,h.jsxs)("form",{method:"post",children:[(0,h.jsxs)(l.xu,{padding:8,children:[(0,h.jsx)(l.xv,{children:(0,p.nk)(i._('If you block {{ users }}, you won\u2019t be able to follow  each other or interact with each other\u2019s Pins.', 'description of blocking users', 'description of blocking users'),{users:a})}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)(l.xv,{children:(0,h.jsx)(l.rU,{display:"inlineBlock",href:g,underline:"hover",children:i._('Learn more', 'link to learn more about blocking', 'link to learn more about blocking')})})]}),(0,h.jsx)(l.xu,{padding:2,children:(0,h.jsxs)(l.kC,{alignItems:"stretch",gap:{row:1,column:0},justifyContent:"end",children:[(0,h.jsx)(l.zx,{fullWidth:!0,onClick:t,text:i._('Cancel', 'UserBlock.Cancel', 'cancel form')}),(0,h.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:()=>{n()},text:i._('Block', 'UserBlock.Submit', 'submit form to block users'),type:"submit"})]})})]})};var f=n(587703),b=n(149722);let v=({deleteAndCloseConversation:e,flagReason:t,flagType:n,onClose:a,selectedReason:r,status:g,users:v,blockContext:x})=>{let k=(0,u.ZP)(),P=(0,f.Z)(),[S,w]=(0,i.useState)({}),{setModalTitle:T,setStatus:I}=(0,o.d)(),A=(0,b.Z)(),{id:E}=A.isAuth?A:{},C=v.filter(({id:e})=>S[e]),j=C.length>0,R=()=>{let e;[d.qb.SUBMITTED,d.qb.PROCESSING].includes(g)?e=k.ngettext('Block this person?', 'Block these people?', C.length, 'BlockAndUnfollow', 'Confirmation text when blocking users (plural)'):n===d.Vm.CONVERSATION&&(e=g===d.qb.COMPLETED?(0,p.nk)(k._('You\u2019ve blocked {{usernames}}', 'BlockAndUnfollow', 'title of modal after user has been blocked'),{usernames:(0,c.Z)(_(C),k).join("")}).join(""):k._('Thanks for your report', 'BlockAndUnfollow', 'title at end of report flow')),T(e)};(0,i.useEffect)(()=>{R()},[g]),(0,i.useEffect)(()=>{I(j?d.qb.SELECTED:d.qb.STARTED)},[S]);let L=v.filter(({id:e})=>e!==E),F=[d.qb.STARTED,d.qb.COMPLETED].includes(g);return(0,h.jsx)("form",{method:"post",children:[d.qb.SUBMITTED,d.qb.PROCESSING].includes(g)?(0,h.jsx)(y,{onClose:()=>{I(d.qb.SELECTED)},onSubmit:()=>(I(d.qb.PROCESSING),Promise.all(Object.keys(S).filter(e=>S[e]).map(e=>s({userId:e,blockSource:"message_report",blockContext:x,logContextEvent:P}))).finally(()=>{I(d.qb.COMPLETED)})),users:C}):(0,h.jsxs)(l.xu,{padding:8,children:[(0,h.jsx)(l.xu,{children:g!==d.qb.COMPLETED?(()=>{let e;"harassingOther"===r?e=(0,p.nk)(k._('We remove content that identifies and attacks private people because we consider it to be bullying. We also don\u2019t allow content that reveal someone\u2019s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.', 'confirmation message after reporting harassment', 'confirmation message after reporting harassment'),{communityGuidelines:(0,h.jsx)(l.rU,{display:"inlineBlock",href:m.MsG,underline:"hover",children:k._('Community Guidelines', 'link to community guidelines for harassment', 'link to community guidelines for harassment')},"policyLink")}):"harassingPublicFigure"===r?e=k._('Please note that we won\u2019t necessarily take down stuff that attacks public figures.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):"harassingFriend"===r?e=k._('Before we can review this Pin, we need to hear from the person who\u2019s being harassed. Please have your friend report this Pin to us.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):["spam","policies","hurtfulContent"].includes(t)&&(e=k._('We\u2019ll take a look at this Pin and delete it if it goes against our policies.', 'confirmation message after reporting a pin', 'confirmation message after reporting a pin'));let n=k.ngettext('You can also block this person.', 'You can also block these people.', L.length, 'description to block people', 'description to block people');return(0,h.jsxs)(i.Fragment,{children:[e&&(0,h.jsx)(l.xu,{marginBottom:8,children:(0,h.jsx)(l.xv,{children:e})}),(0,h.jsx)(l.xu,{marginBottom:8,children:(0,h.jsx)(l.xv,{children:n})}),(0,h.jsx)(l.xu,{marginBottom:8,children:L.map(({id:e,full_name:t})=>(0,h.jsx)(l.XZ,{checked:!!S[e],helperText:k._('You won\u2019t be able to send each other messages or interact with each other\u2019s Pins.', 'BlockAndUnfollow', 'explanation of blocking a user'),id:"blockPinner"+e,label:(0,p.nk)(k._('Block {{ pinnerName }}', 'BlockAndUnfollow', 'form option to block a pinner'),{pinnerName:t}).join(""),onChange:({checked:t})=>{w({...S,[e]:t})}},e))})]})})():j&&(0,h.jsx)(l.xu,{marginBottom:8,children:(0,h.jsx)(l.xv,{children:k._('You won\u2019t be able to follow each other or interact with each other\u2019s pins.', 'BlockAndUnfollow', 'message describing what blocking means')},"blockingConfirmation")})}),(0,h.jsxs)(l.xu,{children:[g!==d.qb.COMPLETED&&(0,h.jsx)(l.xu,{marginBottom:8,children:(0,h.jsx)(l.xv,{size:"100",children:(0,p.nk)(k._('Learn more about {{ linkToTopic }}', 'BlockAndUnfollow', 'footer link to learn more about a topic'),{linkToTopic:(0,h.jsx)(l.rU,{display:"inlineBlock",href:m.K_Y,underline:"hover",children:k._('blocking', 'BlockAndUnfollow', 'footer link to learn more about blocking')},"policyLink")})})}),(0,h.jsx)(l.xu,{children:(0,h.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:F?()=>{a(),g===d.qb.COMPLETED&&e?.()}:()=>{w(S),I(d.qb.SUBMITTED)},text:F?k._('Done', 'Block.Complete', 'confirm reporting flow is done & close modal'):k._('Block', 'BlockAndUnfollow', 'submit users to block')})})]})]})})};function x({flagOptions:e,flow:t,handleClose:n,handleNext:i,selectedReason:a,showPrimaryAction:r,submitButton:s}){let o=(0,u.ZP)();if(t===d.Zw.REPORT){if(d.qb.PROCESSING===status||e.getFlagOption(a)?.isTerminalReason)return s;if(r)return(0,h.jsx)(l.zx,{color:"red",disabled:void 0===a,fullWidth:!0,onClick:i,text:o._('Next', 'go to the next view in the report flow', 'go to the next view in the report flow')})}else if(t===d.Zw.END)return(0,h.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:n,text:o._('Got it', 'confirm reporting flow is done & close modal', 'confirm reporting flow is done & close modal')});return null}function k({flow:e,flagReason:t}){let n=(0,u.ZP)();if(e===d.Zw.REPORT){if("attacks"===t)return(0,h.jsx)(l.xv,{size:"100",children:(0,p.nk)(n._('Learn more about our {{ linkToTopic }}', 'footer link to learn more about community guidelines', 'footer link to learn more about community guidelines'),{linkToTopic:(0,h.jsx)(l.rU,{href:m.MsG,target:"blank",children:(0,h.jsx)(l.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:n._('Community Guidelines', 'name of footer link to community guidelines', 'name of footer link to community guidelines')})},"policyLink")})});if("policies"===t)return(0,h.jsxs)("p",{children:[(0,h.jsx)(l.xv,{size:"100",children:(0,p.nk)(n._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,h.jsx)(l.rU,{href:m.MsG+"#sub-section-adult-content",target:"blank",children:(0,h.jsx)(l.xv,{color:"error",inline:!0,size:"100",children:n._('our nudity policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,h.jsx)(l.xv,{size:"100",children:(0,p.nk)(n._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,h.jsx)(l.rU,{href:m.MsG+"#sub-section-dangerous-goods-and-activities",target:"blank",children:(0,h.jsx)(l.xv,{color:"error",inline:!0,size:"100",children:n._('our policies on hurtful content', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,h.jsx)(l.xv,{size:"100",children:(0,p.nk)(n._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,h.jsx)(l.rU,{href:m.MsG+"#sub-section-violence",target:"blank",children:(0,h.jsx)(l.xv,{color:"error",inline:!0,size:"100",children:n._('our policies on gore', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,h.jsx)(l.xv,{size:"100",children:(0,p.nk)(n._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,h.jsx)(l.rU,{href:m.MsG,target:"blank",children:(0,h.jsx)(l.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:"spam"===t?n._('our spam policies', 'name of footer link to policy', 'name of footer link to policy'):n._('our policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})}return null}function P({arrayOfData:e,handleSelectReason:t,selectedReason:n}){let i=(0,u.ZP)();return(0,h.jsx)(l.xu,{padding:2,children:(0,h.jsx)(l.FX,{id:"flag-option-radio-group",legend:i._('Flag legends', 'flag_legend', 'Flag legends'),legendDisplay:"hidden",children:e.map((e,i)=>{let{condition:a}=e;return void 0===a||a?function(e,t,n,i){let{text:a,value:r,category:s}=e;return(0,h.jsx)(l.xu,{paddingY:2,children:(0,h.jsx)(l.FX.RadioButton,{checked:n===r,id:r,label:a,name:"flagReason",onChange:({checked:e})=>t(e,r,s),value:r})},i)}(e,t,n,i):null})})})}class S{constructor(e){this.config=e,this.configMap=function(e){let t={};for(let n in e){let i=e[n];i.forEach(e=>{let{value:i}=e;if(Object.prototype.hasOwnProperty.call(t,i))throw Error("Duplicate key in FlagOptions config: "+i);t[i]={...e,parentOption:n}})}return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){let{flagReason:t,onSelectReason:n,selectedReason:i}=e;return(0,h.jsx)(P,{arrayOfData:this.config[t],handleSelectReason:n,selectedReason:i})}}var w=n(930837);function T(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends i.Component{constructor(...e){super(...e),T(this,"flagOptions",new S(this.props.flagOptionsConfig)),T(this,"renderContent",()=>{let{content:e,flow:t,onSelectReason:n,selectedReason:i}=this.props;return e||(t===d.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:n,selectedReason:i}):t===d.Zw.END?(0,h.jsx)(l.xv,{children:this.props.i18n._('We\u2019ll use your feedback to make your Pinterest experience better.', 'final message in reporting flow', 'final message in reporting flow')}):void 0)})}componentDidUpdate(e){let{flow:t,onCompletedReport:n,onCompletedBlock:i}=e;if(this.props.flow!==t)switch(t){case d.Zw.REPORT:n&&n();break;case d.Zw.BLOCK:i&&i()}}render(){let{accessibilityModalLabel:e,deleteAndCloseConversation:t,flagType:n,flow:i,status:a,modalTitle:r,onClose:s,selectedReason:o,submitButton:c,flagReason:u,showPrimaryAction:p,users:m,blockContext:g}=this.props;return(0,h.jsx)(w.ZP,{accessibilityModalLabel:e,footer:i!==d.Zw.BLOCK?(0,h.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(l.xu,{flex:"grow",children:(0,h.jsx)(k,{flagReason:u,flow:i})}),(0,h.jsx)(l.xu,{padding:1,children:i===d.Zw.REPORT?(0,h.jsx)(l.zx,{fullWidth:!0,onClick:void 0===u?this.props.onClose:()=>{this.props.onRevert?.()},text:void 0===u?this.props.i18n._('Cancel', 'cancel form', 'cancel form'):this.props.i18n._('Back', 'previous step in a form', 'previous step in a form')}):null}),(0,h.jsx)(l.xu,{padding:1,children:(0,h.jsx)(x,{flagOptions:this.flagOptions,flow:i,handleClose:this.props.onClose,handleNext:()=>{this.props.onNext?.()},selectedReason:o,showPrimaryAction:!!p,submitButton:c})})]}):void 0,heading:r,onDismiss:s,size:"md",children:(0,h.jsx)(l.xu,{children:i===d.Zw.BLOCK?(0,h.jsx)(v,{blockContext:g,deleteAndCloseConversation:t,flagReason:u,flagType:n,onClose:s,selectedReason:o,status:a,users:m}):this.renderContent()})})}}function A(e){let t=(0,u.ZP)();return(0,h.jsx)(I,{...e,i18n:t})}var E=n(88682),C=n(930822);let j="policies";function R({aggregatedPinDataId:e,didItDataId:t,onClose:n,pinId:r,username:s,users:c}){let p=(0,u.ZP)(),[g,_]=(0,i.useState)([]),[y,f]=(0,i.useState)(),[b,v]=(0,i.useState)(),x=(0,a.useDispatch)(),k=(e,t,n,i,a)=>x((0,C.Th)(e,t,n,i,a)),{flow:P,modalTitle:S,selectedReason:w,setFlow:T,setModalTitle:I,setSelectedReason:R,setStatus:L,status:F}=(0,o.d)(),D=()=>{if(P===d.Zw.REPORT)switch(b){case"attacks":return p._('What\'s going on?', 'title for report content flow', 'title for report content flow');case j:return p._('What\'s wrong with this Try?', 'title for report content flow', 'title for report content flow');case"IP":return p._('Intellectual Property', 'title for report content flow for IP complaints', 'title for report content flow for IP complaints');default:return p._('What\'s wrong with this Try?', 'title for the report content flow', 'title for the report content flow')}else if(P===d.Zw.END&&g.includes("notUseful"))return p._('Thanks for letting us know!', 'title at end of report flow when content is not useful', 'title at end of report flow when content is not useful');return""};(0,i.useEffect)(()=>{I(D())},[g,P,b]);let O=(0,h.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:()=>{if(L(d.qb.PROCESSING),"ignoreThisPin"===w)T(d.Zw.BLOCK),L(d.qb.STARTED);else{let n=[...g,w];_(n),k(e,n,t,y,s),g.includes("notUseful")?T(d.Zw.END):T(d.Zw.BLOCK),L(d.qb.STARTED)}},text:p._('Report content', 'button to report content', 'button to report content')});return(0,h.jsx)(A,{accessibilityModalLabel:p._('Report conversation', 'Pin.DidIt.Report', 'Accessibility label for report pin did it'),blockContext:e??"",content:"IP"===b?(0,h.jsx)(l.xu,{justifyContent:"center",mdDisplay:"flex",children:(0,h.jsxs)(l.xu,{mdColumn:9,children:[(0,h.jsx)(l.xu,{marginStart:2,padding:2,children:(0,h.jsx)(l.xv,{align:"center",color:"default",weight:"bold",children:p._('If you\u2019ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.', 'explanation of IP complaint process', 'explanation of IP complaint process')})}),(0,h.jsx)(l.xu,{padding:2,children:(0,h.jsx)(l.ZP,{color:"red",href:(0,E.Z)(m.GEi,{pin_id:r,user_did_it_id:t}),target:"blank",text:p._('File a report', 'link to DMCA form', 'link to DMCA form')})})]})}):null,flagOptionsConfig:{__default:[{text:p._('It isn\'t useful or relevant', 'tried-it reporting flow', 'tried-it reporting flow'),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:p._('It shouldn\'t be on Pinterest', 'tried-it reporting flow', 'tried-it reporting flow'),value:j,isTerminalReason:!1},{text:p._('It\'s spam', 'tried-it reporting flow', 'tried-it reporting flow'),value:"spam",isTerminalReason:!0,category:"spam"},{text:p._('It\'s my intellectual property', 'tried-it reporting flow', 'tried-it reporting flow'),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:p._('It\'s sexually explicit', 'tried-it reporting flow', 'tried-it reporting flow'),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:p._('It\'s self-harm', 'an option on tried-it reporting flow', 'an option on tried-it reporting flow'),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:p._('It\'s hate speech', 'tried-it reporting flow', 'tried-it reporting flow'),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:p._('It\'s harassment or bullying', 'tried-it reporting flow', 'tried-it reporting flow'),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:p._('It\'s graphic violence', 'tried-it reporting flow', 'tried-it reporting flow'),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:p._('It\'s a photo of me or my child', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:p._('It identifies and attacks me or someone I know', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:p._('Something else', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]},flagReason:b,flagType:d.Vm.DID_IT,flow:P,modalTitle:S,onClose:n(!0),onNext:()=>{v(w),_([...g,w]),R()},onRevert:()=>{let e=g[g.length-1],t=g.slice(0,-1);R(e),v(t[t.length-1]),_(t),f(),L(void 0===e?d.qb.STARTED:d.qb.SELECTED)},onSelectReason:(e,t,n)=>{e&&(R(t),L(d.qb.SELECTED),f(n))},selectedReason:w,showPrimaryAction:"IP"!==b,status:F,submitButton:O,users:c})}},797781:(e,t,n)=>{"use strict";n.d(t,{Vm:()=>l,Zw:()=>i,qb:()=>a});let i={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},a={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},l={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},12163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var i=n(667294),a=n(883119),l=n(475795),r=n(214877),s=n(515278),o=n(140017),d=n(953565),c=n(785893);function u(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p={overlay:{__style:{backgroundColor:"#000"}}};class m extends i.PureComponent{constructor(...e){super(...e),u(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.props.onRestartVideo?.({event:e}),(0,d.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"restart",variant:"enabled_send_first"}})}),u(this,"handleShareVideo",()=>{let{onToggleFlyout:e,isFlyoutOpen:t,pinId:n,requireAuth:i,logContextEvent:a}=this.props;if(t&&(0,d.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}}),a({event_type:101,component:179,object_id_str:n,view_type:3,view_parameter:156,element:11731}),i){i();return}e&&e()}),u(this,"handleExternalSend",()=>{(0,d.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}})}),u(this,"renderReplayButton",()=>(0,c.jsx)(a.iP,{accessibilityLabel:this.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),onTap:this.handleRestartVideo,rounding:2,children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(a.xu,{marginEnd:3,children:(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"inverse",icon:"refresh",size:18})}),(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._('Watch again', 'Clickable label when pressed restarts the video', 'Clickable label when pressed restarts the video')})]})})),u(this,"renderShareButton",()=>{let{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:r}=this.props;return(0,c.jsx)(a.iP,{accessibilityLabel:this.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished'),onTap:this.handleShareVideo,rounding:2,children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:[(0,c.jsx)(l.default,{controllerOptions:{flyoutDisplayOptions:{shownWithinMasonry:!0},loggingOptions:{component:179,element:72,onExternalSend:this.handleExternalSend,viewType:3},isFlyoutOpen:n,onFlyoutDismiss:i,onToggleFlyout:()=>{},sendObject:{type:"pin",description:e,id:r,imageUrl:t,url:`/pin/${r}/`}},iconColor:"white",iconOnly:!0,tabIndex:-1}),(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished')})})]})})})}componentDidMount(){let{pinId:e,logContextEvent:t}=this.props;(0,d.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"land",variant:"enabled_send_first"}}),t({event_type:13,component:179,object_id_str:e,view_type:3,view_parameter:156,element:11731})}render(){let{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return(0,c.jsx)(a.xu,{children:(0,c.jsxs)(a.Ee,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:p.overlay,left:!0,position:"absolute",right:!0,top:!0}),(0,c.jsx)(a.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,c.jsxs)(a.xu,{position:"absolute",children:[(0,c.jsx)(a.xu,{children:this.renderShareButton()}),(0,c.jsx)(a.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function h(e){let{logContextEvent:t}=(0,r.v)(),n=(0,o.ZP)(),i=(0,s.Z)();return(0,c.jsx)(m,{...e,i18n:n,logContextEvent:t,requireAuth:i})}let g=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:l})=>{let r=(0,o.ZP)();return(0,c.jsx)(a.xu,{children:(0,c.jsxs)(a.Ee,{alt:l||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:p.overlay,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.iP,{onTap:i,rounding:2,children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(a.hU,{accessibilityLabel:r._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video'),icon:"refresh",iconColor:"white",size:"md"}),(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:r._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video')})]})})})})]})})};var _=n(86785),y=n(340523),f=n(551587),b=n(906623),v=n(570529),x=n(970126),k=n(5859),P=n(910711),S=n(983435),w=n(749886),T=n(214164),I=n(623891),A=n(554786),E=n(115557),C=n(239821),j=n(667665),R=n(181056),L=n(628189);function F(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let D=e=>!!e&&e.endsWith(".gif"),O=(e,t)=>{t({currentTime:e?.currentTime??0,duration:e?.duration??1})};class z extends i.Component{constructor(...e){super(...e),F(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,_.G6)(this.props.requestContext.userAgent.browserName)&&!!this.props.autoplay&&!this.props.disabled,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted||this.props.shouldMute?0:1,videoStartTime:this.props.videoStartTime||0}),F(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!x.Z)return;let{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:x.Z.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(j._z),i.addSubspan("perceived_video_load",null,x.Z.now()),"story_pin"===i.getMetricId().segment&&i.removeConstraint(j.pM))}),F(this,"componentDidMount",()=>{let{customThumbnail:e,video:t,preferMp4:n}=this.props,{mp4:i}=t,a=t.hlsv3||t.hls||null,{thumbnail:l}=n&&i||a||{},r=(0,R.j4)(e||l);r?.ready===4&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),F(this,"componentDidUpdate",(e,t)=>{this.props.videoStartTime&&this.props.videoStartTime!==e.videoStartTime&&this.setState({videoStartTime:this.props.videoStartTime}),!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay()}),F(this,"handleTouch",()=>{let{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState(e=>({playing:!e.playing}))}),F(this,"handleShowControls",()=>this.setState({controls:!0})),F(this,"handleHideControls",()=>this.setState({controls:!1})),F(this,"handleReady",()=>{let{ready:e,playing:t}=this.state,{autoplay:n,disabled:i}=this.props;n&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0}),(0,_.G6)(this.props.requestContext.userAgent.browserName)&&!t&&n&&!i&&this.setState({playing:!0})}),F(this,"handleEnded",({event:e})=>{let{customThumbnail:t,customEndCard:n,pinId:i,setCurrentVideo:a,loop:l,onEnded:r}=this.props;e.stopPropagation(),!l&&(this.setState({playing:!1}),D(t)||n||(this.setState({showEndCard:!0,videoStartTime:0}),a({pinId:i,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),r&&r()}),F(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),F(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),F(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),F(this,"handlePlayheadDown",()=>{this.setState({seeking:!0})}),F(this,"handlePlayheadUp",()=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),F(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),F(this,"handleShareRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),F(this,"handleVolumeChange",({event:e,volume:t})=>{let{shouldMute:n}=this.props;e.stopPropagation(),n||this.setState({volume:t})}),F(this,"exitFullscreen",()=>{let{document:e}=window;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),F(this,"requestFullscreen",()=>{let{customThumbnail:e,video:t,preferMp4:n}=this.props,{mp4:i}=t,a=t.hlsv3||t.hls||null,{thumbnail:l}=n&&i||a||{},r=(0,R.j4)(e||l);r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}),F(this,"renderCloseupVideoEndCard",(e,t,n,i)=>{let a={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},l={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:r}=this.props,s={gridDescription:r?r.gridDescription:"",imageSrc:r?r.imageSrc:"",isFlyoutOpen:!!r&&r.isFlyoutOpen,onFlyoutDismiss:r?r.onFlyoutDismiss:()=>{},onToggleFlyout:r?r.onToggleFlyout:()=>{},pinId:r?r.pinId:""};return i?(0,c.jsx)(g,{...l}):(0,c.jsx)(h,{...s,...a})})}render(){let e;let{autoplay:t,closeupStoryPinViewability:n,contextLogData:i={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:l,isPromoted:r,loop:s,objectFit:o,preferMp4:d,preload:u,requestContext:p,roundingOverride:m,showControls:h,variant:g,video:y,captions:b,isDesktop:v,videoThumbnailStartTime:x,pinId:k,setProgressInfo:T,progressInfo:I,setPanelOpen:A,panelOpen:C,setMute:j,isMuted:F,captionsExpGroup:D,onTimeChange:z}=this.props;i.is_closeup_video=!0;let{controls:M,fullscreen:N,playing:Z,showEndCard:B,volume:U,videoStartTime:K}=this.state,V=y.hlsv3||y.hls||null;if(!V&&!y.mp4)return null;let{mp4:H}=y,G=d&&H&&H.url||V&&[{type:"video/m3u8",src:V.url}]||void 0,{height:$,thumbnail:W,width:q}=d&&H||V||{},Y=l||W;return e=null!=m?m:"default"===g?0:"storyPin"===g?w.yR:2,(0,c.jsxs)(a.zd,{rounding:e,wash:!0,willChangeTransform:!((0,_.G6)(p.userAgent.browserName)&&N),children:[B?this.renderCloseupVideoEndCard(Y??"",$??1,q??1,r):(0,c.jsxs)(a.iP,{accessibilityLabel:this.props.i18n._('Pause or play video', 'pin.closeup.video.tap', 'tap area to pause or play video'),onMouseEnter:"hover"===h?this.handleShowControls:void 0,onMouseLeave:"hover"===h?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:[D&&(0,f.Z)(D)&&(0,c.jsx)(P.Z,{playing:Z,zIndexValue:99}),(0,c.jsx)(L.ZP,{aspectRatio:(q??1)/($??1),captions:b&&(0,f.Z)(D||"")||"storyPin"===g?b:"",closeupStoryPinViewability:n,contextLogData:{...i,video_id:this.props.video.id},controls:!(D&&(0,f.Z)(D))&&M,hlsConfig:{startLevel:R.VS},isAutoPlay:!!t,loop:s,objectFit:o,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:"storyPin"===g?z:({time:e})=>{if(O&&"number"==typeof H?.duration&&H.duration>0&&T){let t=H.duration/E.gJ;O({currentTime:e,duration:t},T)}},onVolumeChange:this.handleVolumeChange,playing:Z,poster:Y,preferMp4:d,preload:u,src:G,videoStartTime:K||x,volume:U})]}),(0,c.jsx)(a.xu,{onMouseEnter:"hover"===h?this.handleShowControls:void 0,onMouseLeave:"hover"===h?this.handleHideControls:void 0,children:"storyPin"!==g&&D&&(0,f.Z)(D)&&(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...R.Ul,flexDirection:"column-reverse"}},display:"flex",height:R.hy,paddingX:6,position:"absolute",width:"calc(100% - 4px)",zIndex:w.Gf,children:(0,c.jsx)(S.Z,{activePageIndex:0,captionsExpGroup:D,captionsUrl:b,handleMute:()=>{this.setState({volume:F?1:0}),j(!F)},handlePanelChange:()=>{A&&A(!C),C&&v&&this.requestFullscreen()},handlePause:()=>{this.setState({playing:!0})},handlePausePlay:()=>{this.setState({playing:!Z})},handlePlay:()=>{this.setState({playing:!0})},handleWatchAgain:this.handleRestartVideo,isMuted:F,isPanelOpen:C,isPlaying:Z,isStoryPin:!1,pageCount:1,pages:[],pinId:k,progressInfo:I,showEndCard:B,showVideoControls:M,viewParameter:156})})})]})}}function M(e){let t=(0,o.ZP)(),n=(0,k.B)(),{isAuthenticated:a}=n,l=(0,v.g)(),r=(0,b.E)(),{seekTime:s}=(0,T.Hx)(),{pinId:d,isPromoted:u,video:p,muted:m,variant:h}=e,{appUI:g,setCurrentVideo:_}=(0,C.I)(),{videosAutoplaying:f}=g,{organicVideosAutoplaying:x,promotedVideosAutoplaying:P}=f,S=n.locale.toLowerCase(),w=(p.mp4?.captions_urls||p.hlsv3?.captions_urls)??{},E=S&&w[S]||Object.values(w)[0]||"",{checkExperiment:j}=(0,y.F)(),R=(0,A.HG)(),L="storyPin"!==h&&E&&R&&a?j("auth_desktop_video_pin_captions").group:"",F=u?P[d]:x[d],D=(0,I.Z)(),O=parseInt(D.t||0,10),[M,N]=(0,i.useState)(F?.currentTime||0),[Z,B]=(0,i.useState)(null),[U,K]=(0,i.useState)(!0),[V,H]=(0,i.useState)(m);return(0,i.useEffect)(()=>{let e=M;O>0&&(e=O),s&&(e=s),N(e)},[s,O,M]),(0,c.jsx)(z,{...e,captions:String(E)||"",captionsExpGroup:L,i18n:t,isDesktop:R,isMuted:V,isPlaying:!F||!F.paused,panelOpen:U,progressInfo:Z,pwtSurfaceContext:r,requestContext:n,setCurrentVideo:_,setMute:H,setPanelOpen:K,setProgressInfo:B,storyPinStepStopwatch:l,videoStartTime:M})}F(z,"defaultProps",{loop:!1,showControls:"hover"})},22724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),l=n(785893);function r({color:e="red",duration:t,finalProgress:n,shape:r="pill"}){let[s,o]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=setTimeout(()=>{o(!0)},0);return()=>{clearTimeout(e)}},[]);let d="pill"===r;return(0,l.jsx)(a.xu,{color:e,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}},height:d?8:6,rounding:d?"pill":2,width:`${n}%`})}},924081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(930837),r=n(140017),s=n(339001),o=n(785893);let d=({cancelBlockCallback:e,onBlock:t,onBlockCallback:n,openModalCallback:d,size:c,user:u})=>{let p=(0,r.ZP)(),[m,h]=(0,i.useState)(!1),g=()=>{h(!1)},{username:_,full_name:y,blocked_by_me:f}=u??{};return(0,o.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:!f&&(0,o.jsxs)(a.xu,{"data-test-id":"block-button-container",children:[(0,o.jsx)(a.iP,{onTap:()=>{h(!0),d?.()},children:(0,o.jsx)(a.X6,{size:c||"400",children:p._('Block', 'BlockButton.Heading.Block', 'Blocking an user means you won\'t be able to follow each other or interact with each other\'s Pins')})}),(0,o.jsxs)(l.ZP,{accessibilityModalLabel:"",isOpen:m,mobileHideCloseIcon:!0,onDismiss:g,type:"block_button",children:[(0,o.jsx)(a.xu,{paddingX:3,paddingY:5,children:(0,o.jsx)(a.X6,{accessibilityLevel:1,size:"500",children:(0,s.nk)(p._('Block {{ full_name }}?', 'BlockButton.FullName.Block', 'full_name: user full name to block'),{full_name:y})})}),(0,o.jsx)(a.xu,{marginBottom:3,marginEnd:2,marginStart:2,children:(0,o.jsx)(a.xv,{children:(0,s.nk)(p._(`If you block {{full_name}} ({{username}}),
                          you wont be able to follow each other
                          or interact with each others Pins.`, 'BlockButton.Description.Block', 'full_name:user full name to block, username: username to block, Warning about blocking a user'),{full_name:y,username:_})})}),(0,o.jsx)(a.xu,{marginBottom:2,marginEnd:2,marginStart:2,children:(0,o.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:()=>{if(u){let{id:e,first_name:n=""}=u;t?.(e,n,p)}g(),n?.()},text:p._('Block', 'BlockButton.Action.Block', 'Action to block user')})}),(0,o.jsx)(a.xu,{marginEnd:2,marginStart:2,children:(0,o.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:()=>{g(),e?.()},text:p._('Cancel', 'BlockButton.Action.Cancel', 'Action to cancel blocking a user')})})]})]})})}},481177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},406893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l}),n(441143);var i=n(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function l(e){let{css:t,unsafeCSS:n,...l}=e,r=String(t||"")||n||"",s=!!r;return s?(0,i.jsx)("style",{...l,dangerouslySetInnerHTML:{__html:String(a.factory(r))}}):null}},610954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),a=n(140017),l=n(785893);function r({accessibilityLabel:e,fixedPosition:t,rounding:n}){let r=(0,a.ZP)();return(0,l.jsxs)(i.xu,{children:[(0,l.jsx)(i.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new i.Ry(101),children:(0,l.jsx)(i.$j,{accessibilityLabel:e||r._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,l.jsx)(i.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:t?"fixed":"absolute",right:!0,rounding:n,top:!0,zIndex:new i.Ry(100)})]})}},485756:(e,t,n)=>{"use strict";n.d(t,{xR:()=>g,ZP:()=>y,vR:()=>h});var i=n(658583),a=n(622541),l=n(373314),r=n(217058),s=n(353453),o=n(953565);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},c=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],u=/www\.pinterest\.[A-Za-z]{2}/,p=/[A-Za-z]{2}\.pinterest\.com/,m=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},h=e=>{let{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case s.RL:return"iphone";case s.GW:return t.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}};function g(e){let t=c.indexOf(e)>-1||u.test(e)||p.test(e);if(t)return e;for(let t in d)if(Object.prototype.hasOwnProperty.call(d,t)&&e.indexOf(t)>-1)return d[t];return"other"}let _=({moduleName:e,pageType:t,requestContext:n})=>{let s;let d=h(n),c=n.isAuthenticated?"auth":"unauth",u=m(),p=(0,l.Z)(),_=(s=!1,i.U2(a.VL)||(i.t8(a.VL,"1",(0,i.kZ)(a.VL)),s=!0),s),y=document.domain||"unknown";_&&((0,r.My)(`traffic.${d}.${p}.${e}.${c}`),(0,r.My)(`traffic_subdomain.${y}.${p}.${e}.${c}`),(0,r.My)(`traffic_subdomain.${y}.${d}.${p}.${e}.${c}`),(0,r.My)(`traffic_subdomain.${y}.${d}.${c}`),(0,r.My)(`traffic_duplo.${d}.${p}.${e}.${c}`),u&&(0,r.My)(`traffic_bot.${u}.${e}`));let f={domain:g(y),referrer:p??"unknown",platform:d??"unknown",browser:n.userAgent.browserName??"unknown",bot_type:u??"none",page_type:t??"unknown",is_auth:c??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:_??"unknown"};(0,o.nP)("webapp.traffic",{sampleRate:.1,tags:f}),("google"===p||"other"===p)&&(0,o.nP)(`webapp.traffic.${d}.${p}`,{sampleRate:.1,tags:f})};function y({pageType:e,requestContext:t,route:n}){_({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[n]||"other",pageType:e,requestContext:t})}},343902:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,Z:()=>l});var i=n(883119),a=n(785893);function l({children:e,fullWidth:t}){return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function r({children:e,enabled:t}){return t?(0,a.jsx)(l,{children:e}):e}},93810:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i,a,l=n(167912),r=n(216167),s=n(144556),o=n(107366),d=n(948381),c=n(885896),u=n(88682),p=n(623891);let m={open(e){let t=m._validParams.reduce((t,n)=>(e&&Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]),t),{}),n=m._getDialogType(e),i=m.generateFbRef(e.unauthId??""),a=e.object_type&&e.object_id&&"feed"===n,l=(0,c.Z)(e.path),r=(0,p.Z)();if(r.ptrf&&(l=(0,u.Z)(l,{ptrf:r.ptrf})),a&&(l=(0,u.Z)(l,{fb_ref:i})),t.method=n,"feed"===t.method){let n=(0,s.Z)({width:e.width,height:e.height}),i="http://www.facebook.com/sharer/sharer.php?u="+l;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=l:"share"===t.method&&(t.href=l),(0,d.default)(n=>{n.getLoginStatus(()=>{if("send"===t.method){let i;n.ui(t);let a=10,l=setInterval(()=>{((i=function(){if(!document)return;let e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe")).reduce((e,t)=>t instanceof HTMLIFrameElement?e.concat([t]):e,[]);if(e.length)return e.slice(0,e.length-1).forEach(e=>e.parentNode?.removeChild(e)),e[e.length-1]}())||!a)&&(clearInterval(l),i&&m.executeMessengerCallback(i,e.callback)),a-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{a&&t&&!t.error_message&&(0,o.Z)({url:`/v3/log/facebook/feed_share/${e.object_type||""}/${e.object_id||""}/${i}`,method:"PUT",data:{showError:!1}}),e.callback&&e.callback(t)})})},e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10,i=setInterval(()=>{let{width:t}=e.style;"0px"!==t&&n||(clearInterval(i),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(e){let t="";for(;t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType(e){let t=m._validOptions.includes(e.type),n=t?e.type:"feed";return n}},h=function(e,t){let n=window.screen.width,i=window.screen.height,a=Math.round((n-e)/2),l=i>t?Math.round((i-t)/2):0;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+a+",top="+l};function g(e,t,n){let i=h(t,n);window.open(e,void 0,i)}let _={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){let t=_._getWindowUrl(e.share_path,e.share_text);g(t,_.DIALOG_WIDTH,_.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,u.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,c.Z)(e):void 0,text:t})},y={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){let t=y._getWindowUrl(e.tweet_path,e.tweet_text);g(t,y.DIALOG_WIDTH,y.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,u.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,c.Z)(e):void 0,text:t||void 0})},f=void 0!==i?i:i=n(545345),b=void 0!==a?a:a=n(736732),v=()=>{let e=(0,l.useRelayEnvironment)();return async(t,n)=>await new Promise((i,a)=>(0,l.fetchQuery)(e,b,{invite_category:n.toString(),url:t}).subscribe({next:e=>i({invite_code:e.v3CreateShareLinkQuery?.data?.inviteCode??"",invite_url:e.v3CreateShareLinkQuery?.data?.inviteUrl??"",title:e.v3CreateShareLinkQuery?.data?.title??""}),error:e=>a(e)}))},x=()=>{let e=(0,l.useRelayEnvironment)();return async(t,n,i,a)=>{let r={invite_category:t,invite_object:n,invite_channel:i};return await new Promise((t,n)=>(0,l.fetchQuery)(e,f,{inviteType:JSON.stringify(r),objectId:a}).subscribe({next:e=>t({invite_code:e.v3InviteUserExternalQuery?.data?.inviteCode??"",invite_url:e.v3InviteUserExternalQuery?.data?.inviteUrl??"",title:e.v3InviteUserExternalQuery?.data?.title??""}),error:e=>n(e)}))}};function k(){let e={pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},t=v(),n=x();function i(t,n){let i=e[t.object_type]||0,a=t.invite_channel,l=null==t.invite_category?3:t.invite_category,s=t.object_id,o=r.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:l,invite_object:i,invite_channel:a},invite_code:n,object_id:s,client_tracking_params:t.client_tracking_params});return o.callCreate()}function a(i){let a=e[i.object_type]||0,l=i.invite_channel,r=null==i.invite_category?3:i.invite_category;return 10===r&&i.path?t(i.path,r):n(r,a,l.toString(),i.object_id)}return{ObjectTypeToInviteObject:e,logShareInvite:function(e,t){t&&i(e,t.invite_code)},createShareInviteData:a,shareFacebookInvite:function(e){let{options:t,unauthId:n,viewer:l}=e;return a(t).then(e=>{let a=e.invite_url,r=e.invite_code;if(a){let s={type:"share",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:a,picture:t.picture,callback(e){e&&!e.error_message&&i(t,r)}};m.open({...s,display:"popup",unauthId:n,viewer:l})}return Promise.resolve(e)},e=>Promise.reject(e))},shareTwitterInvite:function(t){let n=e[t.object_type]||0;return a(t).then(e=>{let a=e.invite_url,l=e.invite_code,r=t.description;return 6===n&&t.name&&(r=t.name),r.trim()||(r=`${e.title}
`),a&&y.openDialog({tweet_path:a,tweet_text:r}),i(t,l),Promise.resolve(e)},e=>Promise.reject(e))},shareLineInvite:function(t){let n=e[t.object_type]||0;return a(t).then(e=>{let a=e.invite_url,l=e.invite_code,r=t.description;return 6===n&&t.name&&(r=t.name),r.trim()||(r=`${e.title}
`),a&&_.openDialog({share_path:a,share_text:r}),i(t,l),Promise.resolve(e)},e=>Promise.reject(e))},shareFbMessengerInvite:function(e){let{options:t,unauthId:n,viewer:l}=e;return a(t).then(e=>{let a=e.invite_url,r=e.invite_code;return a&&m.open({type:"send",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:a,picture:t.picture,callback(e){e&&e.success&&i(t,r)},display:"popup",unauthId:n,viewer:l}),Promise.resolve(e)},e=>Promise.reject(e))}}}},704043:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(513911);let a=(e=0)=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+i.I6}px;
  }

  85% {
    width: ${e+i.I6}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

`},513911:(e,t,n)=>{"use strict";n.d(t,{I6:()=>a,Nv:()=>i,RZ:()=>l,ZG:()=>o,b9:()=>s,s0:()=>r});let i=44,a=24,l=446,r=.05,s=36,o=20},160567:(e,t,n)=>{"use strict";n.d(t,{Pw:()=>i,SB:()=>a,ZP:()=>r,x9:()=>l});let i=80,a=56,l=e=>"phone"===e?a:i;function r(e,t){return t?0:l(e)}},219168:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h}),n(167912);var i,a=n(883119),l=n(333739),r=n(140017),s=n(339001),o=n(217058),d=n(623409),c=n(494125),u=n(785893);let p=void 0!==i?i:i=n(674158);function m({pin:e,onClose:t,zIndex:n}){let i=e?.board?.name,l=e?.board?.privacy==="protected"?null:e?.board?.url,p=(0,r.ZP)(),m=(0,d.Z)(),h=l&&i?{boardName:i,boardUrl:l,username:l.split("/")[1]}:null;return(0,c.Z)(()=>{e?.description?.trim()||h||(0,o.My)("lop.dweb.plp.more_info.empty")}),(0,u.jsx)("div",{"data-test-id":"more-information-modal",onClick:()=>{m({action:"click",item:"close-more-information-modal"}),t()},style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:n||2},children:(0,u.jsxs)(a.xu,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:2,width:414,children:[(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},display:"flex",height:60,justifyContent:"end",children:[(0,u.jsx)("div",{onClick:()=>t(),onKeyUp:()=>t(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:"0",children:(0,u.jsx)(a.xu,{"data-test-id":"close-more-information-modal",children:(0,u.jsx)(a.JO,{accessibilityLabel:p._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",inline:!0,size:18})})}),(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},marginTop:5,position:"absolute",children:p._('More information', 'more information label', 'more information label')})]}),(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!e?.description&&(0,u.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:e.description}),!!h&&(0,u.jsx)(a.xu,{marginTop:3,children:(0,u.jsx)(a.xv,{children:(0,s.nk)(p._('Find this Pin and more on {{ board_link }} by {{ profile_link }}.', 'Link to pin\'s board and board\'s owner', 'Link to pin\'s board and board\'s owner'),{board_link:(0,u.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(a.rU,{display:"inlineBlock",href:h.boardUrl,onClick:()=>(0,o.NC)("click_vase_modal_board",!0),underline:"hover",children:h.boardName},"board-link")}),profile_link:(0,u.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(a.rU,{display:"inlineBlock",href:`/${h.username}/`,onClick:()=>(0,o.NC)("click_vase_modal_profile",!0),underline:"hover",children:e?.pinner?.fullName||h.username},"profile-link")})})})})]})]})})}function h({pinKey:e,...t}){let{data:n}=(0,l.sr)(p,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},description:e.description,pinner:e.pinner&&{fullName:e.pinner.full_name}})});return n&&(0,u.jsx)(m,{...t,pin:n})}},109615:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(667294),a=n(883119),l=n(587703),r=n(140017),s=n(673020),o=n(785893);let d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){let m=(0,r.ZP)(),[h,g]=(0,i.useState)(!1),{dangerousInlineStyle:_,iconColor:y}=(0,s.W)(!!e),f=(0,l.Z)();return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(a.iP,{onTap:()=>{f({component:13534,element:11717,event_type:102}),g(!0)},rounding:"circle",children:(0,o.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:_,"data-test-id":"verified-badge-icon",display:"flex",children:[(0,o.jsx)(a.JO,{accessibilityLabel:e?m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):m._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:y,icon:"workflow-status-ok",inline:!0,size:d[t]}),n&&!c&&(0,o.jsx)(a.xu,{marginStart:2,children:(0,o.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:_,children:m._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||n&&!c)&&(0,o.jsx)(s.Z,{inspirationalBadges:u,inspirationalBadgesColor:p,setShowModal:g,showModal:h})]})}},673020:(e,t,n)=>{"use strict";n.d(t,{W:()=>u,Z:()=>p});var i=n(667294),a=n(883119),l=n(557226),r=n(587703),s=n(930837),o=n(140017),d=n(702497),c=n(785893);let u=e=>{let t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){let m=(0,o.ZP)(),[h,g]=(0,i.useState)(!0),{dangerousInlineStyle:_,iconColor:y}=u(!0),f=(0,r.Z)();return(0,i.useEffect)(()=>{n&&h&&(g(!1),f({event_type:13,component:13534}))},[n]),(0,c.jsx)(s.ZP,{accessibilityModalLabel:m._('Verified merchant information', 'creator.verifiedMerchant.accessibilityModalLabel', 'Accessibility label for modal informing about a verified merchant'),isOpen:n,mobileAccessibilityCloseIconLabel:m._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{f({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsxs)(a.xu,{"data-test-id":"verified-badge-modal",direction:"column",display:"flex",padding:2,children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:_,display:"flex",justifyContent:"center",children:(0,c.jsx)(a.JO,{accessibilityLabel:m._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:y,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(a.xv,{align:"center",color:"shopping",weight:"bold",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:_,children:m._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,c.jsx)(a.xu,{marginBottom:4,marginTop:4,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:m._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map(e=>(0,c.jsxs)(a.xu,{direction:"column",display:"flex",marginTop:4,children:[(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(a.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",display:"inlineBlock",paddingX:2,paddingY:2,rounding:1,children:e.label})})}),(0,c.jsx)(a.xu,{marginTop:2,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id)),(0,c.jsx)(a.xu,{"data-test-id":"verified-badge-modal-learn-more",display:"flex",justifyContent:"center",marginTop:8,width:"100%",children:(0,c.jsx)(a.ZP,{accessibilityLabel:m._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),href:d.vBy,size:"lg",target:"blank",text:m._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},478693:(e,t,n)=>{"use strict";n.d(t,{me:()=>y,pK:()=>v,bJ:()=>g,Y7:()=>f,Nv:()=>m,Ph:()=>u,Bf:()=>x,gC:()=>_,J3:()=>b,ay:()=>h,Un:()=>p,lv:()=>w,BG:()=>I});let i="https://pinterest-uk-web.admo.tv/server/pixel.php",a="https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=resurrection_login&v=1",l="https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=login_customer&v=1",r="https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=customer_registration&v=1",s="https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=business_registration&v=1";var o=n(282854),d=n(191313),c=n(953565);let u="admo-tv-d-ses",p="admo-tv-m-ses",m="admo-tv-d-rez-login",h="admo-tv-m-rez-login",g="admo-tv-d-login",_="admo-tv-m-login",y="admo-tv-def-login",f="admo-tv-d-reg",b="admo-tv-m-reg",v="admo-tv-d-billing",x="admo-tv-m-billing",k={"admo-tv-d-ses":i,"admo-tv-m-ses":i,"admo-tv-d-rez-login":a,"admo-tv-m-rez-login":a,"admo-tv-d-login":l,"admo-tv-m-login":l,"admo-tv-d-reg":r,"admo-tv-m-reg":r,"admo-tv-d-billing":s,"admo-tv-m-billing":s,"admo-tv-def-login":"https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=logged_users&v=1"};function P(){for(let e of Object.keys(k)){let t=(0,d.qn)(e);if(t){let n=(0,o.Z)({src:k[e],id:e,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});if(!document.getElementById(e)){document.body?.appendChild(n),t=t.split("#");let[i,a]=t;(0,c.nP)("admo_tracking_pixel",{sampleRate:1,tags:{event_category:i,event_name:"All"}}),"All"!==a&&(0,c.nP)("admo_tracking_pixel",{sampleRate:1,tags:{event_category:i,event_name:a}}),(0,d.L_)(e)}}}}function S(e,t){let n=(0,o.Z)({src:k[e],id:e,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});document.getElementById(e)||(document.body?.appendChild(n),t(),P())}function w(e,t){let n=document.getElementById(e);if(n){P();return}"complete"===document.readyState&&S(e,t),window.addEventListener("load",function e(t,n){return i=>{S(t,n),window.removeEventListener(i,e)}}(e,t))}function T(e,t,n){k[e]&&(0,d.Nh)(e,`${t}#${n}`)}function I(e,t,n){"complete"===document.readyState?T(e,t,n):window.addEventListener("load",function e(t,n,i){return a=>{T(t,n,i),window.removeEventListener(a,e)}}(e,t,n))}},934378:(e,t,n)=>{"use strict";n.d(t,{$N:()=>h,Cu:()=>_,GY:()=>d,MZ:()=>r,NR:()=>u,Vn:()=>c,bC:()=>g,fm:()=>i,kM:()=>l,q6:()=>a,qp:()=>o,uV:()=>p,ug:()=>m,xL:()=>s});let i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},l={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},s={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},o={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},p="604800",m="86400",h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},g="click",_="view"},263032:(e,t,n)=>{"use strict";n.d(t,{YS:()=>r,eF:()=>s,m_:()=>l});var i=n(934378),a=n(953565);function l(e,t,n,a,l){let r=new URLSearchParams,s=e??"0",o=t.reduce((e,t)=>{if(null!=t){let n=function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);return r.append(i.NR.SOURCE_EVENT_ID,s),r.append(i.NR.DESTINATION,JSON.stringify([...o])),r.append(i.NR.EXPIRY,n?i.uV:i.ug),r.append(i.NR.PRIORITY,n?i.NR.CLICK_PRIORITY:i.NR.VIEW_PRIORITY),l&&r.append(i.NR.ADVERTISER_ID,l),a&&r.append(i.NR.CAMPAIGN_ID,a),r.append(i.NR.SOURCE_EVENT_TYPE,n?i.bC:i.Cu),"/attribution_source/?"+r.toString()}async function r(e,t,n,i,r,s,o,d,c){let{appType:u,osType:p}=s||{};if(["Pin","pinImpressions"].includes(e)&&t&&(i||d||c)){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:u,osType:p}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:u,osType:p}});return}let e=l(n,[i,d,c],!1,r,o),t=await window.fetch(e,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}});if(!t.ok)throw Error("server request failed.");(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:u,osType:p}})}catch(e){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,appType:u,osType:p}})}}else(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:u,osType:p}})}function s(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},32346:(e,t,n)=>{"use strict";function i(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}n.d(t,{Z:()=>i})},922719:(e,t,n)=>{"use strict";n.d(t,{CC:()=>a,Ll:()=>r,XF:()=>l});let i=(e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}),a=(e,t)=>{let n=2*Math.random()*Math.PI;return i(t/2,e/2,n)},l=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},378049:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m}),n(167912);var i,a=n(883119),l=n(333739),r=n(140017),s=n(217058),o=n(623409),d=n(785893);let c=void 0!==i?i:i=n(317142),u=()=>{let e=(0,r.ZP)();return(0,d.jsx)(a.xv,{size:"300",children:e._('Featured in Pinterest\'s article', 'Title of suggesting articles module in the pin.', 'unauth.main_pin.featured_in_articles')})};function p({isDesktop:e,pin:t}){let n=(0,r.ZP)(),i=(0,o.Z)(),{_id:l,mainImageUrl:c,title:p,urlPath:m}=t?.relatedArticle||{};if(!l&&!c&&!p&&!m)return null;let h=()=>{(0,s.tj)("mweb.unauth.featured_in_article_text.plp.touch",{article_id:l}),i({action:"click",item:"pin-featured-in-article"})};return(0,d.jsxs)(a.xu,{marginTop:10,children:[(0,d.jsx)(a.iz,{}),!e&&(0,d.jsx)(a.xu,{marginBottom:-2,marginTop:4,children:(0,d.jsx)(u,{})}),(0,d.jsxs)(a.xu,{direction:"row",display:"flex",marginBottom:4,marginTop:4,children:[(0,d.jsx)(a.xu,{alignSelf:"center",children:(0,d.jsx)(a.zd,{height:48,rounding:3,width:48,children:c&&(0,d.jsx)(a.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:c})})}),(0,d.jsxs)(a.xu,{alignSelf:"center",marginEnd:2,marginStart:2,children:[e&&(0,d.jsx)(u,{}),(0,d.jsx)(a.rU,{href:m||"",onClick:()=>h(),tapStyle:"compress",underline:"none",children:(0,d.jsx)(a.xv,{overflow:"normal",size:"300",weight:"bold",children:p})})]}),(0,d.jsx)(a.xu,{"data-test-id":"view-button",marginStart:"auto",children:(0,d.jsx)(a.ZP,{fullWidth:!0,href:m||"",onClick:()=>h(),size:"lg",text:n._('View', 'Button that takes the user from a pin to the article the pin is featured on', 'unauth.main_pin.view_featured_in_articles')})})]})]})}let m=({pinKey:e,...t})=>{let{data:n}=(0,l.sr)(c,e,{type:"pin",useLegacyAdapter:e=>({relatedArticle:e.related_article&&{_id:e.related_article.id,mainImageUrl:e.related_article.main_image_url,title:e.related_article.title,urlPath:e.related_article.url_path}})});return n&&(0,d.jsx)(p,{...t,pin:n})}},86785:(e,t,n)=>{"use strict";n.d(t,{G6:()=>l,i7:()=>r,oi:()=>i,u$:()=>a,un:()=>o,vU:()=>s});let i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?i.CHROME:e.includes("Safari")?i.SAFARI:e.includes("Firefox")?i.FIREFOX:e.includes("Opera")?i.OPERA:e.includes("IE")?i.IE:e.includes("Edge")?i.EDGE:i.OTHER:i.OTHER;function l(e){return a(e)===i.SAFARI}function r(e){return a(e)===i.CHROME}function s(e){return a(e)===i.FIREFOX}function o(e){return a(e)===i.EDGE}},286988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,v:()=>i});let i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function a(){if(!i())return[];try{let e=await navigator.getInstalledRelatedApps();return e}catch(e){return[]}}},807657:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(29156),a=n(217058),l=n(968946);let r=(e,t)=>{t?.disableOriginCheck||(0,l.Z)(e)||(e="/",(0,a.My)("url_reset")),(0,i.Z)(e)}},197059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(616550),a=n(807657),l=n(554786);function r(){let e=(0,i.k6)(),t=(0,l.HG)();return n=>{t?(0,a.Z)(n,{disableOriginCheck:!0}):e.push(n)}}},207229:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function l(){return window.innerWidth}function r(){return window.innerHeight}function s(){return null}function o(){let e=(0,i.useSyncExternalStore)(a,r,s),t=(0,i.useSyncExternalStore)(a,l,s);return null!==e&&null!==t?{height:e,width:t}:null}},557226:(e,t,n)=>{"use strict";n.d(t,{Bu:()=>h,Dm:()=>s,I:()=>y,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>m,eT:()=>g,hm:()=>_,yQ:()=>o,ym:()=>f});var i=n(743079);let a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),l=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),s=[...Object.keys(a).map(e=>a[e]),...Object.keys(l).map(e=>l[e])],o=[...Object.keys(r).map(e=>r[e])],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",m="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function h({verifiedMerchant:e}){let t=e?.isVerifiedMerchant,n=e?.inspirational_signal?.is_inspirational,i=e?.inspirational_signal?.is_eligible_for_storefront_badges;return!!(t&&n&&i)}function g(e){return e.badge_details?e.badge_details.map(e=>e.id):[]}function _(e){return e?.profile_badges||[]}function y(e,t,n){return t&&n?t.map(e=>n.find(t=>t.id===e.trim())).filter(Boolean):[]}function f(e){let t=e||c[0];return{backgroundColor:t,color:function(e){let t=(0,i.oo)(e);if(!t)return"white";let[n,a,l]=t,r=(0,i.DW)(n,a,l);return r<=i.I?"white":"black"}(t)}}},893912:(e,t,n)=>{"use strict";function i(e,t=!1){return e?[...t?[e["736x"],e["564x"]]:[e["564x"],e["736x"]],e["474x"],e["236x"]].find(e=>e?.url)??null:null}n.d(t,{Z:()=>i})},663056:(e,t,n)=>{"use strict";n.d(t,{P:()=>p,Z:()=>u});var i,a,l,r,s=n(167912),o=n(807023),d=n(895409),c=n(333739);function u(e){let{childDataKey__DEPRECATED:t}=(0,o.Q)(void 0!==r?r:r=n(391014),e,{useLegacyAdapter:()=>({})}),u=function(e){let{data:t}=(0,o.Q)(void 0!==i?i:i=n(860972),e,{useLegacyAdapter:e=>({carouselData:e.carousel_data&&{entityId:e.carousel_data.id??"",index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?.map(e=>({details:e.details,imageSignature:e.image_signature,image236x:e.images?.["236x"]&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},image474x:e.images?.["474x"]&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},image564x:e.images?.["564x"]&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},image736x:e.images?.["736x"]&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},slotId:e.id,title:e.title}))??[]}})});return t?.carouselData?{index:t.carouselData.index,carouselId:t.carouselData.entityId,carouselSlots:t.carouselData.carouselSlots?.map(({details:e,imageSignature:t,image236x:n,image474x:i,image564x:a,image736x:l,slotId:r,title:s})=>({details:e,imageSignature:t,imageSizeMap:[["236x",n],["474x",i],["564x",a],["736x",l]].reduce((e,[t,n])=>({...e,[t]:n}),{}),slotId:r,title:s}))??[]}:null}(t),p=function({pinKey:e,index:t}){let i;return i=null==e?{type:"deprecated",data:null}:"graphqlRef"===e.type?e:{type:"deprecated",data:e.data},(0,c.Zm)(void 0!==l?l:l=n(902965),i,{useGraphQLAdapter:e=>{let i=(e.richMetadata||e.richSummary)?.products?.[0],l=function(e){let t=(0,s.useFragment)(void 0!==a?a:a=n(965361),e);if(!t)return[];let i={},{image236x:l,image474x:r,image564x:o,image736x:d}=t;return[[l,"236x"],[r,"474x"],[o,"564x"],[d,"736x"]].forEach(([e,t])=>{(e??[]).forEach(({canonicalImage:e,imageSignature:n})=>{n&&e&&(i={...i,[n]:{...i[n],[t]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(i).map(([e,t])=>({imageSignature:e,imageSizeMap:t}))}(i);return i&&l.length?{carouselId:i.productId,carouselSlots:[{imageSignature:null,imageSizeMap:[["236x",e.image236x],["474x",e.image474x],["564x",e.image564x],["736x",e.image736x]].reduce((e,[t,n])=>({...e,[t]:n&&{height:n.height,url:n.url,width:n.width}}),{})},...l],index:t}:null},useLegacyAdapter:e=>{let n=(e?.rich_metadata||e?.rich_summary)?.products?.[0],i=(n?.additional_images??[]).reduce((e,{canonical_images:t,image_signature:n})=>e.concat(t&&n?[{imageSignature:n,imageSizeMap:Object.keys(t).reduce((e,n)=>t[n]?{...e,[n]:{height:t[n].height,url:t[n].url,width:t[n].width}}:e,{})}]:[]),[]);return e&&n&&i.length?{carouselId:n.id,carouselSlots:[...e.images?[{imageSignature:null,imageSizeMap:(0,d.b)(e.images)}]:[],...i],index:t}:null}}).data}({pinKey:t,index:u?.index});return p?{...p,carouselSlots:p.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:u}function p({children:e,pinKey:t}){return e(u(t))}},798580:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(624797);let a=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,l=(e,t)=>t?e.substring(t.length).split("/")[0]:e,r=({boardUrl:e,path:t,pinId:n,pinnerUserName:r,search:s,storyPinDataId:o})=>{if(!t)return"";let d="";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case r&&`/${r}/pins/`:return"UserPinsResource";case r&&`/${r}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return o?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case r&&`/${r}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:d="/pin/";let c=l(t,d);if(n!==c)return`RelatedPinFeedResource_${c}`;break;case/\/search\//.test(t)&&t:if(s){let e=(0,i.mB)(s,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(t)&&t:d="/categories/";let u=l(t,d);return`CategoryFeedResource_${u}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:d="/news_hub/";let p=l(t,d);return`NewsHubDetailsResource_${p}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:d="/topics/";let m=l(t,d);return`TopicFeedResource_${m}`;case/\/source\//.test(t)&&t:d="/source/";let h=l(t,d);return`DomainFeedResource_${h}`;case/\/explore\//.test(t)&&t:d="/explore/";let g=l(t,d);return`SearchResource_${g}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case a.test(t)&&t:let _=t.match(a)?.[2]||"unknown";return`TodayArticleFeedResource_${_}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(s){let{feed_type:e,request_params:t}=(0,i.mB)(s);return`StoryFeedResource_${e}_${t}`}}return""},s=e=>{let t=e?.pathname;return t?(t.match(/\/search\//)&&e?.search&&(t+=e.search),t.toLowerCase()):""},o=({boardUrl:e,location:t,pinId:n,pinnerUserName:i,previousHistory:a,storyPinDataId:l,trackingParams:o,trackingParamsMap:d={}})=>{let c,u;if(!n||!o||!t)return;if(!d)return`${o??""}~0`;let{pathname:p,search:m}=t,h=r({boardUrl:e,path:p,pinId:n,pinnerUserName:i,search:m,storyPinDataId:l,trackingParams:o,trackingParamsMap:d}),g=Object.keys(d),_=(p||"").startsWith("/pin/");if(_){let e=g.find(e=>"PinResource"!==e);c=e?d[e]:d.PinResource}else c=d[h];if(!c&&a&&a.length){let t=s(a[a.length-1].location);u=r({boardUrl:e,path:t,pinId:n,pinnerUserName:i,search:m,storyPinDataId:l,trackingParams:o,trackingParamsMap:d}),c=d[u]}return c||(c=`${o||""}~0`),c}},259866:(e,t,n)=>{"use strict";function i(e){return function e(t,n){let i;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let a=n.find(e=>e.value===t);if(a)return a.result;let l=Object.prototype.toString.call(t);switch(l){case"[object Array]":i=Array(t.length);break;case"[object Set]":i=new Set;break;case"[object Object]":case"[object Arguments]":i={};break;case"[object Map]":i=new Map;break;default:return t}let r=[...n,{value:t,result:i}];switch(l){case"[object Array]":t.forEach((t,n)=>{i[n]=e(t,r)});break;case"[object Set]":t.forEach(t=>{i.add(e(t,r))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,n])=>{i[t]=e(n,r)});break;case"[object Map]":t.forEach((t,n)=>{i.set(n,e(t,r))})}return i}(e,[])}n.d(t,{Z:()=>i})},899165:(e,t,n)=>{"use strict";function i({isHiddenPin:e,isUnsafePin:t}){return!e&&!t}n.d(t,{Z:()=>i})},743079:(e,t,n)=>{"use strict";n.d(t,{DW:()=>l,I:()=>a,oo:()=>i,zI:()=>r});let i=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,l=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,r=e=>{let t=e.replace("#",""),n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),a=parseInt(t.substr(4,2),16);return(299*n+587*i+114*a)/1e3<155}},258656:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(883119),a=n(205841),l=n(140017),r=n(785893);let s=({isQuestion:e,name:t,size:n,src:s})=>{let o=(0,l.ZP)();return(0,r.jsxs)(i.xu,{"data-test-id":"comment-avatar-container",position:"relative",children:[(0,r.jsx)(a.qE,{name:t,size:n,src:s}),e&&(0,r.jsxs)(i.xu,{alignItems:"center",bottom:!0,display:"flex",height:16,justifyContent:"center",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,width:16,children:[(0,r.jsx)(i.xu,{position:"absolute",children:(0,r.jsx)(i.JO,{accessibilityLabel:o._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"dark",icon:"speech"})}),(0,r.jsx)(i.xu,{position:"absolute",children:(0,r.jsx)(i.JO,{accessibilityLabel:o._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"light",icon:"question-mark",size:8})})]})]})}},880790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v}),n(167912);var i,a=n(883119),l=n(40432),r=n(883087),s=n(140017),o=n(339001),d=n(810386),c=n(14583),u=n(256661),p=n(738012),m=n(19447),h=n(223996),g=n(785893);let _=void 0!==i?i:i=n(73164),y=({aggregatedPinDataId:e,commentCount:t,commentsDisabled:n,inCommentModuleExp:i,isEligibleForPinReactions:r,isInCommentModule:c,nativePinType:m,onCancel:h,pinUid:_,reactionCounts:y,refetchReactionCount:f})=>{let b=(0,s.ZP)(),{clientTrackingParams:v}=(0,u.R)();return(0,g.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:c?void 0:`1px solid ${l.mJW}`}},display:"flex",justifyContent:"between",marginBottom:c?4:0,marginTop:c?0:1,paddingX:c?0:4,paddingY:c?0:5,children:[(0,g.jsxs)(a.kC,{alignItems:"center",gap:{row:4,column:0},children:[!!h&&(0,g.jsx)(a.iP,{dataTestId:"comment-reaction-united-cancel",onTap:h,children:(0,g.jsx)(a.JO,{accessibilityLabel:b._('cancel', 'commentThreadModal.header.cancel', 'icon to close comment thread modal'),color:"default",icon:"cancel"})}),(0,g.jsx)(a.xu,{"data-test-id":"comment-reaction-united-header-with-count",children:(0,g.jsx)(a.xv,{weight:"bold",children:t&&!n?(0,o.nk)(b.ngettext('{{ commentCount }} comment', '{{ commentCount }} comments', t, 'pinCloseup.commentThread.header', 'Number of comments on a Pin. commentCount: number of comments'),{commentCount:t}):b._('What do you think?', 'pinCloseup.commentThread.header', 'prompt user to comment on Pin')})})]}),r&&(0,g.jsxs)(a.kC,{alignItems:"center",dataTestId:"reaction-aggregation-and-picker-container",gap:{column:0,row:i?2:3},children:[(0,g.jsx)(d.Z,{inCommentModuleExp:i,isBold:!1,isInCommentModule:c,paddingY:0,pinId:_,reactionCounts:y}),(0,g.jsx)(p.default,{aggregatedPinDataId:e,clientTrackingParams:v,hasBackground:!i,inCommentModuleExp:i,isInCommentModule:c,isTrayPositionRelative:!1,nativePinType:m,onReactionUpdated:()=>{f&&f()},pinId:_})]})]})};function f(e){let{data:t,refetch:n}=(0,r.Z)(_,{pinId:e.pinUid},{suspendOnRefetch:!1}),i=(0,h.Z)(t.v3GetPinQuery?.data);return(0,g.jsx)(y,{...e,reactionCounts:i,refetchReactionCount:n})}function b(e){let t=(0,m.S6)()(e.pinUid);return(0,g.jsx)(y,{...e,reactionCounts:t?.reaction_counts})}function v({shouldUseGraphQL:e,...t}){return e?(0,g.jsx)(c.Z,{children:(0,g.jsx)(f,{...t})}):(0,g.jsx)(b,{...t})}},139922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ea});var i=n(883119),a=n(667294),l=n(702664),r=n(473727),s=n(161881),o=n(439917),d=n(742103),c=n(258656),u=n(140017),p=n(785893);let m=({color:e,isMarkedHelpful:t})=>{let n=(0,u.ZP)();return(0,p.jsx)(i.JO,{accessibilityLabel:n._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful'),color:t?"brandPrimary":e,icon:"thumbs-up",inline:!0,size:12})};var h=n(144138),g=n(903591),_=n(214877),y=n(454514),f=n(340523),b=n(13848),v=n(149722),x=n(785059),k=n(35222),P=n(199677),S=n(415199),w=n(930822),T=n(291867),I=n(937310),A=n(825784);let E=({aggregatedPinDataId:e,anchor:t,closeupAttributionId:n,comment:r,dismiss:s,isOpen:o,isReply:d,onEdit:c,onShowBlockUserModal:m,parentId:E,pinnerId:C,pinId:j})=>{let R=(0,u.ZP)(),L=(0,l.useDispatch)(),{logContextEvent:F}=(0,_.v)(),{showToast:D}=(0,b.F9)(),{checkExperiment:O}=(0,f.F)(),{anyEnabled:z}=O("web_m10n_business_access_orbac_ga"),{toggleAggregatedCommentHighlight:M}=(0,S.nf)(),N=(0,h.Z)(),[Z,B]=(0,a.useState)(!1);(0,a.useEffect)(()=>{B(o)},[o,B]);let U=(0,v.Z)(),K=(0,x.Z)(),V=(0,k.Z)(),{reportComment:H}=(0,A.f)(),G=n??"",$=r.user.id,W=U.isAuth&&G===U.id,q="userdiditdata"===r.type,Y=(0,P.q6)(U,C??"",z?K:{}),X=(0,P.D3)(U,$,z?K:{}),J=(0,P.D3)(U,G,z?K:{}),Q=U.isAuth&&(r.tagged_users||[]).filter(({id:e})=>e===U.id).length>0,ee=async e=>{try{await M({aggregatedCommentId:r.id,pinId:j,isHighlighted:e}),F({event_type:101,component:13712,element:e?12475:12474,view_type:220,aux_data:{creator_id:$}}),D(({hideToast:t})=>(0,p.jsx)(y.ZP,{onHide:t,primaryAction:{accessibilityLabel:R._('Undo comment highlight or comment highlight removal', 'unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton', 'Undo comment highlight or comment highlight removal'),label:R._('Undo', 'unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:()=>{M({aggregatedCommentId:r.id,pinId:j,isHighlighted:!e})}},text:e?R._('Highlight removed', 'unifiedComment.unifiedCommentContainer.popover.commentHighlightRemovalToast', 'Toast that tells user that they have successfully removed a comment highlight.'):R._('Comment highlighted', 'unifiedComment.unifiedCommentContainer.popover.commentHighlightToast', 'Toast that tells user that they have successfully highlighted a comment.')}))}catch(e){e.message&&D(({hideToast:t})=>(0,p.jsx)(y.ZP,{onHide:t,text:e.message,type:"error"}))}},et=e=>()=>void ee(e),en=e=>()=>{e(),s(!0)};if(!o)return null;let ei={highlight:R._('Highlight', 'Highlight a community post or comment', 'Highlight a community post or comment'),removeHighlight:R._('Remove highlight', 'Remove highlight for a community post or comment', 'Remove highlight for a community post or comment'),edit:R._('Edit', 'Edit a community post or comment', 'Edit a community post or comment'),delete:R._('Delete', 'Delete a community post or comment', 'Delete a community post or comment'),reportContent:R._('Report this content', 'Report a community post or comment', 'Report a community post or comment'),removeMention:R._('Remove @mention', 'closeup.activityItem.removeMention', 'Button that allows user to remove their @mention in a comment on a pin'),reportForNetzDG:R._('Report comment for NetzDG', 'commentOverflowMenu.option.reportForNetzDG', 'Report comment - NetzDG'),blockUser:R._('Block user', 'closeup.activityItem.blockUser', 'Block comment author')},ea=new i.Ry(1);return Z&&(0,p.jsx)(i.xu,{onFocus:e=>e.stopPropagation(),children:(0,p.jsx)(i.Lt,{anchor:t,disableMobileUI:!0,id:"comment-overflow-popover",idealDirection:"down",isWithinFixedContainer:!1,onDismiss:()=>s(!1),zIndex:ea,children:U.isAuth?(0,p.jsxs)(a.Fragment,{children:[!d&&W&&!r.highlighted_by_pin_owner&&!q&&(0,p.jsx)(i.Lt.Item,{dataTestId:"dropdown-item-highlight",onSelect:en(et(!1)),option:{label:ei.highlight,value:ei.highlight}}),!d&&W&&r.highlighted_by_pin_owner&&!q&&(0,p.jsx)(i.Lt.Item,{dataTestId:"dropdown-item-remove-highlight",onSelect:en(et(!0)),option:{label:ei.removeHighlight,value:ei.removeHighlight}}),X&&(0,p.jsx)(i.Lt.Item,{dataTestId:"dropdown-item-edit",onSelect:en(c),option:{label:ei.edit,value:ei.edit}}),(X||J)&&(0,p.jsx)(i.Lt.Item,{dataTestId:"dropdown-item-delete",onSelect:en(()=>{"aggregatedcomment"===r.type?N({aggregatedCommentId:r.id,aggregatedPinId:e??"",feedType:d?"aggregatedComments":I.Z.UNIFIED_COMMENTS,orbacSubjectId:V,parentId:E,type:d?g.Rv.REPLY_TO_AGGREGATED:g.Rv.TOP,updateParentCommentCount:!0,pinId:j}):L((0,w.lg)({aggregatedPinDataId:e??"",feedType:I.Z.UNIFIED_COMMENTS,id:r.id,isOwnedByMe:!0,pinId:j??"",username:r.user.username,updateParentDidItCount:!0}))}),option:{label:ei.delete,value:ei.delete}}),!X&&!Y&&(0,p.jsx)(i.Lt.Item,{dataTestId:"dropdown-item-report",onSelect:en(()=>{H(r.id,E,r.type)}),option:{label:ei.reportContent,value:ei.reportContent}}),Q&&(0,p.jsx)(i.Lt.Item,{dataTestId:"dropdown-item-remove-mention",onSelect:en(()=>{L((0,T.Q)(r.id)),D(({hideToast:e})=>(0,p.jsx)(y.ZP,{onHide:e,text:R._('@mention removed!', 'unifiedComment.unifiedCommentContainer.mentionRemovalToast', 'Toast that tells user that they have successfully removed the @mention of them in the comment')}))}),option:{label:ei.removeMention,value:ei.removeMention}}),!X&&(0,p.jsx)(i.Lt.Item,{dataTestId:"dropdown-item-block-user",onSelect:en(()=>{B(!1),m(),F({component:14349,event_type:9406})}),option:{label:ei.blockUser,value:ei.blockUser}})]}):(0,p.jsx)(i.Lt.Link,{dataTestId:"dropdown-item-report-for-netzdg",href:"https://policy.pinterest.com/de/netzdg/",option:{label:ei.reportForNetzDG,value:ei.reportForNetzDG}})})})};var C=n(600636),j=n(133758),R=n(604625);let L={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulStyle:{backgroundImage:`url(${C})`},lovedStyle:{backgroundImage:`url(${j})`}},F=({setHelpful:e,setLoved:t})=>{let n=(0,u.ZP)(),l=(0,a.useRef)(null),r=(0,a.useRef)(null),[s,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),m=e=>()=>{o(e)},h=e=>()=>{c(e)};return(0,p.jsxs)(i.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:L.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,p.jsxs)(i.iP,{fullHeight:!0,onMouseDown:t,onMouseEnter:h(!0),onMouseLeave:h(!1),children:[(0,p.jsx)(i.xu,{ref:r,bottom:!0,height:14,marginBottom:3,position:"absolute",width:14}),(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:L.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:d?3:1,position:"absolute",width:18})]}),(0,p.jsxs)(i.iP,{fullHeight:!0,onMouseDown:e,onMouseEnter:m(!0),onMouseLeave:m(!1),children:[(0,p.jsx)(i.xu,{ref:l,bottom:!0,height:14,marginBottom:3,position:"absolute",width:14}),(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:L.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:s?3:1,position:"absolute",width:18})]}),(d||s)&&(0,p.jsx)(i.mh,{zIndex:R.lI,children:(0,p.jsx)(i.J2,{anchor:d?r.current:l.current,idealDirection:"up",onDismiss:()=>{},positionRelativeToAnchor:!1,size:"flexible",children:(0,p.jsx)(i.xu,{alignItems:"center",color:"selected",display:"flex",paddingX:1,paddingY:1,children:(0,p.jsx)(i.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:d?n._('Love', 'comment.button.loved', 'loved reaction'):n._('Helpful', 'comment.button.helpful', 'helpful reaction')})})})})]})};var D=n(311716),O=n(559113),z=n(205841);let M={helpfulStyle:{backgroundImage:`url(${D})`},lovedStyle:{backgroundImage:`url(${O})`}},N=({response:e})=>{let t=14===e.reaction_type,n=1===e.reaction_type,a=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,p.jsxs)(i.kC,{alignItems:"center",children:[(0,p.jsx)(i.Tg,{href:`/${e.user.username}/`,children:(0,p.jsxs)(i.kC,{alignItems:"center",children:[(0,p.jsx)(i.xu,{maxWidth:40,children:(0,p.jsx)(z.qE,{accessibilityLabel:"",name:a,outline:!0,size:"sm",src:e.user.image_medium_url})}),(0,p.jsx)(i.xu,{marginStart:2,maxWidth:80,children:(0,p.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:a})})]})}),(0,p.jsxs)(i.xu,{alignContent:"end",display:"flex",padding:2,children:[n&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:M.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),t&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:M.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var Z=n(995917);let B=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],U=({commentId:e,isMarkedHelpfulByMe:t,isLovedByMe:n,isTry:l})=>{let r=(0,v.Z)(),s=(0,Z.Z)({name:"ApiResource",options:{url:l?`/v3/did_it/${e}/reacted_by/`:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:B}}),o=s.data?.filter(e=>e.user.id!==r.id);if((n||t)&&o){let t={id:e,reaction_type:n?1:14,user:{first_name:r.isAuth?r.firstName:"",full_name:r.isAuth?r.fullName:"",id:r.isAuth?r.id:"",image_medium_url:r.isAuth?r.imageMediumUrl:"",is_private_profile:!!r.isAuth&&!!r.isPrivateProfile,username:r.isAuth?r.username:""}};o=[t,...o]}let d=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let{current:e}=d,t=()=>{s.isFetching||(s.isAtEnd?e?.removeEventListener("scroll",t):s.fetchMore())};return e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[s]),(0,p.jsx)(i.xu,{ref:d,color:"selected",maxHeight:140,overflow:"scroll",rounding:2,width:180,children:o?.map(e=>p.jsx(i.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:p.jsx(N,{response:e})},e.id))})},K=({commentId:e,dismissReactionList:t,helpfulCount:n,isMarkedHelpfulByMe:l,isLovedByMe:r,isReactionListOpen:s,isTry:o,lovedCount:d,onReactionCountHover:c,onToggleHelpful:m,onToggleLove:h})=>{let g=(0,u.ZP)(),_=(0,a.useRef)(),[y,f]=(0,a.useState)(!1),b=!1,v=(d||0)+(n||0);l&&r&&(v-=1);let x=e=>()=>{f(e)},k=()=>{b=!0,c()},P=()=>{b=!1,setTimeout(()=>{b||t()},1e3)},S=(0,p.jsx)(i.xu,{"data-test-id":"comment-reaction-container-entry-point",children:y?(0,p.jsx)(i.iP,{onMouseDown:x(!1),onMouseLeave:x(!1),children:(0,p.jsx)(F,{setHelpful:m(!0),setLoved:h(!0)})}):(0,p.jsx)(i.iP,{onMouseEnter:x(!0),children:(0,p.jsx)(i.JO,{accessibilityLabel:g._('React', 'comment.actionbar.react', 'accessibility label entry point to react to a comment'),color:"subtle",icon:"heart-outline",size:16})})});return(0,p.jsxs)(i.kC,{alignItems:"center",gap:{row:1,column:0},children:[l||r?(0,p.jsx)(i.iP,{onMouseDown:()=>{m(!1)(),h(!1)()},children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${r?O:D})`}},"data-test-id":r?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):S,v>0&&(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.iP,{onMouseEnter:k,onMouseLeave:P,children:(0,p.jsx)(i.xu,{ref:_,"data-test-id":"comment-reaction-container-reaction-count",children:(0,p.jsx)(i.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:v})})}),s&&(0,p.jsx)(i.mh,{zIndex:R.lI,children:(0,p.jsx)(i.J2,{anchor:_.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,children:(0,p.jsx)(i.iP,{onMouseEnter:k,onMouseLeave:P,children:(0,p.jsx)(U,{commentId:e,isLovedByMe:r,isMarkedHelpfulByMe:l,isTry:o})})})})]})]})};var V=n(53264),H=n(339001);function G(e){let{featuredCommentId:t,parentId:n,parentType:r,isDesktop:s,isLoading:o,isReadOnly:d,openOverflowMenu:c,replyingToCommentId:m,toggleHelpful:h,toggleLike:g,toggleReplyComposer:_,isORBACProfileManager:y,isVideo:f,storyPinDataId:b,pinId:v,closeupAttributionId:x,aggregatedPinDataId:k,closeupAttributionUsername:P,pinnerId:w,reactionListCommentId:T,showReactionListForComment:A,viewParameter:E}=e,C=(0,u.ZP)(),j=(0,S.lV)(),R=(0,l.useSelector)(({feeds:e})=>{let t=e[`${I.Z.AGGREGATED_COMMENT_REPLIES}:${n}`]||[],i=e[`${I.Z.AGGREGATED_COMMENTS}:${n}`]||[],a=t.concat(i);return a.reduceRight((e,{id:t})=>{let n=j[t];return n?[...e,n]:e},[])}),[L,F]=(0,a.useState)(1),D=L===R.length;return(0,p.jsxs)(a.Fragment,{children:[R.length>1&&(0,p.jsx)(i.iP,{onTap:()=>{F(D?0:R.length)},children:(0,p.jsxs)(i.xu,{marginBottom:4,children:[(0,p.jsx)(i.xu,{display:"inlineBlock",marginEnd:2,children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:""})}),(0,p.jsx)(i.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:D?C._('Hide replies', 'comment.button.hideReplies', 'hide comment replies'):(0,H.nk)(C.ngettext('View {{ commentCount }} reply', 'View {{ commentCount }} replies', R.length, 'comment.button.showReplies', 'show comment replies'),{commentCount:R.length})})]})}),(0,p.jsx)(ea,{aggregatedPinDataId:k,closeupAttributionId:x,closeupAttributionUsername:P,comments:R.slice(0,L),commentsDisabled:!1,featuredCommentId:t,gapSize:2,isDesktop:s,isLoading:o,isORBACProfileManager:y,isReadOnly:d,isVideo:f,openOverflowMenu:c,parentId:n,parentType:r,pinId:v,pinnerId:w,reactionListCommentId:T,replyingToCommentId:m,showReactionListForComment:A,storyPinDataId:b,toggleHelpful:h,toggleLike:g,toggleReplyComposer:_,userAvatarSize:"sm",viewParameter:E})]})}var $=n(961907),W=n(757017),q=n(96452),Y=n(5859),X=n(227258),J=n(413110),Q=n(189),ee=n(193247),et=n(386129);function en(e){let t;let{aggregatedPinDataId:n,closeupAttributionId:h,closeupAttributionUsername:k,comment:T,featuredCommentId:I,isDesktop:A,isReadOnly:C,isVideo:j,openOverflowMenu:R,toggleReplyComposer:L,parentId:F,parentType:D=J.o.pin,pinId:O,storyPinDataId:z,replyingToCommentId:M,showReactionListForComment:N,toggleHelpful:Z,toggleLike:B,userAvatarSize:U,isORBACProfileManager:en,pinnerId:ei,reactionListCommentId:ea,viewParameter:el}=e,{user:{id:er,first_name:es,id:eo,image_medium_url:ed,username:ec},id:eu,image_signatures:ep,is_translatable:em,comment_count:eh,helpful_count:eg,tags:e_=[]}=T,[ey,ef]=(0,a.useState)(!1),eb=ey&&T.translatedText||T.text,ev=!em||""===T.translatedText,ex=!1,ek=0,eP=!1,eS=!!T.marked_helpful_by_me,ew=[T.user],eT="",eI=new Date;"aggregatedcomment"===T.type?(ex=T.highlighted_by_pin_owner,ek=T.reaction_counts[1],eP=T.reaction_by_me>0,ew.push(...T.tagged_users),eT=`${ec} ${eb??""}`,eI=new Date(T.created_at)):(ek=T.like_count,eP=T.liked_by_me,t=(T.images[0]||{})["150x150"],eT=`${ec} ${T.details}`,eI=new Date(T.done_at));let eA=(0,u.ZP)(),eE=(0,v.Z)(),{logContextEvent:eC}=(0,_.v)(),{country:ej,isBot:eR}=(0,Y.B)(),{checkExperiment:eL}=(0,f.F)(),{showToast:eF}=(0,b.F9)(),eD=(0,l.useDispatch)(),eO=(0,a.useRef)(),{anyEnabled:ez}=eL("web_m10n_business_access_orbac_ga"),eM=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"].includes(ej),eN=1===T.comment_tag,eZ=(0,x.Z)(),eB=ez?(0,P.lJ)(eE,eZ):"",{nativeEngagementsHiddenForUser:eU}=(0,Q.G)(),{aggregatedCommentsHiddenForUser:eK,translateAggregatedComment:eV,updateAggregatedComment:eH}=(0,S.nf)(),eG=(0,s.Z)(),e$="userdiditdata"===T.type,eW=(0,W.Z)(),eq=em&&eL("dweb_comment_translations").anyEnabled,eY=e$&&eL("dweb_photo_commenting").anyEnabled,eX=!C&&!en&&e$,eJ=eX&&A,eQ=eX&&!A&&eL("mweb_photo_comment_reactions").anyEnabled,e0=[{offset:0,length:ec.length,color:"darkGray"},...e_.map(e=>({...e,offset:(e.offset||0)+ec.length+1,color:"shopping"}))],e1={SHOW_TRANSLATION:eA._('Show translation', 'comment.translateButton.showTranslation', 'text for translation button when translation is available'),TRANSLATING:eA._('Translating...', 'comment.translateButton.translating', 'text for translation button while translating'),SHOW_ORIGINAL:eA._('Show original', 'comment.translateButton.showOriginal', 'text for translation button after translating')},e2=(0,a.useRef)(e1.SHOW_TRANSLATION),[e3,e6]=(0,a.useState)(!1),[e4,e5]=(0,a.useState)(!1),[e8,e7]=(0,a.useState)(!1),[e9,te]=(0,a.useState)(!1),[tt,tn]=(0,a.useState)(!1),[ti,ta]=(0,a.useState)(!1),[tl,tr]=(0,a.useState)(g.A9.NONE),ts=e=>()=>{e5(e)};(0,a.useEffect)(()=>{eq&&eC({event_type:10416,view_type:3,view_parameter:el,component:"pin"===D?13696:13697})},[eC,D,eq,el]),(0,a.useEffect)(()=>{eh>0&&!eR&&eD((0,X.U)("aggregatedcomment"===T.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:eu,redux_normalize_feed:!0}}))},[T.type,eu]);let to=D.toLowerCase()===J.o.aggregatedComment.toLowerCase()||D.toLowerCase()===J.n.didIt.toLowerCase(),td=Object.values(J.n).includes(D.toLowerCase()),tc=T.user.first_name||"",tu=async({contentMarkdown:e,force:t,tags:n})=>{let i,a;te(!0);let l=T.id;if(to&&(i=D.toLowerCase()===J.n.didIt,l=F,a=T.id),l)try{await eG({force:t,fromUnifiedComment:!0,objectType:e$||i?J.o.didIt:J.o.aggregatedComment,objectId:l,orbacSubjectId:eB,tags:n,text:e,replyToCommentId:a})}catch(e){if([q.ky,q.LJ].includes(e.code)&&A)return tr(e.code===q.ky?g.A9.WARNING:g.A9.BLOCK),te(!1),!1}return L&&L(void 0),te(!1),!0},tp=async({contentMarkdown:e,force:t,tags:n})=>{e7(!0);try{eY?await eD((0,w.IU)({id:T.id,details:e,pinId:O??"",image_signatures:ep??[]})):await eH({commentId:T.id,force:t,orbacSubjectId:eB,tags:n,text:e})}catch(e){if([q.ky,q.LJ].includes(e.code)&&A)return tr(e.code===q.ky?g.A9.WARNING:g.A9.BLOCK),e7(!1),!1}return e5(!1),e7(!1),!0},tm=e=>()=>{e6(e),ta(e),e||eC({component:14349,event_type:9408})},th=()=>{tr(g.A9.NONE)},tg=()=>{ey||T.translatedText||eV(T.id),ey||e2.current!==e1.SHOW_TRANSLATION?ey&&e2.current===e1.SHOW_ORIGINAL&&eC({event_type:10418,view_type:3,view_parameter:el,component:"pin"===D?13696:13697}):eC({event_type:10417,view_type:3,view_parameter:el,component:"pin"===D?13696:13697}),ef(!ey)};(0,a.useEffect)(()=>{ey&&ev&&(ef(!ey),eF(({hideToast:e})=>(0,p.jsx)(y.ZP,{onHide:e,text:eA._('Error - couldn\'t translate', 'comment.couldNotTranslate.toast', 'error toast that shows after unsuccessful translation'),type:"error"})))},[ey,ev]),ey?e2.current=T.translatedText?e1.SHOW_ORIGINAL:e1.TRANSLATING:e2.current=e1.SHOW_TRANSLATION;let t_=t&&(0,p.jsx)(i.xu,{marginBottom:A?4:2,marginTop:1,children:(0,p.jsx)(i.zd,{height:150,rounding:2,wash:!0,width:150,children:(0,p.jsx)(i.Ee,{alt:t.url??"",color:"#efefef",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url??""},t.url)})}),ty=A?128:110,tf=T.media?.sticker?.image_url&&eL(A?"ce_dweb_comment_sticker_in_feed":"ce_mweb_comment_sticker_in_feed").anyEnabled&&(0,p.jsx)(i.xu,{height:ty,marginBottom:A?1:0,marginTop:1,width:ty,children:(0,p.jsx)(i.Ee,{alt:T.media?.sticker?.display_name??"",fit:"contain",naturalHeight:0,naturalWidth:0,src:T.media?.sticker?.image_url??""})});return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.$j,{accessibilityLabel:"Loading comment",show:e8}),!e4&&!e8&&(0,p.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(i.xu,{marginEnd:2,children:(0,p.jsx)(r.rU,{to:`/${ec}/`,children:(0,p.jsx)(c.Z,{isQuestion:eN,name:es||ec||"",size:U,src:ed??""})})}),(0,p.jsxs)(i.kC,{direction:"column",flex:"grow",justifyContent:"start",children:[(0,p.jsxs)(i.kC,{justifyContent:"between",children:[(0,p.jsx)(i.kC.Item,{minWidth:0,children:(0,p.jsxs)(i.kC,{dataTestId:"author-and-comment-container",direction:"column",children:[!A&&t_,(0,p.jsx)($.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:ew,tags:e0,text:eT}),A&&t_,tf,eq&&(0,p.jsx)(i.xu,{marginBottom:2,marginTop:2,children:(0,p.jsx)(i.iP,{onTap:()=>tg(),children:(0,p.jsx)(i.xv,{color:"subtle",size:"300",weight:"bold",children:e2.current})})})]})}),I===eu&&(0,p.jsx)(i.xu,{alignSelf:"center",color:"primary",height:8,minWidth:8,rounding:"pill"})]}),ex&&(0,p.jsx)(i.xu,{marginBottom:3,marginTop:4,children:(0,p.jsx)(i.xv,{size:"100",children:(0,H.nk)(eA._('Highlighted by @{{ closeupAttributionUsername }}', 'comment.highlighted.label', 'label on comment that has been highlighted by the Pin creator'),{closeupAttributionUsername:k})})}),(!C||eM)&&(0,p.jsxs)(i.xu,{alignItems:"center",display:"flex",height:A?25:"100%",justifyContent:"between",position:"relative",children:[(0,p.jsxs)(i.kC,{alignItems:"center",gap:{row:5,column:0},children:[!C&&(0,p.jsx)(i.xu,{"data-test-id":"comments-time-passed",children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",children:eW(eI,!0)})}),!C&&(!en||ez)&&(0,p.jsx)(i.xu,{"data-test-id":"comment-reply-button-container",children:(0,p.jsx)(i.iP,{onTap:()=>{L&&L(T,F,D)},children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:eA._('Reply', 'comment.button.reply', 'entry point to reply to comment')})})}),!C&&!en&&(!e$||eJ||eQ)&&(A?(0,p.jsx)(K,{commentId:eu,dismissReactionList:()=>{N(void 0)},helpfulCount:eg,isLovedByMe:eP,isMarkedHelpfulByMe:eS,isReactionListOpen:ea===eu,isTry:e$,lovedCount:ek,onReactionCountHover:()=>{N(eu),eC({event_type:9906,component:"pin"===D?13696:13697,view_type:3,view_parameter:el})},onToggleHelpful:e=>()=>{eS!==e&&Z(eu,!e,e$)()},onToggleLove:e=>()=>{eP!==e&&B(eu,!e,e$)()}}):(0,p.jsxs)(i.xu,{alignItems:"center","data-test-id":"reactions-likeWithCountButton",display:"flex",children:[(0,p.jsx)(i.hU,{accessibilityLabel:eA._('Like', 'comment.button.like', 'like or unlike comment'),icon:"heart",iconColor:eP?"red":"gray",onClick:B(eu,eP,e$),size:"xs"}),ek>0&&(0,p.jsx)(i.xu,{"data-test-id":"love-count-container",children:(0,p.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:ek})})]})),!(eE.id===eo&&eN)&&(!en||ez)&&(0,p.jsx)(i.xu,{ref:eO,"data-test-id":"comment-more-options",children:(0,p.jsx)(i.hU,{accessibilityLabel:eA._('More', 'comment.button.more', 'see more options for comment'),icon:"ellipsis",iconColor:"gray",onClick:()=>{A?e6(!e3):R&&R(T)},size:"xs"})})]}),!C&&!en&&!A&&(!e$||eQ)&&(0,p.jsx)(i.xu,{marginStart:6,children:(0,p.jsx)(i.iP,{fullWidth:!1,onTap:Z(eu,eS,e$),children:(0,p.jsxs)(i.kC,{alignItems:"center",dataTestId:"helpful-reaction",gap:{row:1,column:0},height:"100%",children:[(0,p.jsx)(m,{color:"subtle",isMarkedHelpful:eS}),(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:eA._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful')}),eg>0&&(0,p.jsx)(i.xu,{"data-test-id":"helpful-count-container",children:(0,p.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:eg})})]})})})]})]})]}),A&&(0,p.jsxs)(a.Fragment,{children:[e4&&(0,p.jsx)(i.xu,{marginTop:3,children:(0,p.jsx)(V.Z,{commentWarningModalState:tl,dismissCommentWarningModal:th,initialTags:T.tags,initialText:"aggregatedcomment"===T.type?T.text:T.details,isReplyEditor:td,objectType:J.o.aggregatedComment,onAddItem:tp,onCancelItem:ts(!1),postedPhoto:t,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:el})}),M===eu&&(0,p.jsx)(i.xu,{marginStart:to?0:12,marginTop:3,children:(0,p.jsx)(V.Z,{commentWarningModalState:tl,dismissCommentWarningModal:th,initialTags:to?[{offset:0,object_id:er,length:tc.length,tag_type:1}]:[],initialText:to?`${tc} `:"",isReplyEditor:td,objectType:J.o.aggregatedComment,onAddItem:tu,onCancelItem:()=>{L&&L()},showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:el})})]}),(eh>0||e9)&&(0,p.jsx)(i.xu,{marginStart:12,marginTop:4,children:(0,p.jsx)(G,{aggregatedPinDataId:n,closeupAttributionId:h,closeupAttributionUsername:k,featuredCommentId:I,isDesktop:A,isLoading:e9,isORBACProfileManager:en,isReadOnly:C,isVideo:j,openOverflowMenu:R,parentId:eu,parentType:T.type,pinId:O,pinnerId:ei,reactionListCommentId:ea,replyingToCommentId:M,showReactionListForComment:N,storyPinDataId:z,toggleHelpful:Z,toggleLike:B,toggleReplyComposer:L,viewParameter:el})}),A&&(!C||eM)&&(0,p.jsx)(E,{aggregatedPinDataId:n,anchor:eO.current,closeupAttributionId:h,comment:T,dismiss:e=>{e6(!1),e||eC({component:14349,event_type:10128})},isOpen:e3,isReply:to,onEdit:ts(!0),onShowBlockUserModal:tm(!0),parentId:F,pinId:O,pinnerId:ei}),tt&&(0,p.jsx)(o.N,{children:(0,p.jsx)(d.Z,{aggregatedPinDataId:n,didItDataId:eu,onClose:e=>()=>{tn(!e)},pinId:O??"",username:ec,users:[T.user]})}),ti&&(0,p.jsx)(ee.Z,{firstName:es??"",onBlockUser:()=>{eD((0,et.Ge)({id:er,orbacSubjectId:eB,blockSource:"comment",blockContext:eu,logContextEvent:eC})),eK(er),eU(er),eC({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:eE.isAuth?eE.id:null}}),eC({component:14349,event_type:9407}),ta(!1),eF(({hideToast:e})=>(0,p.jsx)(y.ZP,{onHide:e,text:(0,H.nk)(eA._('You\'ve blocked {{ username }}', 'comment.blockAuthor.toast', 'confirmation toast that shows after user blocks comment author'),{username:ec}).join("")}))},onClearModal:tm(!1)})]})}var ei=n(666472);function ea(e){let t;let{aggregatedPinDataId:n,comments:a,commentsDisabled:l,featuredCommentId:r,gapSize:s=6,isDesktop:o,isLoaded:d=!1,isLoading:c=!1,isReadOnly:m,openOverflowMenu:h,toggleReplyComposer:_,parentId:y,parentType:b,replyingToCommentId:v,toggleHelpful:x,toggleLike:k,userAvatarSize:P,isORBACProfileManager:S,isVideo:w,storyPinDataId:T,pinId:I,closeupAttributionId:A,closeupAttributionUsername:E,pinnerId:C,showReactionListForComment:j,reactionListCommentId:R,viewParameter:L}=e,F=(0,u.ZP)(),{checkExperiment:D}=(0,f.F)(),O=D("ce_dweb_comment_feed_redesign").anyEnabled,z=o&&O?(0,g.mz)(F):F._('No comments yet! Add one to start the conversation.', 'commentThread.emptyState.message', 'comment thread empty state message');return(t=T?"story":w?"video":"pin",l)?(0,p.jsx)(i.xu,{alignSelf:"center","data-test-id":"comments-disabled-label",width:"100%",children:(0,p.jsx)(i.xv,{align:o?"start":"center",color:"subtle",children:F._('Comments are turned off for this Pin', 'commentThread.disabledState.message', 'Comments are turned off or disabled for this pin')})}):a.length>0?(0,p.jsxs)(i.kC,{dataTestId:"aggregated-comment-list",direction:"column",gap:{row:0,column:s},maxHeight:"100%",width:"100%",children:[a.map((e,a)=>(0,p.jsx)(ei.F,{componentType:"pin"===b?13696:13697,impressionAuxFields:{commentId:e.id,pinId:I,pinOwnerUserId:A,pinType:t,parentId:y,parentType:b,commentType:"aggregatedComment"},impressionType:"Comment",loggingId:e.id,slotIndex:a,viewType:o?3:98,children:({impressionTrackerRef:t})=>(0,p.jsx)(i.xu,{ref:t,"data-test-id":"commentThread-comment",children:(0,p.jsx)(en,{aggregatedPinDataId:n,closeupAttributionId:A,closeupAttributionUsername:E,comment:e,featuredCommentId:r,isDesktop:o,isORBACProfileManager:S,isReadOnly:m,isVideo:w,openOverflowMenu:h,parentId:y,parentType:b,pinId:I,pinnerId:C,reactionListCommentId:R,replyingToCommentId:v,showReactionListForComment:j,storyPinDataId:T,toggleHelpful:x,toggleLike:k,toggleReplyComposer:_,userAvatarSize:P,viewParameter:L})})},e.id)),(0,p.jsx)(i.$j,{accessibilityLabel:F._('Comments loading', ' - ', ' -- '),show:c})]}):(0,p.jsxs)(i.xu,{alignSelf:"center",width:"100%",children:[(0,p.jsx)(i.$j,{accessibilityLabel:F._('Comments loading', ' - ', ' -- '),show:c}),d&&(0,p.jsx)(i.xv,{align:o?"start":"center",color:"subtle",children:z})]})}},53264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),a=n(14583),l=n(785893);let r=(0,i.lazy)(()=>Promise.all([n.e(63349),n.e(28974)]).then(n.bind(n,589773)));function s(e){return(0,l.jsx)(a.Z,{fallback:null,children:(0,l.jsx)(r,{...e})})}},961907:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),l=n(696534),r=n(140017),s=n(785893);let o=({hasManyComments:e,inCommentFeedPreview:t,isFirstTaggedUserAuthor:n,isInCommentModule:o,shouldShowFirstNameOnly:d,tags:c,taggedUsers:u,text:p})=>{let m=(0,r.ZP)(),h=(0,i.useRef)(null),g=(0,l.Yc)()?"#111111":"#FFFFFF",[_,y]=(0,i.useState)(!1),f=m._('...view', 'comment.module.toggle.view', 'label on comment module to open coment thread'),b=m._('...view all', 'comment.module.toggle.viewAll', 'label on comment module to open coment thread'),v=e?b:f;(0,i.useEffect)(()=>{h.current&&y(h.current.scrollHeight>h.current.offsetHeight)},[h,y,p]);let x=(e,t)=>(0,s.jsx)(a.xv,{inline:!0,overflow:"normal",children:(0,s.jsx)("span",{className:"text-container",children:e})},t),k=(e,t,i,l)=>{let r=d||0===i&&n?u[i].first_name||u[i].username[0]:t;return(0,s.jsx)(a.xv,{color:e,inline:!0,overflow:"normal",weight:"bold",children:o?r:(0,s.jsx)(a.rU,{display:"inlineBlock",href:`/${u[i].username}`,underline:"hover",children:r})},l)};return(0,s.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!c.length||!u||c.length!==u.length)return x(p,"1");let e=0,n=[];return c.forEach((t,i)=>{let a=p.substring(e,t.offset);e=t.offset+t.length;let l=p.substring(t.offset,e);n=n.concat(x(a,`${i}a`)).concat(k(t.color,l,i,`${i}b`))}),n=n.concat(x(p.substring(e),"2")),(0,s.jsx)(a.xu,{marginEnd:3,position:"relative",children:(0,s.jsxs)(a.xv,{ref:h,inline:!0,lineClamp:o?2:t?1:void 0,children:[n,o&&!_&&(0,s.jsxs)(a.xv,{inline:!0,weight:"bold",children:["\xa0",v]}),o&&_&&(0,s.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${g} 50%, ${g}00 100%)`}},display:"inlineBlock",position:"absolute",right:!0,width:140,children:(0,s.jsxs)(a.xv,{align:"end",weight:"bold",children:["\xa0",v]})})]})})})()})}},903591:(e,t,n)=>{"use strict";n.d(t,{A9:()=>d,F1:()=>h,Ff:()=>m,LH:()=>l,Rv:()=>r,TJ:()=>s,i$:()=>c,iB:()=>a,mz:()=>p,pW:()=>o,zs:()=>u});var i=n(427514);let a=48,l=a+8,r=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),s="comment_featured_ids",o="did_it_featured_ids",d={NONE:"none",WARNING:"warning",BLOCK:"block"},c=(e,t)=>{let n=e?(0,i.Z)(t.ngettext('{{ count }} Comment', '{{ count }} Comments', e, 'closeup.commentThread.heading.commentCount', 'Comment count on a Pin. count: number of comments'),{count:e.toString()}):t._('No comments yet', 'closeup.commentThread.heading.noComments', 'Prompt for user to comment on Pin');return n},u=(e,t)=>[{offset:0,length:e.length,color:"darkGray"},...t.map(t=>({...t,offset:(t.offset||0)+e.length+1,color:"shopping"}))],p=e=>e._('Add one to start the conversation', 'closeup.commentThread.emptyState.message', 'Comment thread empty state message'),m=e=>e._('posted a photo', 'comment.preview.text.photo', 'Comment preview text for an image that a user posted'),h=e=>e._('posted a sticker', 'comment.preview.text.sticker', 'Comment preview text for a sticker that a user posted')},717203:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,w:()=>h});var i=n(339001);let a=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),l=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),r=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),s=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),o=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),d=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)'),c=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'),u=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'),p=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)');function m(e,t){let n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,i.nk)(a(t),n);case 2:return(0,i.nk)(l(t),n);case 3:return(0,i.nk)(r(t),n);case 4:return(0,i.nk)(s(t),n);case 5:return(0,i.nk)(o(t),n);case 6:return(0,i.nk)(d(t),n);default:return(0,i.nk)(u(t),n)}}function h(e,t){let n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,i.nk)(a(t),n);case 2:return(0,i.nk)(l(t),n);case 3:return(0,i.nk)(r(t),n);case 4:return(0,i.nk)(s(t),n);case 5:return(0,i.nk)(o(t),n);case 6:return(0,i.nk)(d(t),n);case 7:return(0,i.nk)(c(t),n);default:return(0,i.nk)(p(t),n)}}},549629:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o,Z:()=>d});var i=n(667294),a=n(587703),l=n(525364),r=n(996523),s=n(5859);function o(e,t){let{setViewContextData:n}=(0,l.sV)(),{requestIdentifier:o}=(0,s.B)(),d=(0,a.Z)(),{viewData:c}=(0,l.SU)();(0,i.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,r.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:o}))},[t])}function d(e){let{children:t,log:n}=e;return o(n),t||null}},214877:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,v:()=>s});var i=n(525364),a=n(342513),l=n(785893);let{Provider:r,useHook:s}=(0,a.Z)("ContextLogger");function o({children:e,value:t}){let{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,l.jsx)(r,{value:t,children:e})}},587703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(214877);let a=()=>(0,i.v)().logContextEvent},287434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=()=>1e6*Date.now()},696534:(e,t,n)=>{"use strict";n.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>o,vs:()=>d});var i=n(667294),a=n(191313),l=n(217058);let r="theme",s="dark"===(0,a.qn)(r),o=()=>s;function d(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(o())},[t]),e}let c=()=>{(0,a.Nh)(r,"dark"),(0,l.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,a.L_)(r),(0,l.My)("mweb.dark_mode.disable"),window.location.reload()}},531960:(e,t,n)=>{"use strict";n.d(t,{g:()=>a,z:()=>i});let i="https://p.tvpixel.com/i?aid=pinterest-aac27acd-90e7-48ad-9f38-60b7bf197c22&e=pv&p=web&tv=1x1",a="https://p.tvpixel.com/i?aid=pinterest-aac27acd-90e7-48ad-9f38-60b7bf197c22&e=se&p=web&tv=1x1&se_ca=conversion&se_ac="},633371:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,FB:()=>u,ZY:()=>m,e7:()=>p,l8:()=>h});var i=n(531960),a=n(452388),l=n(891276);let r=i.z,s=i.g,o="dpm_images",d="dpm_pixel_unauth";function c(e){let{origin:t,pixelEvent:n,userIdString:i}=e,a=new URL(n?t+n:t);return a.searchParams.set("url",document.URL),a.searchParams.set("refr",document.referrer),a.searchParams.set("uid",i),a.toString()}async function u(e,t,n){let i="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await (0,a.Z)(a.H.sha256,t):"",s=e+"*"+i,u=c({origin:r,userIdString:s});(0,l.VL)(e,"dpm_pixel_auth",d,o,u,s,"dpm",n)}async function p(e,t){let n=c({origin:r,userIdString:e});(0,l.PN)(e,d,o,n,t)}async function m(e,t,n,i){let r="";t&&(r="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await (0,a.Z)(a.H.sha256,t):"");let s=e+"*"+r;(0,l.YJ)(n,e,o,s,"dpm",i)}async function h(e,t="",n,i,r){let d;if(t){let n="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await (0,a.Z)(a.H.sha256,t):"";d=c({origin:s,pixelEvent:e,userIdString:n})}(0,l.dO)({pixelId:e,divId:o,url:d,eventCategory:n,eventName:i,onSendPixelSuccess:r})}},419075:(e,t,n)=>{"use strict";function i(e){let t=Math.round(e/1e3),n=Math.floor(t/60),i=t%60;return n+":"+(i<10?"0":"")+i}n.d(t,{Z:()=>i})},11109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>Math.floor(new Date(e).getTime()/1e3)},105737:(e,t,n)=>{"use strict";function i(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(!l(e[i],t[i],n+1))return!1;return!0}function a(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!(i in t)||!l(e[i],t[i],n+1))return!1;return!0}function l(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let l=Object.prototype.toString.call(e),r=Object.prototype.toString.call(t);if(l!==r)return!1;switch(l){case"[object Array]":return i(e,t,n);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return a(e,t,n);case"[object Map]":return a(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function r(e,t){return l(e,t,0)}n.d(t,{ZP:()=>r,qP:()=>i})},680007:(e,t,n)=>{"use strict";n.d(t,{IV:()=>c,Ii:()=>m,Ob:()=>u,sX:()=>p,vF:()=>d});var i=n(452388),a=n(282854),l=n(891276);let r="dentsu_images",s="ds_pixel_unauth",o="PageView";function d(e,t){let n=new URL("https://pp.d2-apps.net/v1/impressions/log?client_id=644&c_1=pintrest&c_2="+document.URL);return n.searchParams.set("c_3",t),n.searchParams.set("c_4",e),n.searchParams.set("c_7",(0,l.OJ)()),n.toString()}async function c(e,t,n){let a="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await (0,i.Z)(i.H.sha256,t):"",c=e+"*"+a,u=d(c,o);(0,l.VL)(e,"ds_pixel_auth",s,r,u,c,"dentsu",n)}async function u(e,t){let n=d(e,o);(0,l.PN)(e,s,r,n,t)}function p(e,t,n){(0,l.dO)({pixelId:e,divId:r,eventCategory:t,eventName:n})}function m(e){let t=document.getElementById("dentsuFBPixel");function n(){let t=(0,a.Z)({src:"https://"+location.hostname+"/_/_/pixel/fb-dentsu-jp.html",id:"dentsuFBPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(document.body)document.body.appendChild(t),t.contentWindow.addEventListener("load",()=>window._sendFacebookPixel=t.contentWindow.fbq),e();else throw Error("missing <body>")}t||("complete"===document.readyState&&n(),window.addEventListener("load",n))}},541841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),a=n(973935);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends i.Component{constructor(...e){super(...e),l(this,"observer",null),l(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}let s=r},771929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),a=n(140017),l=n(785893);function r({color:e,onClick:t,overrideText:n}){let r=(0,a.ZP)(),s=n||r._('Got it', 'Acknowledge protected account modal message', 'Acknowledge protected account modal message');return(0,l.jsx)(i.zx,{accessibilityLabel:s,color:e||"gray",fullWidth:!0,onClick:t,text:s})}},505433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(278967),r=n(30378),s=n(55202),o=n(785893);function d({children:e,headingNode:t,heading:n,onDismiss:d,size:c}){return(0,i.useEffect)(()=>(r.Z.pause(),function(){r.Z.resume()}),[]),(0,o.jsx)(a.mh,{zIndex:l.C,children:(0,o.jsx)(s.Z,{allowEsc:!0,children:(0,o.jsx)(a.u_,{accessibilityModalLabel:n,heading:t||n,onDismiss:()=>{r.Z.resume(),d()},padding:"none",role:"alertdialog",size:c||"md",children:e})})})}},353971:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(771929),r=n(505433),s=n(559356),o=n(140017),d=n(339001),c=n(785893);function u({onClose:e}){let t=(0,o.ZP)(),n=t._('Common reasons for account deactivation include:', ' - ', ' -- '),u=t._('{{ help_link }} if you have questions or would like to reactivate your account.', ' - ', ' -- '),p=[t._('Violating Pinterest Community Guidelines.', 'One example reason for account deactivation', 'One example reason for account deactivation'),t._('We noticed unusual activity on your account.', 'One example reason for account deactivation', 'One example reason for account deactivation'),t._('You requested an account closure.', 'One example reason for account deactivation', 'One example reason for account deactivation')];return(0,c.jsx)(r.Z,{heading:t._('Your account has been deactivated', 'Modal heading for user who have attempted to login with a deactivated account', 'Modal heading for user who have attempted to login with a deactivated account'),onDismiss:e,size:"md",children:(0,c.jsxs)(a.xu,{marginBottom:4,paddingX:6,children:[(0,c.jsxs)(a.xu,{marginBottom:4,children:[(0,c.jsxs)(a.xv,{children:[" ",n," "]}),(0,c.jsx)(a.xu,{paddingY:2,children:(0,c.jsx)(i.Fragment,{children:p.map(e=>(0,c.jsx)(a.xv,{children:" "+e},`reasons-${e}`))})}),(0,c.jsx)(a.xv,{inline:!0,children:(0,d.nk)(u,{help_link:(0,c.jsx)(s.q,{},"suspended user help_link")})})]}),(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(l.Z,{color:"red",onClick:e,overrideText:t._('Got it', 'Acknowledge suspended account modal message', 'Acknowledge suspended account modal message')})})]})})}},559356:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var i=n(883119),a=n(140017),l=n(785893);let r=()=>{let e=(0,a.ZP)();return(0,l.jsx)(i.rU,{display:"inlineBlock",href:"https://help.pinterest.com/en/contact?current_page=about_you_page&appeals=account_suspension",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"auto",children:e._('Contact us', 'link text shown to redirect to help.pinterest.com for appealing a suspension', 'link text shown to redirect to help.pinterest.com for appealing a suspension')})}},175324:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),l=n(587703),r=n(140017),s=n(494125),o=n(785893);function d({handleSignup:e,handleLogin:t}){let n=(0,r.ZP)(),[l,d]=(0,i.useState)(!1),c=(0,i.useRef)(null);return(0,s.Z)(()=>{let t;return c.current=window.setTimeout(()=>{t=window.requestAnimationFrame(()=>{d(!0)}),e()},2e3),()=>{c.current&&window.clearTimeout(c.current),t&&window.cancelAnimationFrame(t)}}),(0,o.jsxs)(a.kC,{alignItems:"center",direction:"column",flex:"grow",justifyContent:"center",children:[(0,o.jsx)(a.xu,{children:(0,o.jsx)(a.xv,{align:"center",weight:"bold",children:(0,o.jsx)("span",{className:"deprecatedTextSizeXL",children:l?n._('Finishing up...', 'Title of a dialog telling the user that an account is almost done being created.', 'Title of a dialog telling the user that an account is almost done being created.'):n._('Creating your account...', 'Title of a dialog telling the user that an account is being created.', 'Title of a dialog telling the user that an account is being created.')})})}),(0,o.jsx)(a.xu,{paddingY:4,children:(0,o.jsx)(a.$j,{accessibilityLabel:n._('Account is being created', 'Accessibility label for account creation loading dialog', 'Accessibility label for account creation loading dialog'),show:!0})}),l?null:(0,o.jsx)(a.xu,{marginTop:2,children:(0,o.jsx)(a.xv,{align:"center",inline:!0,children:n._('Didn\u2019t mean to create a new account?', 'Description text telling the user that they can log in if they did not intend to create a new account', 'Description text telling the user that they can log in if they did not intend to create a new account')})}),l?null:(0,o.jsx)(a.xu,{children:(0,o.jsx)(a.xv,{align:"center",inline:!0,children:(0,o.jsx)(a.rU,{display:"inlineBlock",href:"/login",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),c.current&&window.clearTimeout(c.current),e&&(e.preventDefault(),e.stopPropagation()),t()},underline:"hover",children:n._('Click here to log in.', 'Login button which will show the login modal and enable the user to log in', 'Login button which will show the login modal and enable the user to log in')})})})]})}var c=n(120726),u=n(610954);let p=({children:e})=>(0,o.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:new a.Ry(1e3),children:(0,o.jsx)(a.xu,{color:"default",direction:"column",display:"flex",margin:6,padding:7,position:"fixed",right:!0,rounding:2,top:!0,width:376,children:e})});function m({handleCancelClick:e,handleConfirmSignup:t,handleShowLogin:n,step:m}){let h=(0,r.ZP)(),[g,_]=(0,i.useState)(!1),y=(0,l.Z)(),f={view_type:10,view_parameter:3202};(0,s.Z)(()=>(y({event_type:120,view_parameter:f.view_parameter}),document.body&&(document.body.style.overflow="hidden"),()=>{document.body&&(document.body.style.overflow="")}));let b=()=>{y({...f,event_type:101,element:30}),n()};return(0,o.jsx)(p,{children:"delayedSignupLoadingSpinner"===m?(0,o.jsx)(d,{handleLogin:b,handleSignup:()=>{y({...f,event_type:101,element:31}),t()}}):(0,o.jsxs)(a.xu,{children:[g?(0,o.jsx)(u.Z,{}):null,(0,o.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,marginTop:2,position:"absolute",right:!0,top:!0,children:(0,o.jsx)(a.hU,{accessibilityLabel:h._('Cancel', 'Button to close the signup/login modal', 'Button to close the signup/login modal'),icon:"cancel",iconColor:"gray",onClick:()=>{y({...f,event_type:101,element:73}),e()},size:"sm"})}),(0,o.jsx)(a.xv,{align:"start",weight:"bold",children:(0,o.jsx)("span",{className:"deprecatedTextSizeXL",children:h._('Continue to Pinterest', 'Title of a dialog telling enabling the user to continue with sign up or log in', 'Title of a dialog telling enabling the user to continue with sign up or log in')})}),(0,o.jsx)(a.xu,{marginTop:2,children:(0,o.jsx)(a.xv,{align:"start",children:h._('Hmm, it looks like you don\'t have an account yet. Let\'s get started!', 'Description text of a dialog asking the user to sign up for a Pinterest account', 'Description text of a dialog asking the user to sign up for a Pinterest account')})}),(0,o.jsx)(a.xu,{marginTop:5,children:(0,o.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:()=>{y({...f,event_type:101,element:31}),_(!0),t()},text:h._('Sign up', 'Text on a button which will create an account when clicked', 'Text on a button which will create an account when clicked')})}),(0,o.jsx)(a.xu,{marginTop:2,children:(0,o.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:b,text:h._('Log in using a different method', 'Text on a button which will take the user to login when clicked.', 'Text on a button which will take the user to login when clicked.')})}),"staticSignupLoginWithTOS"===m?(0,o.jsx)(a.xu,{marginEnd:4,marginStart:4,marginTop:4,children:(0,o.jsx)(c.Z,{dark:!0})}):null]})})}},120726:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,Z:()=>c});var i=n(883119),a=n(140017),l=n(339001),r=n(702497),s=n(785893);let o=`
.TermsOfService__light a {
  color: rgba(255,255,255,0.9);
}
`,d={dark:{color:"#767676",width:"224px"},light:{color:"rgba(255,255,255,0.9)",lineHeight:"150%",margin:"10px auto",textShadow:"0 1px rgba(0,0,0,0.18)",width:"272px"},revampedBizSignup:{color:"#5f5f5f",fontSize:"12px",fontWeight:"400"}};function c({dark:e,container:t=""}){let n;let o=(0,a.ZP)();return n="revamped_business_login_page"===t?"revampedBizSignup":e?"dark":"light",(0,s.jsx)(i.xu,{marginTop:3,children:(0,s.jsx)("span",{className:e?"":"TermsOfService__light",color:"revampedBizSignup"===n?"subtle":void 0,"data-test-id":"terms-of-service",style:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"11px",fontWeight:"normal",textAlign:"center",WebkitTransition:"opacity .2s linear",transition:"opacity .2s linear",...d[n]},children:(0,s.jsx)("span",{children:(0,l.nk)(o._('By continuing, you agree to Pinterest\'s {{ tos }} and acknowledge you\'ve read our {{ privacyPolicy }}. {{ noticeAtCollection }}.', 'termOfService.text', 'Agreement to legal texts for new users tos:Link to Terms of service privacyPolicy:Link to the Privacy Policy noticeAtCollection:Link to the Notice at collection article'),{tos:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{fontWeight:"bold",..."revampedBizSignup"!==n&&{color:"#111"}}},"data-test-id":"tos",display:"inlineBlock",children:(0,s.jsx)(i.rU,{display:"inlineBlock",href:r.U5h,target:"blank",underline:"hover",children:o._('Terms of Service', 'termOfService.link.tos', 'Link to TOS')},"tos")},"tos"),privacyPolicy:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{fontWeight:"bold",..."revampedBizSignup"!==n&&{color:"#111"}}},"data-test-id":"privacy",display:"inlineBlock",children:(0,s.jsx)(i.rU,{display:"inlineBlock",href:"/_/_/policy/privacy-policy/",target:"blank",underline:"hover",children:o._('Privacy Policy', 'termOfService.link.privacyPolicy', 'Link to privacy policy')},"privacy")},"privacy"),noticeAtCollection:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{fontWeight:"bold",..."revampedBizSignup"!==n&&{color:"#111"}}},"data-test-id":"noticeAtCollection",display:"inlineBlock",children:(0,s.jsx)(i.rU,{display:"inlineBlock",href:r.cvl,target:"blank",underline:"hover",children:o._('Notice at collection', 'termOfService.link.noticeAtCollection', 'Link to notice at collection')},"noticeAtCollection")},"noticeAtCollection")})})})})}},165736:(e,t,n)=>{"use strict";n.d(t,{a$:()=>p,kv:()=>u,pH:()=>m});var i=n(216167),a=n(96452),l=n(702497),r=n(337478);function s(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends Error{constructor(e){super(e.statusText),s(this,"name","CrossDomainHandshakeHttpError"),this.response=e}}class d extends Error{constructor(e){super(e.message),s(this,"name","CrossDomainHandshakeApiError"),this.api_error_code=e.code,this.response=e}}let c=({path:e,data:t,unauthId:n})=>fetch(`${l.cDv}/v3/${e}/handshake/`,{credentials:"include",mode:"cors",method:"POST",body:(0,r.Z)(t),headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":n}}).then(e=>{if(200===e.status||401===e.status||409===e.status)return e;throw new o(e)}).then(e=>e.json()).then(e=>{if("success"===e.status)return Promise.resolve(e);if(e.code===a.Zn)return e.api_error_code=e.code,Promise.reject(e);throw new d(e)}).catch(e=>{throw e}),u=(e,t=!1)=>i.Z.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate(),p=(e,{facebookToken:t,inviteCode:n,locale:i,referrer:a,unauthId:l})=>{let r=e.business_name&&"partner"||e.facebook_id&&"facebook"||"email",s={email:e.email||"",username:e.username||"",password:e.password||"",first_name:e.first_name||"",last_name:e.last_name||"",country:e.country||"",locale:i,referrer:a};return e.birthday&&(s={...s,birthday:e.birthday}),e.custom_gender&&(s={...s,custom_gender:e.custom_gender}),e.gender&&(s={...s,gender:e.gender}),e.business_name&&(s={...s,business_name:e.business_name,first_name:e.business_name}),n&&(s={...s,invite_code:n}),e.facebook_id&&(s={...s,facebook_id:e.facebook_id,facebook_token:t||e.facebook_token||""}),e.recaptchaV3Token&&(s={...s,recaptcha_v3_token:e.recaptchaV3Token}),c({path:`register/${r}`,data:s,unauthId:l})},m=(e,{recaptchaV3Token:t,referrer:n,unauthId:i})=>{let a=e.mfa_token&&"login/mfa"||"login",l={username_or_email:e.username_or_email.trim(),password:e.password,referrer:n};return e.mfa_token&&(l={...l,mfa_token:e.mfa_token}),t&&(l={...l,token:t}),c({path:a,data:l,unauthId:i})}},239493:(e,t,n)=>{"use strict";n.d(t,{o:()=>s,x:()=>r});var i=n(667294),a=n(140017);let l=new Set,r=e=>{l.forEach(t=>t(e))},s=e=>{let t=(0,a.ZP)();(0,i.useEffect)(()=>{let n=n=>{e(n||t._('Unknown Error', 'unauth.error.modal.unknown', 'Text saying an unknown error occurredr'))};return l.add(n),()=>{l.delete(n)}},[])}},847160:(e,t,n)=>{"use strict";n.d(t,{Bx:()=>a,N4:()=>r,is:()=>s,lt:()=>i,oM:()=>l});let i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),a=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),l=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),s=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},877457:(e,t,n)=>{"use strict";n.d(t,{g:()=>r,t:()=>l});var i=n(667294);let a=(0,i.createContext)(null),l=a.Provider,r=()=>(0,i.useContext)(a)},322079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(667294),a=n(216167),l=n(224796),r=n(214877),s=n(658583),o=n(622541),d=n(165736),c=n(123526),u=n(820428),p=n(96452),m=n(488726),h=n(467707),g=n(508218),_=n(182962),y=n(891276),f=n(535053),b=n(228441),v=n(731714),x=n(217058),k=n(722363),P=n(546689),S=n(953565);function w(){let e=(0,m.hq)(),t=(0,_.Z)(),{logContextEvent:n}=(0,r.v)(),w=(0,k.Z)();return(0,i.useCallback)(({creds:i,isAccountSwitch:r,loggingOptions:{loggingData:m=Object.freeze({}),loginAttemptContextEvent:_},recaptchaV2Token:k,recaptchaV3Token:T})=>{t();let I=!!(i.facebook_autologin||i.autologin),A=(0,g.eD)(i);v.Z.setItem(l.V6,(0,g.nY)(i));let E=e=>{let t=i.google_open_id_token?"google":"facebook";I&&(0,x.dy)({event:e,provider:t})},C=e=>{I||(0,x.EX)({event:e,provider:(0,g.nY)(i)})},j=e=>{n({..._,event_type:e,aux_data:{..._.aux_data,upsell_reason:_.aux_data?.upsell_reason||(I?"autologin":v.Z.getItem(l.bg)||null),upsell_view_count:v.Z.getItem(l.w0)||0}}),7536===e&&v.Z.setItem(l.w0,0)};j(7534),w({action:I?"autologin":"login",event:"attempt",trigger:m.trigger,type:A});let R=e=>{let t="referrer_unknown";try{let e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}let n=m===Object(m)?m.container:"container_unknown";(0,x.My)("login.referrer."+t+"."+A),(0,x.My)("login.container."+String(n)+"."+A),(0,x.My)("login.type."+A);let a=A||"method_unknown",l=m.page||"page_unknown";i.facebook_autologin?((0,x.My)("web_autologin_facebook"),(0,x.My)("new_web_autologin_facebook",{page:l,referrer:t,container:n})):((0,x.My)(`web_login.${a}.success.${l}.${String(n)}.${t}.tier1`),(0,S.nP)(`web_login.${a}.success.${l}.${String(n)}.${t}.tier1`),(0,x.My)(`new_web_login.${a}.success`,{page:l,referrer:t,container:n})),(0,y.ko)({country:e?.country,countryFromHostName:e?.countryFromHostName,countryFromIp:e?.countryFromIp,regionFromIp:e?.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),j(7536),w({action:I?"autologin":"login",event:"success",trigger:m&&m.trigger,type:A})},L=({error:e,isCrossDomain:t})=>{if(!e)return;let n=e.http_status===f.Ej?f.Ej:e.api_error_code,i=n;n&&p.qF.has(n)&&(i=p.qF.get(n));let{container:a,trigger:l}=m;(0,x.My)(`${t?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error"}.${String(i)}.${a||"unknow_container"}.${A}`),j(7535),w({action:I?"autologin":"login",event:"fail",trigger:l,type:A})};if(i.username_or_email&&!i.mfa_resend&&e&&-1!==h.Z.indexOf(e.origin)){let t=e=>(0,x.My)(`web_cross_domain_login.${e}.${(0,g.eD)(i)}`);t("attempt");let{referrer:n,facebookToken:a,unauthId:l}=e;return(0,d.pH)(i,{recaptchaV3Token:T,referrer:n,facebookToken:a,unauthId:l}).then(e=>{let n=e&&e.data;if(n)return t("success_with_token"),(0,d.kv)(n).then(()=>(t("success_token_exchanged"),R(),Promise.resolve()),e=>{throw t("success_token_not_exchanged"),e});throw t("success_without_token"),Error()},e=>{throw t("failure"),L({error:e,isCrossDomain:!0}),e})}E("login_api_call_start"),C("login_api_call_start");let F=(0,P.OJ)(),D=a.Z.create("UserSessionResource",{...i,...F?{referrer:F}:Object.freeze({}),get_user:i.get_user||i.switch_account&&r,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,P.t_)()||null,recaptchaV2Token:k,recaptchaV3Token:T});return D.callCreate({showError:!1,async:!0}).then(e=>{let{country:t,country_from_hostname:n,country_from_ip:i,region_from_ip:a}=e?.client_context||Object.freeze({});return R({country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:a}),E("login_api_call_success"),C("login_api_call_success"),(0,c.B)(!1),(0,u.Z)(),s.zN(o.e7.name),s.zN(o.x3.name),(0,b.Dm)("login").then(()=>e)},e=>(L({error:e,isCrossDomain:!1}),E("login_api_call_failure"),C("login_api_call_failure"),Promise.reject(e)))},[e,t,n,w])}},256985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),a=n(616550),l=n(877457),r=n(623891);let s=e=>{let t=(0,a.TH)(),n=(0,l.g)();(0,i.useEffect)(()=>{if(n){let{showDesktopSignupModal:i,pinLinkClickHandler:a}=n,{mt:l,l:s,showsignup:o}=(0,r.Z)(t.search);l?i({signupFlow:"login"===l?{type:"login"}:{type:"signup"},attributionLabel:"navigation_1",container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}):o?i({signupFlow:{type:"signup"},attributionLabel:"closeup_query_param_showSignup",source:"defaultSource",reason:"UPSELL_LOGIN_OR_SIGNUP"}):s&&a&&a()}},[e,t,!!n])}},515278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(847160),a=n(140017),l=n(166770);let r=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,l.H)(),r=(0,a.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||i.lt(r))}}},278967:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,P:()=>a});var i=n(883119);let a=new i.Ry(1e4),l=new i.H3([a])},123526:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,a:()=>l});var i=n(224796),a=n(731714);let l=()=>!!a.Z.getItem(i.WM),r=e=>{a.Z.setItem(i.WM,!!e)}},103322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),a=n(701785),l=n(953565);function r(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,n=this.props.type||"secondary";(0,a.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),(0,l.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,l.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},510989:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(103322);let a=i.Z},401429:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(667294),a=n(702664),l=n(587703),r=n(25919),s=n(216167);let o=(e,t,n,i)=>(a,l)=>o=>{if(a&&a.id){let d=s.Z.create(e,{placed_experience_id:a.id,extra_context:{}});switch(t){case"dismissed":d.callDelete().then(()=>{o((0,r.fO)()),n&&i&&n({event_type:i,object_id_str:a.id.toString()})});break;case"completed":d.callUpdate().then(()=>{l||o((0,r.fO)()),n&&i&&n({event_type:i,object_id_str:a.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{n&&i&&n({event_type:i,object_id_str:a.id.toString()})})}}},d=e=>o("UserExperienceCompletedResource","completed",e,6567),c=o("UserExperienceResource","dismissed"),u=e=>o("UserExperienceViewedResource","viewed",e,4503);var p=n(785893);function m(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),m(this,"state",{hasCompleted:[],hasDismissed:[]}),m(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))}),m(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:a,preventRemoval:l,targeting:r}=this.props,s=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){let{placement_id:e,experience_id:o}=i||{},d=l||2===s;(1===s||d)&&e&&o&&(a?n(i,d):r?t(e,o,d,r):t(e,o,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,o]})))}}),m(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:a,targeting:l}=this.props,{placement_id:r,experience_id:s}=n||{};n&&!this.state.hasDismissed.includes(s)&&(i?t(n):l?e(r,s,!!a,l):e(r,s,!!a),this.setState(e=>({hasDismissed:[...e.hasDismissed,s]})))}),m(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:a}=this.props,{experience_id:l,type:r}=e;return t&&t.length?t.includes(l):n&&n.length?n.includes(r):i?i(e):!a||a===r})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,n=this.props.experience;n&&this.isEligibleExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function g(e){let t=(0,a.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),n=(0,a.useDispatch)(),i=(0,r.be)(),s=(0,r.Am)(),o=(0,r.Ig)(),m=(0,l.Z)();return(0,p.jsx)(h,{...e,completeExperience:(e,t,a,l)=>n(i(e,t,a,!1,{},l)),completeExperienceObject:(e,t)=>n(d(m)(e,t)),dismissExperience:(e,t,i,a)=>n(s(e,t,i,void 0,a)),dismissExperienceObject:e=>n(c(e)),experience:t,viewExperience:(e,t,i)=>n(o(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n(u(m)(e))})}m(h,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},179370:(e,t,n)=>{"use strict";n.d(t,{F:()=>p,M:()=>u});var i=n(667294),a=n(702664),l=n(14890),r=n(342513),s=n(25919),o=n(957753),d=n(785893);let{Provider:c,useHook:u}=(0,r.Z)("ExperienceContext");function p({children:e}){let[t,n]=(0,i.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let n={...e};return delete n.mountedPlacements[t.payload],delete n.registerdAfterActionPlacements[t.payload],n}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:r,registerdAfterActionPlacements:u}=t,p=(0,a.useDispatch)(),m=(0,a.useSelector)(e=>e.experiences),h=(0,s.be)(),g=(0,s.Am)(),_=(0,s.Ig)(),y=(0,i.useMemo)(()=>{let e=(0,l.bindActionCreators)({completeExperience:h,dismissExperience:g,fetchAllExperiences:s.fO,fetchAllExperiencesMulti:o.NW,fetchExperienceForPlacements:s.pz,mountPlacement:s.N,triggerExperimentsForPlacement:s.kd,viewExperience:_},p);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{n({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[h,g,p,n,_]),f=(0,i.useMemo)(()=>({experiences:m,mountedPlacements:r,registerdAfterActionPlacements:u,...y}),[m,r,u,y]);return(0,d.jsx)(c,{value:f,children:e})}},219651:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(667294),a=n(702664),l=n(883119),r=n(401429),s=n(930837),o=n(444781),d=n(325362),c=n(554786),u=n(32346),p=n(844683),m=n(140017),h=n(30378),g=n(55202),_=n(239821),y=n(785893);let f=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},b=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function v({accessibilityModalLabel:e,allowScroll:t=!1,children:n,closeOnOutsideClick:a=!0,footer:r,isOpen:s,modalWidth:o,onDismiss:d,zIndex:c}){let v=(0,m.ZP)(),x=(0,i.useRef)(!1),{setAppFocusState:k}=(0,_.I)();return((0,i.useEffect)(()=>(x.current=(0,u.Z)(()=>{}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&x.current&&(window.cancelAnimationFrame(x.current),x.current=null)}),[]),(0,i.useEffect)(()=>(s?(h.Z.pause(),k(!1)):(h.Z.resume(),k(!0)),()=>{s&&(h.Z.resume(),k(!0))}),[k,s]),(0,i.useEffect)(()=>{let e=s&&!t;return e&&f(),()=>{e&&b()}},[s,t]),s)?(0,y.jsx)(g.Z,{children:(0,y.jsx)(l.mh,{children:(0,y.jsxs)(l.xu,{"aria-label":e,position:"relative",role:"dialog",zIndex:c||p.b7,children:[(0,y.jsx)(l.iP,{accessibilityLabel:v._('Mobile Popup Modal Mask', 'mweb.experience_popup_modal.mask', 'The acessibility label for the mask of popup modal'),onTap:()=>{a&&d()},tapStyle:"none",children:(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1)})}),(0,y.jsxs)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},overflow:"hidden",position:"fixed",rounding:4,top:!0,width:o,zIndex:new l.Ry(1),children:[n,r]})]})})}):null}var x=n(282778),k=n(983983);let P=new l.Ry(k.fe),S=new l.H3([P]);function w(e){let t=(0,a.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),n=t?.display_data?.delay_in_millis,[u,p]=(0,i.useState)(t&&!n),m=(0,c.HG)();return(0,i.useEffect)(()=>{p(t&&!t.display_data?.delay_in_millis)},[t]),(0,i.useEffect)(()=>{let e;return n&&(e=setTimeout(()=>{p(!0)},n)),()=>clearTimeout(e)},[n]),(0,y.jsx)(i.Fragment,{children:u&&(0,y.jsx)(r.Z,{eligibleTypes:[26],experience:t,placementId:e.placementId,children:({complete:e,dismiss:t,experience:{display_data:n}})=>{let i=(0,o.Z)(d.Z)(n),{title:a,body:r,completeButton:c}=i;return a&&r&&c.text?m?(0,y.jsx)(l.mh,{zIndex:S,children:(0,y.jsx)(s.ZP,{accessibilityModalLabel:"",onDismiss:t,size:"sm",children:(0,y.jsx)(x.Z,{displayData:i,handleComplete:e,handleDismiss:t,isMobile:!1})})}):(0,y.jsx)(v,{accessibilityModalLabel:i?.title,isOpen:!0,modalWidth:320,onDismiss:t,children:(0,y.jsx)(x.Z,{displayData:i,handleComplete:e,handleDismiss:t,isMobile:!0})}):null}})})}},368885:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var i=n(667294),a=n(401429),l=n(883119),r=n(930837),s=n(140017),o=n(862249),d=n(785893);function c(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{surveyLoaded:!1}),c(this,"loadSurvey",()=>{this.setState({surveyLoaded:!0}),this.props.view?.()}),c(this,"handleDismiss",()=>{this.props.dismiss(),this.setState({surveyLoaded:!1})}),c(this,"handleComplete",()=>{this.props.complete(),this.setState({surveyLoaded:!1})})}componentDidMount(){let{displayData:{delay:e}}=this.props;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}componentWillUnmount(){clearTimeout(this.surveyTimer)}render(){if(!this.state.surveyLoaded)return null;let{displayData:{buttons:e,detailed_text:t,title_text:n}}=this.props;return(0,d.jsx)(r.ZP,{accessibilityModalLabel:this.props.i18n._('Would you mind taking a survey?', 'User eval survey', 'User eval survey'),footer:(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:e.map(e=>{if(!e.uri)return(0,d.jsx)(l.xu,{marginStart:1,children:(0,d.jsx)(l.zx,{fullWidth:!0,onClick:this.handleDismiss,text:e.text})},e.text);{let t=e.uri,n=(0,o.Z)({url:t});return(0,d.jsx)(l.xu,{marginStart:1,children:(0,d.jsx)(l.ZP,{color:"red",fullWidth:!0,href:t,onClick:this.handleComplete,rel:n?"nofollow":"none",target:"blank",text:e.text})},e.text)}})}),heading:n,onDismiss:this.handleDismiss,size:"sm",children:(0,d.jsx)(l.xu,{padding:3,children:(0,d.jsx)(l.xv,{children:t})})})}}function p(e){let t=(0,s.ZP)();return(0,d.jsx)(u,{...e,i18n:t})}var m=n(616550),h=n(340523);function g(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),g(this,"isOnClose",this.props.onCloseEnabled&&2===this.props.actionTrigger),g(this,"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1,showSurveyOnClose:this.isOnClose}),g(this,"loadSurvey",(e=!0)=>{let{onView:t}=this.props;e&&t(),this.setState({surveyLoaded:!0})}),g(this,"processIFrameMessage",e=>{let{presentationDelay:t=5e3,onComplete:n,surveyLink:i,onCloseEnabled:a}=this.props,l=e.origin||e.originalEvent.origin;i.startsWith(l)&&("surveyFinished"===e.data?n():"surveyLoaded"===e.data&&(window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.showSurveyOnLeavingPage(),a?this.actionTriggerHandler():this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)))}),g(this,"handleShowSurvey",()=>{this.setState({surveyAccepted:!0})})}componentDidMount(){window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout(()=>{this.state.surveyLoaded||(window.clearTimeout(this.loadSurveyTimeout),this.setState({surveyLoadFailed:!0}))},15e3)}componentWillUnmount(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.props.unblock()}actionTriggerHandler(){let{actionTrigger:e,presentationDelay:t=5e3}=this.props;switch(e){case 1:this.loadSurvey();break;case 2:this.loadSurvey(!1);break;default:this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)}}showSurveyOnLeavingPage(){let{onView:e,block:t}=this.props;t(()=>{e(),this.setState({showSurveyOnClose:!1})})}render(){let{surveyAccepted:e,surveyLoadFailed:t,surveyLoaded:n,showSurveyOnClose:i}=this.state;if(t)return null;let{acceptButtonText:a,bodyText:r,declineButtonText:s,onDismiss:o,subtitleText:c,surveyLink:u,titleText:p}=this.props,m=(0,d.jsx)("iframe",{"data-test-id":"anket-iframe",src:u,style:e?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},title:this.props.i18n._('Pinterest Survey', 'Accessible label for survey frame', 'Accessible label for survey frame')});return n&&!i?(0,d.jsx)(l.xu,{position:"absolute",zIndex:new l.Ry(1e3),children:(0,d.jsxs)(l.u_,{accessibilityModalLabel:this.props.i18n._('Have a few minutes to take a survey?', 'User evaluation survey', 'User evaluation survey'),footer:!e&&(0,d.jsxs)(l.xu,{display:"flex",justifyContent:"end",paddingX:1,children:[(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,d.jsx)(l.zx,{fullWidth:!0,onClick:()=>{this.setState({surveyAccepted:!1}),o()},text:s})}),(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,d.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:this.handleShowSurvey,text:a})})]}),heading:e?"":p,onDismiss:o,padding:"none",role:"alertdialog",size:e?"lg":"md",children:[(0,d.jsx)(l.xu,{children:m}),!e&&(0,d.jsxs)(l.xu,{padding:3,children:[(0,d.jsx)(l.xv,{children:c}),(0,d.jsx)(l.xv,{children:r})]})]})}):m}}let y=function(e){let t=(0,s.ZP)(),{checkExperiment:n}=(0,h.F)(),a=(0,m.k6)(),[l,r]=(0,i.useState)(null),o=(0,i.useRef)(null);return(0,d.jsx)(_,{...e,block:e=>{o.current=a.block((t,n)=>(r({location:t,action:n}),e(),!1))},i18n:t,onCloseEnabled:n("discovery_measurements_on_close_survey").anyEnabled,unblock:()=>{if(o&&o.current?.(),l){let{location:e,action:t}=l;"PUSH"===t?a.push(`${e.pathname}${e.search}`):"POP"===t&&a.goBack()}}})},f=e=>{let{complete:t,dismiss:n,view:i,displayData:a}=e,{anket:l,buttons:r,delay:s,detailed_text:o,subtitle_text:c,title_text:u,action_trigger:m=3}=a,[h,g]=r;return l?(0,d.jsx)(y,{acceptButtonText:g.text,actionTrigger:m,bodyText:o,declineButtonText:h.text,onComplete:t,onDismiss:n,onView:i,presentationDelay:s,subtitleText:c,surveyLink:g.uri,titleText:u}):(0,d.jsx)(p,{complete:t,dismiss:n,displayData:a,view:i})},b=e=>{let{experienceId:t,displayData:n}=e,{delay:a=0}=n,l={...n,delay:0},r={...e,displayData:{...l}},s=(0,i.useRef)(),[o,c]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=["/pin-builder","/idea-pin-builder"],t=e=>window.location.pathname.includes(e),n=()=>e.some(t),i=()=>{n()?s.current=setTimeout(()=>i(),3e3):c(!0)};return s.current=setTimeout(()=>i(),a),()=>{clearTimeout(s.current)}},[t,a]),o?(0,d.jsx)(f,{...r}):null};function v(e){let{placementId:t,experience:n,targeting:i,eligibleIds:l}=e;return(0,d.jsx)(a.Z,{disableAutoView:!0,eligibleIds:l||[],eligibleTypes:[5],experience:n,placementId:t,targeting:i,children:({complete:e,dismiss:n,view:i,experience:a})=>{let l=a.display_data,r=a.experience_id;return 1000421===t?(0,d.jsx)(b,{complete:e,dismiss:n,displayData:l,experienceId:r,view:i}):(0,d.jsx)(f,{complete:e,dismiss:n,displayData:l,view:i})}})}},810961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),a=n(179370),l=n(219651),r=n(368885),s=n(321329),o=n(785893);let d=({placementId:e})=>{let{experienceForPlacement:t}=(0,s.Z)(e),{unmountPlacement:n,registerAfterActionPlacement:d}=(0,a.M)();return(0,i.useEffect)(()=>(d(e),()=>{n(e)}),[e,n,d]),(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(l.Z,{experience:t}),(0,o.jsx)(r.default,{experience:t})]})}},82531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),a=n(810961),l=n(190971),r=n(822987),s=n(785893);let o=({placementId:e})=>{let t=(0,l.c)(),n=(0,r.w)();return(0,i.useEffect)(()=>{let e=e=>{let{clickthroughProperties:n,offsiteTimedPair:i}=e,a=n?.aux_data?.time_to_offsite??5e8;a<5e8&&t("Clickthrough",{is_promoted:n?.aux_data?.is_promoted,pin_id:n?.object_id_str,clickthrough_duration_ns:i?.duration})};return e&&n?.onOffsiteEnd(e),()=>{e&&n?.removeOnOffsiteEnd(e)}},[t,n]),(0,s.jsx)(a.Z,{placementId:e})}},25919:(e,t,n)=>{"use strict";let i;n.d(t,{Am:()=>y,Ig:()=>g,N:()=>x,Sd:()=>f,YX:()=>v,be:()=>_,fO:()=>p,kd:()=>b,pz:()=>m});var a=n(667294),l=n(216167),r=n(587703),s=n(703404),o=n(957753),d=n(107366),c=n(953565);let u=(e,t,n={})=>(0,c.nP)(`${e}.${t}`,{sampleRate:1,tags:n}),p=(e,t)=>n=>{let i=t?{extra_context:e,targeting:t}:{extra_context:e};return l.Z.create("UserExperiencePlatformResource",i).callGet().then(e=>e.resource_response?n((0,o.OD)(e.resource_response.data)):void 0)},m=(e,t,n,a)=>(r,d)=>{if(t)return Promise.resolve();if(a&&(i=a),1===e.length){let t=e[0],i=d().experiences,a=i[t],l=a?.extraContext||null;if(JSON.stringify(l)===JSON.stringify(n)||(0,s.E3)(a)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return l.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:a}).callGet().then(e=>e.resource_response?r((0,o.cL)(e.resource_response.data)):void 0)},h=(e,t,n,a)=>(r,s,d,c=!1,u,m)=>(h,g)=>{let{experiences:_,experiencesMulti:y}=g(),f=null,b=!0;if(c||(f=(b=_[r]&&_[r].experience_id===s)?_[r]:Array.isArray(y[r])&&y[r]?.find(e=>e.experience_id===s)),f&&f.experience_id===s||c&&r&&s){let c=l.Z.create(e,{placed_experience_id:`${r}%3A${s}`,extra_context:u??{},targeting:m}),g=b?o.Yb:o.xW;switch(t){case"dismissed":return c.callDelete().then(()=>{h(g(r,s,t)),h(p(void 0,i)),n&&a&&n({event_type:a,object_id_str:s.toString()})});case"completed":return c.callUpdate().then(()=>{!d&&(h(g(r,s,t)),h(p(void 0,i)),n&&a&&n({event_type:a,object_id_str:s.toString()}))});case"viewed":return h(g(r,s,t)),c.callUpdate().then(()=>{1000162===r&&h(p()),n&&a&&n({event_type:a,object_id_str:s.toString()})});case"completedWithoutHomefeed":return c.callUpdate().then(()=>{d||h(g(r,s,t)),n&&a&&n({event_type:a,object_id_str:s.toString()})})}}return Promise.resolve()},g=()=>{let e=(0,r.Z)(),t=(0,a.useCallback)(h("UserExperienceViewedResource","viewed",e,4503),[e]);return t},_=()=>{let e=(0,r.Z)(),t=(0,a.useCallback)(h("UserExperienceCompletedResource","completed",e,6567),[e]);return t},y=()=>{let e=(0,r.Z)(),t=(0,a.useCallback)(h("UserExperienceResource","dismissed",e,6568),[e]);return t},f=()=>{let e=(0,r.Z)(),t=(0,a.useCallback)(h("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e]);return t},b=(e,t)=>(n,i)=>{let{experiences:a}=i(),l=a[e];l&&l.triggerable_placed_exps&&l.triggerable_placed_exps.length&&l.triggerable_placed_exps.forEach(n=>{let[,i]=n.split(":"),a=t;l.metadata&&l.metadata[i]&&(a={...t,...l.metadata[i]}),(0,d.Z)({url:`/v3/experiences/${n.replace(":","%3A")}/trigger/`,method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(()=>{u("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})},v=e=>(t,n)=>{t(b(e));let{experiences:i}=n();return i[e]},x=(e,t,n)=>a=>{n&&(i=n),a(b(e,t)),t&&Object.keys(t).length>0&&a(m([e],!1,t,n))}},703404:(e,t,n)=>{"use strict";n.d(t,{A0:()=>o,E3:()=>r,MQ:()=>s,fL:()=>d});var i=n(883119),a=n(862249),l=n(785893);function r(e){return!!e&&0!==e.type}let s=(e,t,n)=>{let i=e[n];return t[n]&&r(i)?i:null};function o(e){return e.display_data?.anchor}let d=e=>{let t=new DOMParser,n=t.parseFromString(e,"text/html"),r=[...n.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,l.jsx)(i.xv,{inline:!0,children:e.textContent});{let t=e.href||"",n=(0,a.Z)({url:t});return(0,l.jsx)(i.rU,{display:"inline",externalLinkIcon:n?"default":"none",href:t,rel:n?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,l.jsx)(i.xv,{inline:!0,children:r})}},26616:(e,t,n)=>{"use strict";n.d(t,{$S:()=>i,V$:()=>a,_4:()=>r,iY:()=>s,mR:()=>l});let i="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",l="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957753:(e,t,n)=>{"use strict";n.d(t,{NW:()=>s,OD:()=>d,Yb:()=>o,cL:()=>c,xW:()=>r});var i=n(216167),a=n(26616);let l=e=>({type:a.$S,payload:{experiencesMulti:e}}),r=(e,t,n)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:n}}),s=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(l(e.resource_response.data)):void 0),o=(e,t,n)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:n}}),d=e=>({type:a._4,payload:{experiences:e}}),c=e=>({type:a.mR,payload:{experiences:e}})},190971:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var i=n(667294),a=n(616550),l=n(179370),r=n(96157),s=n(624797),o=n(554786);let d=(e,t)=>((0,r.XU)(e)&&e.state?.from&&(e=e.state.from),(0,r.HV)(e))?t?1000503:1000558:(0,r.En)(e)?t?1000506:1000559:(0,r.L6)(e)?t?1000141:1000494:void 0,c=(e,t)=>{if(t){if((0,r.HV)(e))return 1000541;if((0,r.En)(e))return 1000542;if((0,r.L6)(e))return 1000140}else if((0,r.HV)(e))return 1000544;else if((0,r.En)(e))return 1000543;else if((0,r.L6)(e))return 1000540},u=()=>{let{mountPlacement:e,registerdAfterActionPlacements:t}=(0,l.M)(),n=(0,o.HG)(),u=(0,a.TH)(),p=(0,i.useCallback)((i,a,l)=>{let o;switch(i){case"Save":o=d(u,n);break;case"Download":(0,r.L6)(u)&&(o=n?1000499:1000500);break;case"Clickthrough":o=c(u,n)}null!=o&&((0,r.En)(u)&&(a={...a,search_query:(0,s.mB)(u.search)}),null!=o&&(t[o]||(0,r.XU)(u))&&e(o,a,l))},[t,e,u,n]);return p}},200201:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,a:()=>d});var i=n(667294),a=n(702664),l=n(105737),r=n(25919),s=n(5859);let o=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{let o=(0,i.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,a.useSelector)(e=>e.experiences[t]);return(0,i.useEffect)(()=>{d((0,r.kd)(t))},[d,u,t]),(0,i.useEffect)(()=>{n||(0,l.ZP)(o.current,e)||(d((0,r.pz)([t],c,e)),o.current=e)},[d,e,c,t,n]),u},d=e=>(o(e),(0,a.useSelector)(t=>t.experiencesMulti[e.id]))},321329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),a=n(179370),l=n(703404),r=n(5859);function s(e){let{mountedPlacements:t,completeExperience:n,dismissExperience:s,experiences:o,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:m}=(0,a.M)(),{isBot:h}=(0,r.B)(),g=e&&!h?(0,l.MQ)(o,t,e):null;return(0,i.useMemo)(()=>({completeExperience:n,dismissExperience:s,experienceForPlacement:g,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:m}),[n,s,g,d,c,u,p,m])}},172203:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),l=n(442279),r=n(179370),s=n(5859),o=n(953565);let d=(0,l.P1)(e=>e.experiences,(e,t)=>t,(e,t)=>e[t]),c=(e,t,n={})=>(0,o.nP)(`${e}.${t}`,{sampleRate:1,tags:n}),u=(e,t)=>"function"==typeof t?t(e):t,p=(e,t={},n=!1)=>{let[l,o]=(0,i.useReducer)(u,t),{isBot:p}=(0,s.B)(),{fetchExperienceForPlacements:m,mountPlacement:h,triggerExperimentsForPlacement:g,unmountPlacement:_}=(0,r.M)();(0,i.useDebugValue)(`Placement Hook ID - ${e}`),(0,i.useEffect)(()=>{let t={...l},i=n&&t?.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return h(e,t,i),()=>{_(e)}},[]),(0,i.useEffect)(()=>{Object.keys(l).length>0&&m([e],p,l)},[l]);let y=(0,a.useSelector)(t=>d(t,e)),f=(0,a.useSelector)(t=>t.experiencesMulti[e]),b=y?y.triggerable_placed_exps:[];return(0,i.useEffect)(()=>{let t={platform:"web",placement_id:e,...b};c("experienceservice","placementHookExperimentTrigger.1",t),g(e,l)},[JSON.stringify(b)]),{experience:y,experiencesMulti:f,setExtraContext:o}}},489481:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,Z:()=>l});var i=n(282854);function a(e,t,n=3){if(window._sendFacebookPixel)"NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t();else if(n>0){let i=Math.floor(3e3/n);setTimeout(()=>{a(e,t,n-1)},i)}}function l(e,t){"complete"===document.readyState?a(e,t):window.addEventListener("load",function e(t,n){return i=>{a(t,n),window.removeEventListener(i,e)}}(e,t))}function r(){let e=document.getElementById("facebookPixel");e||("complete"===document.readyState&&function(){let e=(0,i.Z)({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(document.body)document.body.appendChild(e),e.contentWindow.addEventListener("load",()=>window._sendFacebookPixel=e.contentWindow.fbq);else throw Error("missing <body>")}(),window.addEventListener("load",r))}},144556:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{let[t,n]=[e?.width||580,e?.height||400],[i,a]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${n},left=${Math.round((i-t)/2)},top=${a>n?Math.round((a-n)/2):0}`}},374125:(e,t,n)=>{"use strict";n.d(t,{F8:()=>x,M7:()=>v,x9:()=>S,sl:()=>k,eP:()=>P,VC:()=>y,Rs:()=>b});var i=n(282854),a=n(891276),l=n(191313),r=n(953565);let s={"flashtalking-d-ses":["https://servedby.flashtalking.com/container/19112;123474;13378;iframe/?spotName=Desktop_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-Zx62--R$"],"flashtalking-m-ses":["https://servedby.flashtalking.com/container/19112;123473;13378;iframe/?spotName=Mobile_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-aC5fNCn$"],"flashtalking-d-login":["https://servedby.flashtalking.com/container/19112;123477;13378;iframe/?spotName=Desktop_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UP9cLAD$"],"flashtalking-m-login":["https://servedby.flashtalking.com/container/19112;123460;13378;iframe/?spotName=Mobile_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-dZEP4zq$"],"flashtalking-d-reg":["https://servedby.flashtalking.com/container/19112;123459;13378;iframe/?spotName=Desktop_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-bBBO_93$"],"flashtalking-m-reg":["https://servedby.flashtalking.com/container/19112;123472;13378;iframe/?spotName=Mobile_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-QIr-gzV$"],"flashtalking-bus":["https://servedby.flashtalking.com/container/19112;123475;13379;iframe/?spotName=Desktop_Business_Billing&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=","__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UtxgWP6$"],"flashtalking-first-spend-event":["https://servedby.flashtalking.com/container/19112;130299;13379;iframe/?spotName=First_Time_Spenders&U7="],"flashtalking-all-spend-event":["https://servedby.flashtalking.com/container/19112;130301;13379;iframe/?spotName=All_Spenders&U7="],"flashtalking-advertiser-rez-event":["https://servedby.flashtalking.com/container/19112;130300;13379;iframe/?spotName=Resurrected_Spenders&U7="],"flashtalking-shop-event":["https://servedby.flashtalking.com/container/19112;126331;13379;iframe/?spotName=Shopping_Advertisers&U6=&U7="],"flashtalking-catalog-feed-event":["https://servedby.flashtalking.com/container/19112;126604;13379;iframe/?spotName=Catalog_Uploads&U7="],"flashtalking-billing-complete-event":["https://servedby.flashtalking.com/container/19112;126329;13379;iframe/?spotName=Billing_Completion&U7="],"flashtalking-no-micro-catalog-feed-realtime-event":["https://servedby.flashtalking.com/container/19112;130191;13379;iframe/?spotName=No_micro_catalog_feed&U7="],"flashtalking-catalog-feed-realtime-event":["https://servedby.flashtalking.com/container/19112;130294;13379;iframe/?spotName=Catalog_Feeds&U7="],"flashtalking-catalog-feed-page-view-event":["https://servedby.flashtalking.com/container/19112;130295;13379;iframe/?spotName=Catalog_Feeds_Starting_Page_Unique_Visitors&U7="],"flashtalking-business-site-catalog-upload-click-event":["https://servedby.flashtalking.com/container/19112;130298;13379;iframe/?spotName=Catalog_Upload_Button_Click_on_Biz_Site&U7="],"flashtalking-business-site-no-micro-catalog-upload-click-event":["https://servedby.flashtalking.com/container/19112;130297;13379;iframe/?spotName=No_Micro_Catalog_Upload_Button_Click_on_Biz_Site&U7="],"flashtalking-business-site-page-view-event":["https://servedby.flashtalking.com/container/19112;130446;13379;iframe/?spotName=Biz_site_shopping_page_unique_visitors&U7="]},o=["flashtalking-d-login","flashtalking-m-login","flashtalking-d-reg","flashtalking-m-reg"],d="flashtalking-first-spend-event",c="flashtalking-all-spend-event",u="flashtalking-advertiser-rez-event",p="flashtalking-catalog-feed-event",m="flashtalking-billing-complete-event",h=new Set([d,u,"flashtalking-shop-event",p,m,"flashtalking-no-micro-catalog-feed-realtime-event","flashtalking-catalog-feed-realtime-event","flashtalking-catalog-feed-page-view-event","flashtalking-business-site-catalog-upload-click-event","flashtalking-business-site-no-micro-catalog-upload-click-event","flashtalking-business-site-page-view-event",c]);function g(e,t=""){return h.has(e)?s[e][0]+t+"&cachebuster="+(0,a.OJ)():s[e][0]+(0,a.OJ)()+s[e][1]}function _(){for(let e of o){let t=(0,l.qn)(e);if(t){let n=(0,i.Z)({src:g(e),id:e,height:1,width:1,style:"display:none;"});if(!document.getElementById(e)){document.body?.appendChild(n),t=t.split("#");let[i,a]=t;(0,r.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:i,event_name:"All"}}),"All"!==a&&(0,r.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:i,event_name:a}}),(0,l.L_)(e)}}}}function y(e,t,n,a){let l=document.getElementById(e);if(l){_();return}function r(e,t,n,a){let l=(0,i.Z)({src:g(e,n),id:e,height:1,width:1,style:"display:none;"});document.getElementById(e)||(l.setAttribute("data-test-id",a),document.body?.appendChild(l),t(),_())}"complete"===document.readyState&&r(e,t,n,a),window.addEventListener("load",function e(t,n,i,a){return l=>{r(t,n,i,a),window.removeEventListener(l,e)}}(e,t,n,a))}function f(e,t,n,i){o.find(t=>t===e)?(0,l.Nh)(e,`${t}#${n}`):y(e,i)}function b(e,t,n,i){"complete"===document.readyState?f(e,t,n,i):window.addEventListener("load",function e(t,n,i,a){return l=>{f(t,n,i,a),window.removeEventListener(l,e)}}(e,t,n,i))}function v(e,t){if(!e||!t||0===Object.keys(e).length)return;let n=e[t].resurrected;if(n){let e=new Date(n),i=new Date;if(90>=(0,a.LG)(e,i)){let e=i.toISOString().slice(0,10),n=(0,a.TF)(a.qs,t);y(u,()=>{(0,r.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"AdvertiserRez",event_name:"All"}})},e+"&U8="+n)}}}function x(e,t){if(!e||!t||0===Object.keys(e).length)return;let n=e[t],i=n.replaceAll("'",'"'),l="";try{let e=JSON.parse(i);if(e&&Object.keys(e).length>0){let{dt:t,merchant_id:n,feed_profile_ids:i}=e;if(t&&n&&i){let e=(0,a.TF)(a.qs,n);l=t+"&U8="+i+"&U9="+e}}}catch(e){(0,r.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"CatalogFeed",event_name:"ParseErrors"}})}y(p,()=>{(0,r.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"CatalogFeed",event_name:"All"}})},l)}function k(e,t){let n=new Date().toISOString().slice(0,10),i=(0,a.TF)(a.qs,e),l=(0,a.TF)(a.qs,t);y(m,()=>{(0,r.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"Billing",event_name:"All"}})},n+"&U8="+l+"&U9="+i)}function P(e){let t=new Date().toISOString().slice(0,10),n=e?(0,a.TF)(a.qs,e):"";y(d,()=>{(0,r.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"FirstSpender",event_name:"All"}})},t+"&U8="+n)}function S(e){let t=new Date().toISOString().slice(0,10),n=e?(0,a.TF)(a.qs,e):"";y(c,()=>{(0,r.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"AllSpender",event_name:"All"}})},t+"&U8="+n)}},911344:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(537347),a=n.n(i),l=n(953565);function r(e){if("undefined"==typeof window||!document.head)return(0,l.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"window undefined"}}),Promise.reject(Error("Window is undefined or no head on the document. Unable to load fonts"));let{head:t}=document,n=[];return e.forEach(e=>{e.styles.forEach(i=>{let l=document.querySelector(`#${e.fontFamily??""}-${i.name}`);if(!l){if((l=document.createElement("style")).setAttribute("id",`${e.fontFamily??""}-${i.name}`),t.appendChild(l),e.format&&i.fontUrl&&l&&l.sheet){let t=l.sheet;t.insertRule(`
            @font-face {
              font-family: "${e.fontFamily??""}";
              font-style: "${i.fontStyle}";
              font-weight: "${i.fontWeight}";
              src: url("${i.fontUrl}") format("${e.format}");
            }
          `,0)}n.push(new(a())(e.fontFamily,{style:i.fontStyle,weight:i.fontWeight}).load())}})}),Promise.all(n).then(()=>{Promise.resolve()}).catch(e=>{(0,l.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"unsuccessful load"}}),Promise.reject(e)})}},869801:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"white",height:"55",rx:"27.5",stroke:"#CDCDCD",width:"55",x:"0.5",y:"0.5"}),(0,i.jsx)("path",{d:"M21.773 32.5718C16.3702 32.5718 11.9998 27.9614 11.9998 22.2859C11.9998 16.6104 16.3702 12.0003 21.773 12.0003H31.941C37.3438 12.0003 41.7142 16.6106 41.7142 22.2859C41.7142 27.9613 37.3438 32.5716 31.941 32.5716L21.773 32.5718Z",fill:"#86A9FF"}),(0,i.jsx)("path",{d:"M28.3636 36.7279V42.9999C28.3636 43.5456 27.9241 43.9999 27.3973 43.9999C27.1394 43.9981 26.8936 43.8914 26.7161 43.7044L17.1846 33.8872C15.3178 31.9787 14.2858 29.3656 14.2858 26.6609C14.2858 21.0934 18.6561 16.5712 24.0589 16.5712H34.2269C39.6298 16.5712 44.0001 21.0936 44.0001 26.6609C44.0001 32.2282 39.6298 36.7506 34.2269 36.7506H28.3636V36.7279Z",fill:"#578CFF"}),(0,i.jsx)("path",{d:"M21.7258 32.5713H31.9183C37.3338 32.5713 41.7142 27.8541 41.7142 22.0468C41.7142 21.3593 41.6479 20.6959 41.5382 20.0319C39.7554 17.8988 37.1578 16.5714 34.2738 16.5714H24.0818C18.6663 16.5714 14.2858 21.2886 14.2858 27.096C14.2858 27.7835 14.3521 28.4468 14.4618 29.0868C16.2446 31.22 18.8423 32.5713 21.7263 32.5713H21.7258Z",fill:"#0057CC"})]})},741069:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"#EFEFEF",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black",fillRule:"evenodd"})]})},41005:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})},661257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"url(#paint0_linear_4144_9512)",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_4144_9512",x1:"28.4444",x2:"28.4444",y1:"52.2827",y2:"6.94986",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})},94149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})},958399:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"#fff",height:"56",rx:"28",width:"56"}),(0,i.jsx)("rect",{height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4",width:"55",x:".5",y:".5"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649_messenger)"}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(18.16 43.826) scale(34.8672)",gradientUnits:"userSpaceOnUse",id:"paint0_radial_3730_649_messenger",r:"1",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})},892878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M28 56C43.464 56 56 43.464 56 28C56 12.536 43.464 0 28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56Z",fill:"url(#paint0_linear_3_21)"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"M12.6745 27.7045C20.837 24.1482 26.28 21.8037 29.0034 20.6709C36.7793 17.4366 38.3951 16.8748 39.4482 16.8563C39.6799 16.8522 40.1978 16.9096 40.5332 17.1818C40.8165 17.4116 40.8944 17.7221 40.9317 17.9401C40.969 18.158 41.0155 18.6544 40.9786 19.0423C40.5572 23.4698 38.7339 34.2141 37.8063 39.1729C37.4138 41.2712 36.641 41.9747 35.8928 42.0436C34.2667 42.1932 33.032 40.969 31.4571 39.9366C28.9928 38.3212 27.6006 37.3156 25.2085 35.7393C22.444 33.9175 24.2361 32.9162 25.8116 31.2799C26.2239 30.8517 33.3881 24.3352 33.5268 23.7441C33.5441 23.6701 33.5602 23.3946 33.3965 23.249C33.2328 23.1035 32.9911 23.1533 32.8168 23.1929C32.5696 23.249 28.6328 25.8511 21.0062 30.9992C19.8887 31.7665 18.8766 32.1404 17.9697 32.1208C16.97 32.0992 15.0469 31.5555 13.6172 31.0908C11.8637 30.5208 10.4701 30.2195 10.5914 29.2514C10.6547 28.7472 11.349 28.2316 12.6745 27.7045Z",fill:"white",fillRule:"evenodd"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_3_21",x1:"2800",x2:"2800",y1:"0",y2:"5558.47",children:[(0,i.jsx)("stop",{stopColor:"#2AABEE"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#229ED9"})]})})]})},406693:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"#7360F2",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff",fillRule:"evenodd"})]})},329395:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"#25D366",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff",fillRule:"evenodd"})]})},847069:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(696534),a=n(785893);let l=({size:e=56})=>{let t=(0,i.vs)();return(0,a.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{fill:t?"white":"#111111",height:"56",rx:"28",width:"56"}),(0,a.jsx)("path",{d:"M30.3055 25.8561L40.505 14H38.088L29.2318 24.2945L22.1584 14H14L24.6964 29.5671L14 42H16.4171L25.7695 31.1287L33.2396 42H41.3979L30.3049 25.8561H30.3055ZM26.995 29.7042L25.9112 28.1541L17.288 15.8196H21.0005L27.9595 25.7739L29.0433 27.324L38.0892 40.2632H34.3767L26.995 29.7048V29.7042Z",fill:t?"#111111":"white"})]})}},262032:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),a=n(883119);let l=(0,i.createContext)();var r=n(785893);function s(e){(0,i.useContext)(l);let{alt:t,color:n,children:s,crossOrigin:o,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:h,naturalWidth:g,onError:_,onLoad:y,role:f,sizes:b,src:v,srcSet:x}=e;return(0,r.jsx)(a.Ee,{alt:t,color:n,crossOrigin:o,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:h,naturalWidth:g,onError:_,onLoad:y,role:f,sizes:b,src:v,srcSet:x,children:s})}},930837:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,b7:()=>r.b7,bN:()=>s,p4:()=>o});var i=n(240684),a=n(554786),l=n(785893),r=n(844683);let s=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,980536)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>980536}),o=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,119936)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>119936});function d(e){let t=(0,a.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){let{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:a,mobileIsFullscreen:r,mobileIsSlideUp:o,type:d,mobileIsFooter:c,zIndex:u,...p}=e;return(0,l.jsx)(s,{...p})}let{allowMediaPlay:i,allowScroll:r,role:d,size:c,_dangerouslyDisableScrollBoundaryContainer:u,...p}=e;return(0,l.jsx)(o,{...p,isOpen:n})}},980536:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(667294),a=n(883119),l=n(844683),r=n(30378),s=n(55202),o=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:m,footer:h,heading:g,onDismiss:_,role:y,size:f,subHeading:b}){return(0,i.useEffect)(()=>(r.Z.pause(),function(){r.Z.resume()}),[]),(0,o.jsx)(a.mh,{zIndex:l.b7,children:(0,o.jsx)(s.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,o.jsx)(a.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:m,footer:h,heading:g,onDismiss:()=>{r.Z.resume(),_()},padding:"none",role:y,size:f,subHeading:b,children:p})})})}},119936:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n(667294),a=n(883119),l=n(32346),r=n(844683),s=n(140017),o=n(30378),d=n(5859),c=n(55202),u=n(217058),p=n(554786),m=n(239821),h=n(785893);let g=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},_=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:t="center",allowClickAndDrag:n,allowScroll:y=!1,children:f,closeOnOutsideClick:b=!0,footer:v,heading:x,isOpen:k,mobileAccessibilityCloseIconLabel:P,mobileHideCloseIcon:S,mobileIsFooter:w,mobileIsFullscreen:T,mobileIsSlideUp:I,onDismiss:A,subHeading:E,type:C,zIndex:j}){let R=(0,s.ZP)(),{isRTL:L}=(0,d.B)(),F=(0,i.useRef)(!1),[D,O]=(0,i.useState)(!1),{setAppFocusState:z}=(0,m.I)(),M=(0,p.ZP)();return((0,i.useEffect)(()=>(F.current=(0,l.Z)(()=>{F.current&&O(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&F.current&&(window.cancelAnimationFrame(F.current),F.current=null)}),[]),(0,i.useEffect)(()=>(k?(o.Z.pause(),z(!1),(0,u.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.true`)):(o.Z.resume(),z(!0)),()=>{k&&(o.Z.resume(),z(!0),(0,u.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.false`))}),[z,k]),(0,i.useEffect)(()=>{let e=k&&!y;return e&&g(),()=>{e&&_()}},[k,y]),k)?(0,h.jsx)(c.Z,{allowClickAndDrag:n,children:(0,h.jsx)(a.mh,{children:(0,h.jsxs)(a.xu,{"aria-label":e,display:"inlineBlock",position:"relative",role:"dialog",zIndex:j||r.ZM,children:[(0,h.jsx)(a.iP,{accessibilityLabel:R._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{e.clientX&&e.clientY&&(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${C||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),b&&A()},tapStyle:"none",children:(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1)})}),(0,h.jsxs)(a.xu,{color:"default",dangerouslySetInlineStyle:I?(0,r.Vf)({isFullscreen:T,isTablet:"tablet"===M,isShowing:D,isRelatedInterestsModal:"related_interests_modal"===C}):(0,r.JN)({variant:T?"fullscreen":"tablet"===M?"tablet":w?"footer":"signup"===C?"signup":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",width:"100%",children:[P&&!S?(0,h.jsx)(a.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,h.jsx)(a.hU,{accessibilityLabel:P,icon:"cancel",iconColor:"darkGray",onClick:A,padding:4,size:"sm"})}):null,x?(0,h.jsx)(a.kC.Item,{flex:"grow",children:(0,h.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,h.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:P&&!S?{marginRight:L?-10:50,marginLeft:L?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[T?x:(0,h.jsx)(a.xv,{align:t,size:"400",weight:"bold",children:x}),E?(0,h.jsx)(a.xv,{align:t,children:E}):null]})})}):null]}),(0,h.jsxs)(a.xu,{overflow:"auto",children:[f,v]})]})]})})}):null}},844683:(e,t,n)=>{"use strict";n.d(t,{JN:()=>d,Vf:()=>c,ZM:()=>s,b7:()=>r,i_:()=>o});var i=n(883119),a=n(696534),l=n(69979);let r=new i.Ry(1e3),s=new i.H3([l.Z]),o=12,d=({variant:e})=>({__style:"fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,a.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}),c=({isFullscreen:e,isTablet:t,isShowing:n,isRelatedInterestsModal:i})=>{let l={border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},r=n?"translateY(0)":"translateY(100vh)";return l.height=e?"100vh":"",t&&i&&(l={...l,width:425,left:"50%",transform:"translateX(-50%)"},r=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...l,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:r}}}},454514:(e,t,n)=>{"use strict";n.d(t,{UZ:()=>d,Vg:()=>o,ZP:()=>c});var i=n(667294),a=n(883119),l=n(554786),r=n(494125),s=n(785893);let o=200,d=({deviceType:e,hiding:t,visible:n})=>{let i="desktop"===e,a=0,l=i?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",s="hidden";return n&&!t&&(a=1,l="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),n&&t&&(l="scale(1.1)",r="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:l,transition:r,visibility:s}};function c({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:c,dismissButton:u,helperLink:p,thumbnail:m,type:h,dataTestId:g,duration:_=2e3,onHide:y,href:f,onClick:b,openNewPage:v,imageUrl:x}){let k;let P=(0,l.ZP)(),[S,w]=(0,i.useState)(!1),[T,I]=(0,i.useState)(!1),A=(0,i.useRef)(),E=()=>{w(!0),A.current=setTimeout(y,o)},C=()=>{A.current=setTimeout(E,_)},j=()=>{A.current&&clearTimeout(A.current)};(0,r.Z)(()=>(setTimeout(()=>I(!0),100),C(),j)),x&&(k={image:(0,s.jsx)(a.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:x})});let R=(0,s.jsx)(a.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:u,helperLink:p,primaryAction:c,text:n,thumbnail:k??m,type:h}),{marginTop:L,opacity:F,pointerEvents:D,position:O,transform:z,transition:M,visibility:N}=d({deviceType:P,hiding:S,visible:T});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:z,transition:M,visibility:N,pointerEvents:D}},"data-test-id":g??"toast",display:"flex",marginTop:L,onMouseEnter:j,onMouseLeave:C,opacity:F,position:O,children:f?(0,s.jsx)(a.Tg,{href:f,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{f.startsWith("#")&&(e.preventDefault(),t()),b?.(e)},rounding:"pill",target:v?"blank":null,children:R}):R})}},205841:(e,t,n)=>{"use strict";n.d(t,{qE:()=>s,u_:()=>o.ZP});var i=n(883119),a=n(785893);let l=(e,t)=>{let n=e?.includes("images/user/default");return!!(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:s,verified:o}){return(0,a.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:l(s,t)?void 0:s,verified:o})}r.displayName="Avatar";let s=r;var o=n(930837);n(454514)},288088:(e,t,n)=>{"use strict";n.d(t,{G:()=>d,Z:()=>p});var i=n(441143),a=n.n(i),l=n(244311),r=n(698681),s=n(226618),o=n(953565);let d=Symbol("inlineFragmentSpread"),c=({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:i,selections:l,legacyData:o,paginationInfo:u,refetchInfo:p})=>{l.forEach(l=>{switch(l.kind){case"ScalarField":{let{alias:e,name:t}=l;n[e??t]=(0,r.mC)(t,i,o);break}case"LinkedField":{let{alias:s,name:d,concreteType:m,plural:h,selections:g}=l,_=s??d,y=(0,r.LJ)(o,i,l);if(null==y){n[_]=y;return}if(h){let i=(0,r.cG)({untypedInput:y,concreteType:m}),l=n[_];a()(!l||Array.isArray(l),"plural data must be an array"),n[_]=i?.filter(Boolean).map((n,i)=>{let a=l?.[i]??{};return c({conditionContext:e,fragmentName:t,mutableOutput:a,parentType:m,selections:g,legacyData:n,refetchInfo:p,paginationInfo:u}),a})}else{a()("object"==typeof y,`Value for ${d} must be an object${m?` with type ${m}`:""}, but a ${typeof y} is given`);let i=n[_]??{};n[_]=i,c({conditionContext:e,fragmentName:t,mutableOutput:i,parentType:m,selections:g,legacyData:y,refetchInfo:p,paginationInfo:u})}break}case"InlineFragment":{let{abstractKey:i,type:s,selections:d}=l;if(a()(null!=s&&null===i,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==o)break;let m=(0,r.uC)(o);null!=m&&(0,r.Z1)(s,m)&&c({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:s,selections:d,legacyData:o,paginationInfo:u,refetchInfo:p});break}case"Condition":{let{condition:a,selections:r}=l,s=!0;"isAuth"===a?s=e.isAuth===l.passingValue:"isDesktop"===a&&(s=e.isDesktop===l.passingValue),s&&c({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:i,selections:r,legacyData:o,paginationInfo:u,refetchInfo:p});break}case"FragmentSpread":(0,s.I9)(n,{data:o,refetchInfo:p,paginationInfo:u});break;case"ClientExtension":c({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:i,selections:l.selections,legacyData:o,paginationInfo:u,refetchInfo:p});break;case"InlineDataFragmentSpread":{let t={},{selections:a,name:r}=l;c({conditionContext:e,fragmentName:r,mutableOutput:t,parentType:i,selections:a,legacyData:o,paginationInfo:u,refetchInfo:p}),n[d]||(n[d]={}),n[d][r]=t;break}case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"RelayLiveResolver":case"AliasedFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"AliasedInlineFragmentSpread":throw Error(`The selection type '${l.kind}' is not supported yet. Contact @jackhsu or @robertbalicki`);default:throw Error(`Unexpected selection type '${l.kind}'`)}})},u=new Set;function p({conditionContext:e,fragment:t,legacyData:n,paginationInfo:i,refetchInfo:s}){let d;let p=(0,l.getFragment)(t);try{d=function({conditionContext:e,fragment:t,legacyData:n,paginationInfo:i,refetchInfo:l}){let s=null==t.abstractKey;if(s){let e=null!=n?(0,r.uC)(n):null;null!=e&&a()((0,r.Z1)(t.type,e),`fragment data type '${t.type}' does not match legacy data type '${e}'. See http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.`)}let o={};return c({conditionContext:e,fragmentName:t.name,mutableOutput:o,parentType:t.type,selections:t.selections,legacyData:n,paginationInfo:i,refetchInfo:l}),o}({conditionContext:e,fragment:p,legacyData:n,paginationInfo:i,refetchInfo:s})}catch(t){throw u.has(p.name)||(u.add(p.name),(0,o.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:p.name,rootId:n.id,rootType:n.type,url:window.location.href,isAuth:e.isAuth}})),t}return d}},698681:(e,t,n)=>{"use strict";n.d(t,{Cs:()=>g,LJ:()=>w,Z1:()=>I,cG:()=>P,mC:()=>k,uC:()=>C});var i=n(441143),a=n.n(i);let l={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},r=/(\d\d0P)(\d\d0K)/,s=/QVBR(8|10)/,o=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,d=/^v/,c=e=>l[e]??e.replace(o,"_$1").replace(r,"$1_$2").replace(s,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(d,"V"),u=/[A-Z]/g,p=e=>e.replace(u,e=>`_${e.toLowerCase()}`),m=/^_/,h=e=>e.replace(m,""),g=e=>h(p(e)),_=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],y=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],f=(e,t)=>{if(y.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return a()(t.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return g(e)}},b=e=>"StoryPinPage"===e||"StoryPinImageBlock"===e,v=(e,t,n)=>{if(b(n)){if("images"===e)return"image";if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===n&&"image"===e)return"images";if("VideoDetail"===t)return c(e);if(_.includes(e))return e;switch(e){case"reactionCountsData":return"reaction_counts";case"videoData":return"video";default:return g(e)}},x=(e,t)=>{switch(e){case"reactionType":return"string"==typeof t?Number(t):t;case"campaignId":case"pinPromotionId":return"number"==typeof t?String(t):t;default:return t}},k=(e,t,n)=>"Video"===t&&"duration"===e?n?.duration!=null?n.duration:Object.values(n?.video_list||{}).find(e=>e?.duration!=null)?.duration:"__typename"===e?t:x(e,n?.[f(e,n)]),P=({untypedInput:e,concreteType:t})=>{if(!e)return null;switch(a()("object"==typeof e,"legacy data must be an object"),t){case"ReactionCountModel":return Object.entries(e).map(([e,t])=>({reaction_type:e,reaction_count:t}));case"PinThroughProperties":case"ThroughProperties":case"TrackingParamsMap":return Object.entries(e).map(([e,t])=>({key:e,data:t}));default:if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,value:t}))}},S=({args:e,name:t})=>{let n=e.find(e=>e.name===t);return n&&"string"==typeof n.value?n.value:null},w=(e,t,n)=>{let{args:i,name:l}=n;if("PinTagChipImagesPerSpec"===t&&"image"===l)return e?.images?.["750x"];let r=e?.[v(l,n.concreteType,t)];if(!r)return r;let s=S({args:i??[],name:"spec"});if(s){if(a()("object"==typeof r,"value must be an object"),b(t)){let{dominant_color:e,images:t}=r;if(!t)return t;a()("object"==typeof t,"images must be an object");let n=t["orig"===s?"originals":s];return n&&e?{...n,dominant_color:e}:n}return r[s]}return r},T={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock"},I=(e,t)=>(T[e]??e).toLowerCase()===t,A={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},E=/_/g,C=e=>"string"==typeof e.type?e.type.replace(E,"").toLowerCase():"number"==typeof e.block_type?A[e.block_type].toLowerCase():void 0},895409:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});let i=({height:e,url:t,width:n})=>({height:e,url:t,width:n}),a=e=>Object.entries(e).reduce((e,[t,n])=>({...e,[t]:n&&i(n)}),{})},695238:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),a=n(14583),l=n(785893);function r({useGraphQLAdapter:e,useLegacyAdapter:t}){let n=({children:t,data:n})=>t({enabled:!0,data:e(n)}),r=({children:e,data:n})=>e({enabled:!1,data:t(n)});return function({children:e,input:t}){let s=t.enabled?(0,l.jsx)(n,{data:t.data,children:e}):(0,l.jsx)(r,{data:t.data,children:e}),o=t.suspense?.dangerouslyServerRender?i.Suspense:a.Z;return t.suspense?(0,l.jsx)(o,{fallback:t.suspense.fallback,children:s}):s}}},91402:(e,t,n)=>{"use strict";n.d(t,{g:()=>l,j:()=>r});var i=n(226618),a=n(953565);function l(e){if(Array.isArray(e)){let t=e[0];if(null==t)return{kind:"PluralLegacy",data:[],paginationInfo:null,refetchInfo:null};if(null!=t.__fragments)return{kind:"GraphQL",data:e};let n=(0,i.G5)(t);return null!=n?{kind:"PluralLegacy",data:e.map(e=>(0,i.Be)(e).data),paginationInfo:n.paginationInfo,refetchInfo:n.refetchInfo}:((0,a.nP)("autoLegacyAdapter.invalidPluralDataKey",{sampleRate:1}),{kind:"PluralLegacy",data:e.map(e=>(0,i.Be)(e).data),paginationInfo:null,refetchInfo:null})}let t=(0,i.G5)(e);if(null!=t){let{data:e,refetchInfo:n,paginationInfo:i}=t;return{kind:"SingularLegacy",data:e,refetchInfo:n,paginationInfo:i}}if(e.__fragments)return{kind:"GraphQL",data:e};if("graphqlRef"===e.type)return{kind:"GraphQL",data:e.data};if("deprecated"===e.type){let{data:t}=e;return Array.isArray(t)?{kind:"PluralLegacy",data:t,refetchInfo:null,paginationInfo:null}:{kind:"SingularLegacy",data:t,refetchInfo:null,paginationInfo:null}}throw Error("Invalid value")}function r(e){let t=(0,i.G5)(e);return null!=t?{type:"deprecated",data:t.data}:e.__fragments?{type:"graphqlRef",data:e}:e}},226618:(e,t,n)=>{"use strict";n.d(t,{Be:()=>l,G5:()=>a,I9:()=>r});let i=Symbol("legacyData");function a(e){return e[i]}function l(e){return e[i]}function r(e,t){return e[i]=t,e}},333739:(e,t,n)=>{"use strict";n.d(t,{qH:()=>T,Zm:()=>y,HF:()=>S,sr:()=>w,O7:()=>f,V4:()=>P});var i=n(702664),a=n(167912),l=n(288088);function r(e){return null==e?"null or undefined":Array.isArray(e)?"Array":typeof e}function s(e,t,n){return"Manual"===t?{path:e,message:`Value found only in legacy adapter, where it had type ${r(n)}. (Or it was null in the auto-legacy adapter.)`,kind:"MissingInLegacy"}:{path:e,message:`Value found only in auto-legacy adapter, where it had type ${r(n)}. (Or it was null in the legacy adapter.)`,kind:"MissingInAutoLegacy"}}function o(e,t,n){let i=r(t),a=r(n);return{path:e,message:`Found item of type ${i} in the legacy adapter result, and an item of type ${a} in the auto-legacy result.`,kind:"Type"}}var d=n(226618),c=n(340523),u=n(5859),p=n(554786),m=n(19447),h=n(953565);let g={},_=new Set;function y(e,t,{useGraphQLAdapter:n,useLegacyAdapter:i}){if("deprecated"===t.type)return{data:i(t.data),childDataKey__DEPRECATED:t};let l=(0,a.useFragment)(e,t.data);return{data:n(l),childDataKey__DEPRECATED:{type:"graphqlRef",data:l}}}let f=()=>{let{isAuthenticated:e}=(0,u.B)(),t=(0,p.HG)();return{isAuth:!!e,isDesktop:t}};function b(){return"undefined"!=typeof performance?performance.now():Date.now()}function v(e){let t=b(),n=e(),i=b();return[n,i-t]}let x=new Map;function k(e,t,n,i){let a=x.get(i);if(a){if(!a.has(t)){let[i,l]=v(e);return a.add(t),(0,h.LY)(t,l,{sampleRate:n.isParallel?1:.1,tags:n}),i}}else{let[a,l]=v(e);return x.set(i,new Set([t])),(0,h.LY)(t,l,{sampleRate:n.isParallel?1:.1,tags:n}),a}return e()}function P(e,t){let{checkExperiment:n}=(0,c.F)(),{isAuthenticated:i}=(0,u.B)(),{group:a,anyEnabled:p}=n(i?"web_graphql_auto_legacy_adapters_auth":"web_graphql_auto_legacy_adapters_unauth"),m=f();return a.includes("parallel")?n=>{let i=k(()=>(0,d.I9)(t(n),{data:n,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{isParallel:!0,fragmentName:e.name},e.name);return"object"==typeof window&&function(e,t,n,i){let a;try{a=k(()=>(0,l.Z)({conditionContext:t,fragment:e,legacyData:n,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!0},e.name)}catch{return}try{var d;let t=(d=a,function e(t,n,i){let a=[],l=Object.keys(n),d=Object.keys(i);for(let d of l){let l=n[d],c=i[d];a.push(...function t(n,i,a){return null!=i&&null==a?[s(n,"Manual",i)]:i===a||null==i&&null==a?[]:Array.isArray(i)?Array.isArray(a)?function(e,n,i){if(n.length!==i.length)return[{path:e,message:`legacyResult is an array of length ${n.length}; autoLegacyResult is an array of length ${i.length}`,kind:"Length"}];let a=[];for(let l=0;l<n.length;l+=1){let r=n[l],s=i[l];a.push(...t(`${e}[]`,r,s))}return a}(n,i,a):[o(n,i,a)]:"object"==typeof i?"object"==typeof a&&null!==a&&null!==i?e(n,i,a):[o(n,i,a)]:[typeof i!=typeof a?o(n,i,a):{path:n,message:`Found items of type ${r(i)}, but their values did not match.`,kind:"Value"}]}(`${t}.${d}`,l,c))}for(let e of d){let l=n[e],r=i[e];null!=r&&null==l&&a.push(s(`${t}.${e}`,"Auto",r))}return a}("",i,d));if(t.length>0){window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn({differences:t,fragment:e.name}),g[e.name]=g[e.name]??new Set;let n=g[e.name];for(let i of t)n.has(i.path)||(n.add(i.path),(0,h.nP)("autoLegacyAdapter.inconsistentReadResults",{sampleRate:1,tags:{fragmentName:e.name,path:i.path,kind:i.kind}}))}}catch(t){_.has(e.name)||(_.add(e.name),window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn(`comparing results threw for fragment ${e.name}`),(0,h.nP)("autoLegacyAdapter.erroredCompareResults",{sampleRate:1,tags:{fragmentName:e.name}}))}}(e,m,n,i),i}:p?t=>k(()=>(0,l.Z)({conditionContext:m,fragment:e,legacyData:t,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!1},e.name):n=>k(()=>(0,d.I9)(t(n),{data:n,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{fragmentName:e.name,isParallel:!1},e.name)}function S(e,t,n){let a;switch(n.type){case"article":a=e=>{let t=(0,i.useSelector)(({articles:t})=>t[e]);return t?n.useLegacyAdapter(t):null};break;case"story":a=e=>{let t=(0,i.useSelector)(({stories:t})=>t[e]);return t?n.useLegacyAdapter(t):null};break;default:a=e=>{let t=(0,m.S6)()(e);return t?n.useLegacyAdapter(t):null}}return y(e,t,{useGraphQLAdapter:n.useGraphQLAdapter,useLegacyAdapter:a})}function w(e,t,n){let i=P(e,n.useLegacyAdapter);return S(e,t,{...n,useGraphQLAdapter:e=>e,useLegacyAdapter:i})}let T=void 0},207012:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(422578),a=n(288088),l=n(91402),r=n(333739);let s=function(e,t){let n=(0,r.O7)();if(null==t)return null;let s=(0,l.g)(t);switch(s.kind){case"SingularLegacy":{let{data:t,refetchInfo:i,paginationInfo:l}=s;return(0,a.Z)({conditionContext:n,fragment:e,legacyData:t,paginationInfo:l,refetchInfo:i})}case"PluralLegacy":{let{data:t,refetchInfo:i,paginationInfo:l}=s;return t.map(t=>(0,a.Z)({conditionContext:n,fragment:e,legacyData:t,paginationInfo:l,refetchInfo:i}))}case"GraphQL":return(0,i.useFragment)(e,s.data);default:throw Error("Unexpected case")}}},807023:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var i=n(167912),a=n(91402),l=n(333739);function r(e,t,{useLegacyAdapter:n}){if(null==t)return{data:null,childDataKey__DEPRECATED:null};let r=(0,a.j)(t);if("deprecated"===r.type){let{data:t}=r;return null==t?{data:null,childDataKey__DEPRECATED:r}:{data:(0,l.V4)(e,n)(t),childDataKey__DEPRECATED:r}}let s=(0,i.useFragment)(e,r.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},883087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),a=n(167912),l=n(244311);function r(e,t,n){let r=n?.suspendOnRefetch??!0,s=(0,a.useRelayEnvironment)(),[o,d]=(0,i.useState)({fetchKey:0,fetchPolicy:"store-or-network"}),[c,u]=(0,i.useState)(!1),p=(0,i.useCallback)(()=>{c||(r?d(e=>({fetchKey:e.fetchKey+1,fetchPolicy:"network-only"})):(u(!0),(0,l.fetchQuery)(s,e,t).subscribe({complete:()=>{u(!1),d(e=>({fetchKey:e.fetchKey+1,fetchPolicy:"store-only"}))},error:()=>{u(!1)}})))},[s,c,e,r,t]),m=(0,a.useLazyLoadQuery)(e,t,o);return{data:m,isRefetching:c,refetch:p}}},213377:(e,t,n)=>{"use strict";n.d(t,{$H:()=>r,$q:()=>f,D6:()=>d,KN:()=>v,Lo:()=>a,P2:()=>g,TS:()=>x,Wv:()=>b,ZZ:()=>u,g5:()=>p,jC:()=>s,lX:()=>h,nW:()=>m,oX:()=>_,qG:()=>y,tG:()=>l,yF:()=>i,yc:()=>c,yt:()=>o});let i=236,a=2*i/3,l=175,r=24,s=4,o=8,d=2,c=2,u=14,p=16,m=12,h=16,g=24,_=16,y=-1,f=(e=!1,t=!1)=>e?t?h:m:g,b=({contentVisibleItemCount:e,gap:t,width:n})=>e||n?(n-(e-1)*t)/e:i,v=(e,t,n,i,a=u)=>{let l=e+a,r=`
@media (min-width: ${t*l}px) and (max-width: ${(n+1)*l-1}px) {
  ${i}
}
`;return r},x=(e,t,n)=>{let a=n?3:2,r=t?5:a,s=t?i:l,d=t?_:o,c=s*r+d*r-(t?12:!t&&n?12:6);if(!e)return c;for(let t=r;t>=2&&!(e>c);t-=1)c=s*t+d*t;return c}},452388:(e,t,n)=>{"use strict";n.d(t,{H:()=>i,Z:()=>a});let i=Object.freeze({sha1:"SHA-1",sha256:"SHA-256",sha384:"SHA-384",sha512:"SHA-512"});async function a(e,t){try{if("undefined"==typeof TextEncoder||!Object.values(i).includes(e))return"";let n=new TextEncoder().encode(t),a=await window.crypto.subtle.digest(e,n),l=Array.from(new Uint8Array(a)),r=l.map(e=>e.toString(16).padStart(2,"0")).join("");return r}catch(e){return""}}},388769:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(72461),a=n(5859),l=n(785893);let r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:r,shortformMaximumFractionDigits:s,formatStyle:o,uplimit:d,value:c})=>{let u=(0,i.Z)();return(0,l.jsx)(a.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:r,shortform_maximum_fraction_digits:s,style:o,uplimit:d})})}},757017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(188349),a=n(140017),l=n(339001);function r(){let e=(0,a.ZP)();return function(t,n){let a=new Date(t),r=new Date,s=r-a,o=Math.floor(s/i.FS),d=Math.floor(s/i.UK),c=Math.floor(s/i.F4),u=Math.floor(s/i.VL),p=Math.floor(s/i.N1),m=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', o, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', d, ' - ', ' -- '),g=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),_=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),y=e.ngettext('{{ years }} year ago', '{{ years }} years ago', p, ' - ', ' -- '),f=e.ngettext('{{ minutes }}m', '{{ minutes }}m', o, 'minutes ago abbreviated', 'minutes ago abbreviated'),b=e.ngettext('{{ hours }}h', '{{ hours }}h', d, 'hours ago abbreviated', 'hours ago abbreviated'),v=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),k=e.ngettext('{{ years }}y', '{{ years }}y', p, 'years ago abbreviated', 'years ago abbreviated');return p>0?(0,l.nk)(n?k:y,{years:p}).join(""):u>0?(0,l.nk)(n?x:_,{weeks:u}).join(""):c>0?(0,l.nk)(n?v:g,{days:c}).join(""):d>0?(0,l.nk)(n?b:h,{hours:d}).join(""):o>0?(0,l.nk)(n?f:m,{minutes:o}).join(""):e._('Just now', ' - ', ' -- ')}}},140017:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,oz:()=>l,q6:()=>a});var i=n(342513);let{Provider:a,Consumer:l,useHook:r}=(0,i.Z)("i18n"),s=r},72461:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(140017),a=n(427514);let l=(e,t)=>{let n=t||0,i=10**n,a=+(n?e*i:e).toFixed(8),l=Math.floor(a),r=a-l,s=r>.49999999&&r<.50000001?l%2==0?l:l+1:Math.round(a);return n?s/i:s},r=({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{let a={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...a,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:a},s=e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0},o=(e,t)=>{if(t){let{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){let e=(0,i.ZP)();return(t,n,i)=>{let d=0,c=0,u=i&&i.style||void 0,p=i&&i.shortform||!1,m=i&&i.uplimit||void 0,h=i&&i.currency||void 0,g=!!m&&n>=m,_=m&&g?m:n;if("currency"===u){let{minimumFractionDigits:e,maximumFractionDigits:n}=o(t,h);d=void 0===i||void 0===i.maximum_fraction_digits?n:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else d=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(p&&_>999&&(d=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,c=0),d<c)return String(_);let y=_,f="",b=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],v=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],x=/^zh|ja|ko/.test(t);if(p&&_>999){let e=x?b:v;for(let t=0;t<e.length;t+=1){let n=Object.keys(e[t])[0],i=e[t][n].value;if(_>=i){y=l(_/i*Math.pow(10,d))/Math.pow(10,d),f=e[t][n].localeKey;break}}}if(null==y)return"";let k=y.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],r({maximumFractionDigits:d,minimumFractionDigits:c,currency:h,style:u}));return f&&f.length>0?(0,a.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:k,numberSuffix:f})+(g?"+":""):k+(g?"+":"")}}},666472:(e,t,n)=>{"use strict";n.d(t,{F:()=>d,Z:()=>o});var i=n(667294),a=n(263032),l=n(214877),r=n(30378);let s={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054}};function o({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:o,contextLogData:d,clientTrackingParams:c,elementType:u,impressionAuxFields:p,inImpressionExp:m,impressionType:h,impressionsFramework:g,isPaused:_,loggingId:y,objectIdStr:f,slotIndex:b,trackCarousel:v,viewData:x,viewParameter:k,viewType:P,isPromoted:S,storyPinProductEventData:w,pinData:T}){let{logContextEvent:I}=(0,l.v)(),A=g||r.Z,E=(0,i.useRef)(null),C=i=>{let l=s[h],r=l.idType,m={clientTrackingParams:c,endTime:i.endTime,[r]:y,slotIndex:b,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...p,forcedExit:"removed"===i.forcedExit?0:void 0},g={};if("Pin"===h&&(m={...m,pinCellWidth:E.current?.getBoundingClientRect().width||0,pinCellHeight:E.current?.getBoundingClientRect().height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},p?.chromeAraViewExp&&T&&T.isPromoted)){let{attributionSourceId:e}=T;(0,a.YS)(h,T.isPromoted??null,e??null,T.link??null,T.campaignId??null,p.araAuxData??null,T.advertiserId??null,T.domain??null,T.adDestinationUrl??null),g={is_arapi:!0,attribution_source_id:e||""}}let _={component:o,object_id_str:f,view_type:P,view_data:x||{},view_parameter:k};v?e&&v&&I({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...m,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},..._,aux_data:{...d,...g}}):I({clientTrackingParams:c,event_type:l.eventType,..._,element:u,event_data:{[l.impressionType]:"Story"===h?m:[m],...w?{storyPinProductEventData:w}:{}},aux_data:{closeup_navigation_type:n,...d,...g}})},j=(0,i.useCallback)(()=>{try{let{current:e}=E;e instanceof HTMLElement&&(!S||e.getElementsByTagName("img").length>0)&&A.start(e).onExitViewport(C).setDebugId(y||"unknown")}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[E.current]);return(0,i.useEffect)(()=>(m&&!A.inExperiment&&A.setExperimentStatus(!0),_||j(),()=>{let{current:e}=E;e instanceof HTMLElement&&(!S||e.getElementsByTagName("img").length>0)&&A.stop(e)}),[_,j]),E}let d=({children:e,...t})=>e({impressionTrackerRef:o(t)})},307772:(e,t,n)=>{"use strict";function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>u,LU:()=>p,ZP:()=>m});let a=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,l={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},r={},s={background:"#FF8A8A",transform:"scale(.98)"},o={init:e=>({transform:`scale(${r[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[l.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[l.exit]:s,[l.stopped]:s,[l.paused]:s,[l.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){i(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),i(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),i(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),i(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(l.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(l.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,a&&Object.assign(this.node.style,o.init(e)),this}pause(){return this.inViewport&&(this._debug(l.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(l.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(l.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(a)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),o[e]&&Object.assign(this.node.style,o[e]),e){case l.flushed:case l.paused:case l.exit:r[this.debugId]=!0}}}function c(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=!0,p=!1;class m{constructor(){c(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),c(this,"_handleMutations",(e,t)=>{let n=this.mutationObservers.get(t),i=n&&n.offsetHeight<1;i&&n&&this.stop(n,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=u){(e!==p||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:n}=t.getBoundingClientRect();return n>e?n:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:n}=t.getBoundingClientRect();return n<e?n:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(307772);let a=new i.ZP},339001:(e,t,n)=>{"use strict";n.d(t,{Wc:()=>o,bF:()=>c,nk:()=>s,r7:()=>u});var i=n(667294),a=n(785893);function l(e,t,n){return e.split(n).map(e=>{if(e.match(n)){let n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}let r=/(\{\{\s*\w+\s*\}\})/g;function s(e,t){return l(e,t,r)}function o(e,t){return l(e,t,r).join("")}let d=/(\{\s*\w+\s*\})/g;function c(e,t){return l(e,t,d)}let u=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,a.jsx)(i.Fragment,{children:e},t)):e},59545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),a(this,"ref",(0,i.createRef)()),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let r=l},579814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(107366),a=n(624797);let l=(e=()=>{})=>{let t=(0,a.mB)(window.location.search),{invite_code:n}=t;if(!n){e(t);return}let l=encodeURIComponent(n),r=encodeURIComponent(l);(0,i.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:r}})}},639435:(e,t,n)=>{"use strict";n.d(t,{U:()=>y});var i=n(953565);let a="nic_v3",l=`${a}=1a`,r=`${a}=1b`,s=[l,r],o=["invite_code","invite","board_invite_code","sender"],d=e=>!!o.find(t=>e.includes(t)),c=e=>!!s.find(t=>e.includes(t)),u=e=>e.pathname.includes("/pin/")&&!d(e.search)&&!c(e.search),p=e=>e.includes("sender"),m=e=>!d(e)&&!p(e)&&e.includes(a),h=(e,t,n)=>{let i=e.search?"&":"?",a=e.pathname+e.search+(i+(n?r:l)+t);return a},g=(e,t,n=!1,l)=>{if(!u(e))return;let r=n?"mweb":"web";if(!t){(0,i.nP)(`${r}.${a}.social_tracking_pin_non_invite.insert.no_encrypted_id`);return}(0,i.nP)(`${r}.${a}.social_tracking_pin_non_invite.insert.attempt`);try{let s=h(e,t,n);(0,i.nP)(`${r}.${a}.social_tracking_pin_non_invite.insert.success`),l(s)}catch{(0,i.nP)(`${r}.${a}.social_tracking_pin_non_invite.insert.caught_exception`)}},_=(e,t,n=!1,i)=>g(e,"",n,i),y=(e,t,n,l,r)=>{let s=n?"mweb":"web";(0,i.nP)(`${s}.${a}.social_tracking_pin_non_invite.attempt`);try{!n&&l&&u(e)?((0,i.nP)(`${s}.${a}.social_tracking_pin_non_invite.search_string_eligible`),_(e,t,n,r)):m(e.search)&&(0,i.nP)(`${s}.${a}.social_tracking_pin_non_invite.search_string_land`)}catch{(0,i.nP)(`${s}.${a}.social_tracking_pin_non_invite.caught_exception`)}}},681508:(e,t,n)=>{"use strict";n.d(t,{Q4:()=>u,Rq:()=>l,Vf:()=>r,ab:()=>d,jd:()=>s,nw:()=>c,oy:()=>o});var i=n(658583),a=n(622541);let l=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,s=e=>window.innerHeight>=748&&l(e),o=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},d=()=>{i.t8(a.oj,String(!0),(0,i.kZ)(a.oj))},c=()=>!!i.U2(a.oj),u=()=>{if(o()){let e=c();e||(d(),"undefined"!=typeof window&&window.location.reload(!0))}}},431405:(e,t,n)=>{"use strict";function i({browserName:e,browserType:t,browserVersion:n,enableModernBundlesForBots:i,isBot:a}){if(a&&i)return!0;if("Electron"===e){let e=Number(n?.split(".")[0]);return e>=3}if(t&&n){let e=Number(n.split(".")[0]);if(1===t||4===t)return e>=105;if(2===t)return e>=15;if(7===t)return e>=105}return!1}n.d(t,{Z:()=>i})},422210:(e,t,n)=>{"use strict";function i(e){if(!e)return!1;let t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}n.d(t,{Z:()=>i})},201417:(e,t,n)=>{"use strict";function i(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}n.d(t,{Z:()=>i})},252478:(e,t,n)=>{"use strict";async function i(e){return new Promise((t,n)=>{let i=document.createElement("img");i.onerror=()=>n(Error(`Image failed to load with src ${e}`)),i.onload=()=>t(!0),i.src=e})}async function a(e){try{let t=await fetch(e,{method:"HEAD"}),n=await t.blob(),a=n.type.startsWith("image/");{let t=await i(e);return a&&t}}catch(e){return!1}}n.d(t,{Z:()=>a})},588664:(e,t,n)=>{"use strict";function i(e,t,n=28){let i;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let a=new Date,l=i?new Date(i):a;return l.setDate(l.getDate()+n),new Date().getTime()<l.getTime()}n.d(t,{Z:()=>i})},317540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},820428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(107366),a=n(217058),l=n(546689);async function r(e){let t=(0,l.i$)(),n=(0,l.nR)(),r=(0,l.di)(),s=t?t.map(({pageType:e,...t})=>t):null,o={is_register:e??!1};if(s&&(o.unauth_visited_pages=JSON.stringify(s)),n&&(o.invite_redemption=JSON.stringify(n)),r&&(o.paid_landing=JSON.stringify(r)),s||n||r){let e=await (0,i.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:o});(0,a.My)(`landing_signals.flush.${e.status}`),(0,l.z$)()}}},165706:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>p,FixedFooter:()=>g,FixedHeader:()=>h});var i=n(667294),a=n(883119),l=n(40432),r=n(696534),s=n(30378),o=n(71328);function d(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),d(this,"lastScrollPos",0),d(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),d(this,"handleScroll",(0,o.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,i=window.scrollY,a=i-this.lastScrollPos,l="none",{scrollHeight:r,clientHeight:s}=document.documentElement||{};if(!Number.isNaN(r)&&!Number.isNaN(s)){if(a<0){let e=window.scrollMinY||0,t=Math.abs(e+Math.max(a,20));l=i<=t?"start":"none"}else{let e=window.scrollMaxY||r-s,t=e-Math.max(a,20);l=i>=t?"end":"none"}}let o=t?.isModal?0:55;if(e){if(a>20&&n&&i>=500){let n=e.shouldShowAfterScroll();n&&(this.updateHiddenState(!1),t?.onScroll(!1))}else(a<-20&&!n||i<=o)&&(this.updateHiddenState(!0),t?.onScroll(!0))}else this.props.navFooterConfig?.isDockedNavOnPlp?"start"===l&&!n||i<=o?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>o||"end"===l)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(a<-20||"start"===l)&&n||i<=o?(this.updateHiddenState(!1),t?.onScroll(!1)):(a>20||"end"===l)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0));this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,i=!t?.forceShow&&n;return e({isHidden:i,updateHiddenState:this.updateHiddenState})}}var u=n(785893);let p=64;function m({children:e,footerConfig:t,headerConfig:n,height:o,hideOnScroll:d,hideOnScrollState:{isHidden:c,updateHiddenState:m},noPadding:h,paddingY:g=3,type:_,zIndex:y}){let f,b;let{headerLimitedOverflow:v,ignoreObstructions:x,zIndexForGestaltBug:k}=n||{},{appUpsellFooterConfig:P,footerInLego:S,navFooterConfig:w}=t||{},T=!!P,I="header"===_?"top":"bottom",A=(0,r.vs)(),E=(0,i.useRef)(null),C=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!x){let e=E.current;C.current=v&&e&&Array.isArray(e.children)?e.children[0]:e,C.current instanceof HTMLElement&&s.Z.addObstruction(I,C.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!x&&C.current instanceof HTMLElement&&s.Z.removeObstruction(I,C.current)}},[x,v,I,A]);let j="top"===I?"relative":"fixed",R=(o??p)+(n?.overrideTop||0),L=d||w?{transition:S?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...c?{transform:`translateY(${"top"===I?-R:R}px)`,opacity:S?0:1}:Object.freeze({})}:{},F="relative"!==j||n?.noGutter?0:2,D=F?-F:0,O=A?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";return A&&("header"===_?f=-1:b=-1),(0,u.jsx)(a.xu,{ref:E,bottom:"footer"===_,dangerouslySetInlineStyle:{__style:{top:f,bottomStyle:b,...!y||k?{zIndex:k||1}:Object.freeze({}),...v?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...L}},"data-test-id":_,display:T?"flex":void 0,height:o&&!S?o:void 0,left:!0,marginEnd:S?"auto":D,marginStart:S?"auto":D,onTransitionEnd:()=>{(d||w)&&C.current&&(c?s.Z.removeObstruction(I,C.current):s.Z.addObstruction(I,C.current))},position:j,right:!0,top:"header"===_,width:S||"fixed"!==j?void 0:"100%",zIndex:k?void 0:y,children:(0,u.jsx)(a.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:n?.isTranslucent&&O||n?.isTransparentBackground&&l.o7L||l.k95,height:S?T?void 0:o??p:"100%",boxShadow:S?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:S&&!w?.docked?16:void 0,...v?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:S||t?.alignCenter?"flex":void 0,marginEnd:S?"auto":void 0,marginStart:S?"auto":void 0,paddingX:("footer"!==_||h?0:4)+F,paddingY:h?0:g,position:"relative",rounding:S&&!w?.docked?"pill":void 0,width:w?w.footerWidth:T?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:m}):e})})}function h({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:l,noGutter:r,overrideTop:s,useRoundedCorners:o,zIndexForGestaltBug:d,...p}){let{noPadding:h,paddingY:g=3,zIndex:_}=p;return(0,u.jsx)(a.Le,{height:t?44+8*(h?0:g):void 0,top:s||0,zIndex:_||void 0,children:(0,u.jsx)(c,{hideOnScroll:p.hideOnScroll,children:a=>(0,u.jsx)(m,{...p,headerConfig:{isTranslucent:i,isTransparentBackground:l,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:r,overrideTop:s,zIndexForGestaltBug:d,useRoundedCorners:o},hideOnScrollState:a,type:"header"})})})}function g({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a,...l}){return(0,u.jsx)(c,{appUpsellFooterConfig:t,hideOnScroll:l.hideOnScroll,navFooterConfig:a?.scrollConfig,children:r=>(0,u.jsx)(m,{...l,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a},hideOnScrollState:r,type:"footer"})})}},160133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),a=n(213377),l=n(403862),r=n(554786),s=n(785893);let o=({children:e,roundedForLargeDevice:t})=>{let n=(0,r.ZP)(),o="phone"!==n&&t;return(0,l.V)()?(0,s.jsx)(i.xu,{marginEnd:-a.D6,marginStart:-a.D6,overflow:o?"hidden":void 0,rounding:o?6:void 0,children:(0,s.jsx)(l.C,{value:!1,children:e})}):e}},179425:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(883119),a=n(213377),l=n(681508),r=n(403862),s=n(5859),o=n(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{let m=(0,s.B)(),h=(0,l.jd)(m.userAgent.platform)?l.Vf:0;return(0,o.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${h}px)`:c,paddingX:d?a.D6:void 0,paddingY:n||u?void 0:3,children:(0,o.jsx)(r.C,{value:!!d,children:e})})}},403862:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,V:()=>r});var i=n(667294);let a=(0,i.createContext)(!1),l=a.Provider,r=()=>(0,i.useContext)(a)},263148:(e,t,n)=>{"use strict";n.d(t,{Se:()=>y,iw:()=>b,gV:()=>g,G3:()=>v,Gj:()=>f,Jd:()=>h,$3:()=>_});var i=n(29156),a=n(658583),l=n(622541),r=n(107366),s=n(460270);let o=e=>"string"!=typeof e&&e?e.state:null;var d=n(337478),c=n(940910),u=n(998449),p=n(797258),m=n(467139);let h=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},g=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),_=({location:e,pinId:t,surface:n})=>!!n&&!m.ZF.includes(n)||e.pathname.includes(t),y=(e,t)=>{let n=Math.round(1e3*Math.random())+"",i=Math.round(1e3*Math.random())+"";a.t8((0,l.GS)(n),i);let r={token:`${n}-${i}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,d.Z)(r)}`},f=(e,t)=>{(0,i.Z)(y(e,t),!0,t?.features)},b=async({clientTrackingParams:e,href:t,isMounted:n,pinId:i,spamCheckCallback:a})=>{let l=await (0,r.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!l.resource_response.error&&n){let e=l.resource_response.data||{},{message:t,redirect_status:n,url:i}=e,r=["blocked","suspicious","porn"].includes(n);a({blocked:r,message:t,redirectStatus:n,sanitized_url:i})}},v=({event:e,onHistoryChange:t,href:n,history:a,target:l})=>{let r=(0,s.Z)(n),d=o(n)??{},m=(0,c.Z)(r);m===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===l?(0,i.Z)(r,"blank"===l):a&&m===p.Z.SAME_ORIGIN&&(a.push((0,u.Z)({url:r}),{from:a.location,...d}),t&&t({event:e}))}},340370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),a=n(616550),l=n(798580),r=n(263148),s=n(96761),o=n(460270),d=n(862249),c=n(557874),u=n(953565);function p(e){let{externalData:t,href:n,onHistoryChange:p,target:m}=e,[h,g]=(0,i.useState)(null),[_,y]=(0,i.useState)(!1),f=(0,a.k6)(),b=(0,a.TH)(),v=(0,o.Z)(n),x=(0,d.Z)({url:v}),{showWarning:k}=(0,c.s)()??{},{pin:P,surface:S}=t||{},w=P?(0,l.Z)({boardUrl:P.board?.url,location:b,pinId:P.entityId,pinnerUserName:P.pinner?.username,storyPinDataId:P.storyPinDataId,trackingParams:P.trackingParams,trackingParamsMap:P.trackingParamsMap}):null,T=(0,s.Z)();return(0,i.useEffect)(()=>(y(!0),()=>{y(!1)}),[]),(0,i.useEffect)(()=>{x&&P&&null===h&&_&&(!P.promoter||P.isDownstreamPromotion)&&(0,r.$3)({location:b,pinId:P.entityId,surface:S})&&(0,r.iw)({clientTrackingParams:w,isMounted:_,pinId:P.entityId,spamCheckCallback:e=>g(e),href:v})},[w,P,S,v,x,_,b,h]),({event:e})=>{if(!(0,r.gV)({isOffsiteUrl:x,event:e})){if(e.preventDefault(),!n||"string"==typeof n&&n.startsWith("#")){(0,u.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:b.pathname,href:n}});return}x||t?.dangerouslyForceOffsiteUrl?T({auxData:t?.auxData,clientTrackingParams:w,pin:t?.pin&&{attributionSourceId:t.pin.attributionSourceId,campaignId:t.pin.campaignId,isPromoted:t.pin.isPromoted,pinPromotionId:t.pin.pinPromotionId,isThirdPartyAd:t.pin.isThirdPartyAd,advertiserId:t.pin.advertiserId,destinationUrl:t.pin.destinationUrl,link:t.pin.link,domain:t.pin.domain},pinId:t?.pin?.entityId,queryParams:t?.queryParams,showWarning:k,spamCheck:h,url:v}):(0,r.G3)({event:e,href:n,history:f,onHistoryChange:p,target:"blank"===m?"blank":null})}}}},96761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(453880),a=n(934378),l=n(263032),r=n(86785),s=n(214877),o=n(263148),d=n(171966);let c=(e,t,n)=>{let i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(a.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(a.$N.ATTRIBUTE_ON,n),i.click()},u=(e,t,n,i,r,s,o)=>{let d=(0,l.m_)(e,[n,i,r],!0,s,o),c=document.createElement("a");c.setAttribute("href",t),c.setAttribute("target","_blank"),c.setAttribute("rel","noopener nofollow noreferrer"),c.style.cursor="pointer",c.style.display="block",c.setAttribute(a.NR.SOURCE,d),c.click()},p=()=>{let{logContextEvent:e}=(0,s.v)();return({attributionSourceId:t,auxData:n,campaignId:a,clientTrackingParams:l,href:s,isPromoted:d,pinId:p,pinPromotionId:m,isThirdPartyAd:h,advertiserId:g,destinationUrl:_,link:y,domain:f})=>{if(!d)return!1;let b=(0,i.Z)(),v=(0,o.Se)(s,{params:{pinId:p,csrId:null,clientTrackingParams:l,auxData:n,isThirdPartyAd:h}}),x=b?.userAgent.browserName??"";if((0,r.G6)(x)){let{group:n}=b?.experimentsClient.checkExperiment("m10n_event_conversion_measurement")??{},i=b?.userAgent.browserVersion?b.userAgent.browserVersion:"0.0",r=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&r>=14.1&&["enabled_safari"].includes(n))return c(t,v,s),e({event_type:101,clientTrackingParams:l,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:m||"",click_measurement_campaign_id:a||"",is_pcm:!0,attribution_source_id:t,page_url:s}}),!0}else if((0,r.i7)(x)&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))return u(t,v,_,y,f,a,g),e({event_type:101,clientTrackingParams:l,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:m||"",click_measurement_campaign_id:a||"",is_arapi:!0,attribution_source_id:t,page_url:s}}),!0;return!1}},m=e=>{let t=p();return({auxData:n,clientTrackingParams:i,pin:a,pinId:l,queryParams:r,showWarning:s,spamCheck:c,url:u})=>{if("undefined"!=typeof window&&window.Windows){(0,d.Z)(u,{clientTrackingParams:i,pinId:l,hasPin:!!a,auxData:n,isThirdPartyAd:a?.isThirdPartyAd});return}if(!a&&!e?.isFromClickthroughLink){(0,o.Gj)(u,r?{queryParams:r}:{params:{pinId:l}});return}if(c?.blocked){s?.(c);return}a&&t({attributionSourceId:a.attributionSourceId,auxData:n,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:i,href:u,isPromoted:a.isPromoted,pinId:l,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null,destinationUrl:a.destinationUrl,link:a.link,domain:a.domain})||(0,o.Gj)(u,{params:{clientTrackingParams:i,auxData:n,pinId:l,isThirdPartyAd:a?.isThirdPartyAd}})}}},794658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(953565);function a(e,t){return new Promise((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t){if(window.FB)n();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,(0,i.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}}else if("GSI"===t){if(window.google)n();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,(0,i.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}}else n()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>n()),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}})}},857916:(e,t,n)=>{"use strict";n.d(t,{Di:()=>p,Jl:()=>d,R:()=>c,ZP:()=>y,aU:()=>m,j2:()=>u,pN:()=>h,rL:()=>f,vW:()=>_});var i=n(883119),a=n(205841),l=n(454514),r=n(339001),s=n(624797),o=n(785893);let d=7e3,c="permanent_account_closure",u="account_deletion_email_sent",p="account_deactivated",m="unlink_successful",h="account_switch_to_settings";function g(e,t,n){return(0,o.jsx)(i.xv,{align:n||"center",children:(0,r.nk)(e,{username:(0,o.jsx)(i.xv,{inline:!0,weight:"bold",children:t})})})}function _({i18n:e,message:t,multipleAccounts:n,username:i=""}){switch(t){case c:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case u:if(n)return g(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),i);return g(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case p:return g(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case m:return g(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case h:return g(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");default:return""}}function y(e,t,n=""){if(!(t&&t.search))return"";let{message:i}=(0,s.mB)(t.search),a=(0,s.mB)(t.search).username||n,l="true"===(0,s.mB)(t.search).multiple_accounts;return _({i18n:e,message:i,multipleAccounts:l,username:a})}function f({showOneToast:e,i18n:t,location:n,history:i,username:r,fullName:c,avatarUrl:u}){if(!(n&&n.search))return;let p=y(t,n,r||""),{message:g}=(0,s.mB)(n.search),_=g===h||g===m;p&&(e(({hideToast:e})=>(0,o.jsx)(l.ZP,{duration:d,onHide:e,text:p,thumbnail:_?{avatar:(0,o.jsx)(a.qE,{name:c||"",size:"md",src:u||""})}:void 0})),i.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}},444781:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(201417);function a(e,t=!1){let n=(t,n)=>e(n);return e=>(function e(t,n=!1){return a=>{if(!(0,i.Z)(a))return n&&Array.isArray(a)?a.map(e(t,n)):a;let l={};return Object.keys(a).forEach(r=>{let s=t(a[r],r);(0,i.Z)(a[r])||n&&Array.isArray(a[r])?l[s]=e(t,n)(a[r]):l[s]=a[r]}),l}})(n,t)(e)}},996523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>function e(t,n,i=()=>void 0){let a=i(t,n);return void 0!==a?a:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce((t,a,l)=>(t[l]=e(t[l],n[l],i),t),[...t]):t&&"object"==typeof t&&n&&"object"==typeof n?Object.keys(n).reduce((t,a)=>(t[a]=e(t[a],n[a],i),t),{...t}):n}})},705895:(e,t,n)=>{"use strict";function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});let a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},l=e=>{if(e.isHidden){let{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach(e=>e(t))}else a.windowInFocus=!0,a.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>l({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>l({isHidden:!1})),window.addEventListener("blur",()=>l({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>l({isHidden:!1})),window.addEventListener("pagehide",()=>l({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>l(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>l(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let r=a},510972:(e,t,n)=>{"use strict";n.d(t,{P:()=>g,t:()=>_});var i=n(216167),a=n(107366);let l=()=>{};async function r({board_id:e},t,n){await (0,a.Z)({url:`/v3/boards/${e??""}/follow/`,method:"DELETE"}),n({event_type:27,object_id_str:e}),t()}async function s({board_id:e},t,n){await (0,a.Z)({url:`/v3/boards/${e??""}/follow/`,method:"PUT"}),n({event_type:26,object_id_str:e}),t()}async function o(e,t){let n=i.Z.create("UserFollowResource",e);await n.callDelete(),t()}async function d(e,t){let n=i.Z.create("UserFollowResource",e);await n.callCreate(),t()}async function c(e,t,n){let a=i.Z.create("InterestFollowResource",e);await a.callDelete(),t(),n({event_type:602,object_id_str:e.interest_id})}async function u(e,t,n){let a=i.Z.create("InterestFollowResource",e);await a.callCreate(),t(),n({event_type:601,object_id_str:e.interest_id})}async function p(e,t){let n=i.Z.create("PinFeedbackResource",e);await n.callUpdate(),t()}async function m(e,t){let n=i.Z.create("PinFeedbackResource",e);await n.callUpdate(),t()}let h={complaint:p,followBoard:s,followPinner:d,followTopic:u,newsHubPinHide:function(e,t){let n=(0,a.Z)({url:e.undo?`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/undo/`:`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/hide/`,method:"PUT"});n.then(()=>t()),p({feedback_type:1,pin_id:e.pin_id,...e},t)},promotedComplaint:m,relatedPinHide:function(e,t){let n=(0,a.Z)({url:e.undo?`/v3/p2p/${e.pin??""}/unhide/`:`/v3/p2p/${e.pin??""}/hide/`,method:"PUT"});n.then(()=>t()),p({feedback_type:1,pin_id:e.pin,...e},t)},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:r,unfollowPinner:o,unfollowTopic:c,unrelatedSearchPin:function(e,t){let n=(0,a.Z)({url:e.undo?`/v3/search/${e.pin_id??""}/unhide/`:`/v3/search/${e.pin_id??""}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}});n.then(()=>t()),p({feedback_type:1,...e},t)}},g=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function _(e,t={},n=l,i){let a=e?h[e]:null;return a?a(t,n,i):n()}},899394:(e,t,n)=>{"use strict";n.d(t,{EF:()=>p,Iv:()=>d,Ud:()=>o,hP:()=>s,nb:()=>u,oK:()=>c});var i=n(339001),a=n(510972),l=n(555933);let r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function s({boardFollowedByMe:e,feedbackType:t,viewParameter:n,promotion:i,recommendationReason:a,pinnerFollowedByMe:l}){if(i&&!i.isDownstreamPromotion)return"promoted";if(t)return t;if(a){if("FOLLOWED_INTEREST"===a.reason)return"topic";if("FOLLOWING_FEED"!==a.reason&&"RECENT_FOLLOWED_BOARD"!==a.reason)return a.hasBoard?"pfyBoard":"pfy"}if(e||l)return"followed";switch(n){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function o({feedback:e,i18n:t,makeNavigateLink:n}){switch(e.type){case"pfy":return t._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":let{recommendationReasonBoard:a}=e;return a?(0,i.nk)(t._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:n("navigation",a.url,a.name)}):null;case"topic":let{sourceInterest:l}=e;return l?(0,i.nk)(t._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:n("topicUrl",`/topics/${l.url_name}`,l.name)}):null;case"followed":let{followed:s}=e,o="pinner"===s.type?(0,i.nk)(t._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:n("pinnerUrl",`/${s.pinner?.username??""}`,r(s.pinner?.full_name??""))}):(0,i.nk)(t._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:n("boardUrl",s.board?.url??"",r(s.board?.name??""))});return o;case"promoted":let{promotedIsPersonalized:d,isEligibleForPromotedPartnership:c,promotedPartnershipAttributionName:u,promotedPartnershipAdvertiserName:p}=e.thirdPartyAdAttributes||{};if(!d&&c)return(0,i.nk)(t._('{{ promotedPartnershipAdvertiserName }} paid, through a partnership with {{ promotedPartnershipAttributionName }}, to have this Pin show up where you\'d be more likely to notice it', 'feedbackHelpers.getRecommendationDescription.promoted.thirdParty', 'Recommendation description for ads with promoted partnership. promotedPartnershipAdvertiserName:Name of advertiser, promotedPartnershipAttributionName:Name of promoted partner'),{promotedPartnershipAdvertiserName:p,promotedPartnershipAttributionName:u});if(!e.promoter||d)return t._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');{let{full_name:a,username:l}=e.promoter,r=n("promotedLink",l?"/"+l+"/":"/",a);return(0,i.nk)(t._('{{ promoterLink }} paid to have this Pin show up where you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:r})}default:return null}}function d({sourceInterest:e,i18n:t,makeNavigateLink:n}){return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:l.X},title:"",subTitle:(0,i.nk)(t._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:n("topicUrl",`/topics/${e.url_name??""}`,e.name??"",!0)})}}function c({boardId:e,display:t,i18n:n,makeNavigateLink:a}){return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===t.type?(0,i.nk)(n._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:a("pinnerUrl",`/${t.data.username??""}`,t.data.full_name??"",!0)}):(0,i.nk)(n._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:a("boardUrl",t.data.url??"",t.data.name??"",!0)})}}function u(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,t,n,i,l,r){return()=>{let s={...e,undo:!0},o=t;"unfollowPinner"===t?o="followPinner":"unfollowBoard"===t?o="followBoard":"unfollowTopic"===t&&(o="followTopic"),(0,a.t)(o,s,void 0,r),l(),r({event_type:101,component:0,element:11181,view_type:n??void 0,view_parameter:i})}}},771177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let i={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_TML_PRODUCT_PINS:212,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,PINNABILITY_FRESH_PRODUCT_PIN_EMBEDDINGS:209,PINNABILITY_TML_PRODUCT_PIN_EMBEDDINGS:213,PINNABILITY_MULTI_EMBEDDINGS:210,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,NOTIF_DIRECT_INJECT:207,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,ORGANIC_COENGAGEMENT:211,RECBOOST_SHOPPING:214,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_RECONSIDERATION_MODULE_PINS:215,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,SHOPPING_PRODUCT_CATEGORY_ON_SALE_MODULE_PINS:216,SHOPPING_BEST_SELLING_PRODUCT_CATEGORY_MODULE_PINS:217,SHOPPING_SHOP_SEARCH_MODULE_PINS:208,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202};function a({feedbackData:e,feedbackType:t,pinId:n,pinFeedbackType:a,recommendationReason:l,complaintReason:r,clientTrackingParams:s,isThirdPartyAd:o}){switch(t){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:e?.query,pin_id:n}};case"related":return{action:"relatedPinHide",actionOptions:{pin:n}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pin_id:n,news_id:e?.newsId}};default:var d;let c="promoted"===t,u=(d=l?.reason)&&i[d],p=l?.reasonId??l?.board?.entityId,m={complaint_reason:r||0,pin_id:n,feedback_type:a||1,promoted:c};return u&&(m.recommendation_reason_id=u),p&&(m.through_id=p),l?.throughProperties&&(m.through_properties=l.throughProperties.reduce((e,t)=>{let{key:n,data:i}=t;return n&&(e[n]=[...e[n]||[],...i||[]]),e},{})),s&&(m.client_tracking_params=s),o&&(m.is_third_party_ad=o),{action:c?"promotedComplaint":"complaint",actionOptions:m}}}},391884:(e,t,n)=>{"use strict";function i({embedSrc:e,embedType:t,imagesUrls:n,preferredResolution:i,excludeOriginals:a}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";if(!n)return"";if(i){let e="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(e)return e}let l=Object.keys(n).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:n[t]};return{...e,[i]:n[t]}}catch(t){return e}},{}),r=Object.keys(l);a&&"orig"===r[r.length-1]&&r.pop();let s=r.pop();return l[s]||""}n.d(t,{Z:()=>i})},180593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(567344);let a=e=>(e||"").trim().replace(/\s+/g," "),l=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:l,closeupDescription:r,closeupUnifiedDescription:s,seoDescription:o,seoNoindexReason:d})=>d&&i.eg.has(d)?a(o):e?a(t):a((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:l,closeupUnifiedDescription:s}).description)||a(s||"")||a(r)||a(t)||a(n)||""},887582:(e,t,n)=>{"use strict";function i(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}n.d(t,{Z:()=>i})},558273:(e,t,n)=>{"use strict";n.d(t,{NK:()=>y,P6:()=>l,VX:()=>s,ZE:()=>g,Zt:()=>_,_J:()=>d,_S:()=>f,cL:()=>m,jL:()=>o,oN:()=>a,rM:()=>h,sV:()=>c,sY:()=>u});var i=n(115557);let a=5e3,l=a/i.gJ,r=["Uploaded by user"],s=(e,t)=>t&&t.products&&t.products.length>0||e?.products&&e.products.length>0||!1,o=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,c=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,p=e=>"pinstory"===e,m=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!u(n)&&!p(t),h=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,g=e=>/pin.it/gim.test(e||""),_=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",y=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function f(e){for(let t of r)if(e===t)return!1;return!0}},567344:(e,t,n)=>{"use strict";n.d(t,{eg:()=>r,kt:()=>g,rw:()=>m,fs:()=>c,eK:()=>u,Ly:()=>p,BY:()=>h,bN:()=>_,RC:()=>o,EU:()=>d});let i=/\s\s+/g,a=e=>e.replace(i," ");var l=n(564855);let r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),s=e=>"string"==typeof e?e:"",o=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,d=(e,t)=>e?e.trim().length>t?(0,l.ZP)(e.trim(),t).trim():e.trim():"",c=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l})=>{let r=l||e,s=d(t,200);return s||n||i||(a&&r?r:null)},u=e=>{let{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",s=e.closeupUnifiedDescription||"",o=n.map(e=>(i||{})[e]||{name:e,url:""}),d="",c=(t||"").toLocaleLowerCase().trim(),u=r.toLocaleLowerCase().trim(),p=s.toLocaleLowerCase().trim();return s&&s.length>3&&p!==c?d=s:r&&r.length>3&&u!==c&&(d=r),d&&(d=a((0,l.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:o}},p=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l,pinJoinVisualAnnotation:s,seoNoindexReason:o,seoTitle:d})=>r.has(o??"")?d:c({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l})||s?.[0]||e,m=(e,t,n,i,a)=>{let l=s(e).trim(),r=(e,t)=>t&&t.length>0?`${e} ${t.join(", ")}`:e;return i&&i.trim().length?r(i.trim(),n):a&&a.trim().length?a.trim():l?r(l,n):n?n.join(", "):""},h=e=>`/pin/${e}/`,g=(e,t)=>{let n=`Pinterest video from ${t}: `.concat(e);return""===t?e:n},_=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:h(e)},661428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(167912);var i,a=n(207012);let l=void 0!==i?i:i=n(77003),r=e=>{let t=(0,a.Z)(l,e),n=[["60x60",t?.imageSpec_60x60],["136x136",t?.imageSpec_136x136],["170x",t?.imageSpec_170x],["236x",t?.imageSpec_236x],["474x",t?.imageSpec_474x],["564x",t?.imageSpec_564x],["736x",t?.imageSpec_736x],["600x315",t?.imageSpec_600x315],["orig",t?.imageSpec_orig]];return n.reduce((e,[t,n])=>n?{...e,[t]:n.url}:e,{})}},837639:(e,t,n)=>{"use strict";n.d(t,{NC:()=>l,Rc:()=>s,WK:()=>d,X9:()=>a,b9:()=>i,f9:()=>o,gu:()=>r});let i="pin-builder-font-faces",a="system-font-faces",l="pin-builder-education-font-faces",r="licensed",s="system",o="brand",d=4},488726:(e,t,n)=>{"use strict";n.d(t,{aU:()=>s,hq:()=>r,o_:()=>a});var i=n(342513);let{Provider:a,useHook:l}=(0,i.Z)("AuthenticationContext");function r(){return l().loginContext}function s(){return l().logout}},736771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i={STARTED:1,FINISHED:2}},974371:(e,t,n)=>{"use strict";n.d(t,{M:()=>y,Z:()=>x});var i=n(667294),a=n(86785),l=n(342513),r=n(897650),s=n(11453),o=n(992083),d=n(340523),c=n(5859),u=n(217058),p=n(554786),m=n(149722),h=n(785893);let g=["treatment_1.1","treatment_1.2","treatment_1.3","control_2"],{Provider:_,useMaybeHook:y}=(0,l.Z)("GoogleSignInApi"),f=()=>{let e=(0,p.HG)(),{checkExperiment:t}=(0,d.F)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled},b=()=>{let{userAgent:e}=(0,c.B)(),{browserName:t,platform:n}=e,i=t??"";return(0,a.G6)(i)||"ios"===n},v=async()=>{let{checkExperiment:e}=(0,d.F)(),t=(0,p.HG)(),n=t?"dweb":"mweb";if("undefined"!=typeof navigator&&"cookieDeprecationLabel"in navigator){let t=await navigator.cookieDeprecationLabel.getValue();(0,u.My)(`${n}.chrome_cookie_deprecation_label.${t}`),g.includes(t)&&e(`${n}_google_chrome_mode_b`)}};function x({children:e}){let t=(0,m.Z)(),{isAuth:n}=t,a=f(),l=b(),g=(0,p.HG)(),{checkExperiment:y}=(0,d.F)(),{userAgent:x}=(0,c.B)(),k=(0,s.JZ)(g,y,x,n),P=(0,s.Qs)(t),S=P&&k?t.email:void 0;v();let w=(0,i.useRef)(null),T=(0,i.useRef)(new Set),I=(0,i.useRef)(new Set),A=(0,i.useRef)(null),{language:E}=(0,c.B)(),C=g?"dweb":"mweb",j=(0,i.useRef)(!1),R=(0,i.useCallback)(()=>{if(j.current)return;j.current=!0;let e=!1,t=()=>{let t=(0,r.Fm)();t&&!e&&(e=!0,(0,o.Z)({type:"loadScript",status:"success"}),(0,o.Z)({type:"apiClient",valid:!!t}),A.current=t,(0,r.OY)({autoSelect:!P,itpSupport:l,isFedCMEnabled:(!n||P)&&k,loginHint:S},e=>{if((0,o.Z)({type:"response",valid:!!e}),!e)return;(0,u.My)(`${C}.google_sign_in.select_by.${e.select_by}`);let t=(0,r.PL)(e.select_by);if("SIGN_IN_WITH_GOOGLE_BUTTON"===t){let t=Array.from(T.current),n=t[t.length-1],i=w.current;n?n(e):i&&i(e)}else w.current?.(e)}),I.current.forEach(e=>{e()}),I.current.clear())};window.onGoogleLibraryLoad=()=>t(),(0,o.Z)({type:"loadScript",status:"start"}),(0,r.Px)(void 0,E).then(()=>{t()}).catch(()=>{})},[E,l,n,P,k,S,C]);(0,i.useEffect)(()=>{a?(T.current.clear(),I.current.clear()):R()},[a,R]);let L=(0,i.useRef)({ensureInit:(e,t)=>(R(),"button"===e?T.current.add(t):w.current=t,new Promise(e=>{let t=!!A.current;t?e():I.current.add(e)})),removeButtonCallback:e=>{T.current.delete(e)}});return(0,h.jsx)(_,{value:L.current,children:e})}},516256:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9}},729817:(e,t,n)=>{"use strict";n.d(t,{Kw:()=>s,RD:()=>o,dD:()=>c});var i=n(216167),a=n(107366),l=n(598753);let r=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],s=async()=>{let e=await i.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},o=(e,t)=>{let n=Object.freeze({});try{n=(0,l.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let i=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===i.length||n[i[0]].logged_in){e(`${t}.removeAccountDataFromLocalStorage.early_return`);return}let a=i.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,l.r8)(a),e(`${t}.removeAccountDataFromLocalStorage.updated`)},d=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...d(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name,isLinkedBusiness:t.partner?.is_linked_business}}))}),c=async e=>{let t=await s(),n=e.id;t[n]||(t[n]={logged_in:!0});let i=Object.keys(t||{}),l=i.map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:r.join(",")}})),o=await (0,a.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(l)}}),c=o.resource_response.data;if(c&&Object.keys(c).length>0){let e=Object.keys(c),t=e.filter(e=>"success"===c[e].status).map(e=>d(c[e].data));return function(e){let t=e.every(e=>!!e.fullName),n=t?"fullName":"username";return[...e].sort((e,t)=>e[n]>t[n]?1:t[n]>e[n]?-1:0)}(t)}return[]}},467707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=["https://www.pinterest.info","https://www.pinterest.at","https://www.pinterest.com.au","https://www.pinterest.ca","https://www.pinterest.ch","https://www.pinterest.cl","https://www.pinterest.de","https://www.pinterest.dk","https://www.pinterest.es","https://www.pinterest.fr","https://www.pinterest.co.uk","https://www.pinterest.ie","https://www.pinterest.it","https://www.pinterest.jp","https://www.pinterest.co.kr","https://www.pinterest.com.mx","https://www.pinterest.nz","https://www.pinterest.se","https://www.pinterest.ph","https://www.pinterest.pt","https://www.pinterest.ru"]},640258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let i=e=>(e||"").replace(/-/g,"+").replace(/_/g,"/"),a=e=>JSON.parse(decodeURIComponent(atob(i(e.split(".")[1])).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},776427:(e,t,n)=>{"use strict";n.d(t,{GH:()=>o,JF:()=>y,Jb:()=>m,MI:()=>g,_V:()=>d,sl:()=>u,we:()=>p});var i=n(11109),a=n(107366),l=n(794658),r=n(990822),s=n(217058);let o="274266067164",d=()=>["public_profile","email","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:o,status:!0,xfbml:!0,version:"v2.7"})):e?(0,s.dy)({event:"global_object_not_found",provider:"facebook"}):(0,s.My)("pcons.non_autologin.fb.global_object_not_found")},p=(e,t)=>{t&&(0,s.dy)({event:"load_script_start",provider:"facebook"});let n=(0,l.Z)((0,r.Z)(e),"FACEBOOK");return n.then(()=>u(t))},m=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),h=({userID:e,accessToken:t,data:{birthday:n,email:a,first_name:l,gender:r,last_name:s,picture:o}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,i.Z)(n):void 0,email:a,first_name:l,gender:r,image_url:o&&!o.data.is_silhouette?o.data.url:void 0,last_name:s});async function g(e){let t=await (0,a.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:c}}),n=t.resource_response.data||{};return(0,s.My)(n?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}let _=(e,t)=>new Promise((n,i)=>{if("connected"!==e.status){i({status:e.status||"unknown"});return}let{userID:a,accessToken:l}=e.authResponse;g(l).then(e=>{n({creds:{facebook_id:a,facebook_token:l,facebook_autologin:t?.autologin||!1},signupOptions:h({userID:a,accessToken:l,data:e})})},i)}),y=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>_(e))},948381:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n(107366),a=n(794658),l=n(736771),r=n(990822),s=n(702497),o=n(217058);let d=!1,c=e=>e.isAuth&&!!e.facebookId&&!e.isLimitedLogin,u=(e,t,n="en-US",p)=>{p&&(0,o.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,r.Z)(n),"FACEBOOK").then(()=>{p&&(0,o.dy)({event:"load_script_success",provider:"facebook"});let n=window.FB;if(!n){p&&(0,o.dy)({event:"global_object_not_found",provider:"facebook"});return}d||(p&&(0,o.dy)({event:"initialize_library",provider:"facebook"}),n.init({appId:s.GHq,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{c(t)&&u(e=>{if(!e.getUserID())return;let t=e.getAccessToken();t&&(0,i.Z)({url:"/v3/connect/facebook/",method:"POST",data:{facebook_token:t}})},t)}),d=!0,window.fb_init=l.Z.FINISHED),e(n)}),window.fb_init=l.Z.STARTED},p=u},990822:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let i=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},a=e=>`//connect.facebook.net/${i(e)}/sdk.js`},897650:(e,t,n)=>{"use strict";n.d(t,{Fm:()=>r,OY:()=>o,PL:()=>c,Px:()=>s,mK:()=>u,ru:()=>d});var i=n(794658),a=n(702497),l=n(217058);let r=()=>window?.google?.accounts?.id,s=(e,t)=>(0,i.Z)("https://accounts.google.com/gsi/client"+(t?`?hl=${t}`:""),e?.unsafe?null:"GSI"),o=({autoSelect:e,itpSupport:t,isFedCMEnabled:n,loginHint:i},l)=>{let s={auto_select:e??!1,client_id:a.v3o,callback:l,cancel_on_tap_outside:!1,context:"use",itp_support:t,use_fedcm_for_prompt:n,login_hint:i};r()?.initialize(s)},d=({buttonRef:e,isDesktop:t,locale:n,logo_alignment:i})=>{let a=r();if(a&&e.current){let t=e.current.offsetWidth;a.renderButton(e.current,{locale:n,size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px",logo_alignment:i,click_listener:()=>(0,l.EX)({event:"start",provider:"google"})})}else(0,l.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},c=e=>["auto","fedcm_auto"].includes(e)?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},11453:(e,t,n)=>{"use strict";n.d(t,{JZ:()=>h,Qs:()=>m,jr:()=>g});var i=n(224796),a=n(86785),l=n(340523),r=n(5859),s=n(731714),o=n(554786);let d={auth_dweb_google_fedcm_onetap_modal:122,auth_mweb_google_fedcm_onetap_modal:122},c=["auth_dweb_google_fedcm_onetap_modal"],u=["auth_mweb_google_fedcm_onetap_modal"],p=(e,t,n,i)=>e.some(e=>{let a=d[e]||116,l=!e.startsWith("auth_")||i;return n>=a&&l&&t(e).anyEnabled}),m=e=>e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected&&!s.Z.getItem(i.tr),h=(e,t,n,i)=>{let l=n.browserVersion?parseInt(n.browserVersion.split(".")[0],10):0,r=(0,a.i7)(n.browserName??"");return r&&(e&&p(c,t,l,i)||!e&&"android"===n.platform&&p(u,t,l,i))},g=e=>{let t=(0,o.HG)(),{checkExperiment:n}=(0,l.F)(),{userAgent:i}=(0,r.B)();return m(e)&&h(t,n,i,e.isAuth)}},508218:(e,t,n)=>{"use strict";n.d(t,{Ny:()=>u,ZP:()=>m,eD:()=>g,lp:()=>h,nY:()=>_});var i=n(224796),a=n(807657),l=n(602377),r=n(731714),s=n(702497),o=n(217058),d=n(88682),c=n(623891);let u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class p{static defaultLoginRedirectUrl(){return window.location.pathname===s.lfe||window.location.pathname===s.ZEf||window.location.pathname.startsWith(s.rOJ)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(s.rOJ)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=r.Z.getItem(i.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=r.Z.getItem(i.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let n=(new Date().getTime()/1e3).toString();t.push(n);let a=t.join("|");r.Z.setItem(i.kl,a)}static isFullyLoggedIn(e,t){return e&&t===l.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,c.Z)();if(t){let n=t.next;n&&(e=n,delete t.next),e=(0,d.Z)(e,t)}}(0,a.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){r.Z.setItem(i.F6,Date.now()),!t&&e&&"/"!==e?p.handleRedirect(e):p.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(()=>{(0,o.My)("navigatorCredentials.store.success")})}catch(e){(0,o.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,o.My)("multi_step_login"),p.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,o.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let m=p;function h(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function g(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":h(e)}function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},598753:(e,t,n)=>{"use strict";n.d(t,{M3:()=>d,PE:()=>r,Q:()=>c,lv:()=>s,r8:()=>l,rl:()=>a,yW:()=>o});var i=n(191313);let a=()=>{try{let e=(0,i.qn)("MULTIPLE_ACCOUNTS");return e?JSON.parse(e):Object.freeze({})}catch{return Object.freeze({})}},l=e=>(0,i.Nh)("MULTIPLE_ACCOUNTS",JSON.stringify(e)),r=()=>!!(0,i.qn)("MULTIPLE_ACCOUNTS"),s=()=>Object.keys(a()).length,o=()=>{try{let e=(0,i.qn)("MULTIPLE_ACCOUNTS_GROUP");return e?JSON.parse(e):null}catch{return null}},d=e=>(0,i.Nh)("MULTIPLE_ACCOUNTS_GROUP",JSON.stringify(e)),c=()=>({multipleAccountMap:a(),multipleAccountGroupId:o()})},992083:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(306775),a=n(217058);let l=e=>(0,a.dy)({event:e,provider:"google"}),r=e=>(0,i.RP)("google_autologin",e),s=e=>(0,i.M3)("google_autologin",e),o=e=>{switch(e.type){case"loadScript":"start"===e.status?(l("start"),l("load_script_start"),s("autoLoginGoogleStart")):"success"===e.status?l("load_script_success"):l("load_script_failure");break;case"apiClient":e.valid?(l("initialize_library"),s("autoLoginGoogleInitEnd")):(r("noAccountFound"),l("global_object_not_found"));break;case"response":e.valid?(l("receive_credential_response_from_provider"),(0,a.EX)({event:"receive_credential_response_from_provider",provider:"google"})):(r("noResponse"),(0,a.EX)({event:"receive_no_credential_response_from_provider",provider:"google"}));break;case"autologin":"start"===e.status?(l("pinterest_login_start"),(0,a.NC)("press_google_one_tap_other"),(0,i.M3)("google_autologin","autoLoginGoogleEnd"),(0,i.PA)("google_autologin")):("success"===e.status?l("pinterest_login_success"):l("pinterest_login_failure"),l("end"));break;case"manualLoginAttempt":(0,a.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,i.PA)("google_autologin")}}},237856:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,M:()=>s});var i=n(658583),a=n(622541),l=n(217058);let r=()=>!!i.U2(a.x3),s=()=>{let e=i.U2(a.yu);return e?Math.floor((new Date().getTime()-new Date(e).getTime())/864e5):-1},o=()=>(i.U2(a.e7)&&(0,l.My)(`pcons.non_google_autologin_disabled_cookie.${s()}`),r()||!!i.U2(a.e7))},555933:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});let i="favorited"},551587:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>e.startsWith("enabled")||e.startsWith("employee")},182962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(667294),a=n(340523);let l=()=>{let e=(0,a.F)();return(0,i.useCallback)(()=>{e.flush()},[e])}},282854:(e,t,n)=>{"use strict";function i(e){let t=document.createElement("iframe");for(let n in e)t.setAttribute(n,e[n]);return t}n.d(t,{Z:()=>i})},891276:(e,t,n)=>{"use strict";n.d(t,{Dq:()=>h,JB:()=>F,LG:()=>I,OJ:()=>S,PN:()=>E,TF:()=>T,VL:()=>A,YJ:()=>C,dO:()=>R,ko:()=>L,qs:()=>w,xA:()=>g});var i=n(478693),a=n(633371),l=n(531960),r=n(680007),s=n(588664),o=n(292398),d=n(191313),c=n(434017),u=n(953565);let p="dpm_pixel_login_event",m="dpm_pixel_new_user_event",h="dpm_pixel_rez_user_event",g="dpm_engaged_session_event",_="dentsu_pixel_login_event",y="dentsu_pixel_new_user_event",f="web_login",b="web_new_user",v={dpm_pixel_login_event:f,dentsu_pixel_login_event:f,dpm_pixel_new_user_event:b,dentsu_pixel_new_user_event:b,dpm_pixel_rez_user_event:"web_resurrections",dpm_engaged_session_event:"engaged_session"},x={NewUsers:{Admo:{Mobile:i.J3,Desktop:i.Y7},Flashtalking:{Mobile:"flashtalking-m-reg",Desktop:"flashtalking-d-reg"},Dentsu:{Mobile:y,Desktop:y},DPM:{Mobile:m,Desktop:m}},Logins:{Admo:{Mobile:i.gC,Desktop:i.bJ},Flashtalking:{Mobile:"flashtalking-m-login",Desktop:"flashtalking-d-login"},Dentsu:{Mobile:_,Desktop:_},DPM:{Mobile:p,Desktop:p}}},k={dpm:[p,m,h],dentsu:[_,y]},P=l.g,S=()=>(1e6*Math.random()).toString(),w="pbm_shopping_bespoke",T=(e,t)=>{let n=e=>e.split("").map(e=>e.charCodeAt(0));return t.split("").map(n).map(t=>n(e).reduce((e,t)=>e^t,t)).map(e=>("0"+Number(e).toString(16)).substr(-2)).join("")},I=(e,t)=>{let n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((i-n)/864e5)};function A(e,t,n,i,l,s="",o,c){let p=document.getElementById(t),m=document.getElementById(n);async function h(e,t,n,i,l,s,o){let p=document.getElementById(i)?document.getElementById(i):document.createElement("div"),m=document.createElement("img");for(let e of(m.height=1,m.width=1,m.style.display="none",m.id=t,m.src=l,p&&(p.id=i,p.appendChild(m)),k[o])){let t=(0,d.qn)(e);if(t){let n={dentsuUserIdString:"",dpmUserIdString:""};n["dentsu"===o?"dentsuUserIdString":"dpmUserIdString"]=s,t=t.split("#");let[i,l,c]=t,m=function(e,t,n){let i=document.createElement("img"),{dpmUserIdString:l,dentsuUserIdString:s}=n,o="";return l?o=(0,a.C)({origin:P,pixelEvent:t,userIdString:l}):s&&(o=(0,r.vF)(s,t)),i.height=1,i.width=1,i.style.display="none",i.id=e,i.src=o,i}(e,i,n);p&&(p.appendChild(m),(0,u.nP)(`${o}_tracking_pixel`,{sampleRate:1,tags:{event_category:l,event_name:"All"}}),"All"!==c&&(0,u.nP)(`${o}_tracking_pixel`,{sampleRate:1,tags:{event_category:l,event_name:c}})),(0,d.L_)(e)}}p&&(document.body?.insertBefore(p,document.body.firstChild),c())}p||(m&&m.remove(),"complete"===document.readyState&&h(e,t,n,i,l,s,o),window.addEventListener("load",function e(t,n,i,a,l,r,s){return o=>{h(t,n,i,a,l,r,s),window.removeEventListener(o,e)}}(e,t,n,i,l,s,o)))}function E(e,t,n,i,a){let l=document.getElementById(t);function r(e,t,n,i){let l=document.getElementById(n)?document.getElementById(n):document.createElement("div"),r=document.createElement("img");r.height=1,r.width=1,r.style.display="none",r.id=t,r.src=i,l&&(l.id=n,l.appendChild(r),document.body?.insertBefore(l,document.body.firstChild),a())}l||("complete"===document.readyState&&r(e,t,n,i),window.addEventListener("load",function e(t,n,i,a){return l=>{r(t,n,i,a),window.removeEventListener(l,e)}}(e,t,n,i)))}function C(e,t,n,i="",l,r){let s=document.getElementById(e);if(s)return;let o=v[e],d=(0,a.C)({origin:P,pixelEvent:o,userIdString:i});async function c(e,t,n){let i=document.getElementById(t)?document.getElementById(t):document.createElement("div"),a=document.createElement("img");a.height=1,a.width=1,a.style.display="none",a.id=e,a.src=n,i&&(i.id=t,i.appendChild(a)),i&&(document.getElementById(t)||document.body?.insertBefore(i,document.body.firstChild),r())}"complete"===document.readyState&&c(e,n,d),window.addEventListener("load",function e(t,n,i){return a=>{c(t,n,i),window.removeEventListener(a,e)}}(e,n,d))}function j(e){let{pixelId:t,divId:n,url:i,eventCategory:a,eventName:l,onSendPixelSuccess:r}=e,s=v[t];if(s)(0,d.Nh)(t,`${s}#${a}#${l}`);else if("web_billing_complete"===t&&i){let e=document.getElementById(n)?document.getElementById(n):document.createElement("div"),t=document.createElement("img");t.height=1,t.width=1,t.style.display="none",t.id="web_billing_complete",t.src=i,!document.getElementById(n)&&e&&(e.id=n,e.appendChild(t),document.body?.insertBefore(e,document.body.firstChild),r&&r())}}function R(e){let{pixelId:t,divId:n,url:i,eventCategory:a,eventName:l,onSendPixelSuccess:r}=e;"complete"===document.readyState?j({pixelId:t,divId:n,url:i,eventCategory:a,eventName:l,onSendPixelSuccess:r}):window.addEventListener("load",function e(t,n,i,a,l,r){return s=>{j({pixelId:t,divId:n,url:i,eventCategory:a,eventName:l,onSendPixelSuccess:r}),window.removeEventListener(s,e)}}(t,n,i,a,l,r))}let L=({eventCategory:e,deviceType:t,country:n,countryFromHostName:i,countryFromIp:a,regionFromIp:l})=>{let r="undefined"!=typeof window&&!!window.navigator&&!!window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl;!r&&((0,o.c_)({country:n,countryFromHostName:i,countryFromIp:a})&&(0,c.yP)({id:x[e].Admo[t],eventCategory:e,eventName:t}),(0,o.$r)({country:n,countryFromHostName:i,countryFromIp:a,regionFromIp:l})&&(0,c.jw)({id:x[e].Flashtalking[t],eventCategory:e,eventName:t}),(0,o.NR)({country:n,regionFromIp:l})&&(0,c.EN)({pixelId:x[e].DPM[t],eventCategory:e,eventName:t}),(0,o.Fc)({country:n,countryFromHostName:i,countryFromIp:a})&&(0,c.Be)({pixelId:x[e].Dentsu[t],eventCategory:e,eventName:t}))};function F(e,t,n,a,l,r){(0,o.c_)({country:e,countryFromHostName:t,countryFromIp:n})&&((0,s.Z)(l,null,28)&&(0,c.X)({id:i.ay,eventName:"Mobile",eventCategory:"RezLogins"}),(0,c.yP)({id:i.me,eventCategory:"Logins",eventName:"LoggedInViews"}),(0,c.X)({id:i.Un,eventName:"Mobile"})),(0,o.$r)({country:e,countryFromHostName:t,countryFromIp:n,regionFromIp:a})&&(0,c.Kv)({id:"flashtalking-m-ses",eventName:"Mobile"}),(0,o.NR)({country:e,regionFromIp:a})&&r&&l&&l.id&&((0,s.Z)(l,null,28)&&(0,c.EN)({pixelId:h,eventCategory:"RezLogins",eventName:"Mobile"}),(0,c.fh)({unauthId:r,userId:l.id}),(0,c.zW)({id:g,unauthId:r,userId:l.id,eventCategory:"EngagedSessions",eventName:"Mobile"})),(0,o.Fc)({country:e,countryFromHostName:t,countryFromIp:n})&&r&&l&&l.id&&(0,c.Xn)({unauthId:r,userId:l.id})}},292398:(e,t,n)=>{"use strict";function i(e){if(e){let{country:t}=e,{countryFromHostName:n}=e,{countryFromIp:i}=e,{regionFromIp:a}=e,{isBot:l}=e;if(("US"===t||"GB"===t||"US"===n||"GB"===n||"US"===i||"GB"===i)&&"CA"!==a&&(!l||"false"===l))return!0}return!1}function a(e){if(e){let{country:t}=e,{regionFromIp:n}=e,{isBot:i}=e;if("US"===t&&"CA"!==n&&!i||"false"===i)return!0}return!1}function l(e){if(e){let{country:t}=e,{countryFromHostName:n}=e,{countryFromIp:i}=e,{isBot:a}=e;if(("JP"===t||"JP"===n||"JP"===i)&&(!a||"false"===a))return!0}return!1}function r(e){return!1}function s(e){return 1===e||2===e||3===e||7===e||10===e||34===e||"US"===e||"GB"===e||"CA"===e||"FR"===e||"DE"===e||"BR"===e}function o(e){return 1===e||"US"===e}n.d(t,{$r:()=>i,Fc:()=>l,HX:()=>s,NR:()=>a,c_:()=>r,ew:()=>o})},612541:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(883119),a=n(140017),l=n(339001),r=n(629650),s=n(785893);function o(){let e=(0,a.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function d({freeShippingPrice:e}){let t=(0,a.ZP)();return(0,l.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function c({customStyles:e,showPrevDot:t,freeShippingPrice:n,freeShippingValue:a}){let l;let c=t?[""]:[],{color:u="subtle",size:p="200"}=e||{};return Number.isFinite(a)?(0===a?l=(0,s.jsx)(o,{}):n&&(l=(0,s.jsx)(d,{freeShippingPrice:n})),l&&c.push((0,s.jsx)(i.kC,{direction:"row",children:l})),0===c.length)?null:(0,s.jsx)(i.xv,{color:u,size:p,children:(0,s.jsx)(r.Z,{color:u,items:c})}):null}},178093:(e,t,n)=>{"use strict";n.d(t,{kf:()=>_,l5:()=>h,of:()=>p,xC:()=>g,yz:()=>m});var i=n(667294),a=n(342513),l=n(805783),r=n(494125),s=n(194602),o=n(953565),d=n(785893);let{Provider:c,useMaybeHook:u}=(0,a.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[n,a]=(0,i.useState)(null),s=t||{pwaType:"unknown",twaType:null},u=s.pwaType;(0,r.Z)(()=>{let e=(0,l.FB)(window)||"unknown";a(e),u!==e&&(0,o.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e}})});let p="unknown"===u&&n?n:u,{twaType:m}=s,h=(0,i.useMemo)(()=>({pwaType:p,twaType:m}),[p,m]);return(0,d.jsx)(c,{value:h,children:e})},m=()=>{let e=u();return e?.pwaType??"unknown"},h=()=>{let e=u();return e?.twaType??null},g=()=>{let e=m();return"android-twa"===e},_=()=>{let e=m(),t=(0,s.Z)();return"unknown"===e&&t?null:"windows"===e}},448318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),a=n(262032),l=n(785893);let r=e=>document.querySelector(`img[src="${e}"]`)||null,s=(e,t,n)=>{let a=(0,i.useRef)(null),l=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(e!==a.current||n&&n!==l.current){a.current=e;let n=r(e);n?.complete&&t()}l.current=n},[e,t,n])};function o({alt:e,children:t,color:n,elementTiming:i,isActive:r=!1,naturalHeight:o,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return s(u,c,r),(0,l.jsx)(a.Z,{alt:e,color:n,elementTiming:i,fit:p,naturalHeight:o,naturalWidth:d,onLoad:c,src:u,children:t})}},862536:(e,t,n)=>{"use strict";n.d(t,{cA:()=>G,fM:()=>$,N5:()=>W});var i=n(667294),a=n(616550),l=n(707671),r=n(194087),s=n(939129),o=n(760890),d=n(45528),c=n(485756),u=n(643778),p=n(302234),m=n(371626),h=n(663678),g=n(396596);let _=({botType:e,browserName:t,deviceType:n,region:i})=>{let a=`pwtlogger.${e}.${n}`,l=["all",...i?[i.toLowerCase()]:[]];"OTHER"!==i&&l.push("ALL_EXCLUDING_OTHER");let r=[];"desktop"===n?("Chrome"===t||"Edge"===t||"Safari"===t||"Firefox"===t||"Opera"===t)&&(r=[t.toLowerCase().replace(/\s/g,"_")]):"phone"===n?("Chrome"===t||"Mobile Safari"===t||"Samsung Browser"===t||"Chrome WebView"===t||"GSA"===t)&&(r=[t.toLowerCase().replace(/\s/g,"_")]):"tablet"===n&&"Chrome"===t&&(r=[t.toLowerCase().replace(/\s/g,"_")]);let s=["all",...r],o=[];return l.forEach(e=>{s.forEach(t=>{o.push(`${a}.region_${e}.browser_${t}`)})}),o};var y=n(865611),f=n(421715);let b=e=>10*Math.round(e/10);var v=n(237040),x=n(953565);let k={pin_closeup:{LCP:"pin_closeup_lcp",INP:"pin_closeup_inp"},board:{LCP:"board_lcp",INP:"board_inp"},other_profile:{LCP:"other_profile_lcp",INP:"other_profile_inp"},topic:{LCP:"topic_lcp",INP:"topic_inp"}},P=["CA","GB","DE","FR","AU","JP","BR","MX","AU","IN"],S=({surface:e,pwtStaticContext:t})=>{switch(e){case"pin_closeup":return[(0,v.Uw)({isDesktop:"desktop"===t.deviceType,viewerType:t.isBot&&"bot"||t.isAuthenticated&&"auth"||"unauth"}),t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];case"board":return[t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];default:return[]}},w=({pwtStaticContext:e,surface:t})=>{let n=(0,u.Jx)({annotateExperiments:S({surface:t,pwtStaticContext:e}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:k[t].LCP,pwtStaticContext:e}),i=(0,u.Jx)({name:k[t].INP,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"INP"===e&&i.stop(t)}},T=({pwtStaticContext:e,surface:t,getCurrentRoute:n})=>{let i=w({pwtStaticContext:e,surface:t}),{isAuthenticated:a,isBot:l,isSocialBot:r,deviceType:s,country:o,fullPath:u,browserName:v,osName:k}=e,S={},T=({name:d,value:p,metricDetails:b})=>{if(!S[d]){let w;S[d]=!0;let T=(0,h.Z)(e),I=`${T}.${t}.${d}`,A=`${T}.tags.${t}.${d}`;if(w="iOS"===k&&"Chrome"===v?"iOS_Chrome":"CrUX","LCPCount"===d)(0,x.QX)(`${I}.sum`,p,{sampleRate:1}),(0,x.nP)(`${I}.size`,{sampleRate:1});else{let e=(0,m.Z)(o),h=(0,g.Z)(u);if("INP"===d){if(b){let{rating:t,navigationType:i}=b,{interactionTime:l,interactionType:r,loadState:s}=b.attribution,o=(0,y.Z)(l),{path:d}=n(),u={isAuth:a,path:d,CrUXSegment:w,region:e,CWVBucket:t,eventTimeGroup:o,interactionType:r,loadState:s,navigationType:i,domain:(0,c.xR)(document.domain||"unknown")};if((0,x.LY)(`${I}`,p,{sampleRate:1}),(0,x.LY)(`${A}`,p,{sampleRate:1,tags:u}),"Chrome"===v&&b.attribution){let e=(0,f.b)(b);e&&(0,x.LY)(`${I}.INPBoundary`,p,{sampleRate:1,tags:{...u,INPBoundary:e}}),["inputDelay","processingDuration","presentationDelay"].forEach(e=>{(0,x.LY)(`${I}.${e}`,b.attribution[e],{sampleRate:1,tags:u})})}}}else"LCP"===d?((0,x.LY)(`${I}`,p,{sampleRate:1}),(0,x.LY)(`${A}`,p,{sampleRate:1,tags:{isAuth:a,CrUXSegment:w,region:e,...h&&{pinType:h}}})):"CLS"===d&&((0,x.LY)(`${I}`,100*p,{sampleRate:1}),(0,x.LY)(`${A}`,100*p,{sampleRate:1,tags:{isAuth:a,CrUXSegment:w,region:e}}));!a&&P.includes(o)&&_({botType:r&&"socialBot"||l&&"bot"||"nonbot",browserName:v,deviceType:s,region:e}).forEach(e=>{(0,x.LY)(`${e}.tags.growthSEO.${t}_${d}`,p,{sampleRate:1,tags:{country:o}})}),i(d,p)}}};(0,d.NO)(({value:e})=>{T({name:"LCPCount",value:(0,p.Kj)()}),T({name:"LCP",value:b(e)})}),(0,d.a4)(({value:e})=>{T({name:"FCP",value:e})}),(0,d.Yn)(e=>{T({name:"INP",value:e.value,metricDetails:e})}),(0,d.mw)(({value:e})=>{T({name:"CLS",value:e})})};var I=n(297329),A=n(107860),E=n(608029);let C=(0,E.XV)("LayoutShiftDebugger"),j=e=>e<=.1?"good":e<=.25?"adequate":"poor",R=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&R(e.parentNode)||null,L=e=>Math.round(1e3*e),F=[],D=e=>{let t=Object.freeze({}),n=0;F.forEach(({value:e,shift:{sources:i},route:a,params:l,hadRecentNavigation:r,hadRecentScroll:s,isAuth:o})=>{if(n+=e,!i||!i.length)return;let d=e/i.length;i.forEach(({node:e})=>{let n=e?R(e)||"ROOT":"NODE_REMOVED",i=l&&l.scope?l.scope:"none",u={route:a,searchScope:i,boundaryId:n,hadRecentNavigation:r,hadRecentScroll:s,isAuth:o,domain:(0,c.xR)(document.domain||"unknown")},p=JSON.stringify(u);t={...t,[p]:{score:((t[p]||{}).score||0)+d,tags:u}}})}),Object.keys(t).forEach(n=>{let{score:i,tags:a}=t[n];(0,x.QX)(`${e}.shifts`,L(i),{sampleRate:1,tags:{...a}}),(0,x.LY)(`${e}.shifts`,L(i),{sampleRate:1,tags:{...a}})}),C("Debug CLS boundaries",n,t,F),F=[]},O=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{let i;let a=(0,u.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e}),l=0,r=e=>{l=e.timeStamp};window.addEventListener("scroll",r),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",r)});let s=`${(0,h.Z)(e)}.CLS`,o=()=>D(s),c=0,p=0,m=0;(0,d.mw)(({entries:a,value:r})=>{if(m=r||0,a.length){let{path:s,params:o}=t();i=n();let d=a[0].startTime,u=c!==d,m=u?a:a.slice(p);u&&(c=d),F=F.concat(m.map(t=>({value:r,shift:t,route:s,params:o,hadRecentNavigation:i>0&&i+500>t.startTime,hadRecentScroll:l>0&&l+500>t.startTime,isAuth:e.isAuthenticated}))),p=a.length}},!0);let g=setInterval(()=>{if(F.length){o();let e=j(m);(0,x.QX)(`${s}.${e}`,1,{sampleRate:1}),(0,x.LY)(`${s}.${e}`,1,{sampleRate:1}),a.stop(L(m))}},1e3);window.addEventListener("beforeunload",()=>{clearInterval(g),0===m&&a.abort("no_shifts_detected")})},z=null,M=(e,t)=>{let n,i=0,a=0,l=null,r=null,s=null,o=null,d=[],c=()=>{a+=1,s=window.requestAnimationFrame(c)},p=()=>{if(o){let n=d.some(e=>null!==l&&l-e>0&&l-e<=500),a=t(),{isAuthenticated:s}=e;if(n){let t=(0,u.Jx)({name:"scroll_session",pwtStaticContext:e});if(!t)return;let n={surface:a,isAuthenticated:s};if(null===l||null===r||0===i){if(null===l&&null===r)t.error("no_duration",n);else if(null==l)z=r,t.error("no_start",n);else if(null==r){let e;e=z&&l-z<750?"no_end.outside_window":"no_end.single_event",t.error(e,n)}else t.error("no_frames",n)}else{z=r;let e=r-l,o=e/i;0===o?t.error("zero_value",n):o<0?t.error("negative_value",n):(t.addBinaryAnnotation("surface",a,"STRING"),t.addBinaryAnnotation("isAuthenticated",s,"BOOL"),t.addBinaryAnnotation("duration_ms",e,"I32"),t.addBinaryAnnotation("total_frames_rendered",i,"I16"),t.stop(o))}}else(0,I.A9)("WARN.scroll_session.not_user",{tags:{isAuthenticated:s,surface:a}})}window.cancelAnimationFrame(s),i=0,a=0,d=[],r=null,l=null,o=null},m=({timeStamp:e})=>{n&&clearTimeout(n),n=setTimeout(p,500),null===o?(o=100*Math.random()<10)&&(s=window.requestAnimationFrame(c),l=e):o&&(r=e,i+=a,a=0)},h=({timeStamp:e})=>{d.push(e)};["wheel","pointerdown","keydown"].forEach(e=>{window.addEventListener(e,h,{passive:!0,capture:!0})}),window.addEventListener("scroll",m,{passive:!0}),window.addEventListener("pagehide",()=>{window.removeEventListener("scroll",m),["wheel","pointerdown","keydown"].forEach(e=>{window.removeEventListener(e,h)})})};var N=n(279600),Z=n(785893);let B=(0,i.createContext)(null),U=(0,i.createContext)(null),K=()=>{(0,I.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||(0,I.A9)(`not_supported.window.performance.${e}`)}):(0,I.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,I.A9)("not_supported.window.PerformanceObserer"),(0,o.v)()||(0,I.A9)("not_supported.grid_profiler")},V=()=>window.performance?.now?window.performance.now():null,H=e=>["/advertiser/"].reduce((t,n)=>e.includes(n)||t,!1);function G({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:o,staticContext:d}){let c=(0,i.useRef)(null),u=(0,i.useRef)(null),m=(0,i.useRef)(t),h=(0,i.useRef)(!0),{path:g,params:_}=(0,a.$B)(),y=(0,i.useRef)(g),f=(0,i.useRef)(_),b=!d.isCachedRender&&(0,l.Z)(d.deviceType);(0,i.useEffect)(()=>{y.current=g},[g]),(0,i.useEffect)(()=>{f.current=_},[_]),(0,i.useEffect)(()=>{if((0,N.X_)({size:n||1e3}),(0,p.UQ)(),K(),h.current=!1,b&&!r.is&&(d.disableScrollExperiment||M(d,()=>(0,s.Ng)(y.current)||y.current||"UNKNOWN_SURFACE"),"Chrome"===d.browserName)){O({staticContext:d,getCurrentRoute:()=>({path:y.current,params:f.current}),getLastNavigationTime:()=>u.current||0});let e=(0,s.e)(y.current);e&&T({pwtStaticContext:d,surface:e,getCurrentRoute:()=>({path:y.current})})}},[]);let v=H(t.pathname)?m.current.pathname!==t.pathname:m.current!==t;if(v){m.current=t,u.current=V();let{current:e}=u;if(!h.current){let t=!c.current;(0,I.A9)("routeStart",{tags:{action:o}}),(0,N.Eg)(t),(0,p.Ux)(t),(0,p.on)(),(0,A.tl)();let{customBufferSize:n,defaultBufferSize:i}=(0,N.LH)();e&&((0,I.A9)("routeStart.customBufferSize",{count:n}),(0,I.A9)("routeStart.defaultBufferSize",{count:i}),c.current={time:e,action:o})}}return(0,Z.jsx)(B.Provider,{value:b?d:null,children:(0,Z.jsx)(U.Provider,{value:c.current,children:e})})}let $=()=>(0,i.useContext)(U),W=()=>(0,i.useContext)(B)},603642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i=n(667294),a=n(705895),l=n(685679),r=n(608029),s=n(297329),o=n(107860),d=n(862536),c=n(906623),u=n(521525),p=n(819281),m=n(793250),h=n(309300);let g=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,h.jh)("constraint_",e),...(0,h.jh)("mark_",(0,o.gQ)()),...(0,h.jh)("browser_",{...t?(0,h.D3)(t):{},...(0,h.rX)()})});var _=n(840387);let y=(e,t)=>[...e.map(e=>(0,_.Z)(e,t)).filter(Boolean)];var f=n(302234),b=n(663678),v=n(953565);let x=e=>e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",k=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:a="allResources"})=>{let l=i.length;if(l>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){let r=[...i].sort((e,t)=>e.fetchStart-t.fetchStart),s=[...i].sort((e,t)=>e.responseEnd-t.responseEnd),o=1,d=t/5,c=0;for(;o<=5;){let t=0;for(;c<=l-1&&r[c].fetchStart<=d*o;)c+=1,t+=1;(0,v.S0)(`${e}.tags.${a}.fetchStartInterval${o}of5`,t,{sampleRate:.2,tags:n}),(0,v.S0)(`${e}.${a}.fetchStartInterval${o}of5`,t,{sampleRate:.2}),o+=1}let u={zeroPercentInFlight:r[0].fetchStart,twentyFivePercentInFlight:r[Math.floor(l/4)].fetchStart,fiftyPercentInFlight:r[2*Math.floor(l/4)].fetchStart,seventyFivePercentInFlight:r[3*Math.floor(l/4)].fetchStart,hundredPercentInFlight:r[l-1].fetchStart,twentyFivePercentComplete:s[Math.floor(l/4)].responseEnd,fiftyPercentComplete:s[2*Math.floor(l/4)].responseEnd,seventyFivePercentComplete:s[3*Math.floor(l/4)].responseEnd,hundredPercentComplete:s[l-1].responseEnd};for(let t in u)u[t]&&((0,v.LY)(`${e}.tags.${a}.${t}`,u[t],{sampleRate:.2,tags:n}),(0,v.LY)(`${e}.${a}.${t}`,u[t],{sampleRate:.2}))}},P=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:a})=>{let l=`${(0,b.Z)(a)}.${i.surface}`,r=[l];e&&e.forEach(e=>{let t=a.getExperimentGroup(e)||"null";r.push(`${l}.${e}.${t}`)});let s=x((0,f.Bn)()),o={lcpTimingBucket:s||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},d=Array.from(n.filter(e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t)),c=[],u=[],p=[],m=[],h=[];d.forEach(e=>{"img"===e.initiatorType?c.push(e):"css"===e.initiatorType?u.push(e):"script"===e.initiatorType?p.push(e):"xmlhttprequest"===e.initiatorType?m.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)}),r.forEach(e=>{k({eventPrefix:e,endTime:t,tags:o,resourceArr:d}),k({eventPrefix:e,endTime:t,tags:o,resourceArr:c,resourceType:"image"}),k({eventPrefix:e,endTime:t,tags:o,resourceArr:u,resourceType:"css"}),k({eventPrefix:e,endTime:t,tags:o,resourceArr:p,resourceType:"scripts"}),k({eventPrefix:e,endTime:t,tags:o,resourceArr:m,resourceType:"xhr"}),k({eventPrefix:e,endTime:t,tags:o,resourceArr:h,resourceType:"preloadedImage"})})};var S=n(279600);let w=({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime,T=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:a,imageTimings:l,metricId:r,pwtStaticContext:s,startTime:o,traceId:d,spans:c})=>{let h;let _=(0,S.Cg)();"initial_app_load"===r.navigationType&&(h=(0,p.Z)());let f=l.map(({name:e})=>e),b=_.map(e=>(0,m.p)(e,f)).filter(({timing:e})=>!w(e,{startTime:o,endTime:a}));return("board"===r.surface||"pin_closeup"===r.surface)&&P({annotateExperiments:e,endTime:a,entries:_,metricId:r,pwtStaticContext:s}),{type:"COMPLETE",traceId:d,startTime:o,endTime:a,spans:y(b,d).concat(c),annotationMap:g({constraintMap:i,initialNavTiming:h,annotations:t}),binaryAnnotationMap:(0,u.rA)({annotateExperiments:e,binaryAnnotations:n,entries:_,metricId:r,performanceResources:b,pwtEndTime:a,pwtStaticContext:s})}};var I=n(404373);let A=!1,E=(e,t)=>{if(e&&t){if(!A)return A=!0,t;(0,s.H)("duplicated_initial_app_load_surface_pwt")}return(0,I.Z)()};var C=n(363404),j=n(367180);let R=e=>{let t=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{}),n=Array.from(document.getElementsByTagName("img")).map(e=>{let n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){let n=j.rZ(e)?.width||1,a=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}),i=Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){let n=j.rZ(e)?.width||1,a=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}});[...n,...i].forEach(t=>{let{ratio:n,fileName:i,downloadedSize:a}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${a}_${i}`}})})};var L=n(970126),F=n(5859);let D=(e,t)=>{let n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var O=n(184960),z=n(785893);let M=["initial_app_load","client_route_push"],N=(0,r.XV)("PwtSurface"),Z="NavigationComplete",B="VisuallyComplete",U=(e,t)=>{e.isSampled&&(0,C.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},K=(e,t,n)=>{let{metricConfig:{metricId:i,pwtStaticContext:a,annotateExperiments:r},annotations:d,binaryAnnotations:c,constraintMap:u,startTime:p,imageTimings:m,isSampled:h,spans:g}=e;(0,o.L8)(`PWT_Complete_${(0,l.KJ)(i)}`);let _=E("initial_app_load"===i.navigationType,a.serverData?.trace_id),y=T({annotateExperiments:r,annotations:d,binaryAnnotations:c,constraintMap:u,endTime:t,imageTimings:m,metricId:i,pwtStaticContext:a,startTime:p,traceId:_,spans:g});h&&!n&&(0,C.Z)({metricId:i,pwtStaticContext:a,result:y});try{R(String(y.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return{...e,result:y,status:"DONE"}},V=(e,t)=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let n=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return K(e,n,t)}return N(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},H=(e,t)=>{let{constraint:n,time:i,disablePWTLogging:a}=t,r=(0,l.KJ)(e.metricConfig.metricId);return L.Z?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(N(`constraint "${n}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:n,action:r}),e):(N(`marking constraint "${n}" as complete`),(0,o.ZP)(`constraint_${n}_is_complete`),V({...e,constraintMap:{...e.constraintMap,[n]:i||L.Z.now()}},a)):(N(`marked constraint "${n}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:r}),e)},G=(e,t)=>{if(!L.Z){let t=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}N(`removing constraint "${t}"`);let n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:i,...a}=e.constraintMap;return V({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:n}})},$=(e,t)=>{if(!L.Z){let t=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}N(`updating pwt segment to "${t}"`);let n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}},W=(e,t)=>{let{metricConfig:n,startTime:i,isSampled:a,disablePWTLogging:r}=t;if(r||"TIMING"!==e.status||i===e.startTime||U(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};let o=(0,l.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap[Z]?((0,s.H)("duplicated_init_route_action",{action:o}),e):(r||("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,s.A9)(`TIMING.${o}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${o}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.5})):((0,s.A9)(`TIMING.${o}`),(0,s.A9)(`TIMING.sampled.${o}`,{sampleRate:.5}))),H({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:Z,disablePWTLogging:r}))},q=(e,t)=>{if(N("dispatch action",t),"INIT_ROUTE"===t.type)return W(e,t.payload);if("TIMING"!==e.status)return N(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":U(e,t.reason);let n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":let{name:i}=t.payload;if(!L.Z)return e;let a=L.Z.now();return N(`adding annotation {${i}: ${a}}`),{...e,annotations:{...e.annotations,[i]:a}};case"BINARY_ANNOTATE":let{name:r,value:o,annotationType:d}=t.payload;return N(`adding binary annotation {${r}: ${o}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:o,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return H(e,t.payload);case"REMOVE_CONSTRAINT":return G(e,t.payload);case"SET_SEGMENT":return $(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:n}}=t;if(0===n.length)return U(e,"visuallyComplete_noImages"),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let i=Math.max(...n.map(e=>e.responseEnd||0));return H({...e,imageTimings:n},{constraint:B,time:i})}case"ADD_SUBSPAN":let{startTime:c}=e,{payload:{name:u,startTime:p,endTime:m,annotations:h,binaryAnnotations:g,parentId:_}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,I.Z)(),startTime:p||c,endTime:m,annotationMap:{...h},binaryAnnotationMap:{...g},parentId:_}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,I.Z)(),startTime:L.Z?L.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let y=e.spans.findIndex(e=>e.name===t.payload.name);return y>-1?(e.spans[y].endTime=L.Z?L.Z.now():0,t.payload.annotations&&(e.spans[y].annotationMap={...e.spans[y].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[y].binaryAnnotationMap={...e.spans[y].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let f=(0,l.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:f}),e}},Y=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},X=new Set,J=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:l,annotateExperiments:r,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:o,navigationType:c},sampleRate:u})=>{let p=(0,i.useRef)("NOT_SET"),m=(0,d.N5)(),{getState:h,dispatch:g}=D(q,{status:"DISABLED",metricConfig:null}),_=(0,F.B)();if(p.current!==o&&(p.current=o,m)){let{isAuthenticated:i}=m,a=e&&c&&(s||M).includes(c)?{metricId:{type:"surface",surface:e,navigationType:c,isAuthenticated:i,segment:n},annotateExperiments:r,constraints:[Z,...t||[],...l?[B]:[]],pwtStaticContext:m}:null;(0,v.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:c,isAuthenticated:i}});let d=!X.has(o);g({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:o?o.time:0,isSampled:!u||Math.random()<u,disablePWTLogging:!d}}),d&&X.add(o)}let y=h();if((0,i.useEffect)(()=>()=>{X.delete(o)},[o]),(0,i.useEffect)(()=>{let e=e=>{g({type:"ABORT",reason:e})};a.Z.onSessionPause(e);let t=window.innerHeight,n=window.innerWidth,i=()=>{let e=Math.abs(window.innerHeight-t),a=Math.abs(window.innerWidth-n),l=window.innerHeight!==t,r=window.innerWidth!==n,s={handler:(0,O.H)(),deviceType:m?.deviceType??"unknown",isAuthenticated:m?.isAuthenticated??"unknown",platform:_.userAgent.platform??"unknown"};(0,v.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:l,widthChanged:r}}),l&&(0,v.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),r&&(0,v.S0)("webapp.PwtLogger.resizeWidthDelta",a,{sampleRate:1,tags:s}),window.removeEventListener("resize",i);let o=m?.deviceType==="phone"&&(!r&&l&&e<=150||!l&&!r)||m?.deviceType==="desktop"&&!l&&!r;if(o){(0,v.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:l,widthChanged:r}});return}g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",i),()=>{let t=h();N("handling unmount",t),"TIMING"===t.status&&U(t,"unmount"),a.Z.removePauseListener(e),window.removeEventListener("resize",i)}},[]),"TIMING"!==y.status||!y.constraintMap[Z])return{state:y,context:null};let{startTime:f,metricConfig:b}=y;return{state:y,context:{abort:e=>g({type:"ABORT",reason:e}),addAnnotation:e=>g({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>g({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},a={},l=null)=>g({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:l}}),getId:()=>f,getMetricId:()=>b.metricId,markConstraintComplete:e=>g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:L.Z?L.Z.now():0}}),removeConstraint:e=>g({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>g({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:b.constraints.includes(B)?e=>g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>g({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>g({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}},Q=()=>{let e=(0,c.E)(),t=!!e;(0,i.useEffect)(()=>{if(t){let t=e?.getMetricId(),n=t?(0,l.KJ)(t):null;(0,s.H)("nested_pwt_surface",{action:n})}},[t])};function ee({children:e,...t}){let n=(0,d.fM)(),i=Y(n),a=[...t.annotateExperiments??[]],l={...t,annotateExperiments:a,navigationInfo:{navigationType:i,clientNavigation:n}},{context:r}=J(l);return Q(),(0,z.jsx)(c.S,{value:r,children:e})}},906623:(e,t,n)=>{"use strict";n.d(t,{E:()=>l,S:()=>a});var i=n(342513);let{Provider:a,useMaybeHook:l}=(0,i.Z)("pwtSurfaceContext")},707671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(760890);let a=()=>!!window.performance?.timing;var l=n(970126);function r(e){return!!("desktop"!==e||a())&&!!l.Z&&(0,i.v)()}},685679:(e,t,n)=>{"use strict";n.d(t,{KJ:()=>c,Rp:()=>d});let i={id:14,name:"own_profile"},a={id:15,name:"other_profile"},l={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},own_profile:i,other_profile:a,visual_search:{id:44,name:"visual_search_page_render"}}},client_route_replace:{unauth:{},auth:{own_profile:i,other_profile:a,sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"}}}},r={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},s={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},o=e=>{let{navigationType:t,isAuthenticated:n,segment:i,surface:a}=e,s=n?"auth":"unauth",o=r[t]?.[s]?.[a],d=i&&o&&o[i]||l[t][s][a];return d},d=e=>{if("stopwatch"===e.type)return s[e.name]||null;let t=o(e);return t?t.id:null},c=e=>{if("stopwatch"===e.type)return e.name;let{navigationType:t,isAuthenticated:n,segment:i,surface:a}=e,l=o(e);return l?l.name:`${t}_${n?"auth":"unauth"}_${a}${i?"_"+i:""}`}},939129:(e,t,n)=>{"use strict";n.d(t,{Ng:()=>i,e:()=>a,nw:()=>l});let i=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/ideas/:interest/:id":return"topic";default:return null}},a=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}},l=e=>{let t=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(t=>{if(!e)return"pathname_invalid";let n=t.pattern.split("/").filter(e=>""!==e),i=e.split("/").filter(e=>""!==e);if(n.length!==i.length)return!1;for(let e=0;e<n.length;e+=1)if(!n[e].startsWith(":")&&i[e]!==n[e])return!1;return!0});return t?t.name:"unknown"}},193300:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var i=n(45528);let a=function(){let e;let t=!1,n=new Set;return function(a){if(e){a(e);return}n.add(a),t||(t=!0,(0,i.NO)(t=>{for(let i of(e=t,n))i(t),n.delete(i)}))}}()},608029:(e,t,n)=>{"use strict";n.d(t,{Ex:()=>r,XV:()=>l,v5:()=>a});var i=n(194087);let a=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},l=e=>(t,...n)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)},r=e=>t=>{i.jn&&console.log(`[CWV:${e}] ${String(t)}`)}},367180:(e,t,n)=>{"use strict";n.d(t,{F9:()=>p,LM:()=>d,VZ:()=>l,cQ:()=>m,rZ:()=>r});var i=n(769286),a=n(297329);let l=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,r=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=({top:e,height:t},{foldY:n,pageYOffset:i})=>{let a=e+i;if(a>=n)return!1;let l=Math.min(t,n-a);return l>.5*t||l>.2*n},o=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=(e.style||{}).backgroundImage||"",n=t.match(/^url\(["'](.*)["']\)$/);return n&&n[1]||null},d=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,a.H)("missing_document_query_selector"),0),c=()=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(i.wc);return e[e.length-1]||null},u=(e,t)=>{let n=r(e);if(!n)return(0,a.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){let t=e instanceof HTMLImageElement;if(t)return!1;let n=o(e);if(n?.endsWith("svg"))return!1}return s(n,t)},p=()=>{let e=c();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0,i=e.getBoundingClientRect().top+n>=t;return i},m=(e,t,n)=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),[];let l={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},r=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),s=[...document.querySelectorAll(r)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?s.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return s.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&u(n,l)){let t=o(n);if(t){let i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e},[])}},769286:(e,t,n)=>{"use strict";n.d(t,{$N:()=>d,Kb:()=>i,Wf:()=>s,fF:()=>o,wc:()=>r});let i="pwt-grid-item",a=`div[data-test-id="${i}"]`,l=['div[data-grid-item="true"]',"div.Grid__Item",a],r=l.join(","),s=l.map(e=>`${e} img`).join(","),o=l.map(e=>`${e} div[style*=background-image]`).join(","),d=l.map(e=>`${e} video`).join(",")},760890:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f,v:()=>m});var i=n(667294),a=n(685679),l=n(608029),r=n(367180),s=n(297329),o=n(107860),d=n(906623),c=n(279600),u=n(748058);let p=(0,l.XV)("GridProfiler"),m=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,r.VZ)(),h=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,g=(e,t)=>{if(!t){let t=(0,r.LM)();if(t===e)return p("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,r.F9)())return p("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},_=(e,t)=>{let n=0,i=0,a=0,l=0,r=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,s)=>{let o;let d=t.fileName.split(".")[0];o=e[s],d!==o?.image_signature&&(o=e.find(e=>d===e?.image_signature)),void 0===o?r+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?a+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?n+=1:o?.videos?.video_list?i+=1:l+=1}),{storyPinCount:n,videoCount:i,adCount:a,imageCount:l,unknownCount:r}},y=(e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)};function f({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:m=!1,includeSections:f}){let b=(0,d.E)(),v=b?.getId(),x=b?.setVisuallyCompleteResult,[k,P]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)(()=>{x?P({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):P({status:"DISABLED"})},[v,x]),(0,i.useEffect)(()=>{if("DISABLED"!==k.status&&(0,o.ZP)(`GridVisuallyCompleteProfiler_${k.status}`),p("new status",k),"LAYOUT"===k.status){let e=y("scroll",()=>{(0,o.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[k.status]),(0,u.Z)(()=>{if(!b||!x)return;let{abort:i,getMetricId:o}=b,d=o();switch(k.status){case"LAYOUT":{let t=g(k.numOfItemsChecked,e);t.complete?P({status:"TIMING",failedCount:0,pinElements:(0,r.cQ)(n,m,f)}):500*k.failedCount>6e4?((0,s.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),P({status:"DISABLED"})):P({...k,failedCount:k.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,c.Cg)(),n=k.pinElements.length,r=[],o=0,u=0,m=0;if(k.pinElements.forEach(({element:t,fileName:n})=>{let i=e.find(e=>e.name.endsWith(n));i?i.responseEnd?(r.push(i),(0,l.v5)(t,"green")):(m+=1,(0,l.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,l.v5)(t,"red")):(o+=1,(0,l.v5)(t,"greenyellow"))}),o||m)100*k.failedCount>6e4?((0,s.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:o,noTimingCount:u,noTimingResponseEndCount:m}}),i("visuallyComplete_timingTimeout"),P({status:"DISABLED"})):P({...k,failedCount:k.failedCount+1});else{if(p(`All ${r.length} images are fetched`),t&&t.length){let e=_(t,k.pinElements);Object.entries(e).forEach(([e,t])=>{b.addBinaryAnnotation(e,t,"I16")}),(0,s.A9)(`${(0,a.KJ)(d)}.pinTypes`,{tags:e})}x({imageTimings:r}),P({status:"DISABLED"}),(0,s.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:u}})}}}},h(k))}},297329:(e,t,n)=>{"use strict";n.d(t,{A9:()=>m,DG:()=>u,H:()=>h,S$:()=>g,iF:()=>p});var i=n(431405),a=n(194087),l=n(608029),r=n(554786),s=n(953565);let o=(0,l.XV)("logPwtStats"),d=null,c=!0;function u(e){let{userAgent:t,isBot:n,isSocialBot:a,isAuthenticated:l}=e;d={browserName:t.browserName,browserVersion:t.browserVersion,deviceType:(0,r.Mq)(e),isAuthenticated:l,isBot:n,isSocialBot:a,isModernBundleCapable:(0,i.Z)({browserName:t.browserName,browserType:t.browserType,browserVersion:t.browserVersion,isBot:n})}}let p=e=>{d&&(d.historyAction=e)},m=(e,t={sampleRate:1},n=!0)=>{let i=a.DQ?1:t.sampleRate;if(!d){o("pwt.metrics_quality.no_context"),(0,s.nP)("pwt.metrics_quality.no_context",{sampleRate:i,tags:{eventName:e}});return}let{browserName:l,browserVersion:r,deviceType:c,isBot:u,isSocialBot:p}=d,m=`pwt.${p&&"socialBot"||u&&"bot"||"nonbot"}.metrics_quality.${c}.${e}`,h={...t.tags||{},browserName:l,browserVersion:r?.split(".")[0]||"0"},g="number"==typeof t.count?t.count:1;n&&(o(`${m}: ${g}`),t.tags&&o(Object.entries(t.tags))),a.is||(0,s.QX)(m,g,{sampleRate:i,tags:h})},h=(e,t)=>m(`ERROR.${t?.action?t.action+".":""}${e}`,{tags:t}),g=({appLoadName:e,clientNavName:t},n)=>{if(d){let i="APP_VOLUME.";c?(m(i.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),c=!1):"PUSH"===d.historyAction&&m(i.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else(0,s.nP)("pwt.metrics_quality.no_context",{sampleRate:1,tags:{eventName:e.concat(`.${t}`)}})}},107860:(e,t,n)=>{"use strict";n.d(t,{Ao:()=>u,BA:()=>p,L8:()=>h,ZP:()=>g,at:()=>a,gQ:()=>c,tl:()=>m});var i=n(970126);let a="masonryPagination",l={},r=e=>` ${e}`,s=(e,t)=>{let n=r(t);e.mark(n)},o=(e,t,n,i)=>{let a=r(t);e.measure(a,n,i)},d=(e,t)=>{let n=r(t);e.clearMarks(n),e.clearMeasures(n)},c=()=>{let e={};return Object.keys(l).forEach(t=>{(l[t]||[]).slice(0,3).forEach((n,i)=>{let a=i?`${t}_${i+1}`:t;e[a]=n})}),e},u=(e,t)=>(l[e]||[]).filter(e=>e<t).length,p=(e,t)=>u(e,t)>0,m=()=>{i.Z&&Object.keys(l).forEach(e=>d(i.Z,e)),l={}},h=e=>{i.Z&&(l[e]=(l[e]||[]).concat([i.Z.now()]),o(i.Z,e))},g=e=>{i.Z&&(l[e]=(l[e]||[]).concat([i.Z.now()]),s(i.Z,e))}},253926:(e,t,n)=>{"use strict";n.d(t,{cC:()=>l,jy:()=>a,qr:()=>s,sk:()=>r});let i=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:i(e)}),l=e=>({type:"I32",value:i(e)}),r=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},309300:(e,t,n)=>{"use strict";n.d(t,{D3:()=>l,Hd:()=>o,jh:()=>s,rX:()=>r});var i=n(383340),a=n(302234);let l=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),r=()=>{let{largestContentfulPaint:e}=(0,a.v2)();return{largestContentfulPaint:e||0}},s=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),o=(e,t)=>Object.keys(e).reduce((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n,Object.freeze({}))},521525:(e,t,n)=>{"use strict";n.d(t,{ng:()=>f,rA:()=>v});var i=n(685679),a=n(107860),l=n(253926),r=n(302234),s=n(279600),o=n(788389);let d=(e,t)=>(e||[]).reduce((e,n)=>({...e,[`experiment.${n}`]:(0,l.sk)(t(n))}),{}),c=(e,t)=>"number"==typeof t?e(t):null,u=e=>Number(Number(e/1024).toFixed(3)),p=e=>e.reduce((e,t)=>e+t,0),m=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),h=e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{let a=t||e;return{startTime:e,requestStart:a,responseStart:n||a,responseEnd:i}}),n=p(t.map(e=>e.requestStart-e.startTime)),i=p(t.map(e=>e.responseStart-e.requestStart)),a=p(t.map(e=>e.responseEnd-e.responseStart)),r=n+i+a,s=p(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:(0,l.cC)(u(s)),"duration.all":(0,l.cC)(r),"duration.requestStartToResponseStart":(0,l.cC)(i),"duration.responseStartToResponseEnd":(0,l.cC)(a),"duration.startToRequestStart":(0,l.cC)(n)}},g=e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{...h(t),"count.completed":(0,l.cC)(t.length)}:{},"count.all":(0,l.cC)(e.length)}},_=e=>{let t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){let{requestStart:a,startTime:l}=e[0].timing,r=a||l;n.timeSecond1.start=r,n.timeSecond1.end=r+1e3,n.timeSecond2.start=r+1e3,n.timeSecond2.end=r+2e3,n.timeSecond3.start=r+2e3,n.timeSecond3.end=r+3e3,e.forEach(e=>{let{timing:a}=e;i[e.category]=i[e.category].concat([a]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([a])),e.isExternal&&(i.external=i.external.concat([a])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([a]));let{requestStart:l,startTime:r,responseEnd:s}=a,o=l||r;t.forEach(e=>{let{start:t,end:i}=n[e];o>=t&&o<i?n[e].count+=1:o<t&&s>t&&(n[e].count+=1)})})}let a={...m("concurrentRequests.",Object.keys(n).reduce((e,t)=>e={...e,[t]:(0,l.cC)(n[t].count)},{}))},r={...Object.keys(i).reduce((e,t)=>({...e,...m(`resource.${t}.`,g(i[t]))}),a)};return r},y=(e,t,n)=>{let a;let{devicePixelRatio:r,navigator:d,innerWidth:u,innerHeight:p,performance:m}=window,{deviceMemory:h,hardwareConcurrency:g,platform:_,userAgent:y,connection:f}=d,{memory:b}=m,{appType:v,appVersion:x,browserName:k,browserVersion:P,deviceType:S,isAppShell:w,isAuthenticated:T,isBot:I,isSocialBot:A,locale:E,osName:C,stageName:j,unauthId:R}=t,L="desktop"===S?v||5:v||6,{navigationType:F}=e,D=null;if("initial_app_load"===F){a=1;let e=o.Z("navigation")[0]?.transferSize;D=e?parseFloat((.001*e).toFixed(1)):null}else a=4;let O={"app.type":(0,l.jy)(L),"app.version":(0,l.sk)(x),"browser.name":(0,l.sk)(k),"browser.version":(0,l.sk)(P),"cpu.speed":(0,l.jy)(g),"device.memory":(0,l.jy)(h),"device.type":(0,l.jy)(0),"device.typeName":(0,l.sk)(S),"device.version":(0,l.sk)("unknown"),"pwt.cause":(0,l.jy)(a),"net.effectiveType":(0,l.sk)(f?.effectiveType||null),"net.downlink":(0,l.cC)(c(e=>10*Math.round(e/10),f?.downlink)),"net.downlinkMax":(0,l.cC)(c(e=>10*Math.round(e/10),f?.downlinkMax)),"net.rtt":(0,l.cC)(c(e=>10*Math.round(e/10),f?.rtt)),"net.speed":(0,l.cC)((0,s.Hv)(n,!1)),"pwt.result":(0,l.jy)(1),"view.type":(0,l.cC)(0),"viewport.height":(0,l.cC)(p||0),"viewport.width":(0,l.cC)(u||0),devicePixelRatio:(0,l.cC)(r||0),isAppShell:(0,l.qr)(w),isAuthenticated:(0,l.qr)(T),isBot:(0,l.qr)(I),isSocialBot:(0,l.qr)(A),locale:(0,l.sk)(E),osName:(0,l.sk)(C),...null!==D&&{htmlResponseSize:(0,l.cC)(D)},nextHopProtocol:(0,l.sk)(o.Z("navigation")[0]?.nextHopProtocol||null),platform:(0,l.sk)(_||null),profilerVersion:(0,l.sk)("3"),pwtActionName:(0,l.jy)((0,i.Rp)(e)),stageName:(0,l.sk)(j),userAgent:(0,l.sk)(y),usedJSHeapSize:(0,l.cC)(b?.usedJSHeapSize||0),totalJSHeapSize:(0,l.cC)(b?.totalJSHeapSize||0),jsHeapSizeLimit:(0,l.cC)(b?.jsHeapSizeLimit||0)};return T?O:{...O,unauthId:(0,l.sk)(R)}},f=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:a=[]})=>({...d(e,n.getExperimentGroup),...y(t,n,a),...i,stopwatchVersion:(0,l.jy)(1)}),b=(e,t)=>{let{navigator:n}=window,{serviceWorker:i}=n,{surface:s,navigationType:o,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:c,longTaskDurations:u}=(0,r.v2)();return{...u.length?{"longTask.count":(0,l.cC)(u.length),"longTask.maxDuration":(0,l.cC)(Math.max(...u)),"longTask.totalDuration":(0,l.cC)(p(u))}:{},cumulativeLayoutShiftScore:(0,l.cC)(100*c),"masonry.paginationMarkCount":(0,l.cC)((0,a.Ao)(a.at,t)),"metricId.isAuthenticated":(0,l.qr)(d),"metricId.navigationType":(0,l.sk)(o),"metricId.surface":(0,l.sk)(s),resourceBufferClearedCount:(0,l.jy)((0,a.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,l.qr)((0,a.BA)("scrollDuringLayout",t)),serviceWorker:(0,l.qr)(i?!!i.controller:null),serviceWorkerState:(0,l.sk)(i?.controller?.state||null)}},v=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:a,pwtEndTime:l,pwtStaticContext:r})=>({...t,..._(a),...d(e,r.getExperimentGroup),...y(i,r,n),...b(i,l)})},819281:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(970126);let a=()=>{let[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},793250:(e,t,n)=>{"use strict";n.d(t,{i:()=>i,p:()=>r});let i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(n))return"script";if("css"===n)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(n))return"video";if(["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n))return"image";return"other"}}},a=e=>{let t=e.replace(RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`script[src='${t}']`);return!!n&&n.hasAttribute("defer")},l=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(`${t}`)),r=(e,t)=>{let n=i(e),{name:r}=e;return{category:n,isDeferred:"script"===n&&a(r),isExternal:l(r),isVisuallyCompleteRequired:"image"===n&&t.includes(r),timing:e}}},363404:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(120889),a=n(194087),l=n(685679),r=n(608029),s=n(297329);let o=null,d=(e,t)=>((o=o||{results:[],context:t}).results.push(e),o);var c=n(253926),u=n(819281),p=n(404373),m=n(788389);let h=(e,t)=>Object.keys(e).reduce((n,i)=>{let a=e[i];return a?{...n,[i]:{timestamp:t+a}}:n},{}),g=e=>Object.keys(e).reduce((t,n)=>{let i=e[n];if(!i)return t;let{value:a,type:l}=i;return null==a?t:t.concat({name:n,value:a,annotation_type:l})},[]),_=({span:e,timeOrigin:t})=>({id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:h(e.annotationMap,t),binary_annotations:g(e.binaryAnnotationMap)}),y=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:l,traceId:r})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:l,id:r}),f=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}}),{}),b=(e,t)=>({...e,annotations:{...f(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),v=(e,t,n)=>{let i=(0,u.Z)(),a=i?.responseEnd;return a?b(_({span:{name:"html",startTime:0,endTime:i?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,c.sk)(m.Z("navigation")[0]?.nextHopProtocol||null)},id:e.server_span_id||(0,p.Z)(),parentId:t},timeOrigin:n}),e):null},x=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:a})=>{let l=_({span:y(t,n),timeOrigin:i}),r=null;return a&&(l=b(l,a),r=v(a,e,i)),{trace_id:e,spans:[l,...r?[r]:[],...n.spans.map(e=>_({span:e,timeOrigin:i}))]}},k=e=>({debugTrace:a.eD,locale:e.locale,stageName:e.stageName}),P=(0,r.XV)("reportResult"),S=()=>window.performance?.now?Date.now()-window.performance.now():"unknown";function w({metricId:e,pwtStaticContext:t,result:n,isAuth:r}){let{serverData:o}=t,c=(0,l.KJ)(e),u=`${n.type}.${c}`,p=`${n.type}.sampled.${c}`,m=void 0!==r&&{tags:{isAuth:r}}||void 0;if((0,s.A9)(n.reason?u.concat(`.${n.reason}`):u,m),(0,s.A9)(n.reason?p.concat(`.${n.reason}`):p,{...m,sampleRate:.5}),"COMPLETE"!==n.type){P(`Abort metric ${c}`,n);return}let h=S();if("unknown"===h){P(`Unable to convert to absolute times for ${c} due to missing time origin`),(0,s.A9)(`missingTimeOrigin.${c}`,m);return}if(a.is&&(window.PWT_LAB_DATA=d(n,t)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!a.is){let a=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:l}=n,r=x({traceId:l,actionName:c,result:n,timeOrigin:h,serverDataToJoin:a&&o||null});(0,i.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(r),report_context:JSON.stringify(k(t))}}),P(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${l.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},383340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},840387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(253926),a=n(383340),l=n(404373);let r=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){let{category:n,timing:s,isDeferred:o,isExternal:d,isVisuallyCompleteRequired:c}=e;return s.responseEnd&&("image"!==n||c)?{name:r(e),id:(0,l.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,a.Z)(s),binaryAnnotationMap:{category:(0,i.sk)(n),decodedBodySize:(0,i.cC)(s.decodedBodySize||0),initiatorType:(0,i.sk)(s.initiatorType),isDeferred:(0,i.qr)(o),isExternal:(0,i.qr)(d),name:(0,i.sk)(s.name),nextHopProtocol:(0,i.sk)(s.nextHopProtocol),transferSize:(0,i.cC)(s.transferSize||0)}}:null}},306775:(e,t,n)=>{"use strict";n.d(t,{M3:()=>_,PA:()=>y,RP:()=>g,gq:()=>m});var i=n(707671),a=n(297329),l=n(107860),r=n(521525),s=n(363404),o=n(889998),d=n(404373),c=n(970126);let u=({name:e,pwtStaticContext:t})=>{if(!c.Z||!(0,i.Z)())return null;let n={type:"stopwatch",name:e},a=[],l=!0;return{abort:e=>{l&&(l=!1,(0,s.Z)({metricId:n,pwtStaticContext:t,result:{type:"ABORT",reason:e}}))},annotate:e=>{l&&a.push({label:e,timestamp:c.Z.now()})},stop:()=>{if(!l)return;l=!1;let e={type:"COMPLETE",traceId:(0,d.Z)(),startTime:0,endTime:c.Z.now(),spans:[],annotationMap:(0,o.Z)(a),binaryAnnotationMap:(0,r.ng)({metricId:n,pwtStaticContext:t})};(0,s.Z)({metricId:n,pwtStaticContext:t,result:e})}}},p={},m=(e,t)=>{t.forEach(t=>{p[t]=u({name:t,pwtStaticContext:e})})},h=e=>p[e],g=(e,t)=>{let n=h(e);if(n)try{n.abort(t)}catch(t){(0,a.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},_=(e,t)=>{let n=h(e);n&&(n.annotate(t),(0,l.ZP)(`stopwatch_${e}_${t}`))},y=e=>{let t=h(e);if(t)try{t.stop()}catch(t){(0,a.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},471314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(667294),a=n(342513),l=n(297329),r=n(862536),s=n(608029),o=n(107860),d=n(309300),c=n(521525),u=n(819281),p=n(793250),m=n(363404),h=n(840387),g=n(889998),_=n(59648),y=n(404373),f=n(970126);let b=(0,s.XV)("PwtStopwatch"),v=(e,t)=>{if(f.Z){if("start"===t.type&&!e.isTiming){let{name:n,startTime:i,navigationType:a}=t;return(0,l.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:f.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:a},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(t.bypassIsTimingCheck)b("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{let n=t.name||e.name;return b("ignoring action - stopwatch is not actively timing",t),(0,l.A9)(`WARN.${n}.noTiming.${t.type}`),e}}if("annotate"===t.type){let n=f.Z.now();return b(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return b(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){let{value:n,type:i}=t.binaryAnnotationValueAndType;if(!e.binaryAnnotations[t.name])return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}};{let a=e.binaryAnnotations[t.name].value||0;return b(`operating on binary annotation {
          name: ${t.name}
          pervious value: ${String(a)}
          operand: ${String(n)}
        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(a,n):a,type:i}}}}}if("addSubspan"===t.type){b(`adding subspan {${t.name}}`);let n=e.spans.findIndex(e=>e.name===t.name);-1!==n&&b(`WARNING: adding duplicate subspan name {${t.name}}`);let i=t.id||(0,y.Z)(),a=e.spans.findIndex(e=>e.id===i);-1!==a&&b(`WARNING: adding duplicate subspan id {${t.name}: ${i}}`);let l=0;return t.startTime?l=t.startTime:e.startTime?l=e.startTime:b(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:i,startTime:l,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){b(`starting subspan {${t.name}}`);let n=e.spans.findIndex(e=>e.name===t.name);-1!==n&&b(`WARNING: starting duplicate subspan name {${t.name}}`);let i=t.id||(0,y.Z)(),a=e.spans.findIndex(e=>e.id===i);-1!==a&&b(`WARNING: starting duplicate subspan id {${t.name}: ${i}}`);let l=t.parentName?e.spans.find(e=>e.name===t.parentName)?.id:null;return{...e,spans:[...e.spans,{name:t.name,id:i,parentId:t.parentId||l,startTime:f.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(b(`stopping subspan {${t.name}}`),!t.id){let n=e.spans.reduce((e,n)=>n.name===t.name?[...e,n]:e,[]);n.length>1&&(0,l.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type})}let n=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return n>-1?(e.spans[n].endTime=f.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,l.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){let n=e.spans.reduce((e,n)=>n.name===t.currentName?[...e,n]:e,[]);n.length>1&&(0,l.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});let i=e.spans.findIndex(e=>e.name===t.currentName);return i>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(b(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[i].name=t.newName):(0,l.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){let{startTime:n,metricId:i,pwtStaticContext:a,annotations:l,binaryAnnotations:r,isSampled:s,spans:_,traceId:v}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),s){let s=t.stopTime||f.Z.now(),x=[..._.map(t=>{t.endTime===1/0&&(t.endTime=s);let n=e.spanNameUpdates.findIndex(e=>t.name===e.currentName);return n>-1&&(b(`renaming subspan {${t.name}} to {${e.spanNameUpdates[n].newName}}`),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(e=>e.newName!==t.name)),t})];if(t.manualAndResourceSpans||0===_.length){let e=(0,y.Z)();x.push({name:"network_resources",id:e,startTime:n,endTime:s,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(t=>(0,h.Z)((0,p.p)(t,[]),e)).filter(Boolean))}let k="initial_app_load"===i.navigationType&&(0,u.Z)(),P={type:"COMPLETE",traceId:v,startTime:n,endTime:s,spans:x,annotationMap:{...(0,g.Z)(l),...(0,d.jh)("browser_",k?(0,d.D3)(k):{}),...(0,d.jh)("mark_",(0,o.gQ)())},binaryAnnotationMap:(0,c.ng)({metricId:i,pwtStaticContext:a,binaryAnnotations:r,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,m.Z)({metricId:i,pwtStaticContext:a,result:P})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("error"===t.type){let{error:n,stopwatchPerformanceObserver:i}=t;return n&&(0,l.H)(n),i&&i.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();let{metricId:n,pwtStaticContext:i}=e,a=t.reason||"";return(0,m.Z)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:a}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}}return e},x=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:a=!1})=>{let l=(0,r.N5)(),s=(0,i.useRef)([]),o=(0,i.useRef)(null),[d,c]=(0,i.useReducer)(v,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]});return l?{isTiming:d.isTiming,start:i=>(window.PerformanceObserver&&(s.current=[],o.current=(0,_.Z)({entryTypes:["resource"]},e=>{s.current=s.current.concat(e.getEntries()),s.current.length>1e3&&(s.current=s.current.slice(-1e3))})),c({type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:l,isSampled:!t||Math.random()<t})),stop:e=>c({type:"stop",stopTime:e,stopwatchPerformanceObserver:o.current,customStopwatchBuffer:s.current,manualAndResourceSpans:a}),error:e=>{c({type:"error",stopwatchPerformanceObserver:o.current,error:e})},abort:e=>c({type:"abort",stopwatchPerformanceObserver:o.current,customStopwatchBuffer:s.current,reason:e}),annotate:(e,t,n=!1)=>c({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,i,a=!1)=>c({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:a}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a=!1})=>c({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:a={},parentId:l=null,id:r=null,bypassIsTimingCheck:s=!1})=>c({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:l,id:r,bypassIsTimingCheck:s}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,parentName:a=null,id:l=null,bypassIsTimingCheck:r=!1})=>c({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:l,bypassIsTimingCheck:r}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:l=!1})=>c({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:l}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i=!0})=>c({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i}),getSpans:(e,t)=>d.spans.filter(n=>n[e]===t),getTraceId:()=>d.traceId}:null};var k=n(785893);let P=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:n=!0,navigationType:s,manualAndResourceSpans:o=!1})=>{let{Provider:d,useMaybeHook:c}=(0,a.Z)(`Stopwatch_${e}`);return{Provider:function({children:a}){let c=x({name:e,sampleRate:t,navigationType:s,manualAndResourceSpans:o}),u=(0,r.fM)(),p=u?u.time:0,m=(0,i.useRef)(!1),h=c?.isTiming,g=(0,i.useCallback)(t=>{m.current?(m.current=!1,c?.abort(t)):(0,l.A9)(`WARN.${e}.noTiming.abort`)},[c]),_=(0,i.useCallback)((e,t)=>{c?.annotate(e,t)},[c]),y=(0,i.useCallback)((e,t,n,i)=>{c?.binaryAnnotate(e,t,n,i)},[c]),f=(0,i.useCallback)(({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})=>{c?.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})},[c]),b=(0,i.useCallback)(({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:l,id:r,bypassIsTimingCheck:s})=>{c?.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:l,id:r,bypassIsTimingCheck:s})},[c]),v=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:l,bypassIsTimingCheck:r})=>{c?.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:l,bypassIsTimingCheck:r})},[c]),P=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:l})=>{c?.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:l})},[c]),S=(0,i.useCallback)(({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})=>{c?.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})},[c]),w=(0,i.useCallback)((e,t)=>c?c.getSpans(e,t):[],[c]),T=(0,i.useCallback)(()=>c?c.getTraceId():0,[c]),I=(0,i.useCallback)(t=>{m.current?(m.current=!1,c?.error(t)):(0,l.A9)(`WARN.${e}.noTiming.error`)},[c]),A=(0,i.useCallback)(e=>{m.current&&c?.abort("duplicated_init_stopwatch_action"),m.current=!0,c?.start(e)},[c]),E=(0,i.useCallback)(t=>{m.current?(m.current=!1,c?.stop(t)):(0,l.A9)(`WARN.${e}.noTiming.stop`)},[c]);(0,i.useEffect)(()=>()=>{n&&g("unloadOrClientNavigation")},[p]);let C=(0,i.useMemo)(()=>({isTiming:h,abort:g,addAnnotation:_,addBinaryAnnotation:y,binaryAnnotationOperation:f,addSubspan:b,subspanStart:v,subspanStop:P,getSpans:w,getTraceId:T,updateSubspanName:S,stop:E,error:I,start:A}),[h,g,_,y,f,b,v,P,w,T,S,E,I,A]);return(0,k.jsx)(d,{value:C,children:a})},useHook:c}}},643778:(e,t,n)=>{"use strict";n.d(t,{ku:()=>A,Jx:()=>w,PY:()=>I});var i=n(608029),a=n(297329),l=n(107860),r=n(309300),s=n(521525),o=n(819281),d=n(302234);let c=()=>(0,d.PJ)().reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:i},Object.freeze({}));var u=n(383340),p=n(146935),m=n(279600);let h=e=>{let t=(0,m.y0)();return e.reduce((e,{name:n,match:i})=>t.filter(e=>i(e)).slice(0,2).reduce((e,t,i)=>({...e,...(0,r.jh)(`${n}${i?"_dupe1":""}_`,(0,u.Z)(t))}),e),Object.freeze({}))},g=e=>{if("pin_closeup"===e){let e=(0,p.Z)();return h([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var _=n(793250),y=n(363404),f=n(840387),b=n(396596),v=n(59648),x=n(404373);let k=(0,i.XV)("LightStopwatch"),P=()=>{let e=[],t=null;return window.PerformanceObserver&&(t=(0,v.Z)({entryTypes:["resource"]},t=>{(e=e.concat(t.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{t&&t.disconnect()}}},S={},w=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:i,pwtStaticContext:d})=>{let u=P(),p=(0,b.Z)(d.fullPath),m=!0,h={...p?{pagePath:{value:p,type:"STRING"}}:{}};(0,a.A9)(`TIMING.${i}`,{tags:{isAuth:d.isAuthenticated}});let v={type:"stopwatch",name:i,navigationType:"initial_app_load"},w={abort:e=>{if(!m){(0,a.H)("duplicate_abort_action",{action:i});return}m=!1,(0,y.Z)({metricId:v,pwtStaticContext:d,result:{type:"ABORT",reason:e}})},error:(e,t)=>{let n={...t,action:i};if(!m){(0,a.H)("duplicate_error_action",n);return}e&&(0,a.H)(e,n),u&&u.disconnect(),m=!1},stop:p=>{if(!m){(0,a.H)("duplicate_stop_action",{action:i});return}m=!1,u.disconnect();let b=(0,x.Z)(),k=(0,o.Z)(),P=u.get(),S={type:"COMPLETE",traceId:(0,x.Z)(),startTime:0,endTime:p,spans:[{name:"network_resources",id:b,startTime:0,endTime:p,annotationMap:{},binaryAnnotationMap:{},parentId:null},...P.map(e=>(0,f.Z)((0,_.p)(e,[]),b)).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",n?g(n):{}),...(0,r.jh)("element_",c()),...(0,r.jh)("mark_",t&&t.length?(0,r.Hd)((0,l.gQ)(),t):{}),...(0,r.jh)("browser_",k?(0,r.D3)(k):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:v,pwtStaticContext:d,performanceResourceTimings:P,binaryAnnotations:h})};(0,y.Z)({metricId:v,pwtStaticContext:d,result:S,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{k(`adding binary annotation {${e}: ${String(t)}}`),h={...h,[e]:{value:t,type:n}}}};return S[i]=w,w},T=e=>S[e],I=e=>!!T(e),A=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{let a=T(e);a&&a.addBinaryAnnotation(t,n,i)}},570529:(e,t,n)=>{"use strict";n.d(t,{T:()=>r,g:()=>s});var i=n(471314);let{Provider:a,useHook:l}=(0,i.Z)({name:"story_pin_step",sampleRate:1}),r=a,s=l},865611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>e<100?"0-100ms":e<250?"100-250ms":e<500?"250-500ms":e<1e3?"500-1000ms":e<2e3?"1000-2000ms":e<3e3?"2000-3000ms":e<4e3?"3000-4000ms":e<5e3?"4000-5000ms":e<6e3?"5000-6000ms":e<7e3?"6000-7000ms":e<8e3?"7000-8000ms":e<9e3?"8000-9000ms":e<1e4?"9000-10000ms":e<15e3?"10000-15000ms":e<2e4?"15000-20000ms":e<25e3?"20000-25000ms":"25000+ms"},889998:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,i)=>{let a=i?`${e}_${i+1}`:e;n={...n,[a]:t}})}),n}},302234:(e,t,n)=>{"use strict";let i;n.d(t,{Bn:()=>h,Kj:()=>m,PJ:()=>d,UQ:()=>_,Ux:()=>c,on:()=>s,v2:()=>u});var a=n(987313),l=n(59648);let r={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},s=()=>{r.longTaskDurations=[]},o=(0,a.Z)(()=>r.elementTimings),d=()=>o.get(),c=e=>{e&&o.save(),r.elementTimings=[]},u=()=>r,p=0,m=()=>p,h=()=>i,g=e=>e.reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[]),[]),_=()=>{(0,l.Z)({type:"element",buffered:!0},e=>{r.elementTimings=r.elementTimings.concat(g(e.getEntries()))}),(0,l.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>r.longTaskDurations.push(e.duration))},()=>s()),(0,l.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),n=t.length,a=t[n-1];a&&(p=n,r.largestContentfulPaint=a.renderTime||a.loadTime||null,i=a.renderTime||a.loadTime||null)}),(0,l.Z)({type:"layout-shift",buffered:!0},e=>{let t=e.getEntries();t.forEach(e=>{e.hadRecentInput||(r.cumulativeLayoutShiftScore+=e.value)})})}},371626:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},987313:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},663678:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>{let{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${i&&"socialBot"||n&&"bot"||"nonbot"}.${t}`}},396596:(e,t,n)=>{"use strict";function i(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let n=t.split("/")[3];return n?"feedback"===n||"sent"===n?n:null:"default"}n.d(t,{Z:()=>i})},59648:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{let i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",()=>{i.disconnect()}),n&&window.addEventListener("popstate",()=>{n()}),i}catch(e){return null}}},421715:(e,t,n)=>{"use strict";n.d(t,{V:()=>l,b:()=>a});let i=e=>e?e.tagName||null!==e.parentElement?"HTML"===e.tagName&&null===e.parentElement?"HTML":"BODY"===e.tagName&&e.parentElement?.tagName==="HTML"?"BODY":e.dataset.layoutShiftBoundaryID||e.dataset.testId?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?i(e.parentElement):"NOT_A_NODE":"DOCUMENT":"NODE_REMOVED",a=e=>{let t=e.attribution.processedEventEntries.find(t=>t.startTime===e.attribution.interactionTime),n=t?t.target:null;return n?i(n):"NODE_REMOVED"},l=e=>e?i(e):"NODE_REMOVED"},146935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,f:()=>i});let i="closeupImage",a=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},404373:(e,t,n)=>{"use strict";function i(){let e="";for(let t=0;t<15;t+=1){let t=Math.floor(10*Math.random());e+="0123456789"[t]}return Number(e)}n.d(t,{Z:()=>i})},279600:(e,t,n)=>{"use strict";let i;n.d(t,{Cg:()=>g,Eg:()=>y,Hv:()=>v,LH:()=>f,MM:()=>x,X_:()=>p,y0:()=>_});var a=n(194087),l=n(297329),r=n(107860),s=n(793250),o=n(987313),d=n(59648),c=n(788389);function u(){window.performance&&window.performance.clearResourceTimings&&((0,r.ZP)("resourceBufferCleared"),a.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,l.A9)("resourceBufferSize",{count:(0,c.Z)("resource").length}),window.performance.clearResourceTimings())}let p=({size:e})=>{if(window.performance){window.PerformanceObserver?(i=(0,c.Z)("resource"),(0,d.Z)({entryTypes:["resource"]},t=>{(i=(i||[]).concat(t.getEntries())).length>e&&(i=i.slice(-e))})):(window.addEventListener("popstate",()=>{let t=(0,c.Z)("resource").length;t>e&&u()}),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{i||u()}}catch(e){}}},m=()=>i||(0,c.Z)("resource"),h=(0,o.Z)(m),g=m,_=()=>h.get(),y=e=>{e&&h.save(),i&&((0,l.A9)("customBufferSize",{count:i.length}),i=[]),u()},f=()=>({customBufferSize:i?i.length:0,defaultBufferSize:(0,c.Z)("resource").length}),b=e=>e.length?e.reduce((e,t)=>e+t,0)/e.length:null,v=(e,t=!0)=>{let n=0,i=0,a=b(e.filter(e=>{if(t){let t="image"===(0,s.i)(e);return!!t&&(e.responseEnd||(n+=1),e.transferSize||(i+=1),!!e.responseEnd&&!!e.transferSize)}return!!e.responseEnd&&!!e.transferSize}).map(e=>{let t=8*(e.transferSize||0),n=(e.responseEnd-e.responseStart)/1e3;return t/n/1e3}));return t&&(n>0&&(0,l.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,l.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),a},x=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},788389:(e,t,n)=>{"use strict";function i(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>i})},970126:(e,t,n)=>{"use strict";var i;n.d(t,{Z:()=>a});let a=(i=window.performance)&&i.clearMarks&&i.clearMeasures&&i.clearResourceTimings&&i.getEntries&&i.getEntriesByName&&i.getEntriesByType&&i.mark&&i.measure&&i.now&&i.setResourceTimingBufferSize?i:null},999321:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(883119),a=n(930837),l=n(140017),r=n(667294),s=n(587703),o=n(205841),d=n(934441),c=n(785893);let u=function({user:e,viewer:t}){let n=(0,l.ZP)(),{full_name:a,image_medium_url:r,domain_url:s,domain_verified:u,is_private_profile:p,reactionType:m,username:h}=e,g=t&&!!t.id&&t.id===e.id,_=p?e.first_name:a,y=d.GY[m],{staticAsset:f}=(0,d.fW)(y,n);return(0,c.jsxs)(i.xu,{display:"flex",justifyContent:"between",marginTop:6,paddingX:6,children:[(0,c.jsx)(i.Tg,{href:`/${h}/`,children:(0,c.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,c.jsx)(i.xu,{width:40,children:(0,c.jsx)(o.qE,{accessibilityLabel:"",name:_,src:r})}),(0,c.jsxs)(i.xu,{direction:"column",display:"flex",paddingX:2,children:[(0,c.jsx)(i.xv,{weight:"bold",children:_}),g&&(0,c.jsx)(i.xv,{size:"200",children:n._('That\'s you', 'Indicates that the viewer is the person in the list', 'Indicates that the viewer is the person in the list')}),!g&&s&&u&&(0,c.jsx)(i.xv,{size:"200",children:s})]})]})}),(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",padding:2,children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${f})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}},height:26,width:26})})]})};var p=n(995917),m=n(81163),h=n(71328),g=n(149722);function _(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends r.Component{constructor(...e){super(...e),_(this,"setRef",e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))}),_(this,"fetchMore",()=>{let{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())}),_(this,"handleScroll",(0,h.Z)(()=>{let{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;let t=(0,m.Uy)(this.list),n=(0,m.aZ)(this.list),i=(0,m.MX)(this.list);n-i-50<t&&this.fetchMore()},10))}componentDidMount(){let{logContextEvent:e,logView:t=!0}=this.props;t&&e({event_type:13,view_type:266,view_parameter:3312})}componentWillUnmount(){this.list&&this.list.removeEventListener("scroll",this.handleScroll)}render(){let{feedResource:{data:e,isFetching:t},viewer:n}=this.props;if(e&&e.length>0){let a=e.map(e=>{let{user:t,reaction_type:n}=e;return{...t,reactionType:n}});return(0,c.jsxs)(i.xu,{ref:this.setRef,marginBottom:6,children:[a.map(e=>(0,c.jsx)(u,{user:e,viewer:n},e.id)),t&&(0,c.jsx)("div",{className:"loadingSpinner",children:(0,c.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('Loading user list', 'Accessibility lable for user list spinner', 'Accessibility lable for user list spinner'),show:!0})})]})}return(0,c.jsx)("div",{className:"loadingSpinner",children:(0,c.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('Loading user list', 'Accessibility lable for user list spinner', 'Accessibility lable for user list spinner'),show:!0})})}}function f(e){let t=(0,l.ZP)(),n=(0,g.Z)(),i=(0,s.Z)(),a=(0,p.Z)({name:"ReactionsResource",options:{pin_id:e.pinId},noCache:!0});return(0,c.jsx)(y,{...e,feedResource:a,i18n:t,logContextEvent:i,viewer:n})}function b({pinId:e,aggregatedReactions:t,totalReactionCount:n,onDismiss:r,logView:s}){let o=(0,l.ZP)(),d=(0,c.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",height:19,paddingY:6,children:[(0,c.jsx)(i.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:t}),(0,c.jsx)(i.xu,{paddingX:1,children:(0,c.jsx)(i.xv,{weight:"bold",children:n})})]})});return(0,c.jsx)(a.ZP,{accessibilityModalLabel:o._('Users who have reacted to this.', 'Label for a modal showing a list of users who have reacted to a pin', 'Label for a modal showing a list of users who have reacted to a pin'),allowScroll:!0,heading:d,mobileAccessibilityCloseIconLabel:o._('close modal', 'pin.reactions.reactedUsers', 'accessibility label for modal close icon'),onDismiss:r,size:"sm",children:(0,c.jsx)(i.xu,{height:"calc(75% - 90px)",children:(0,c.jsx)(f,{logView:s,pinId:e})})})}},810386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(667294),a=n(883119),l=n(230556),r=n(587703),s=n(388769),o=n(140017),d=n(999321),c=n(934441),u=n(356621),p=n(785893);function m(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{displayAggregationModal:!1}),m(this,"showAggregationModal",()=>{let{disableModal:e,logContextEvent:t}=this.props;e||(this.setState({displayAggregationModal:!0}),t({event_type:101,view_type:3,view_parameter:139,component:13458,element:11435,aux_data:{objectId:this.props.pinId}}))}),m(this,"hideAggregationModal",()=>{this.setState({displayAggregationModal:!1})})}render(){let{displayAggregationModal:e}=this.state,{isBold:t,inCommentModuleExp:n,isInCommentModule:i,isStoryPin:r,paddingY:o,pinId:m,reactionCounts:h}=this.props,g=h?(0,u.At)(h):null,_=h?(0,u.Ud)(h):0,y=!!g&&g.length>0&&g.filter(e=>!!c.GY[e]).map((e,t)=>{let n=c.GY[e],{gridAsset:i}=(0,c.fW)(n,this.props.i18n);return(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${i})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:19,width:19})},t)});return(0,p.jsxs)(a.xu,{children:[(0,p.jsx)("div",{onClick:i?void 0:this.showAggregationModal,onKeyDown:i?void 0:this.showAggregationModal,role:"presentation",children:!!y&&(0,p.jsx)(a.xu,{"data-test-id":"aggregated-reactions-container",display:"inlineBlock",children:n?(0,p.jsx)(a.xv,{weight:"bold",children:(0,p.jsx)(s.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:_})}):(0,p.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{cursor:"pointer"}},"data-test-id":"aggregated-reactions-container",direction:"row",display:"flex",height:r?"auto":19,paddingY:o??(r?0:6),children:[(0,p.jsx)(a.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:y}),(0,p.jsx)(a.xu,{paddingX:1,children:(0,p.jsx)(a.xv,{color:t?"default":"subtle",size:l.n,weight:t?"bold":"normal",children:(0,p.jsx)(s.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:_})})})]})})}),e&&_&&(0,p.jsx)(d.Z,{aggregatedReactions:y,onDismiss:this.hideAggregationModal,pinId:m,totalReactionCount:_})]})}}m(h,"defaultProps",{isBold:!0});let g=function(e){let t=(0,o.ZP)(),n=(0,r.Z)();return(0,p.jsx)(h,{...e,i18n:t,logContextEvent:n})}},934441:(e,t,n)=>{"use strict";n.d(t,{GY:()=>x,Jg:()=>v,fW:()=>k});var i=n(184508),a=n(147916),l=n(167361),r=n(697031),s=n(404247),o=n(836866),d=n(620668),c=n(86119),u=n(753873),p=n(873774),m=n(479197),h=n(110099),g=n(244892),_=n(485846),y=n(461471),f=n(662502),b=n(239784);let v=["goodIdea","love","thanks","wow","haha"],x={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},k=(e,t,n="darkGray")=>{let v={default:{staticAsset:"white"===n?m:p},goodIdea:{staticAsset:l,animatedAsset:i,gridAsset:a,label:t._('Good idea', 'Reaction label to tell a creator that their pin is a good idea', 'Reaction label to tell a creator that their pin is a good idea'),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:o,animatedAsset:r,gridAsset:s,label:t._('Haha', 'Reaction label to tell a creator that the pinner laughed because of their pin', 'Reaction label to tell a creator that the pinner laughed because of their pin'),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:u,animatedAsset:d,gridAsset:c,label:t._('Love', 'Reaction label to tell a creator that the pinner loved their pin', 'Reaction label to tell a creator that the pinner loved their pin'),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:_,animatedAsset:h,gridAsset:g,label:t._('Thanks', 'Reaction label to tell a creator thank you', 'Reaction label to tell a creator thank you'),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:b,animatedAsset:y,gridAsset:f,label:t._('Wow', 'Reaction label to tell a creator that the pinner was wowed by their pin', 'Reaction label to tell a creator that the pinner was wowed by their pin'),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return v[e]||v.default}},356621:(e,t,n)=>{"use strict";function i(e){let t=Object.keys(e);if(t.length>0){let n=t.sort((t,n)=>e[n]-e[t]).slice(0,3);return n}return null}function a(e){let t=Object.values(e);if(t.length>0){let e=t.reduce((e,t)=>e+t,0);return e}return 0}function l(e,t,n){return!e.isPromoted&&!e.isDownstreamPromotion&&!!(e.videos?.entityId||e.storyPinDataId)&&!t&&(!e.board?.isCollaborative||!e.board.collaboratedByMe)&&!n}n.d(t,{At:()=>i,J6:()=>l,Ud:()=>a})},686769:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,Z:()=>s});var i=n(667294),a=n(883119),l=n(785893);let r=({fill:e})=>{let t="half"===e?(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(a.xu,{position:"absolute",children:(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function s({max_rating:e,rating:t}){var n;let i=[],s=parseFloat(e)||5,o=5*(n=(n=parseFloat(t)||0)<=s?n:s)/s;if(Number.isNaN(o))return null;let d=Math.floor(o),c=o-d;return[...Array(d).keys()].forEach(e=>i.push((0,l.jsx)(r,{fill:"full"},e))),c>=.75?i.push((0,l.jsx)(r,{fill:"full"},i.length)):c>=.25&&i.push((0,l.jsx)(r,{fill:"half"},i.length)),[...Array(5-i.length).keys()].forEach(()=>i.push((0,l.jsx)(r,{fill:"empty"},i.length))),(0,l.jsx)(a.xu,{display:"inlineBlock",position:"relative",width:15*s,children:i})}},737244:(e,t,n)=>{"use strict";function i({m:e=0,h:t=0}){return{m:e,h:t,rm:t>0?0:e,rh:t<=0?t:e>45?t+1:e>15?t+.5:t}}function a(e){let t=Math.floor(e/3600),n=Math.floor(e%3600/60);return i({m:n,h:t})}n.d(t,{X:()=>i,u:()=>a})},790440:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(388769),a=n(339001),l=n(785893);function r({m:e,h:t,rm:n,rh:r},s){return e&&(!t||r<=0)?(0,a.nk)(s._('{{mins}}min', 'closeup.makeRecipeText.minutesLabel', 'Minutes label for Rich Pin Recipe'),{mins:(0,l.jsx)(i.Z,{maximumFractionDigits:2,value:n},"recipe-minutes")}):t?(0,a.nk)(s._('{{hrs}}hr', 'closeup.makeRecipeText.hoursLabel', 'Hours label for Rich Pin Recipe'),{hrs:(0,l.jsx)(i.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},131620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(339001);function a(e,t){return e<60?(0,i.nk)(t._('{{mins}}min', 'recipe.minutes', 'recipe in minutes. mins: recipe duration in minutes'),{mins:e}):(0,i.nk)(t._('{{hrs}}h {{mins}} min', 'recipe.time', 'recipe time. mins: recipe duration in minutes. hrs: recipe duration in hours'),{mins:e%60,hrs:Math.floor(e/60)})}},288240:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,k:()=>l});let i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!i.has(e)&&!e.startsWith("__track__");function l(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce((e,t)=>{let[n,i]=t.split("=");return e[n]=JSON.parse(i),e},{})}let r=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(a).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},638747:(e,t,n)=>{"use strict";n.d(t,{UZ:()=>u,Z8:()=>p,my:()=>m,vL:()=>h});var i=n(667294);n(702664);var a=n(216167),l=n(342513),r=n(785893);function s(e,t,n){let i=[...t[e][n.payload.name]??[],n.payload.handler],a={...t};return a[e]={...t[e],[n.payload.name]:i},a}function o(e,t,n){if(!t[e][n.payload.name])return t;let i=t[e][n.payload.name].filter(e=>e!==n.payload.handler),a={...t};return a[e]={...t[e],[n.payload.name]:i},a}let{Provider:d,useHook:c}=(0,l.Z)("ResourceContext");function u({children:e,resourceCreator:t}){let[{listeners:n,moreListeners:l},c]=(0,i.useReducer)((e,t)=>{switch(t.type){case"addListener":return s("listeners",e,t);case"addMoreListener":return s("moreListeners",e,t);case"removeListener":return o("listeners",e,t);case"removeMoreListener":return o("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:t,response:i,normalizedResponse:a,refresh:l,resourceSchema:r})=>{n[e]&&n[e].forEach(n=>n({isRefresh:l,normalizedResponse:a,options:t,schema:r,resource:e,response:i}))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:i,refresh:a,resourceSchema:r})=>{l[e]&&l[e].forEach(l=>l({isRefresh:a,normalizedResponse:i,options:t,schema:r,resource:e,response:n}))};let u=(0,i.useMemo)(()=>({listenerDispatch:c,resourceCreator:t}),[t]);return(0,r.jsx)(d,{value:u,children:e})}function p(e,t){let{listenerDispatch:n}=c();(0,i.useEffect)(()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})}))}function m(e,t){let{listenerDispatch:n}=c();(0,i.useEffect)(()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})}))}function h(){return c().resourceCreator}},227258:(e,t,n)=>{"use strict";n.d(t,{U:()=>c,b:()=>u});var i=n(216167),a=n(288240),l=n(839967),r=n(827625),s=n(197036),o=n(838458);function d({addSuspenseResourceSSRData:e,fetchOptions:t,resource:n,resourceCreator:c,retry:u}){return(p,m)=>{let{bookmark:h,headers:g,options:_,refresh:y,schema:f}=t,b=(0,a.Z)(_);if(m().resources?.[n]?.[b]?.fetching&&!u)return Promise.resolve();let v=u?u.bookmark:h,x=v?{..._,bookmarks:[v]}:_;p((0,r.LQ)(n,_,!0));let k=c??i.Z.create;return k(n,x).callGet(void 0,g).then(t=>(e&&t.resource&&e(t),t)).then(e=>{let[a]=e.bookmarks||[],{data:m}=e.resource_response,{normalizedResponse:g,resourceSchema:b}=(0,o.f)({data:m,opts:{bookmark:h,options:_,schema:f},resource:n})||{normalizedResponse:null,resourceSchema:void 0},v=e.resource?null:e;if(e.resource){a=e.resource_response.bookmark||"";let t=(0,s.Z)(e);g=t.normalizedResponse,b=t.schema,v=t.response}if(Array.isArray(m)&&0===m.length&&a&&a!==l.q){let e=u?u.count:0,i=e>=l.s;if(!i)return p(d({resource:n,fetchOptions:t,retry:{count:e+1,bookmark:a},resourceCreator:c}))}return v&&(h?(p((0,r.Dm)(n,_,v,g,b)),i.Z.fetchMoreCompleteCallback&&i.Z.fetchMoreCompleteCallback({resource:n,options:_,response:v,normalizedResponse:g,refresh:y,resourceSchema:b})):(p((0,r.Sr)(n,_,v,g,y,b)),i.Z.fetchCompleteCallback&&i.Z.fetchCompleteCallback({resource:n,options:_,response:v,normalizedResponse:g,refresh:y,resourceSchema:b}))),Promise.resolve()},e=>{p((0,r.Tl)(n,_,e))})}}let c=(e,{bookmark:t,headers:n,options:i,schema:a},l,r)=>d({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:a},resourceCreator:l,addSuspenseResourceSSRData:r}),u=(e,{headers:t,options:n,schema:i},a)=>d({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i},resourceCreator:a})},154779:(e,t,n)=>{"use strict";function i(e,t){let n;if(e.error){let{httpStatus:i,api_error_code:a,redirectUrl:l}=e.error;(404===i||401===i&&7===a)&&(n={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===i&&l&&(n={pathname:l})}return n}n.d(t,{Z:()=>i})},419821:(e,t,n)=>{"use strict";n.d(t,{AF:()=>i,KK:()=>a,aW:()=>s,cR:()=>l,se:()=>o,zP:()=>r});let i="CREATE_COMPLETE",a="FETCHING",l="FETCH_ERROR",r="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",o="RESOURCE_INVALIDATE"},827625:(e,t,n)=>{"use strict";n.d(t,{Dm:()=>o,LQ:()=>l,Sr:()=>s,Tl:()=>r,XM:()=>a,jB:()=>d});var i=n(419821);function a(e,t,n,a){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:a}}}function l(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}let r=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function s(e,t,n,a,l,r){return{type:i.zP,payload:{isRefresh:l,normalizedResponse:a,options:t,resource:e,response:n,schema:r}}}function o(e,t,n,a,l){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:a,schema:l}}}function d(e,t){return{type:i.se,payload:{resource:e,optionsOrOptionsKey:t}}}},197036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(782677),a=n(888037),l=n(838458);function r(e){let{resource:t,resource_response:n}=e,{name:r,options:s}=t,o=(0,a.Z)(n),{data:d,error:c}=n,u=(0,l.J)(r,{options:s}),p=u&&d?(0,i.Fv)(d,u):null;return{error:c,isRefresh:!1,normalizedResponse:p,options:s,resource:r,response:{auxData:o,resource_response:{data:d,error:c}},schema:u}}},995917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(667294),a=n(702664),l=n(616550),r=n(288240),s=n(5859),o=n(227258),d=n(839967),c=n(638747),u=n(342513);let{Provider:p,useMaybeHook:m}=(0,u.Z)("SuspensefulResource"),h={},g=({httpStatus:e})=>!e||e>=500;function _(e){let{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:u,name:p,noCache:_,options:y,schema:f,__unstableDisableSSR:b}=e??{name:"DisabledResource",options:null},v=function(){let e=m();return e?t=>e.addToBeSent(t):()=>{}}(),x=(0,c.vL)(),k=!e,P=(0,a.useDispatch)(),S=(0,r.Z)(y),w=(0,i.useRef)(null),T=(0,i.useRef)(),I=(0,l.k6)(),A=I&&"POP"!==I.action,E=e=>(e[p]||h)[S]||h,C=(0,a.useSelector)(({resources:e})=>E(e).nextBookmark),j=(0,a.useSelector)(({resources:e})=>E(e).data),R=(0,a.useSelector)(({resources:e})=>E(e).auxData),L=(0,a.useSelector)(({resources:e})=>E(e).error),F=(0,a.useSelector)(({resources:e})=>!!E(e).fetching),D=!!L||void 0!==j,O=D&&!F&&C===d.q,z=!!(D&&t&&A&&!k),[M,N]=(0,i.useState)(z),Z=(0,i.useCallback)(e=>{w.current=P((0,o.U)(p,{options:y,schema:f,bookmark:e,headers:u},x,v))},[P,p,S,f,u]),B=()=>{w.current=P((0,o.b)(p,{options:y,schema:f,headers:u},x))},{isBot:U}=(0,s.B)(),K=()=>{if(!k&&T.current!==S){let e=void 0===T.current;T.current=S,!D&&!F||e&&L&&g(L)?Z():(!U&&_||z)&&B()}};(0,i.useEffect)(()=>{n||K()}),n&&K();let V=(0,i.useCallback)(()=>{k||(B(),N(!0))},[k,o.b,p,S,u,N]),H=(0,i.useCallback)(()=>{!C||O||F||k||Z(C)},[k,Z,C,O,F]);if(w.current){if(D&&!F)w.current=null;else if(n)throw w.current}let G=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:H,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:V}),$={auxData:R,data:j,error:L,fetchMore:H,isAtEnd:O,isFetching:F,isLoaded:D,isRefreshing:M,nextBookmark:C,refresh:V};return(0,a.shallowEqual)($,G.current)||(M&&(G.current.data||!z)&&!(0,a.shallowEqual)($.data,G.current.data)&&($.isRefreshing=!1,N(!1)),G.current=$),G.current}},870319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(616550),a=n(96157),l=n(154779),r=n(995917),s=n(149722);function o(e){let t=(0,i.k6)(),n=(0,i.TH)(),{isAuth:o}=(0,s.Z)(),d=!o&&(0,a.L6)(n),c=(0,r.Z)(e),u=(0,l.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},712658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h,g:()=>m});var i,a=n(167912),l=n(749886),r=n(115526);let s=void 0!==i?i:i=n(776461),o=e=>{if(e)return{thumbnail:e.thumbnail??void 0,url:e.url??void 0,width:e.width??void 0,height:e.height??void 0,duration:e.duration??void 0,captions_urls:e.captionsUrls??{}}},d=e=>{if(!e)return;let t={V_720P:o(e.v720P),V_HLSV4:o(e.vHLSV4)};return t},c=e=>{if(!e)return;let t={V_HLSV3_MOBILE:o(e.videoListMobile?.vHLSV3MOBILE),V_EXP3:o(e.videoListEXP3?.vEXP3),V_EXP4:o(e.videoListEXP4?.vEXP4),V_EXP5:o(e.videoListEXP5?.vEXP5),V_EXP6:o(e.videoListEXP6?.vEXP6),V_EXP7:o(e.videoListEXP7?.vEXP7),V_720P:o(e.videoList720P?.v720P)};return t},u=e=>{if(!e)return;let t={height:e.height||void 0,url:e.url||void 0,width:e.width||void 0};return{orig:t,originals:t}},p=e=>{if(!e)return null;let t=[["60x60",e.imageSpec_60x60],["136x136",e.imageSpec_136x136],["170x",e.imageSpec_170x],["236x",e.imageSpec_236x],["474x",e.imageSpec_474x],["564x",e.imageSpec_564x],["736x",e.imageSpec_736x],["600x315",e.imageSpec_600x315],["orig",e.imageSpec_orig]];return t.reduce((e,[t,n])=>({...e,[t]:n&&{dominant_color:n.dominantColor,height:n.height,type:n.type,url:n.url,width:n.width}}),{})},m=({blocks:e})=>{if(!e)return;let t=[];return e.forEach(e=>{if(9===e.blockType){let n={block_type:9,type:"story_pin_text_block",text:e.text??void 0};t.push(n)}if(5===e.blockType){let n={block_type:5,type:l.h8.INGREDIENT,name:e.name??void 0};t.push(n)}if(6===e.blockType){let n={block_type:6,type:l.h8.SUPPLY,name:e.name??void 0};t.push(n)}if(0===e.blockType){let n={block_type:0,type:l.h8.PARAGRAPH,text:e.text??void 0};t.push(n)}if(1===e.blockType){let n={block_type:1,type:l.h8.HEADING,text:e.text??void 0};t.push(n)}if(3===e.blockType){let n={block_type:3,type:l.h8.VIDEO,text:e.text??void 0,video:e.videoData?{video_list:c(e.videoData)}:void 0,video_data:e.videoData?{seo_view_count:e.videoData.seoViewCount}:void 0};t.push(n)}if(2===e.blockType){let n={block_type:2,type:l.h8.IMAGE,text:e.text??void 0,image:e.imageSpec_orig?{images:u(e.imageSpec_orig)}:void 0};t.push(n)}if(7===e.blockType){let n={block_type:7,type:"story_pin_list_block",blocks:m({blocks:e.blocks??void 0})};t.push(n)}}),t},h=e=>{let t=(0,a.useFragment)(s,e),n=p(t),i=(0,r.Z)(t),l={id:t.entityId,title:t.title,grid_title:t.gridTitle,story_pin_data_id:t.storyPinDataId,created_at:t.createdAt,description:t.description,closeup_unified_description:t.closeupUnifiedDescription??void 0,price_currency:t.priceCurrency,domain:t.domain,description_html:t.descriptionHtml,aggregated_pin_data:t.aggregatedPinData?{comment_count:t.aggregatedPinData.commentCount}:void 0,embed:t.embed?{src:t.embed.src??void 0,subtype:t.embed.subtype??void 0,type:t.embed.type??void 0}:void 0,board:t.board?{url:t.board.url??""}:void 0,rich_summary:t.richSummary?{display_name:t.richSummary.displayName}:void 0,pinner:t.pinner?{username:t.pinner.username??void 0,full_name:t.pinner.fullName??void 0}:void 0,reaction_counts:t.reactionCountsData&&t.reactionCountsData.reduce((e,t)=>{if(t.reactionType){let n=String(t.reactionType);e[n]=t.reactionCount||0}return e},{}),share_count:t.shareCount||void 0,rich_metadata:t.richMetadata?{description:t.richMetadata.description,title:t.richMetadata.title,url:t.richMetadata.url,site_name:t.richMetadata.siteName,article:t.richMetadata.article?{date_published:t.richMetadata.article.datePublished}:void 0,products:t.richMetadata.products?t.richMetadata.products.map(e=>({name:e.name,offer_summary:e.offerSummary?{min_price:e.offerSummary.minPrice,price:e.offerSummary.price,max_price:e.offerSummary.maxPrice,in_stock:e.offerSummary.inStock}:void 0,additional_images:function(e){let t=[];return e.forEach(({additionalImages:e,spec:n})=>{t.push(...function({additionalImages:e,spec:t}){let n=[];return e?.forEach(e=>{if(e.canonicalImage){var i;n.push({canonical_images:{[t]:{width:(i=e.canonicalImage).width??0,url:i.url??"",height:i.height??0}},image_signature:e.imageSignature??""})}}),n}({additionalImages:e,spec:n})??[])}),t}([{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}])??[]})):void 0,aggregate_rating:t.richMetadata?.aggregateRating?{rating_count:t.richMetadata.aggregateRating.ratingCount??void 0,review_count:t.richMetadata.aggregateRating.reviewCount??void 0,rating_value:t.richMetadata.aggregateRating.ratingValue??void 0}:void 0,recipe:t.richMetadata?.recipe?{name:t.richMetadata.recipe.name,from_aggregated_data:t.richMetadata.recipe.fromAggregatedData??void 0,cook_times:t.richMetadata.recipe.cookTimes?{cook:t.richMetadata.recipe.cookTimes.cook?{h:t.richMetadata.recipe.cookTimes.cook.h,m:t.richMetadata.recipe.cookTimes.cook.m}:void 0,prep:t.richMetadata.recipe.cookTimes.prep?{h:t.richMetadata.recipe.cookTimes.prep.h,m:t.richMetadata.recipe.cookTimes.prep.m}:void 0,total:t.richMetadata.recipe.cookTimes.total?{h:t.richMetadata.recipe.cookTimes.total.h,m:t.richMetadata.recipe.cookTimes.total.m}:void 0}:void 0,servings_summary:t.richMetadata.recipe.servingsSummary?{serves:t.richMetadata.recipe.servingsSummary.serves,summary:t.richMetadata.recipe.servingsSummary.summary}:void 0,aggregate_rating:t.richMetadata.recipe.aggregateRating?{rating_count:t.richMetadata.recipe.aggregateRating.ratingCount??void 0,review_count:t.richMetadata.recipe.aggregateRating.reviewCount??void 0,rating_value:t.richMetadata.recipe.aggregateRating.ratingValue??void 0,best_rating:t.richMetadata.recipe.aggregateRating.bestRating??void 0}:void 0,categorized_ingredients:t.richMetadata.recipe.categorizedIngredients?t.richMetadata.recipe.categorizedIngredients.map(({ingredients:e})=>({ingredients:e?e.map(({amt:e,name:t})=>({amt:e,name:t??void 0})):void 0})):void 0}:void 0}:void 0,videos:t.videos?{video_list:d(t.videos.videoList),seo_view_count:t.videos?.seoViewCount}:void 0,story_pin_data:t.storyPinData?{total_video_duration:t.storyPinData.totalVideoDuration??void 0,metadata:t.storyPinData.metadata?{pin_title:t.storyPinData.metadata.pinTitle??void 0,template_type:[1,2].includes(t.storyPinData.metadata.templateType)?t.storyPinData?.metadata?.templateType:void 0,basics:t.storyPinData?.metadata?.basics?{key_value_blocks:t.storyPinData.metadata.basics.keyValueBlocks?t.storyPinData.metadata.basics.keyValueBlocks.map(e=>({block_type:8,category_type:e.categoryType??void 0,type:"story_pin_key_value_block",value:e.value})):void 0,list_blocks:t.storyPinData?.metadata?.basics?.listBlocks?t.storyPinData.metadata.basics.listBlocks.map(e=>({block_type:7,type:"story_pin_list_block",blocks:m(e),heading:e.heading??void 0})):void 0}:void 0}:void 0,pages:t.storyPinData?.pages?t.storyPinData.pages.map(e=>({layout:e.layout??void 0,blocks:m(e),image:e.imageSpec_orig?{images:u(e.imageSpec_orig)}:void 0,image_adjusted:e.imageAdjustedSpec_orig?{images:u(e.imageAdjustedSpec_orig)}:void 0})):void 0}:void 0,native_creator:t.nativeCreator?{username:t.nativeCreator.username??void 0,full_name:t.nativeCreator.fullName??void 0,profile_url:t.nativeCreator.profileUrl??void 0,follower_count:t.nativeCreator.followerCount??void 0}:void 0,link_domain:t.linkDomain?{official_user:t.linkDomain.officialUser?{full_name:t.linkDomain.officialUser.fullName??void 0}:void 0,type:"domain"}:void 0,link:t.link??"",tracked_link:t.trackedLink??"",seo_title:t.seoTitle??"",seo_description:t.seoDescription??"",seo_url:t.seoUrl??"",seo_noindex_reason:t.seoNoindexReason??void 0,repin_count:t.repinCount??0,pin_join:t.pinJoin?{seo_canonical_domain:t.pinJoin.seoCanonicalDomain??"",seo_canonical_url:t.pinJoin.seoCanonicalUrl??"",visual_annotation:t.pinJoin.visualAnnotation??void 0,annotations_with_links:i}:void 0,category:t.category??"",images:n};return l}},608516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(14583);let a=i.Z},81163:(e,t,n)=>{"use strict";function i(e){return e===window?window.innerHeight:e.clientHeight}function a(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function l(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function r(e){return e===window?a():e.scrollTop}function s(){window&&window.scroll(0,0)}n.d(t,{MX:()=>r,S$:()=>a,Uy:()=>i,aZ:()=>l,vM:()=>s})},980803:(e,t,n)=>{"use strict";function i(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>i})},447479:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});let i={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},241552:(e,t,n)=>{"use strict";n.d(t,{l:()=>l,r:()=>r});var i=n(667294);let a=(0,i.createContext)(null),l=()=>(0,i.useContext)(a),r=a.Provider},48481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(877457),a=n(241552);let l=()=>{let e=(0,i.g)(),t=(0,a.l)();return n=>{let{mobileOptions:i,desktopOptions:a,reason:l,attributionLabel:r,pinId:s}=n;e?e.showDesktopSignupModal({signupFlow:a?.modalType==="login"?{type:"login"}:{type:"signup"},reason:l,attributionLabel:r,...a?.modalOptions}):t&&t.showMobileSignupModal({reason:l,attributionLabel:r,headingType:i?.headingType,pinId:s})}}},344064:(e,t,n)=>{"use strict";n.d(t,{o$:()=>a,ty:()=>l,vE:()=>r});var i=n(342513);let{Provider:a,MaybeConsumer:l,useMaybeHook:r}=(0,i.Z)("inviteContext")},498803:(e,t,n)=>{"use strict";n.d(t,{LO:()=>l,Pu:()=>r,cc:()=>i,dB:()=>a,yF:()=>s});let i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},a={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},l={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},r={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},s={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8,follow_invite:3}},55202:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,Z:()=>s});var i=n(317540),a=n(785893);let l=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:o}){let d=e=>{t&&e.keyCode===i.Z.ESCAPE||r(e)};return(0,a.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:l,onCanPlay:n?l:r,onCanPlayThrough:r,onChange:r,onClick:e?l:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:l,onInput:r,onInvalid:r,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?l:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?l:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:s?l:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?l:r,onTouchMove:e?l:r,onTouchStart:e?l:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:o})}},233440:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(301923);let a=(0,i.Z)({type:"session"}),l=a},910711:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(406893),r=n(749886),s=n(771981),o=n(785893);function d({playing:e,zIndexValue:t}){return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(l.Z,{unsafeCSS:"#story-pin-closeup-pause-play-overlay svg { filter: drop-shadow( 0px 0px 8px rgba(0,0,0,0.1));}"}),(0,o.jsx)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"story-pin-closeup-pause-play-overlay",display:"flex",id:"story-pin-closeup-pause-play-overlay",justifyContent:"center",left:!0,opacity:.8,position:"absolute",right:!0,rounding:r.yR,top:!0,zIndex:t?new a.Ry(t):s.lt,children:!e&&(0,o.jsx)(a.JO,{accessibilityLabel:"Play",color:"light",icon:"play",size:48})})]})}},983435:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(667294),a=n(883119),l=n(140017),r=n(558273),s=n(340523),o=n(551587),d=n(5859),c=n(797456),u=n(749886),p=n(214164),m=n(217058),h=n(623409),g=n(554786),_=n(115557),y=n(369708),f=n(785893);let b=({accessibilityLabel:e,dataTestId:t,disable:n,handleTap:i,icon:l})=>(0,f.jsx)(a.xu,{"data-test-id":t,opacity:n?.5:void 0,children:(0,f.jsx)(a.iP,{disabled:n,onTap:i,children:(0,f.jsx)(a.JO,{accessibilityLabel:e,color:"light",icon:l,size:16})})});function v({activePageIndex:e,handlePanelChange:t,handlePlay:n,handlePause:v,handlePausePlay:x,handleMute:k,handleVideoScrubbingNewPage:P,handleWatchAgain:S,isPlaying:w,isMuted:T,isPanelOpen:I,pages:A,pageCount:E,pinId:C="",progressInfo:j,showEndCard:R,showVideoControls:L=!1,viewParameter:F,isStoryPin:D=!0,captionsUrl:O="",captionsExpGroup:z=""}){let M=(0,l.ZP)(),{currentTime:N}=j||{},{seekTimes:Z}=(0,p.Hx)(),B=(0,d.B)(),U=(0,y.r)(),{checkExperiment:K}=(0,s.F)(),V=(0,g.HG)(),{isAuthenticated:H}=B,{captionsEnabled:G}=U,$=(0,h.Z)(),W=A[e],{should_mute:q}=W||T,Y=Object.keys(Z).includes(C)&&Z[C]?Z[C]:N,X=(0,i.useMemo)(()=>A.map(e=>{let t=e.blocks?.find(e=>3===e.block_type),n=t?.video?.video_list?.V_HLSV3_MOBILE?.duration||t?.video?.video_list?.V_720P?.duration;return n?{duration:n,isVideo:!0}:{duration:r.oN,isVideo:!1}}),[A]),J=[{duration:j?.duration||0,isVideo:!0}],Q=D?X:J,ee=(W&&W.blocks?.[0]||{}).video?.video_list?.V_HLSV3_MOBILE?.captions_urls,et=!1;(ee&&0!==Object.keys(ee).length||O)&&(et=!0);let en=D&&et&&V?K(H?"auth_desktop_video_pin_captions":"unauth_desktop_video_pin_captions").group:"",ei=z||en,ea=(0,o.Z)(ei),el=(0,i.useMemo)(()=>Q.reduce((e,t)=>e+(t.duration||0),0)/(D?_.gJ:1),[Q,D]),er=(0,i.useMemo)(()=>Q.filter((t,n)=>n<e).reduce((e,t)=>e+(t.duration||0),0)/_.gJ,[Q,e]),es=Q.length>0&&Q[e].isVideo?Y+er:5*N+er,eo=M._('Hide captions', 'gestalt.video.accessibilityHideCaptionsLabel', 'ARIA label for hide captions button'),ed=M._('Show captions', 'gestalt.video.accessibilityShowCaptionsLabel', 'ARIA label for show captions button');return(0,f.jsxs)(a.xu,{alignContent:"evenly",alignItems:"baseline",dangerouslySetInlineStyle:{__style:{gap:"18.5px",pointerEvents:"auto"}},direction:"column",display:"flex",justifyContent:"between",width:"100%",children:[(0,f.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:L||!w?1:0,transition:"all .1s"}},direction:"row",display:"flex",justifyContent:"between",width:"99%",children:[(0,f.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:5,children:[(0,f.jsx)(b,{accessibilityLabel:w?M._('Pause', 'closeup.IdeaPinVideo.Pause', 'Pause button on Idea Pin video'):M._('Play', 'closeup.IdeaPinVideo.Play', 'Play button on Idea Pin video'),dataTestId:`story-pin-closeup-${w?"pause":"play"}`,handleTap:R&&S?S:x,icon:w?"pause":"play"}),j&&(0,f.jsxs)(a.xu,{"data-test-id":"time-display",children:[(0,f.jsx)(a.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`${(0,u.Lc)(es)}`})," ",(0,f.jsx)(a.xu,{display:"inlineBlock",opacity:.6,children:(0,f.jsx)(a.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`/ ${(0,u.Lc)(el)}`})})]})]}),(0,f.jsxs)(a.kC,{direction:"row",gap:5,children:[(ei.startsWith("enabled_captions")||ei.startsWith("employees"))&&et&&(0,f.jsx)(b,{accessibilityLabel:G?ed:eo,dataTestId:`closed-captions-button-${G?"disable":"enable"}`,handleTap:()=>{let e=V?"desktop_pin_page":"mweb_pin_page";G?(0,m.My)(`${e}.closed_captions_button.toggle_off`):(0,m.My)(`${e}.closed_captions_button.toggle_on`),$({action:"click",item:"closed-captions-button"}),U.setCaptionsEnabled(!G)},icon:G?"captions":"captions-outline"}),(0,f.jsx)(b,{accessibilityLabel:T?M._('Unmute', 'closeup.IdeaPinVideo.unmute', 'Unmute button on Idea Pin video'):M._('Mute', 'closeup.IdeaPinVideo.mute', 'Mute button on Idea Pin video'),dataTestId:`story-pin-closeup-${T?"unmute":"mute"}`,disable:q,handleTap:k,icon:T?"mute":"sound"}),(0,f.jsx)(b,{accessibilityLabel:I?M._('Maximize', 'closeup.IdeaPinVideo.maximize', 'Maximize button on Idea Pin video'):M._('Minimize', 'closeup.IdeaPinVideo.minimize', 'Minimize button on Idea Pin video'),dataTestId:`story-pin-closeup-${I?"maximize":"minimize"}`,handleTap:t,icon:I?"maximize":"minimize"})]})]}),(0,f.jsx)(c.ZP,{activePageCurrentTime:Y,activePageIndex:e,currentTime:es,duration:el,handlePause:v,handlePlay:n,handleVideoScrubbingNewPage:P,isPlaying:w,pageCount:E,pageDurations:Q,pinId:C,progressInfo:j,shouldShowPlayhead:!0,showEndCard:R,showVideoControls:L,videoControlsExp:ea,videoDurations:Q,viewParameter:F})]})}},797456:(e,t,n)=>{"use strict";n.d(t,{$E:()=>y,$:()=>f,ZP:()=>k});var i=n(667294),a=n(883119),l=n(587703),r=n(140017),s=n(340523),o=n(5859),d=n(558273),c=n(115557),u=n(785893);function p({activePageCurrentTime:e,pillHeight:t,progressInfo:n,videoDuration:i}){let l=n?.currentTime??0,r=n?.duration??d.P6,s=`${i?.isVideo?Math.floor(1e4*(e||l)/(i.duration/c.gJ))/100:l/r*100}%`;return(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y}},height:t,overflow:"hidden",rounding:"pill",children:(0,u.jsx)(a.xu,{color:f,dangerouslySetInlineStyle:{__style:{width:s}},height:"100%",rounding:"pill"})})}var m=n(749886),h=n(214164),g=n(554786),_=n(149722);let y="rgba(255,255,255,0.24)",f="light",b=()=>{},v=({children:e,setHoveringChange:t,handleMouseDown:n,handleMouseLeave:i,handleTouchStart:l,playhead:s,isPlaying:o,showVideoControls:d,videoControlsExp:c})=>{let p=(0,r.ZP)(),m=!(0,g.HG)();return c?(0,u.jsx)(a.iP,{children:(0,u.jsx)(a.xu,{ref:s,alignItems:"center","aria-label":p._('Video scrubber progress bar', 'ideaPin.closeupvideo.videoScrubberLabel', 'Accessibility label for video scrubber progress bar on video idea pins.'),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:m?"center":"start",marginBottom:m?0:6,minHeight:"8px",onFocus:t(!0),onMouseDown:n,onMouseLeave:i,onMouseOver:t(!0),onTouchEnd:e=>e.preventDefault(),onTouchStart:l,opacity:c&&(d||!o)?1:0,paddingY:m?6:0,position:"relative",role:"progressbar",width:"100%",children:e})}):(0,u.jsx)(a.xu,{ref:s,alignItems:"center","aria-label":p._('Video scrubber progress bar', 'ideaPin.closeupvideo.videoScrubberLabel', 'Accessibility label for video scrubber progress bar on video idea pins.'),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:m?"center":"start",marginBottom:m?0:6,minHeight:"8px",onFocus:t(!0),onMouseDown:n,onMouseLeave:i,onMouseOver:t(!0),onTouchEnd:e=>e.preventDefault(),onTouchStart:l,paddingY:m?6:0,position:"relative",role:"progressbar",width:"100%",children:e})},x=({currentTime:e=0,inRemoveRelatedStreamsExp:t,isMobile:n,isRTL:i,isSeeking:l,scrubberWidth:r,videoControlsExp:s})=>(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:i?{right:r}:{left:r}},"data-test-id":"video-progress-bar",position:"relative",children:[n&&l&&!t&&(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{top:"-32px"}},marginStart:-3,position:"absolute",children:(0,u.jsx)(a.xv,{color:"light",size:"100",children:(0,m.Lc)(e)})}),(0,u.jsx)(a.xu,{color:f,height:4,position:"absolute",rounding:"pill",children:(0,u.jsx)(a.xu,{color:"light",dangerouslySetInlineStyle:{__style:{marginTop:l&&s?-8:-6}},height:l&&s?16:12,marginStart:-2,rounding:"circle",width:l&&s?16:12})})]});function k({activePageIndex:e,activePageCurrentTime:t,pageCount:n,progressInfo:r,showEndCard:d,duration:c=0,currentTime:m=0,pageDurations:y=[],handlePlay:k=b,handlePause:P=b,handleVideoScrubbingNewPage:S=b,videoDurations:w=[],viewParameter:T,isInactiveStreamPin:I=!1,isPlaying:A=!1,setVideoProgress:E,shouldShowPlayhead:C=!1,showVideoControls:j=!0,pinId:R="",videoControlsExp:L=!1}){let F=!(0,g.HG)(),D=(0,i.useRef)(null),{checkExperiment:O}=(0,s.F)(),{isRTL:z}=(0,o.B)(),[M,N]=(0,i.useState)(!1),[Z,B]=(0,i.useState)(A),[U,K]=(0,i.useState)(),V=(0,l.Z)(),{isSeekingIdeaPin:H}=(0,h.Hx)(),{updateSeekTime:G,updateSeekingIdeaPin:$}=(0,h.RC)(),W=(0,_.Z)(),q=W.isAuth,Y=(0,i.useCallback)((t,i)=>{if(!I&&i<=n){if(i!==e&&S(i),E){let{isVideo:e}=w[i];E({currentTime:t/1e3,duration:e?r?.duration??1:5,pinId:R})}G(t/1e3,R)}V({event_type:101,view_type:3,view_parameter:T,component:14302})},[e,S,I,V,n,R,r?.duration,E,G,w,T]),X=`${m/c*100}%`,J=y.map(e=>`${(e.duration||0)/c/10}%`),Q=(0,i.useMemo)(()=>{let e=0;return y.map(({duration:t})=>{let n=t+e,i={min:e,max:n};return e=n,i})},[y]),ee=F&&O(q?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,et=M?"0 1.2px":"0 1px",en=e=>()=>N(e),ei=(0,i.useCallback)(e=>{if(D.current){let{left:t=0,right:n=0,width:i=0}=D.current.getBoundingClientRect(),a=z?Math.max(0,Math.min((n-e)/i,1)):Math.max(0,Math.min((e-t)/i,1)),l=a*c*1e3,r=Q.findIndex(e=>l>=e.min&&l<=e.max),s=-1===r?0:r;Y(l-Q[s].min,s)}},[c,Y,Q,z]),ea=()=>{H||(B(A||d),$(!0))},el=(0,i.useCallback)(e=>{H&&ei(e.pageX)},[ei,H]),er=(0,i.useCallback)(e=>{if(H){e.preventDefault();let t=Array.from(e.changedTouches).find(e=>e.identifier===U);t&&ei(t.pageX)}},[H,ei,U]),es=(0,i.useCallback)(()=>{$(!1),en(!1),K(void 0),Z&&k()},[$,k,Z]),eo=(0,i.useCallback)(e=>{let t=Array.from(e.changedTouches).find(e=>e.identifier===U);t&&($(!1),en(!1),K(void 0)),Z&&k()},[k,Z,U,$]);(0,i.useEffect)(()=>(H&&!I&&(window.addEventListener("mousemove",el),window.addEventListener("mouseup",es),window.addEventListener("touchmove",er),window.addEventListener("touchend",eo)),()=>{window.removeEventListener("mousemove",el),window.removeEventListener("mouseup",es),window.removeEventListener("touchmove",er),window.removeEventListener("touchend",eo)}),[el,es,eo,er,I,H,ei,U]);let ed=n=>n<e||d?(0,u.jsx)(a.xu,{color:f,height:4,rounding:"pill"}):e===n&&r?(0,u.jsx)(p,{activePageCurrentTime:t,pillHeight:4,progressInfo:r,videoDuration:w[n]}):(0,u.jsx)(a.xu,{color:f,dangerouslySetInlineStyle:{__style:{opacity:.24}},height:4,rounding:"pill"});return(0,u.jsxs)(v,{handleMouseDown:e=>{ea(),A&&P(),ei(e.pageX)},handleMouseLeave:()=>{en(!1)},handleTouchStart:e=>{ea(),en(!0);let t=e.changedTouches[0];K(t.identifier),A&&P(),ei(t.pageX)},isPlaying:A,playhead:D,setHoveringChange:en,showVideoControls:j,videoControlsExp:L,children:[C&&(j&&L||M||H||F)&&(0,u.jsx)(x,{currentTime:t,inRemoveRelatedStreamsExp:ee,isMobile:F,isRTL:z,isSeeking:H,scrubberWidth:X,videoControlsExp:L}),Array(n).fill().map((e,t)=>(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:et}},flex:"grow",width:J.length===n?J[t]:"auto",children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},"data-test-id":"idea-pin-video-progress-bar",rounding:"pill",children:ed(t)})},`${R}-${t}`))]})}},214164:(e,t,n)=>{"use strict";n.d(t,{Wr:()=>u,Hx:()=>m,RC:()=>p});var i=n(667294),a=n(342513),l=n(951050),r=n(587070),s=n(785893);let o=()=>Promise.resolve().then(n.bind(n,951050)),{Provider:d,useHook:c}=(0,a.Z)("IdeaPinVideoPlayer");function u({children:e}){let[t,n]=(0,r.Z)(o,l.initialState),a=(0,i.useMemo)(()=>({dispatch:n,ideaPinVideoPlayerControls:t}),[n,t]);return(0,s.jsx)(d,{value:a,children:e})}function p(){let{dispatch:e}=c();return(0,i.useMemo)(()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:t=>{t?e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}):e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}}),[e])}function m(){let{ideaPinVideoPlayerControls:e}=c();return e}},951050:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a,initialState:()=>i});let i={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=i,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},749886:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>m,DL:()=>d,Gf:()=>_,LX:()=>a,Lc:()=>y,Ls:()=>h,Rf:()=>o,YL:()=>s,ap:()=>l,h8:()=>u,pE:()=>c,s5:()=>g,tQ:()=>p,yR:()=>r});var i=n(883119);let a={w:9,h:16},l=a.w/a.h,r=8,s=10,o=5e3,d=2e3;function c(e,t=1){return{x:(e??24)/5,y:(e??24)*(t-1)}}let u={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},p=[u.IMAGE,u.VIDEO],m={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},h=new i.Ry(1),g=new i.H3([h]),_=new i.H3([g]),y=e=>{let t=Math.floor(e||0),n=Math.floor(t/60),i=t-60*n,a=n<10?`${n}`:n,l=i<10?`0${i}`:i;return`${a}:${l}`}},766742:(e,t,n)=>{"use strict";n.d(t,{BN:()=>c,RK:()=>d,d3:()=>p,tq:()=>m,xm:()=>u});var i=n(667294),a=n(911344),l=n(749886),r=n(685247),s=n(494125);let o=(e,t)=>{let n=(0,l.pE)(e,t);return`${n.y}px ${n.x}px`},d=({alignment:e,verticalAlignment:t})=>{let n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},c=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:a,name:l})=>({fontSize:e,letterSpacing:i,color:t,fontFamily:l,margin:0,maxHeight:"100%",textShadow:!n&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:o(e,a)}:{}}),u=({fontSize:e,hasText:t,highlightColor:n,lineHeight:i})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:o(e,i)}:{}}),p=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]}),m=({hasPin:e,pages:t,limitToSingleFont:n})=>{let[o,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(()=>!!e&&(0,r.X7)(t)),m=()=>{let e=t.reduce((e,t)=>{let i=t?.blocks?.filter(e=>[l.h8.PARAGRAPH,l.h8.HEADING].includes(e.type))||[];return n&&i.length>1&&(i=[i[0]]),i.forEach(t=>{let n=t.style?.font||l.Cc.font,{name:i=""}=n;e[i]||(e[i]=n)}),e},{});if(Object.keys(e).length>0){let t=Object.keys(e).map(t=>{let n=e[t];return p({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})});(0,a.Z)(t),d(!0)}};return(0,s.Z)(()=>{m()}),(0,s.Z)(()=>{c||m()}),(0,i.useEffect)(()=>{c||u((0,r.X7)(t))},[c,t]),{fontsLoaded:o,mediaDataReceived:c}}},520718:(e,t,n)=>{"use strict";function i({currentTime:e,endTime:t,startTime:n}){return"number"!=typeof n||"number"!=typeof t||!(n>=0)||!(t>0)||!(n<t)||n<=e&&e<=t}n.d(t,{Z:()=>i})},685247:(e,t,n)=>{"use strict";n.d(t,{B7:()=>r,X7:()=>s,n4:()=>l});var i=n(749886);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l=(e,t)=>{let n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e?.match(n)||!t?.match(n))return null;let i=e?.split("."),a=t?.split("."),l=Math.max((i??"").length,(a??"").length);for(let e=0;e<l;e+=1){let t=e<(i?.length??0)?parseInt(i?.[e],10):0,n=e<(a?.length??0)?parseInt(a?.[e],10):0;if(t<n)return -1;if(t>n)return 1}return 0};class r{constructor(e,t,n){if(a(this,"start",Date.now()),a(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"==typeof window)return;this.intervalId=window.setInterval(()=>{let e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume()}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;let e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}let s=e=>e.some(e=>(e?.blocks??[]).some(e=>e.type===i.h8.IMAGE&&!!e.image||e.type===i.h8.VIDEO&&(!!e.video||!!e.video_signature)))},873955:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(958881);let a=/\{\{\s*(\w+)\s*\}\}/g,l=(e,t)=>(0,i.Z)(a,e,t)},498659:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},175789:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},958881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(e,t,n)=>t?t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""):""},427514:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(873955),a=n(498659);let l=(e,t)=>{let n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?(0,a.Z)(t[e].toString()):""}),(0,i.Z)(e,n)}},564855:(e,t,n)=>{"use strict";function i(e,t=80,n="",i=!1){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)a=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return(a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}n.d(t,{ZP:()=>i})},325362:(e,t,n)=>{"use strict";function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}n.d(t,{Z:()=>i})},434017:(e,t,n)=>{"use strict";n.d(t,{X:()=>P,fh:()=>p,Xn:()=>b,c:()=>h,Um:()=>c,Kv:()=>y,jO:()=>u,zW:()=>g,yP:()=>S,EN:()=>_,Be:()=>x,KT:()=>k,jw:()=>f,kQ:()=>m,o4:()=>v});var i=n(478693),a=n(633371),l=n(680007),r=n(489481),s=n(374125),o=n(191313),d=n(953565);function c(){(0,r.W)(),(0,r.Z)("PageView",()=>{(0,d.nP)("fb_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}})}),(0,r.Z)("ViewContent",()=>{(0,d.nP)("fb_tracking_pixel",{sampleRate:1,tags:{event_category:"ViewContent",event_name:"AuthViews"}})})}function u(e){if(e){let{pixelBlocked:t}=e;!function(e){function t(){if(e)return;let t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=AW-819016158";let n="gtag-id-1";function i(){window.dataLayer.push(arguments)}t.id=n,t.async=!0,document.getElementById(n)||document.body.insertBefore(t,document.body.firstChild),window.dataLayer=window.dataLayer||[],i("js",new Date),i("config","AW-819016158"),i("event","page_view",{send_to:"AW-819016158"})}"complete"===document.readyState&&t(),window.addEventListener("load",t)}(t)}}function p(e){if(e){let{unauthId:t}=e,{userId:n}=e;t&&n&&((0,o.qn)("dpm_pixel_login_event")?(0,a.FB)(t,n,()=>{(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}}),(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AuthViews"}})}):(0,a.FB)(t,n,()=>{(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}}),(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AuthViews"}}),(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"UniqueViews"}})}))}}function m(e){if(e){let{unauthId:t}=e;t&&(0,a.e7)(t,()=>{(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}}),(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"UnAuthViews"}})})}}function h(e){if(e){let t=e.id,{unauthId:n}=e,{userId:i}=e,{eventCategory:l}=e,{eventName:r}=e;t&&l&&r&&n&&i&&(0,a.ZY)(n,i,t,()=>{(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:l,event_name:r}}),(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:l,event_name:"All"}})})}}function g(e){if(e){let t=e.id,{unauthId:n}=e,{userId:i}=e,{eventCategory:l}=e,{eventName:r}=e;t&&l&&r&&n&&i&&setTimeout(()=>{(0,a.ZY)(n,i,t,()=>{(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:l,event_name:r}}),(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:l,event_name:"All"}})})},6e4)}}function _(e){if(e){let{pixelId:t}=e,n=e.userId?e.userId:"",{eventCategory:i}=e,{eventName:l}=e;t&&i&&l&&(0,a.l8)(t,n,i,l,()=>{(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:i,event_name:"All"}}),"All"!==l&&(0,d.nP)("dpm_tracking_pixel",{sampleRate:1,tags:{event_category:i,event_name:l}})})}}function y(e){if(e){let{id:t}=e,{eventName:n}=e;t&&n&&(0,s.VC)(t,()=>{(0,d.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}}),(0,d.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:n}})})}}function f(e){if(e){let{id:t}=e,{eventCategory:n}=e,{eventName:i}=e;t&&n&&i&&(0,s.Rs)(t,n,i,()=>{(0,d.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:n,event_name:"All"}}),"All"!==i&&(0,d.nP)("flashtalking_tracking_pixel",{sampleRate:1,tags:{event_category:n,event_name:i}})})}}function b(e){if(e){let{unauthId:t}=e,{userId:n}=e;t&&n&&(0,l.IV)(t,n,()=>{(0,d.nP)("dentsu_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}}),(0,d.nP)("dentsu_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AuthViews"}})})}}function v(e){if(e){let{unauthId:t}=e;t&&(0,l.Ob)(t,()=>{(0,d.nP)("dentsu_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"AllViews"}}),(0,d.nP)("dentsu_tracking_pixel",{sampleRate:1,tags:{event_category:"PageView",event_name:"UnAuthViews"}})})}}function x(e){if(e){let{pixelId:t}=e,{eventCategory:n}=e,{eventName:i}=e;t&&n&&i&&(0,l.sX)(t,n,i)}}function k(){(0,l.Ii)(()=>{(0,d.nP)("dentsu_tracking_pixel",{sampleRate:1,tags:{event_category:"PageViews (Facebook)",event_name:"AllViews"}})})}function P(e){if(e){let{id:t}=e,{eventName:n}=e,a=e.eventCategory?e.eventCategory:"PageView";t&&n&&(0,i.lv)(t,()=>{(0,d.nP)("admo_tracking_pixel",{sampleRate:1,tags:{event_category:a,event_name:"AllViews"}}),(0,d.nP)("admo_tracking_pixel",{sampleRate:1,tags:{event_category:a,event_name:n}})})}}function S(e){if(e){let{id:t}=e,{eventCategory:n}=e,{eventName:a}=e;t&&n&&a&&(0,i.BG)(t,n,a)}}},627408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(667294),a=n(541841),l=n(901855),r=n(5859),s=n(520893),o=n(503325),d=n(342513);let{Provider:c,useMaybeHook:u}=(0,d.Z)("timeSpentContext");var p=n(822987),m=n(19447),h=n(785893);function g(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(e){super(e),g(this,"componentWillUnmount",()=>{this.unregisterComponent()}),g(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:a,view:l,viewParameter:r}=this.props;return{view:l||a?.view,viewParameter:r||a?.viewParameter,component:t||a?.component,element:n,objectId:i||a?.objectId,clientTrackingParams:e||a?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),g(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),g(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),g(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),g(this,"getTimedPair",()=>this.state.timedPair),g(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),g(this,"isRegistered",!1),g(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),g(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),g(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:i,right:a,top:l}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===a&&0===l?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new o.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,h.jsx)(c,{value:this.getContext(),children:(0,h.jsx)(a.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:i.Children.only(e)})})}}function y(e){let t=(0,l.Hv)(),n=u(),a=(0,p.w)(),s=(0,m.H0)(),{requestIdentifier:o=""}=(0,r.B)(),d={app_instance_id:o.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{a?.setHistoryStackContext(t)},[t,a]),(0,i.useEffect)(()=>{a?.setPins(s??{})},[s,a]),a?(0,h.jsx)(_,{...e,auxData:d,timeSpentContext:n,timeSpentManager:a,children:e.children}):e.children}y.displayName="TimeSpent";let f=y},839372:(e,t,n)=>{"use strict";n.d(t,{w:()=>h});var i=n(798580),a=n(287434),l=n(503325),r=n(623891),s=n(953565);function o(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=null,c={ACTIVE:"ACTIVE",PAUSED:"PAUSED"},u=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",p=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}},m={};function h({contextLogger:e,shouldExtractTrackingParams:t}){if(d)return d;let n=(n,a,l)=>{if(t&&l&&n){let e;let{pair_id:t,event_type:r}=n;if(4703===r&&t&&m[t])n.clientTrackingParams=m[t];else{let s=n.object_id_str,o=s?l[s]:null,d=a?.current?.location,c=a?.previous;o&&d&&(e=(0,i.Z)({boardUrl:o.board?.url,location:d,pinId:o.id,pinnerUserName:o.pinner?.username,previousHistory:c,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map})||`${o.tracking_params||""}~0`,n.clientTrackingParams=e,4702===r&&t&&(m[t]=e))}}e.logContextEvent(n)},h=new Map,g=(0,r.Z)()&&(0,r.Z)().debug_timespent,_=[],y=g?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};return console.group||(y.group=(...e)=>console.log(...e),y.groupEnd=(...e)=>{}),d=new class{constructor(){o(this,"appTimedPair",null),o(this,"clickthroughProperties",null),o(this,"historyStackContext",null),o(this,"offsiteTimedPair",null),o(this,"offsiteTimedPairForegroundId",null),o(this,"pins",Object.freeze({})),o(this,"addEventListeners",()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&document.addEventListener(t,t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()},!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",e=>this.unregisterApp(!1,void 0,e));let n=p(e=>this.unregisterApp(!0,void 0,e));window.addEventListener("beforeunload",n),window.addEventListener("pagehide",n);let i=navigator&&navigator.userAgent.toLowerCase();i&&i.includes("macintosh")&&i.includes("chrome")&&window.addEventListener("popstate",()=>{document.hasFocus()||document[e]||(0,s.nP)("chrome_mac_back_forward_button",{sampleRate:1})})}),o(this,"storeClickthroughProperties",e=>{this.clickthroughProperties&&(0,s.nP)("webapp.metrics.clickthroughs.overwritten",{sampleRate:1,tags:{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}}),this.clickthroughProperties={time:(0,a.Z)(),...e}}),o(this,"clearClickthroughProperties",()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null}),o(this,"registerApp",()=>{y.group("App Foreground",u()),null==this.appTimedPair?(this.appTimedPair=new l.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&n({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext,this.pins)):y.error("TimedPair already exists for app."),y.groupEnd()}),o(this,"unregisterApp",(t=!1,i=!1,a)=>{y.group("App Background",u());let{appTimedPair:l}=this;if(null!=l){this._pauseAllComponents();let e=l.end();this._startOffsiteTimedPair(),n({event_type:4701,duration_ns:e,pair_id:l.uuid},this.historyStackContext,this.pins),this.appTimedPair=null}else y.error("No TimedPair found for app.");let r=["beforeunload","pagehide"],s=r.includes(a?.type),o=r.includes(a?.pauseReason);(s||o)&&this._endOffsiteTimedPair(),i||e.flushContextEvents(t??!1),y.groupEnd()}),o(this,"_activateComponent",e=>{y.group("Activating component",u()),g&&y.log(e.getContext());let t=e.getTimedPair();if(t){t.start();let{view:i,viewParameter:a,component:l,element:r,objectId:s,clientTrackingParams:o}=e.getLoggerContext();n({event_type:4702,view_type:i,view_parameter:a,component:l,element:r,object_id_str:s,view_data:e.props.viewData,pair_id:t.uuid,clientTrackingParams:o,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}y.groupEnd()}),o(this,"_deactivateComponent",e=>{y.group("Deactivating component",u()),g&&y.log(e.getContext());let t=e.getTimedPair();if(t){let{view:i,viewParameter:a,component:l,element:r,objectId:s,clientTrackingParams:o}=t,d=t.end();n({event_type:4703,view_type:i,view_parameter:a,component:l,element:r,object_id_str:s,view_data:e.props.viewData,duration_ns:d,pair_id:t.uuid,clientTrackingParams:o,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}y.groupEnd()}),o(this,"_startOffsiteTimedPair",()=>{let{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new l.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,e.aux_data={...e.aux_data,time_to_offsite:void 0!==e.time&&null!==e.time&&"number"==typeof e.time?(0,a.Z)()-e.time:void 0},n({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext,this.pins))}),o(this,"_endOffsiteTimedPair",()=>{let{offsiteTimedPair:e,clickthroughProperties:t}=this;if(e&&t){let i=e.end();n({...t,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:i},this.historyStackContext,this.pins),this._onOffsiteEnd(),this.clearClickthroughProperties()}}),o(this,"_onOffsiteEnd",()=>{y.group("Trigger onOffsiteEndCallbacks"),_.forEach(e=>e({appTimedPair:this.appTimedPair,clickthroughProperties:this.clickthroughProperties,offsiteTimedPair:this.offsiteTimedPair,offsiteTimedPairForegroundId:this.offsiteTimedPairForegroundId})),y.groupEnd()}),o(this,"_pauseAllComponents",()=>{y.group("Pause all components"),h.forEach((e,t,n)=>{e===c.ACTIVE&&this._deactivateComponent(t),n.set(t,c.PAUSED)}),y.groupEnd()}),o(this,"_unpauseAllComponents",()=>{y.group("Unpause all components"),h.forEach((e,t)=>{let n=new l.Z(t.getLoggerContext());t.setTimedPair(n,()=>{h.set(t,c.ACTIVE),this._activateComponent(t)})}),y.groupEnd()})}setHistoryStackContext(e){this.historyStackContext=e}setPins(e){this.pins=e}registerComponent(e){null===this.appTimedPair?h.set(e,c.PAUSED):(h.set(e,c.ACTIVE),this._activateComponent(e))}unregisterComponent(e){let t=h.get(e);t===c.ACTIVE&&(this._deactivateComponent(e),e.setTimedPair(new l.Z(e.getLoggerContext()))),h.delete(e)}size(){return h.size}onOffsiteEnd(e){_.push(e)}removeOnOffsiteEnd(e){let t=_.indexOf(e);t>-1&&_.splice(t,1)}}}},822987:(e,t,n)=>{"use strict";n.d(t,{j:()=>p,w:()=>u});var i=n(214877),a=n(342513),l=n(5859),r=n(839372),s=n(554786),o=n(494125),d=n(785893);let{Provider:c,useMaybeHook:u}=(0,a.Z)("TimeSpentManagerContext");function p({children:e}){let t=(0,i.v)(),n=(0,s.HG)(),{isAuthenticated:a}=(0,l.B)(),u=(0,r.w)({contextLogger:t,shouldExtractTrackingParams:n&&a});return(0,o.Z)(()=>{document.hasFocus()&&u.registerApp(),u.addEventListeners()}),(0,d.jsx)(c,{value:u,children:e})}},503325:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(172045),a=n(17314);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){l(this,"start",()=>(this.startTime=r(),this.startTime)),l(this,"end",()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},373314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(624797);function a(){let e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},722363:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),a=n(373314),l=n(217058);function r(){return(0,i.useCallback)(e=>{e.action&&e.event?(0,l.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,a.Z)()}):(0,l.My)("pinner_conversion.missing_tags")},[])}},623409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),a=n(616550),l=n(96157),r=n(217058);let s=e=>(0,l.L6)(e)?"pin":(0,l.am)(e)?"board":(0,l.Xn)(e)?"login":(0,l.C$)(e)?"home":(0,l.cD)(e)?"profile":(0,l.dr)(e)?"ideas":(0,l.gT)(e)?"ideas-root":(0,l.tZ)(e)?"videos":(0,l.Q0)(e)?"videos-category":(0,l.$Y)(e)?"article":(0,l.E0)(e)?"shopping-spotlight":(0,l.Zz)(e)?"today":(0,l.j8)(e)?"unauth-profile":(0,l.f1)(e)?"shopping-root":(0,l.OX)(e)?"shopping-category":"other";function o(){let e=(0,a.TH)();return(0,i.useCallback)(({action:t,item:n,within:i})=>{let a=s(e);(0,r.My)(`logged_out_product.interaction.${a}.${t}`,{item:n||"none",within:i||"none"})},[e])}},736561:(e,t,n)=>{"use strict";n.d(t,{$J:()=>i,Ct:()=>m,Dm:()=>p,Ff:()=>u,Md:()=>o,My:()=>r,Rp:()=>s,ak:()=>l,d0:()=>h,gs:()=>g,jm:()=>d,oo:()=>a,vw:()=>c});let i={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},a=2,l=6,r=3,s=1.5,o=16,d=8,c=16/9,u=25,p="Includes Paid Promotion #Ad",m={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},h={TRUE:!0,FALSE:!1,UNKNOWN:void 0},g=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"]},151784:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>o,e5:()=>c,p6:()=>s,pf:()=>d});var i=n(642298),a=n(140017),l=n(736561),r=n(641016);function s(e){let t=e?(0,i.Z)(new Date(e),"eeee, MMMM do,"):"",n=e?(0,i.Z)(new Date(e),"eee, MMM do,"):"",a=e?(0,i.Z)(new Date(e),"d MMM yyy"):"",l=e?(0,i.Z)(new Date(e),"EEEE"):"",r=e?(0,i.Z)(new Date(e),"h:mm aaa"):"",s=e?(0,i.Z)(new Date(e),"MM/dd/yyyy"):"",o=e?(0,i.Z)(new Date(e),"E, MMM dd"):"";return{date:t,shortDate:n,formalDate:a,dayOfWeek:l,time:r,mmddyyy:s,Emmmdd:o}}function o(e){let t=e.creator_class_instance.live_status===l.Ct.POST_LIVE;return{pinId:e.id,classId:e.creator_class.id,storyId:e.creator_class.recap_pin?.id,creatorClassInstance:e.creator_class_instance,creatorClassInstanceId:e.creator_class_instance.id,title:e.creator_class_instance.title,isLive:e.creator_class_instance.live_status===l.Ct.LIVE,postLive:t,path:`/tv/${e.id}/?referrer=${e.referrer||0}`,recapPath:`/pin/${e.creator_class.recap_pin?.id||e.id}/?referrer=${e.referrer||0}`,creator:{avatar:e.creator_class.creator.image_medium_url,host:e.creator_class.creator.full_name||e.creator_class.creator.username,path:`/${e.creator_class.creator.username}`},video:t&&e.creator_class_instance.replay_video?e.creator_class_instance.replay_video.video_list.V_720P:e.creator_class_instance.preview_video?e.creator_class_instance.preview_video.video_list.V_720P:e.creator_class_instance.hero_video?e.creator_class_instance.hero_video.video_list.V_720P:null,subscriberCount:e.creator_class.subscriber_count,subscribers:e.creator_class.subscribers}}function d(e,t,n){let i=l.gs.indexOf(e)>-1,a=l.gs.indexOf(t)>-1;return n&&i||a}function c(e){let t=(0,a.ZP)();switch(e){case r.S7.CREATOR_STUDIO:return{text:t._('Organic creator', 'web.pinTv.studio.pendingEpisode.organicCreator', 'Indicates that the creator is an organic creator'),type:"recommendation"};case r.S7.PINTEREST_APP:return{text:t._('Community creator', 'web.pinTv.studio.pendingEpisode.communityCreator', 'Indicates that the creator is a community creator'),type:"warning"};case r.S7.MANAGED:return{text:t._('Managed creator', 'web.pinTv.studio.pendingEpisode.managedCreator', 'Indicates that the creator is a managed creator'),type:"info"};default:return{text:t._('No source', 'web.pinTv.studio.pendingEpisode.noSource', 'Indicates that there is no application source'),type:"error"}}}},618799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294),a=n(883119),l=n(140017),r=n(785893);function s({content:e,header:t,headerWidth:n,inMwebPdpCommentsExp:s,isCollapsible:o,isContentLoaded:d,isOpenByDefault:c,maxHeight:u,onOpen:p,previewContent:m,previewContentHeight:h,shouldToggleOnBodyTap:g,arrowDirection:_}){let[y,f]=(0,i.useState)(!1),[b,v]=(0,i.useState)(0),x=(0,i.useRef)(null),k=(0,l.ZP)(),P=x.current?.getBoundingClientRect().height;(0,i.useEffect)(()=>{c&&d&&f(!0)},[c,d]),(0,i.useLayoutEffect)(()=>{void 0===u&&x.current&&P&&P>b&&v(Math.ceil(P))},[b,P,u]);let S=()=>{o&&(f(!y),p&&!y&&p())},w=_||"arrow-forward";return(0,r.jsxs)(a.iP,{onTap:g?S:void 0,children:[(0,r.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:m?1:5,width:n,children:[(0,r.jsx)(a.xv,{size:"300",weight:"bold",children:t}),o&&(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:y?`rotate(${"arrow-down"===w?"180deg":"-90deg"})`:""}},marginEnd:s?0:4,children:(0,r.jsx)(a.iP,{onTap:S,children:s?(0,r.jsx)(a.kC,{justifyContent:"center",width:48,children:(0,r.jsx)(a.JO,{accessibilityLabel:k._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:w,size:20})}):(0,r.jsx)(a.JO,{accessibilityLabel:k._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:w,size:20})})})]}),(0,r.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:`all 0.3s ease-in-out, visibility 0s linear ${y?"0s":"0.3s"}`,visibility:y||m?"visible":"hidden"}},"data-test-id":"accordion-panel",height:!y&&m?h:y?u||b:0,marginEnd:m?7:0,opacity:y||m?1:0,overflow:void 0===u?"hidden":"auto",children:[(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{display:y?"none":"block"}},children:m}),(0,r.jsx)(a.xu,{ref:x,dangerouslySetInlineStyle:{__style:{visibility:y?"visible":"hidden",transition:`all 0.3s ease-in-out, visibility 0s linear ${y||m?"0s":"0.3s"}`}},opacity:y||m?1:0,children:e})]})]})}s.defaultProps={isCollapsible:!0,isContentLoaded:!0}},885121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),l=n(656531),r=n(772667),s=n(696534),o=n(140017),d=n(340523),c=n(236817),u=n(785893);let p=({isExpanded:e,onToggle:t,expandedText:n,collapsedText:i})=>(0,u.jsx)(a.xu,{"data-test-id":`${e?"less":"more"}-description-container`,display:"inlineBlock",children:(0,u.jsx)(a.iP,{onTap:t,children:(0,u.jsx)(a.xv,{inline:!0,weight:"bold",children:e?n:i})})});function m({isExpanded:e,description:t,maxHeight:n,handleToggle:m,Wrapper:h}){let g=(0,i.useRef)(null),[_,y]=(0,i.useState)(!1),f=(0,o.ZP)(),{checkExperiment:b}=(0,d.F)(),v=(0,s.vs)(),x=b("web_new_line_description").anyEnabled,k=b("web_hashtags_in_description_display").anyEnabled;(0,i.useEffect)(()=>{if(!(g&&g.current))return;let{height:e}=g.current.getBoundingClientRect();e>n&&y(!0)},[g,n]);let P=(0,u.jsx)(p,{collapsedText:f._('... more', 'closeup.description.toggle.moreButton', 'Toggle more description button'),expandedText:f._('less', 'closeup.description.toggle.lessButton', 'Toggle less description button'),isExpanded:e,onToggle:m}),S=v?"#111111":"#FFFFFF";return(0,u.jsx)(h,{children:(0,u.jsx)(a.xu,{"data-test-id":"collapsible-description",maxHeight:e?void 0:n,overflow:"hidden",position:"relative",children:(0,u.jsxs)(c.Z,{dir:(0,c.j)(t),children:[(0,u.jsx)(a.xu,{ref:g,children:(0,u.jsxs)(a.xv,{inline:!0,children:[x?(0,u.jsx)(l.Z,{description:t}):(0,r.Z)({isHashtagInDescriptionDisplayEnabled:k,text:t})," ",_&&e&&(0,u.jsxs)(a.xv,{inline:!0,weight:"bold",children:["... ",P]})]})}),_&&!e&&(0,u.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${S} 50%, ${S}00 100%)`,textAlign:"end"}},position:"absolute",right:!0,width:140,children:P})]})})})}},274262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);function l({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(i.xv,{color:t,inline:!0,size:n??"200",children:"\xb7"})})}},629650:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),l=n(274262),r=n(785893);function s(e){return null!=e}function o({additionalPadding:e,color:t="darkGray",inline:n,items:o}){let d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(l.Z,{color:t})}):(0,r.jsx)(l.Z,{color:t}),c=o.filter(s).reduce((e,t,n)=>[...e,0!==n?d:null,t],[]).filter(s).map((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t));return 0===c.length?null:n?(0,r.jsx)(a.xu,{children:c}):(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:c})}},13848:(e,t,n)=>{"use strict";n.d(t,{F9:()=>l,Zo:()=>a});var i=n(342513);let{Provider:a,useHook:l}=(0,i.Z)("toastManagerContext")},88346:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,Q:()=>l});var i=n(667294);let a=(0,i.createContext)(null),l=()=>(0,i.useContext)(a),r=a.Provider},163471:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(88346);let a=()=>i.Q()?.showUnauthContextMenu||(()=>{})},207270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),a=n(340523);let l="holdout",r="lop_holdout_unauth_id_h1_2024",s="pc_holdout_unauth_id_h1_2024";function o(){let{checkExperiment:e}=(0,a.F)(),t=(0,i.useCallback)(()=>{e(r),e(s)},[e]);return{activateUnauthHoldoutExperiments:t,userIsEligibleForShippedLOPExperiment:()=>e(r).group!==l,userIsEligibleForShippedPCExperiment:()=>e(s).group!==l}}},460270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},373543:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(623891);let a=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,i.Z)(t[1])}return(0,i.Z)()}},862249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(968946);let a=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,i.Z)(e))},998449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});let i=(e,t)=>0===e.lastIndexOf(t,0);var a=n(885896);let l=({url:e})=>{let t=(0,a.Z)("/");return i(e,t)?e.substr(t.length-1):e}},587070:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){let n=(0,i.useRef)([]),[a,l]=(0,i.useState)(),[r,s]=(0,i.useReducer)(a??(()=>t),t),o=(0,i.useCallback)(t=>{a?s(t):(n.current.length||e().then(e=>{l(()=>e.default)}),n.current=[...n.current,t])},[e,a]);return(0,i.useEffect)(()=>{a&&(n.current.forEach(s),n.current=[])},[a]),[r,o]}},494125:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(667294);let a=e=>{(0,i.useEffect)(e,[])}},748058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(667294);let a=(e,t)=>{let n=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{n.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])}},194602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(667294);let a=()=>()=>{},l=()=>!1,r=()=>!0,s=()=>{let e=(0,i.useSyncExternalStore)(a,l,r);return e}},760101:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,Z:()=>o});var i=n(667294),a=n(616550),l=n(785893);let r=(0,i.createContext)(!0);function s({children:e}){let t=(0,a.TH)(),[n,s]=(0,i.useState)(!0),o=(0,i.useRef)(t);return(0,i.useEffect)(()=>{o.current!==t&&(o.current=t,s(!1))},[t]),(0,l.jsx)(r.Provider,{value:n,children:e})}function o(){return(0,i.useContext)(r)}},590107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(667294),a=n(252478);function l(e){let[t,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async function(){let t=await (0,a.Z)(e);n(t)})()},[e]),t}},961011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(667294),a=n(86083);let l=(e,t)=>{let n=(0,a.Z)();(0,i.useEffect)(()=>{if(t){let{top:n,left:i,bottom:a,right:l}=t.getBoundingClientRect(),{innerHeight:r,innerWidth:s}=window;e(a<0||l<0||n>r||i>s)}},[n,t,e])}},322864:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){let[n,a]=(0,i.useState)(e),l=(0,i.useRef)(new Map),r=(0,i.useRef)(t),s=r.current;if(s!==t){r.current=t,l.current.set(s,n);let i=l.current.get(t)??e;return a(i),[i,a]}return[n,a]}},86083:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(667294),a=n(71328);let l=()=>{let[e,t]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=(0,a.Z)(()=>t(window.scrollY),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),e}},353453:(e,t,n)=>{"use strict";n.d(t,{GW:()=>a,RL:()=>i,s4:()=>l});let i="ios",a="android",l="ipad"},584452:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i=n(667294),a=n(293041),l=n(883119),r=n(587703),s=n(406893),o=n(340523),d=n(5859),c=n(149722),u=n(813779),p=n(115557),m=n(239821),h=n(734950),g=n(785893);function _(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let y=(e,t)=>typeof e!=typeof t||(Array.isArray(t)?e.length!==t.length||t.some((t,n)=>!Array.isArray(e)||t.type!==e[n].type||t.src!==e[n].src):t!==e),f=(e,t)=>t?e.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com"):e,b=(e,t)=>e[0].src&&t?[{...e[0],src:f(e[0].src,t)}]:e,v=(e,t)=>"string"==typeof e?f(e,t):Array.isArray(e)?b(e,t):e;class x extends i.PureComponent{constructor(...e){super(...e),_(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:p.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),_(this,"errorRetryCount",1),_(this,"firstFragBuffered",!1),_(this,"hasPlaybackStarted",!1),_(this,"hasVideoSessionStarted",!1),_(this,"hasVideoSessionEnded",!1),_(this,"hls",null),_(this,"fragStartupTime",{}),_(this,"lastLevelSwitchKbps",null),_(this,"lastStallTime",null),_(this,"lastPauseTime",null),_(this,"logSessionStartOnNextPlay",!1),_(this,"playerId",""),_(this,"videoSessionId",""),_(this,"videoVisibleTime",null),_(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?f(this.props.src,this.props.quicExpGroup):f(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),_(this,"initializeHls",()=>{this.destroyHls();let{src:e,hlsConfig:t,quicExpGroup:n}=this.props,i=new a.ZP(t),l=v(e,n);i.loadSource(l),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(a.ZP.Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(a.ZP.Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(a.ZP.Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(a.ZP.Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(a.ZP.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),i.on(a.ZP.Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(a.ZP.Events.ERROR,this.handleHlsError),this.hls=i}),_(this,"destroyHls",()=>{let{hls:e}=this;e&&e.destroy()}),_(this,"addSegment",e=>{let{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();let n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},a="number"==typeof e.level?i[e.level]:{},l=this.fragStartupTime[e.url],r=-1;l&&l.startLoadTime&&l.endLoadTime&&(r=l.endLoadTime-l.startLoadTime);let s={indicatedKbps:a.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(s)}}),_(this,"initializeSegments",e=>{let{contextLogData:t={}}=this.props,{is_closeup_video:n=!1}=t,{segments:i}=this.playbackPerformance;if(!i.length){if(!this.hls||!this.videoPlayerRef||!this.videoPlayerRef.video||!e){(0,u.tE)("initializeSegmentsFailed",!0,n);return}if(!i.length&&"number"==typeof e.level){let t=this.videoPlayerRef&&this.videoPlayerRef.video,{levels:n}=this.hls,a="number"==typeof e.level?n[e.level]:{},l=this.fragStartupTime[e.url],r=-1;l&&l.startLoadTime&&l.endLoadTime&&(r=l.endLoadTime-l.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR;let s={indicatedKbps:a.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};i.push(s)}}}),_(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:null),_(this,"handleCanPlayVideo",e=>{let{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:l}=this.state;(0,u.tE)("handleCanPlayVideo",!0,a,{firstCanPlayEvent:!l,playing:i}),this.playbackPerformance.hasFatalError=!1,l||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)}),_(this,"handleEnded",e=>{let{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),n&&n(e)}),_(this,"handleHlsError",(e,t)=>{let{contextLogData:n={}}=this.props,{is_closeup_video:i=!1}=n;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;let e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:t.err?.message?.slice(0,50)||"unknown",errorResponse:t.response?.text?.slice(0,50)||"unknown",playbackState:this.state.playbackState};if((0,u.tE)("fatalError",!0,i,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case a.ZP.ErrorTypes.NETWORK_ERROR:if(t.details===a.ZP.ErrorDetails.MANIFEST_LOAD_ERROR||t.details===a.ZP.ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===a.ZP.ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){let{src:e,quicExpGroup:t}=this.props,n=v(e,t);this.hls?.loadSource(n)}else this.hls?.startLoad();break;case a.ZP.ErrorTypes.MEDIA_ERROR:this.hls?.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})}),_(this,"handleHlsFragBuffered",(e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)}),_(this,"handleHlsFragChanged",(e,t)=>{this.addSegment(t.frag)}),_(this,"handleHlsFragLoading",(e,t)=>{let n=t.frag?.url;n&&!this.fragStartupTime[n]&&(this.fragStartupTime[n]={startLoadTime:new Date})}),_(this,"handleHlsFragLoaded",(e,t)=>{t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/p.Fm);let n=t.frag?.url;n&&this.fragStartupTime[n]&&this.fragStartupTime[n].startLoadTime&&(this.fragStartupTime[n].endLoadTime=new Date)}),_(this,"handleHlsLevelSwitched",()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR)}),_(this,"handleLoadedMetadata",()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})}),_(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})}),_(this,"handleLoadedData",()=>{this.setState({playbackState:p.Cy.LOADED_DATA})}),_(this,"handlePlaying",e=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime(),this.props.onPlaying&&this.props.onPlaying(e)}),_(this,"handleUserPause",e=>{let{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)}),_(this,"handleVideoPause",()=>{this.state.playbackState===p.Cy.STALLING||this.state.playbackState===p.Cy.SEEKING||(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})}),_(this,"handleSeeking",()=>{this.playbackPerformance.numberOfSeeks+=1;let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})}),_(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:p.Cy.STALLING})}),_(this,"handleTimeUpdate",e=>{let{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),_(this,"resetPlaybackMetrics",()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;let e=this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],t={...e,lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[t]}),_(this,"setLastSegmentStartPlayTime",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),_(this,"setLastSegmentPlaybackStartDate",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),_(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),_(this,"setVideoPlayerRef",e=>{let{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){let e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),_(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),_(this,"updatePauseDuration",()=>{if(null!==this.lastPauseTime){let{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}}),_(this,"updateWatchDurationForCurrentSegment",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){let e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),_(this,"logPlaybackPerformance",(e,t)=>{let{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:l,preload:r}=this.props,{is_closeup_video:s=!1}=n,{canPlayTime:o,detailedErrors:d,downloadedKiloBytes:c,errorCode:m,errorName:h,errorReason:g,hasFatalError:_,playbackStartTimestamp:y,totalPauseDurationMs:f,totalStallDurationMs:b,segments:v,srcString:x,loadStartTime:k,numberOfStalls:P,numberOfSeeks:S}=this.playbackPerformance,w=this.videoPlayerRef&&this.videoPlayerRef.video,T=e===p.DR,I=T&&!this.hasVideoSessionStarted,A=!T&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&w&&(I||A)){let I=-1;o&&k&&(I=o>k?o-k:0);let A=-1;o&&this.videoVisibleTime&&(A=o>this.videoVisibleTime?o-this.videoVisibleTime:0),T&&(this.videoSessionId=(0,p.Y7)(i),this.playerId=this.playerId||(0,p.EB)());let E={autoplaying:a,averageVideoKbps:-1,detailedErrors:d,downloadedKiloBytes:c,isCellular:!1,errorCode:m,errorName:h,errorReason:g,fatalError:_,nativeVideoDurationMs:w.duration*p.gJ||-1,numberOfStalls:P,numberOfSeeks:S,overallPausedDurationMs:f,overallBufferDurationMs:b,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:y||-1,segments:[],sessionMark:e,screenPixelScale:window?.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:w.clientWidth,startupPlayerHeight:w.clientHeight,startupTimeMs:I,startupLatencyMs:A,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:w.videoWidth,startupVariantHeight:w.videoHeight,videoUrl:x,wasVideoPreloaded:"auto"===r};if(!T&&v.length){let{levels:e}=this.hls,t=v[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();let n=v.reduce((t,n)=>{if(!n||"number"!=typeof n.level||!e||!(e.length>0))return t;{let i=(e[n.level]||{}).bitrate,a=n.watchedDurationMs;return t+i*(a||0)/p.gJ}},0),i=v.reduce((e,t)=>e+(t.watchedDurationMs||0),0),a=null,l=0,r=0;do l+=v[r].watchedDurationMs,a=a||v[r].level,r+=1;while(r<v.length&&v[r].level===a)E.startupVariantKbps=t.indicatedKbps,E.startupVariantWatchedDurationMs=l,E.startupVariantWidth=t.sourceWidth,E.startupVariantHeight=t.sourceHeight,E.startupPlayerWidth=t.viewportWidth,E.startupPlayerHeight=t.viewportHeight,E.overallWatchedDurationMs=i,i>0?(E.averageVideoKbps=n/(i/p.gJ),E.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(E.averageVideoKbps=-1,E.rebufferRate=-1,E.errorName="invalid_watch_duration"),E.segments=v}else E.errorName="invalid_watch_duration";(0,u.ZP)(E,!0,s,{playbackState:this.state.playbackState,...t});let{clientTrackingParams:C,component:j,durationNs:R,element:L,objectId:F,pairId:D,viewData:O,view:z,viewParameter:M,...N}=n;l({aux_data:{...N,is_closeup_video:s,playback_session_id:this.videoSessionId},clientTrackingParams:C,component:j,duration_ns:R,element:L,event_data:{videoPerformanceData:E},event_type:3606,object_id_str:F,pair_id:D,view_data:O,view_parameter:M,view_type:z}),T?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,u.tE)(T?"sessionStart":"sessionEnd",!0,s,{playbackState:this.state.playbackState,...t})}})}componentDidMount(){let{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,u.tE)("videoMounted",!0,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))}componentDidUpdate(e){let{loop:t,playing:n,src:i,visible:a,appInFocus:l,seekTime:r,captionsEnabled:s}=this.props,o=this.videoPlayerRef?.video?.textTracks[0];o&&(s?o.mode="showing":o.mode="disabled",o.addEventListener("cuechange",()=>{let e=o.activeCues&&o.activeCues.length>0&&o.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})),r&&r!==e.seekTime&&this.setState({videoStartTime:r}),y(e.src,i)&&this.initializeHls(),e.appInFocus&&!l&&(this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===a&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===a&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&l&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){let{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){let{aspectRatio:e,backgroundColor:t,captions:n,controls:i,loop:a,loopOverride:r,objectFit:o,onDurationChange:d,onFullscreenChange:c,onLoadedChange:u,onControlsPlay:p,onPlayheadDown:m,onPlayheadUp:_,onSeek:y,onVolumeChange:f,playbackRate:b,playing:x,playsInline:k,poster:P,preload:S,quicExpGroup:w,src:T,volume:I}=this.props,{canPlayVideo:A,isManifestParsed:E,videoStartTime:C}=this.state,j=v(T,w);return(0,g.jsxs)(l.xu,{children:[(0,g.jsx)(s.Z,{unsafeCSS:h.P}),(0,g.jsx)(l.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,backgroundColor:t,captions:n,controls:i,loop:void 0===r?a:r,objectFit:o,onControlsPause:this.handleUserPause,onControlsPlay:p,onDurationChange:d,onEnded:this.handleEnded,onFullscreenChange:c,onLoadedChange:u,onLoadStart:this.handleLoadStart,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:m,onPlayheadUp:_,onPlaying:this.handlePlaying,onReady:this.handleCanPlayVideo,onSeek:y,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:f,onWaiting:this.handleStalled,playbackRate:b,playing:E&&A&&x,playsInline:k,poster:P,preload:S,src:j,startTime:C,volume:I})]})}}let k=(0,i.memo)(function(e){let{country:t,isAuthenticated:n,isBot:i,isSocialBot:a,unauthId:l,userAgent:s}=(0,d.B)(),p=(0,r.Z)(),h=(0,c.Z)(),{browserName:_,browserVersion:y,isMobile:f}=s,{contextLogData:b={}}=e,{is_closeup_video:v=!1,view:k,viewParameter:P}=b,{checkExperiment:S}=(0,o.F)(),w=null;n&&(w=S("web_video_quic").group.length?S("web_video_quic").group:null);let{appUI:T}=(0,m.I)(),I=S("web_video_fail_to_start_fix").anyEnabled?T.appInFocus:e.appInFocus;return(0,u.r$)({browserName:_,browserVersion:y,country:t,isAuthenticated:n,isBot:i,is_closeup_video:v,isMobile:f,isSocialBot:a,view:k,viewParameter:P}),(0,g.jsx)(x,{...e,appInFocus:I,logContextEvent:p,quicExpGroup:w,userId:h.id||l})})},369708:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,r:()=>s});var i=n(667294),a=n(342513),l=n(785893);let{Provider:r,useHook:s}=(0,a.Z)("VideoPlayer");function o({children:e}){let[t,n]=(0,i.useState)(!1),a=(0,i.useMemo)(()=>({captionsEnabled:t,setCaptionsEnabled:n}),[t]);return(0,l.jsx)(r,{value:a,children:e})}},158838:(e,t,n)=>{"use strict";n.d(t,{Q6:()=>a,ZP:()=>r,t2:()=>l});let i=()=>!window?.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x",a=()=>{let e;let t="undefined"!=typeof window?window.navigator?.connection?.effectiveType:void 0,n=i();return t?"4g"===t?e="40-80":(n="1x",e="0-1"):e="unknown",{downloadSpeedGroup:e,screenDimension:n}};function l({vEXP3:e,vEXP4:t,vEXP5:n,vEXP6:i,vEXP7:l,v720P:r}){let{downloadSpeedGroup:s,screenDimension:o}=a(),d={"1x":e,"2x":n},c={"1x":l,"2x":l};return({unknown:d,"0-1":d,"1-5":{"1x":t,"2x":n},"5-10":{"1x":n,"2x":n},"10-20":{"1x":i,"2x":i},"20-40":c,"40-80":c,"80_or_above":c})[s][o]||r||void 0}function r(e){let{vHLSV3MOBILE:t,...n}=e,i=l(n),a=t||void 0;return i?{hlsv3:a,mp4:i}:{hlsv3:a}}},813779:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p,r$:()=>c,tE:()=>u});var i=n(371626),a=n(115557),l=n(953565);let r=["isCellular","videoUrl","sessionMark"],s={},o="",d=e=>e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200",c=e=>{let{browserName:t,browserVersion:n,country:a,isAuthenticated:l,isBot:r,isMobile:d,isSocialBot:c,view:u="unknown",viewParameter:p="unknown"}=e;o=c&&"socialBot"||r&&"bot"||"nonbot";let m=(0,i.Z)(a);s={browserName:t,browserVersion:n?.split(".")[0]||"0",isAuthenticated:l,isMobile:d,region:m,view:u,viewParameter:p}};function u(e,t,n,i={}){let a={...i,...s},r=`web.video.${t?"hls":"nonHls"}.${o}.${n?"closeup":"nonCloseup"}.${e}`;"nonbot"===o&&(0,l.nP)(r,{sampleRate:1,tags:a})}function p(e,t,n,i={}){let c=n?"closeup":"nonCloseup",u=t?"hls":"nonHls",p=e.sessionMark===a.DR?"sessionStart":"sessionEnd",m={...i,...s};if("nonbot"===o&&(Object.entries(e).forEach(([t,n])=>{let i=`web.video.${u}.${o}.${c}.${p}.${t}`,a=parseInt(n,10),s="number"==typeof a?a:-1;if(!r.includes(t)){if(t.includes("fatalError")&&!0===n){let{errorCode:t,errorName:n,errorReason:a}=e;(0,l.nP)(i,{sampleRate:1,tags:{errorCode:t,errorName:n,errorReason:a,...m}})}else if(t.includes("Width")||t.includes("Height")){let e=d(s);(0,l.nP)(i,{sampleRate:1,tags:{dimensionBucket:e,...m}})}else if("numberOfStalls"===t){let e=n;s>1e3?e="over1000":s>10?e="over10":s<0&&(e="negative"),(0,l.nP)(i,{sampleRate:1,tags:{numberOfStalls:e,...m}})}else"screenPixelScale"===t?(0,l.nP)(i,{sampleRate:1,tags:{screenPixelScale:n||-1,...m}}):s>=0?(0===s&&(0,l.nP)(`${i}.zero`,{sampleRate:1,tags:m}),(0,l.LY)(i,s,{sampleRate:1})):s<0&&(0,l.nP)(`${i}.negative`,{sampleRate:1,tags:m})}}),e.sessionMark!==a.DR)){let{rebufferRate:t,screenPixelScale:n,startupLatencyMs:i,startupVariantWidth:a,startupPlayerWidth:r}=e,s=`web.video.${u}.${o}.${c}.${p}`;"number"==typeof a&&"number"==typeof r&&"number"==typeof n&&(0,l.nP)(`${s}.upscaled.${1.5*a>n*r?"good":"bad"}`,{sampleRate:1,tags:m}),"number"==typeof i&&(0,l.nP)(`${s}.startupLatency.${i<500?"good":"bad"}`,{sampleRate:1,tags:m}),"number"==typeof t&&(0,l.nP)(`${s}.rebufferRate.${t<.01?"good":"bad"}`,{sampleRate:1,tags:m})}}},115557:(e,t,n)=>{"use strict";n.d(t,{$f:()=>l,Cy:()=>d,DR:()=>a,EB:()=>p,Fm:()=>o,Y7:()=>u,bR:()=>s,gJ:()=>r,lG:()=>c});var i=n(172045);let a=1,l=2,r=1e3,s=1e3,o=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function p(){return(0,i.Z)()}},537513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l,e:()=>a});var i=n(419075);let a=e=>{if("undefined"==typeof window)return"";let t=0,n=document.querySelector('[data-test-id="header"]');if(null!==n){let{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":let i=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==i){let{height:e}=i.getBoundingClientRect();t+=e}break;case"SearchItem":let a=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==a){let{height:e}=a.getBoundingClientRect();t+=e}let l=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==l){let{height:e}=l.getBoundingClientRect();t+=e}}return`${-1*t}px 0px 0px 0px`},l=({videosDuration:e,vHLSV4VideoDuration:t,storyPinDataTotalVideoDuration:n})=>{let a=(0,i.Z)(e||t||n||0);return a}},258194:(e,t,n)=>{"use strict";function i({cropArea:e,cropSource:t,requestParams:n,searchQuery:i,surfaceType:a,title:l,trafficSource:r}){let s=[];if(e){let{x:t,y:n,w:i,h:a}=e;t>=0&&n>=0&&i>=0&&a>=0&&s.push(`x=${t}`,`y=${n}`,`w=${i}`,`h=${a}`)}t&&s.push(`cropSource=${t}`),a&&s.push(`surfaceType=${a}`),l&&s.push(`full_feed_title=${encodeURIComponent(l)}`),i&&s.push(`q=${i}`),r&&"unknown"!==r&&s.push(`rs=${r}`),n&&s.push(`requestParams=${encodeURIComponent(n)}`);let o=s.length?`?${s.join("&")}`:"";return o}n.d(t,{Z:()=>i})},755453:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(258194);function a({cropArea:e,cropSource:t,isProductPage:n,pinId:a,requestParams:l,searchQuery:r,surfaceType:s,title:o,trafficSource:d}){let c=(0,i.Z)({cropArea:e,cropSource:t,requestParams:l,searchQuery:r,surfaceType:s,title:o,trafficSource:d}),u="";return n&&(u="products/"),`/pin/${a}/visual-search/${u}${c}`}},171966:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(107366),a=n(263148);function l(e,t){let{auxData:n,clientTrackingParams:l,hasPin:r,pinId:s,isThirdPartyAd:o}=t||{},d={pin_id:s,check_only:!0,client_tracking_params:r?l:void 0,url:e,aux_data:JSON.stringify(n)};o&&(d.third_party_ad=s,delete d.pin_id),(0,i.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:n,url:i}=e.data,a=["blocked","suspicious","porn"].includes(n);if(!a){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(i);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,a.Gj)(e,{params:r?{pinId:s,clientTrackingParams:l,auxData:n,isThirdPartyAd:o}:{pinId:s}})})}},446653:(e,t,n)=>{"use strict";n.d(t,{r:()=>v,K:()=>b});var i=n(667294),a=n(342513),l=n(340523),r=n(995917),s=n(149722),o=n(998577),d=n(573810),c=n(325362);let u=e=>{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=u(e[n]));return t},p=(e,t)=>{let n=[];for(let i in e)i!==t&&n.push({id:i,...u(e[i])});let i=n.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),a=new Map;for(let e of i)a.set(e.id,e);return a},m={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=({dispatch:e,isEnabled:t,state:n})=>{let{orbacVisibility:a,disableProfileChanger:l,headerVisible:r}=n,s=(0,i.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]),o=(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:n??!a})},[t,e,a]),d=(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:n??!l})},[t,e,l]),c=(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:n??!r})},[t,e,r]);return{changeProfile:s,toggleORBACVisibility:o,toggleDisableProfileChanger:d,toggleHeaderVisibility:c}},_=e=>{let[t,n]=(0,i.useReducer)(h,m),a=g({dispatch:n,isEnabled:e,state:t}),{activeProfile:l,orbacVisibility:r}=t;(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacVisibility",r)},[r]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacActiveProfile",l)},[l]);let s=(0,i.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:p(e,t)})},[n]);return{state:t,actions:a,receiveProfiles:s}};var y=n(785893);let{Provider:f,useMaybeHook:b}=(0,a.Z)("RoleBasedAccessControlContext"),v=({children:e})=>{let t;let{checkExperiment:n}=(0,l.F)(),a=(0,s.Z)(),d=!!(a.isAuth&&a.isPartner&&n("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:u,receiveProfiles:p}=_(d),{activeProfile:m,headerVisible:h,profiles:g=[]}=c,b=g?Array.from(g.values()):[],v=(0,o.Z)(b),x=!!a.isAuth&&b.length>0&&v,k=a.isAuth?a.id:"",P=a.isAuth?a.username:"",{changeProfile:S,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:I}=u;(0,i.useEffect)(()=>{if(d){if("string"==typeof v){S(v);return}m||S(k)}},[v,k,d,S,m]),(0,i.useEffect)(()=>{d&&(x&&!h&&I(!0),!x&&h&&I(!1))},[I,x,d,h,g]);let{data:A}=(0,r.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),E=A?.profiles;a&&a.isAuth&&c.activeProfile===a.id?t={id:a.id,permissions:["OWNER"],user:{username:P,businessName:a.fullName,imgUrl:a.imageSmallUrl}}:m&&c.profiles&&(t=c.profiles.get(m)),(0,i.useEffect)(()=>{E&&p(E,k)},[p,E,k]);let C=c.profiles?Array.from(c.profiles.values()):[];return(0,y.jsx)(f,{value:{profiles:C,headerVisible:c.headerVisible,activeProfile:t,changeProfile:S,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:I},children:e})}},785059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(340523),a=n(446653),l=n(998577);let r=()=>{let{checkExperiment:e}=(0,i.F)(),t=(0,a.K)(),{activeProfile:n}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,s=(0,l.Z)(t?.profiles||[]),{anyEnabled:o}=e("useorbacroutematcher_in_useorbacactingas");return r&&(!o||s)&&n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},998577:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(616550),a=n(96157),l=n(340523),r=n(149722),s=n(19447);let o=e=>{let t=(0,i.TH)(),n=(0,r.Z)(),o=(0,s.S6)(),{anyEnabled:d}=(0,l.F)().checkExperiment("web_m10n_business_access_orbac_www"),c=(0,i.$B)("/:username"),u=c?.params?.username,p=(0,i.$B)("/pin/:id"),m=!!p?.params?.id&&o(p.params.id)?.pinner?.id;if((0,a.ej)(t))return!1;if((0,a.RU)(t))return!0;if((0,a.mY)(t))return d;let h=e.concat(n.isAuth?{user:{username:n.username},id:n.id}:{}).find(e=>{let{user:t={},id:n}=e||{},{username:i}=t;return(!!i&&!!u||!!m&&!!n)&&(i===u||m===n)});return!!h&&h.id}},35222:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(149722),a=n(785059),l=n(199677);let r=()=>{let e=(0,i.Z)(),t=(0,a.Z)(),n=(0,l.lJ)(e,t);return n}},199677:(e,t,n)=>{"use strict";n.d(t,{D3:()=>d,DX:()=>s,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>r,lJ:()=>l,nl:()=>a,q6:()=>o});let i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},a=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:e.advertiser?.merchant_id,s=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,o=(e,t,n)=>{let i=e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t;return!!i},d=(e,t,n)=>{let i=o(e,t,n)||e&&e.isAuth&&t===e.id;return!!i},c=(e,t,n)=>{let i=t&&t.owner&&t.owner.id||"";return d(e,i,n)};function u(e,t,n){let i=t?t.id:"";return d(e,i,n)}},415199:(e,t,n)=>{"use strict";n.d(t,{pb:()=>b,nf:()=>v,lV:()=>x});var i=n(667294),a=n(702664),l=n(441143),r=n.n(l),s=n(216167),o=n(342513),d=n(107366),c=n(638747),u=n(105737),p=n(996523);let m={feature_map:Object.freeze({})},h=(e,t)=>{let n={...(0,p.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,u.ZP)(e,n)?e:n},g=(e=m,t)=>{if("FETCH_COMPLETE"===t.type){let{payload:{resource:n}}=t,{data:i}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){let t=i||[],n=t.reduce((t,n)=>(t[n.id]=h(e[n.id],n),t),{});return{...e,...n}}if("UnifiedCommentsResource"===n&&i&&i.length>0){let t=i.filter(e=>"aggregatedcomment"===e.type),n=t.reduce((t,n)=>(t[n.id]=h(e[n.id],n),t),{});return{...e,...n}}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){let t=i[0].aggregated_comment,n=t?{[t.id]:h(e[t.id],t)}:{},a=i[0].creator_reply,l=a?{[a.id]:h(e[a.id],a)}:{};return{...e,...n,...l}}if("AggregatedCommentFeaturesResource"===n&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:n}}=t;return n.id?{...e,[n.id]:n}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:n}}=t,i={...e};return delete i[n],i}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter(e=>e[1].user?.id!==n))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:n}}=t;return{...e,[n.id]:h(e[n.id],n)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:n}}=t,i=e[n.id],a=i.reaction_counts[1]||0,l={1:n.reaction_by_me?a+1:a-1},r={...i,reaction_by_me:n.reaction_by_me,reaction_counts:l};return{...e,[n.id]:r}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:n}}=t,i=e[n.id],a=i.helpful_count||0,l=n.marked_helpful_by_me?a+1:a-1,r={...i,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:l};return{...e,[n.id]:r}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:n}}=t,i=e[n.aggregated_comment_id],a={...i,highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:a}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:n,id:i}}=t,a=e[i];if(!a)return e;let l={...a,comment_count:a.comment_count+n};return{...e,[i]:l}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:n,tagged_users:i}}=t,a=e[n],l={...a,tagged_users:i};return{...e,[n]:l}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:n,translatedText:i}}=t,a=e[n],l={...a,translatedText:i};return{...e,[n]:l}}return e};var _=n(785893);let{Provider:y,useHook:f}=(0,o.Z)("AggregatedComments");function b({children:e}){let t=(0,a.useSelector)(({resources:e})=>e.UnifiedCommentsResource),n=m;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),i=t?.reduce((e,t)=>(e[t.id]=h(n[t.id],t),e),{});n={...n,...i}});let[l,r]=(0,i.useReducer)(g,n),s=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",s),(0,c.my)("AggregatedCommentFeaturesResource",s),(0,c.Z8)("AggregatedCommentFeedResource",s),(0,c.my)("AggregatedCommentFeedResource",s),(0,c.Z8)("AggregatedCommentReplyFeedResource",s),(0,c.my)("AggregatedCommentReplyFeedResource",s),(0,c.Z8)("DidItCommentsResource",s),(0,c.my)("DidItCommentsResource",s),(0,c.Z8)("UnifiedCommentsPreviewResource",s),(0,c.my)("UnifiedCommentsPreviewResource",s),(0,c.Z8)("UnifiedCommentsResource",s),(0,c.my)("UnifiedCommentsResource",s);let o=(0,i.useMemo)(()=>({aggregatedComments:l,dispatch:r}),[l,r]);return(0,_.jsx)(y,{value:o,children:e})}function v(){let{dispatch:e}=f();return(0,i.useMemo)(()=>({aggregatedCommentCreated(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:(t,n)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:n})=>(0,d.Z)({url:`/v3/aggregated_comments/${e}/flag/`,method:"PUT",data:{commentId:e,reason:t,detailedReasons:n}}),deleteCommentMention:async t=>{let{resource_response:n}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),i=n.data??{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:i.id,tagged_users:i.tagged_users}})},translateAggregatedComment:async t=>{try{let{resource_response:n}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),i=n.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:i}})}catch(n){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:n})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:n?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:n,isHighlighted:i})=>{r()(t,"Could not find comment"),r()(n,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:n,highlight:!i}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:n,is_highlighted:!i}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:n})=>{(0,d.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:n?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:n?0:1}}})},updateAggregatedComment:async({commentId:t,force:n,orbacSubjectId:i,tags:a,text:l})=>{let{resource_response:r}=await s.Z.create("AggregatedCommentResource",{commentId:t,force:n,tags:a,text:l,...i?{orbacSubjectId:i}:{}}).callUpdate({showError:!1}),{tagged_users:o}=r.data??{},d=o.map(e=>({...e}));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:d,tags:JSON.parse(a),text:l}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:n,passcode:i})=>{let{resource_response:a}=await s.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:n,passcode:i}).callUpdate({showError:!1}),l=a.data??Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:l}}})},updateCommentCount:(t,n)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}}),[e])}function x(){let{aggregatedComments:e}=f();return e}},413110:(e,t,n)=>{"use strict";n.d(t,{n:()=>a,o:()=>i});let i={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},a={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},239821:(e,t,n)=>{"use strict";n.d(t,{g:()=>p,I:()=>u});var i=n(667294),a=n(342513),l=n(705895),r=n(259866);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},o=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:a,currentTime:l}=n,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:o,promotedVideosAutoplaying:d,organicVideosAutoplaying:c}=s,u=(0,r.Z)(d),p=(0,r.Z)(c);return!a&&o?e:(a?u[i]={pinId:i,currentTime:l,paused:!1}:p[i]={pinId:i,currentTime:l,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?o:i,promotedVideosAutoplaying:u,organicVideosAutoplaying:p}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:a,currentTime:l}=n,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:o,organicVideosAutoplaying:d}=s,c=(0,r.Z)(o),u=(0,r.Z)(d);return a?c[i]={...c[i],paused:!0,currentTime:l}:u[i]={...u[i],paused:!0,currentTime:l},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type)return{...e,footerPlusButtonVisible:t.payload};return e};var d=n(785893);let{Provider:c,useHook:u}=(0,a.Z)("AppUI");function p({children:e}){let[t,n]=(0,i.useReducer)(o,s),a=(0,i.useCallback)(e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),r=(0,i.useCallback)(e=>n({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,i.useCallback)(e=>n({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,i.useCallback)(e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),m=(0,i.useCallback)(e=>n({type:"SET_IS_AUTOPLAY",payload:e}),[]),h=(0,i.useCallback)(e=>n({type:"SET_VIEWPORT_SIZE",payload:e}),[]),g=(0,i.useCallback)(e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),_=(0,i.useMemo)(()=>({pauseAutoplay:a,setCurrentVideo:u,setFooterPlusButtonVisible:p,setIsAutoplay:m,setViewportSize:h,toggleTypeaheadOverlay:g,setAppFocusState:r,appUI:t}),[a,u,p,m,h,g,r,t]);return(0,i.useEffect)(()=>{l.Z.onSessionResume(()=>{r(!0)}).onSessionPause(()=>{r(!1)})},[r]),(0,d.jsx)(c,{value:_,children:e})}},467139:(e,t,n)=>{"use strict";n.d(t,{UP:()=>s,Wv:()=>a,ZF:()=>i,zI:()=>l,zl:()=>r});let i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],l=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],s=["BaseBoardPinGrid"]},740707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s}),n(422578);var i,a=n(207012),l=n(899394);let r=void 0!==i?i:i=n(494262);function s({pinKey:e,feedbackType:t,viewParameter:n}){let i=(0,a.Z)(r,e);return function({feedbackType:e,viewParameter:t,boardFollowedByMe:n,hasPromoter:i,isDownstreamPromotion:a,pinnerFollowedByMe:r,hasRecommendationReason:s,recommendationReasonHasBoard:o,recommendationReasonReason:d}){return(0,l.hP)({boardFollowedByMe:n,feedbackType:e,promotion:i?{isDownstreamPromotion:a}:void 0,pinnerFollowedByMe:r,recommendationReason:s?{hasBoard:o,reason:d}:void 0,viewParameter:t})}({feedbackType:t,viewParameter:n,boardFollowedByMe:!!i?.board?.followedByMe,hasPromoter:!!i?.promoter,isDownstreamPromotion:!!i?.isDownstreamPromotion,pinnerFollowedByMe:!!i?.pinner?.explicitlyFollowedByMe,hasRecommendationReason:!!i?.recommendationReason,recommendationReasonReason:i?.recommendationReason?.reason??void 0,recommendationReasonHasBoard:!!i?.recommendationReason?.board})}},177917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),l=n(510989),r=n(454514),s=n(140017),o=n(608516),d=n(13848),c=n(785893);let u=(0,i.lazy)(()=>n.e(4603).then(n.t.bind(n,774855,23)));function p({linkURL:e,onDidFocus:t,onDidClickCopyButton:n,onCopyText:i,toastDuration:p,oneToast:m=!1,hideInput:h=!1,buttonSize:g="lg",asLink:_=!1}){let y=(0,s.ZP)(),{showToast:f,showOneToast:b}=(0,d.F9)(),v=y._('Copy link', '[button] copy a URL link shown, to paste in another place', '[button] copy a URL link shown, to paste in another place'),x=(e,t)=>{t&&(m?b:f)(({hideToast:e})=>(0,c.jsx)(r.ZP,{duration:p,onHide:e,text:i??y._('Link copied to clipboard!', 'toast message to confirm if users copied the url successfully', 'toast message to confirm if users copied the url successfully')})),n()};return _?(0,c.jsx)(l.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,c.jsx)(o.Z,{fallback:(0,c.jsx)(a.zx,{disabled:!0,text:v}),children:(0,c.jsx)(u,{onCopy:x,text:e,children:(0,c.jsx)(a.rU,{display:"inline",href:"",children:v})})})}):(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",paddingX:h?0:4,children:[!h&&(0,c.jsx)(a.xu,{flex:"grow",marginEnd:2,children:(0,c.jsx)(a.nv,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),(0,c.jsx)(l.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,c.jsx)(o.Z,{fallback:(0,c.jsx)(a.zx,{disabled:!0,text:v}),children:(0,c.jsx)(u,{onCopy:x,text:e,children:(0,c.jsx)(a.zx,{size:g,text:v})})})})]})}},870526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(667294),a=n(883119),l=n(490166),r=n(785893);let s=40,o=70,d={__style:{borderRadius:"4px",padding:"10px 14px"}},c={__style:{borderWidth:"1px",borderStyle:"solid",borderColor:"white"}},u={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},p=e=>({__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...e}}),m=e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default",h=({color:e,icon:t})=>t?u:"transparent"===e?{__style:{...d.__style,...c.__style}}:d,g=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:g=s,minWidth:_=o,onTouch:y,pressState:f,shape:b,text:v})=>{let[x,k]=(0,i.useState)(!1),P=m(t),S=h({color:t,icon:c}),w=(0,r.jsx)(a.xu,{onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),position:"relative",children:(0,r.jsx)(a.xu,{color:"primary"===t&&x?"errorBase":t,dangerouslySetInlineStyle:"pill"===b?p(n):S,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:g,minWidth:_,children:(0,r.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,r.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,r.jsx)(a.JO,{accessibilityLabel:e,color:P,icon:c,inline:!0,size:"check"===c?16:20})}),(0,r.jsx)(a.xv,{color:P,inline:!0,lineClamp:1,size:"300",weight:"bold",children:v})]})})});return y?(0,r.jsx)(l.Z,{onTouch:y,pressState:f||"none",rounding:"pill"===b?"pill":2,children:(0,r.jsx)(a.xu,{ref:d,children:w})}):w}},233731:(e,t,n)=>{"use strict";n.d(t,{MZ:()=>L,di:()=>D,Ai:()=>F});var i=n(667294),a=n(616550),l=n(883119),r=n(286988),s=n(587703),o=n(422210),d=n(96157),c=n(340523),u=n(182962),p=n(805783),m=n(5859),h=n(191313),g=n(573810),_=n(217058),y=n(149722),f=n(90647),b=n(547010),v=n(773616),x=n(870526),k=n(460270),P=n(263148),S=n(862249),w=n(171966);let T=({children:e,external:t,externalQueryParams:n,target:i,href:l,features:r})=>{let s=(0,a.k6)();if(!l)return null;let o=(0,k.Z)(l);return e({navigate:e=>{e.preventDefault(),(0,S.Z)({url:o})||t?"undefined"!=typeof window&&window.Windows?(0,w.Z)(o):(0,P.Gj)(o,{queryParams:n,features:r}):(0,P.G3)({event:e,href:l,history:s,target:"blank"===i?"blank":null})}})};var I=n(785893),A=n(86264),E=n(669177),C=n(386008);let j=e=>"string"==typeof e?e:`${e.pathname||""}${e.search?`?${e.search}`:""}`,R=(e,t=!1)=>function({isAppUpsellDisabled:n,...x}){let{children:k,clientTrackingParams:P,deeplinkUri:S,external:w,onTouch:T,refresh:R,to:L,viewParameter:F,viewType:D}=x,O=(0,v.Z)(),[z,M]=(0,i.useState)(!1),[N,Z]=(0,i.useState)(!1),[B,U]=(0,i.useState)(!1),{isAuth:K}=(0,y.Z)(),{userAgent:{platform:V},locale:H}=(0,m.B)(),G=(0,C.Tt)(),$=(0,s.Z)(),{checkExperiment:W}=(0,c.F)(),q=(0,a.TH)(),Y=(0,u.Z)();(0,i.useEffect)(()=>{(async function(){if((0,r.v)()){U(!0);let e=await (0,r.Z)();e.length>0&&Z(!0)}})()},[]),(0,i.useEffect)(()=>{K||"true"===(0,g.qn)("hasAppInstalledWasLogged")||((0,_.My)(`unauth.app_upsell.has_app.${N.toString()}`),(0,g.Nh)("hasAppInstalledWasLogged","true"))},[N,K]);let X=()=>{$({event_type:1701,view_type:D,view_parameter:F}),z&&M(!1)};return(0,I.jsxs)(l.xu,{"data-test-id":"deeplink-wrapper",children:[z&&(0,I.jsx)(b.Z,{app_upsell_type:"deep-link-app-upsell-modal",clientTrackingParams:P,deepLinkUri:S,isOpen:!0,onDismiss:()=>{$({component:14157,element:10308,event_type:10220,view_type:D||202,view_parameter:F,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,h.Nh)("deeplinkBehavior","branchfallback"),X()},shouldTrackDismiss:!0,to:L,viewParameter:F,viewType:D}),(0,I.jsx)(A.Z,{children:i=>(0,I.jsx)(e,{...x,onTouch:e=>{let a=O&&!n&&K&&!w&&!R&&!(0,p.FP)(window)&&!("ios"===V&&(H||"").startsWith("ar"))&&(0,E.kp)((0,o.Z)(G?.created_at));if(a){let t=!0,n=!1,a="string"==typeof S&&(S||"").startsWith("/pin/")&&((0,d.uM)(q)||(0,d.am)(q)||(0,d.C$)(q));a?B&&N&&S&&"android"===V&&W("mweb_auth_deep_link_app_installed_user").anyEnabled&&(Y(),t=!1):(t=!1,n=!0),t?(e.stopPropagation(),e.preventDefault(),M(!0)):n||(e.stopPropagation(),e.preventDefault(),$({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{upsell_reason:"deep-link-app-upsell-modal"}}),i(S??(0,f.B)(q,"android"===V),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,h.qn)("deeplinkBehavior")||(0,g.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,g.Nh)("fallbackAttempt",1),i(S,"deep-link-app-upsell-modal",`${window.location.origin}${j(L)}`),X());!(t&&a)&&T&&T(e)},children:k})})]})},L=R(({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,features:a,inline:r=!1,newTab:s,nofollow:o,onTouch:d,onBlur:c,onFocus:u,pressState:p,rounding:m,to:h})=>(0,I.jsx)(T,{external:n,externalQueryParams:i,features:a,href:h,target:s?"blank":null,children:({navigate:n})=>(0,I.jsx)(l.rU,{accessibilityLabel:e,display:r?"inlineBlock":"block",href:(0,k.Z)(h),onBlur:c?({event:e})=>c(e):void 0,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),d?.(e),e.defaultPrevented||n(e)},onFocus:u?({event:e})=>u(e):void 0,rel:o?"nofollow":"none",rounding:m,tapStyle:(Array.isArray(p)?p:[p]).includes("compress")?"compress":"none",underline:"none",children:t})})),F=R(({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:a,...l})=>(0,I.jsx)(T,{external:e,externalQueryParams:t,href:a,target:n?"blank":null,children:({navigate:e})=>(0,I.jsx)(x.Z,{onTouch:t=>{i?.(t),t.defaultPrevented||e(t)},...l})})),D=R(x.Z,!0)},86264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i=n(214877),a=n(340523),l=n(5859),r=n(344064),s=n(669177),o=n(286988),d=n(624797),c=n(953565);let u="http://play.google.com/store/apps/details?id=com.pinterest",p=["access_token","new_password","new_password_confirm","password","next"],m=(e,t)=>t?(0,d.ru)(e,{invite_code:t}):e,h=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?m(e,n):"ios"===t||"ipad"===t?m(e.iOS,n):"android"===t?m(e.android,n):null},g=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:a,app_upsell_type:l})=>({deeplink_path:h(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:a,utm_source:140,utm_medium:2152,app_upsell_type:l,...i?{af_r:i}:null}),_=({deeplinkUri:e,invite_code:t,platform:n,unauthId:i,app_upsell_type:a})=>{let l=JSON.stringify({deeplink_path:h(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:i}),r=(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:l,app_upsell_type:a});return{referrer:r}},y=({unauthId:e,app_upsell_type:t})=>{let n=(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t});return{referrer:encodeURI(n)}},f=({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,logContextEvent:a,platform:l,redirectToLite:r,unauthId:s,userAgent:p,app_upsell_type:m})=>{if(a?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),t){let h=g({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,platform:l,unauthId:s,userAgent:p,app_upsell_type:m});if((0,c.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:l}}),i&&(0,c.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,c.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!s}}),r){(0,c.nP)("mweb.deeplink.lite_link",{sampleRate:1}),a?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});let e=y({unauthId:s,app_upsell_type:m});window.location.href=(0,d.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===l){let e=_({deeplinkUri:t,invite_code:i,platform:l,unauthId:s,app_upsell_type:m});(0,o.v)()?(0,o.Z)().then(t=>{if(t.length>0){let e=(0,d.ru)(window.location.href,h);a?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});let t=window.open(e);t||a?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}})}else a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)(u,e)}).catch(()=>{(0,c.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)(u,e))}else{if((0,c.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===l&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,d.ru)("https://pinterest.com/pinterest-predicts",h);return}a?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",h)}}};var b=n(785893);function v({children:e,invite_code:t}){let{isAuthenticated:n,isBot:r,unauthId:o,userAgent:{platform:d,raw:c}}=(0,l.B)(),{logContextEvent:u}=(0,i.v)(),{checkExperiment:p}=(0,a.F)(),m=async(e,i,a)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),f({isAuthenticated:n,checkExperiment:p,deeplinkUri:e,fallbackUrl:a,invite_code:t,logContextEvent:u,platform:d,redirectToLite:(0,s.Rp)({isBot:r,platform:d,userAgent:c}),unauthId:o,userAgent:c,app_upsell_type:i})};return e(m)}let x=e=>(0,b.jsx)(r.ty,{children:t=>(0,b.jsx)(v,{...e,invite_code:t})});x.displayName="DeepLinkNavigator";let k=x},395391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),l=n(587703),r=n(178093),s=n(953565),o=n(785893);function d(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=(e,t)=>{let n=e&&e.replace(".","_");return t?n&&n.substring(0,50):n};class u extends i.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",()=>new Promise((e,t)=>{"undefined"==typeof window&&t();let{filename:n,imgSrc:i,isAndroidTwa:a,isChromeOnIOS:l,isUnauth:r,logContextEvent:o,category:d,viewParameter:u,viewType:p,pinId:m,imageSignature:h}=this.props,{href:g}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(i,c(n,a)),e()):l?(this.imageDownload&&this.imageDownload.click(),e()):null==g&&fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(t=>{this.setState({href:window.URL.createObjectURL(t)},()=>{this.imageDownload&&(this.imageDownload.click(),e())})}).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),(0,s.nP)(`mweb.${r?"unauth":"auth"}.download.click.${d||"no_category"}`),o({event_type:82,object_id_str:m,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:h}})})),d(this,"DOWNLOAD_ERROR","error")}render(){let{children:e,filename:t,imgSrc:n,isAndroidTwa:l,isChromeOnIOS:r}=this.props,{href:s}=this.state,d=null!=s&&s!==this.DOWNLOAD_ERROR;return(0,o.jsxs)(i.Fragment,{children:[e(this.onEvent),r&&n?(0,o.jsx)(a.xu,{display:"none",children:(0,o.jsx)("a",{ref:e=>this.imageDownload=e,href:n,rel:"noopener noreferrer",tabIndex:-1,target:"_blank"})}):d&&(0,o.jsx)(a.xu,{display:"none",children:(0,o.jsx)("a",{ref:e=>this.imageDownload=e,download:c(t,l),href:s,tabIndex:-1})})]})}}function p(e){let t=(0,r.xC)(),n=(0,l.Z)();return(0,o.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:n})}},94521:(e,t,n)=>{"use strict";n.d(t,{H:()=>s,Z:()=>r});var i=n(224796),a=n(731714),l=n(217058);async function r({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:i,pinId:a,viewParameter:r,viewType:s,isUnauth:o=!1,platform:d="web",expName:c,expGroup:u},p){return"undefined"==typeof window?Promise.resolve():((0,l.My)("web.download.click",{category:i||"no_category",authType:o?"unauth":"auth",platform:d,viewType:s,expName:c,expGroup:u}),p({event_type:82,object_id_str:a,view_type:s||3,view_parameter:r||139}),t&&document)?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(t=>{let a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.setAttribute("download",e&&e.replace(".","_")),a.style.display="none",document.body?.appendChild(a),a.click(),document.body?.removeChild(a),(0,l.My)("web.download.success",{category:i||"no_category",authType:o?"unauth":"auth",platform:d,viewType:s,expName:c,expGroup:u}),n?.()}).catch(()=>{throw(0,l.My)("web.download.failure",{category:i||"no_category",authType:o?"unauth":"auth",platform:d,viewType:s,expName:c,expGroup:u}),Error("Download image error")}):Promise.resolve()}let s=(e,t)=>{let n=a.Z.getItem(i.rN)||0,{group:l}=e(t),r=!!l&&l.startsWith("enabled");if(!r)return{expName:t,expGroup:l,limitReached:!0,oldCount:n,newCount:n};let s=l.split("_").pop(),o=s?parseInt(s,10):0,d=n>=o,c=d?n:n+1;return n!==c&&a.Z.setItem(i.rN,c),{expName:t,expGroup:l,limitReached:d,oldCount:n,newCount:c}}},213503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S}),n(167912);var i,a=n(883119),l=n(587703),r=n(207012),s=n(140017),o=n(340523),d=n(48481),c=n(217058),u=n(623409),p=n(13848),m=n(554786),h=n(494125),g=n(149722),_=n(735728),y=n(358589),f=n(386008),b=n(155087),v=n(155117),x=n(785893);let k=({children:e,pulsar:t,testId:n})=>t.show?(0,x.jsx)(a.xu,{"data-test-id":n,position:"relative",children:(0,x.jsxs)(a.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,x.jsx)(a.o3,{})})]})}):(0,x.jsx)(a.xu,{"data-test-id":n,children:e}),P=void 0!==i?i:i=n(628596);function S({auxData:e,disabled:t,disableLog:n,followEventType:i,id:S,inline:w,invertColors:T,isFollowed:I,isIdeaPin:A,isLegoEnabled:E,isSecondaryButton:C,isUserFollowButton:j,isUserMe:R,onFollow:L,onUnfollow:F,pinKey:D,shouldUseLegoColors:O,showPulsar:z,size:M,textType:N="FollowFollowing",unfollowEventType:Z,viewParameter:B,viewType:U,clientTrackingParams:K}){let V;let H=(0,s.ZP)(),G=(0,m.HG)(),{showToast:$}=(0,p.F9)(),W=(0,u.Z)(),q=(0,l.Z)(),Y=(0,d.Z)(),{checkExperiment:X}=(0,o.F)(),J=(0,y.Z)(),Q=(0,g.Z)(),ee=Q&&Q.isAuth,{unauthFollowUserId:et,setUnauthFollowUserId:en}=(0,v.f)(),ei=(0,f.mN)()(S),ea=ei&&{imageMediumUrl:ei.image_medium_url,username:ei.username},el=(0,r.Z)(P,D),er=el?.linkDomain,es=el?.nativeCreator,eo=el?.originPinner,ed=el?.pinner;V=es||(er?er.officialUser:eo||ed);let ec=ea??V;(0,h.Z)(()=>{!G&&ee&&et&&S&&et===S&&L(S)});let eu=J({fn:()=>{ee?I?(F(S),n||q({event_type:Z,view_type:U,view_parameter:B,object_id_str:S,aux_data:e,clientTrackingParams:K})):(L(S),j&&$(({hideToast:e})=>{let t=ec?.username?`/${ec.username}/`:"";return(0,x.jsx)(b.Z,{handleHide:e,href:t,imageUrl:ec?.imageMediumUrl||"",text:H._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:S})}),n||q({event_type:i,view_type:U,view_parameter:B,object_id_str:S,aux_data:e,clientTrackingParams:K})):((0,c.NC)(I?"press_profile_unfollow":"press_profile_follow"),W({action:"click",item:I?"unfollow-button":"follow-button"}),Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:A?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:G&&X("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!G&&X("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),G||en(S??""),(0,c.NC)("clickthrough"))},modalHeader:(0,_.N4)({i18n:H,toFollow:!I})}),ep=!I&&!!z,em=()=>{if(R)return H._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===N)return I?H._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):H._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===N?H._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):H._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return I?e:H._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(k,{pulsar:ep?{show:!0,onClick:eu}:{show:!1},testId:R||I?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(a.zx,{accessibilityLabel:em(),color:O||"AddRemove"===N||!E&&C||I?"gray":"red",disabled:R||t,fullWidth:w,onClick:ep?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||q({event_type:101,component:13672,element:11951,object_id_str:S,view_type:U,view_parameter:B,aux_data:e,clientTrackingParams:K}),eu()},selected:T?!I:O&&I||!!I&&C,size:M,text:em()})})}},407996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),a=n(140017),l=n(785893);let r=({isInModal:e})=>{let t=(0,a.ZP)();return(0,l.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),children:(0,l.jsx)(i.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},983983:(e,t,n)=>{"use strict";n.d(t,{L1:()=>l,Rz:()=>o,WZ:()=>r,cI:()=>a,fe:()=>s,hu:()=>i});let i=64,a=80,l=22,r="HeaderContent",s=671,o={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},206923:(e,t,n)=>{"use strict";n.d(t,{fv:()=>g,fS:()=>v,lu:()=>x,Mv:()=>m,uc:()=>h,dL:()=>p,qS:()=>_,Y4:()=>b,HE:()=>f,Cy:()=>y});var i=n(666472),a=n(667294),l=n(263032),r=n(214877),s=n(30378),o=n(340523),d=n(5859),c=n(194602);function u({auxData:e,component:t,eventData:n,eventType:i,impressionType:u,isPaused:p,objectIdStr:m,viewData:h,viewType:g,viewParameter:_}){let y=(0,a.useRef)(null),{logImpression:f}=(0,r.v)(),b=(0,c.Z)(),v=(0,d.B)(),x=v.isAuthenticated,{checkExperiment:k}=(0,o.F)(),P=k(x?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled,S=(0,a.useCallback)(()=>{try{if(y.current instanceof HTMLElement){let{pinIdStr:a,newsIdStr:r}=n;s.Z.start(y.current).onExitViewport(a=>{if(y.current&&P){let l=new IntersectionObserver(([r])=>{f({viewData:h||{},viewType:g,viewParameter:_,eventType:i,impressionType:u,auxData:e,component:t,objectIdStr:m,eventData:{endTime:a.endTime,time:a.startTime,pinCellWidth:r.boundingClientRect.width||0,pinCellHeight:r.boundingClientRect.height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,...n}}),y.current&&l.unobserve(y.current)});y.current&&l.observe(y.current)}else f({viewData:h||{},viewType:g,viewParameter:_,eventType:i,impressionType:u,auxData:e,component:t,objectIdStr:m,eventData:{endTime:a.endTime,time:a.startTime,pinCellWidth:y.current?.getBoundingClientRect().width||0,pinCellHeight:y.current?.getBoundingClientRect().height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,...n}});let{attributionSourceId:r,campaignId:s,isPromoted:o,link:d,adDestinationUrl:c,domain:p,advertiserId:x}=n;"pinImpressions"===u&&o&&!b&&window.document.featurePolicy?.allowsFeature("attribution-reporting")&&(0,l.YS)(u,o,r??null,d,s,{appType:v.appTypeDetailed,osType:(0,l.eF)(v.userAgent.osName??"Unknown")},x??null,p,c)}).setDebugId(a||r||"unknown")}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[y.current]);return(0,a.useEffect)(()=>{p||S();let{current:e}=y;return()=>{e instanceof HTMLElement&&s.Z.stop(e)}},[p,S]),y}let p=e=>{let t=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},m=e=>{let t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},h=e=>{let t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},g=e=>{let t=u({eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{let t=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>{let t=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=e=>{let t=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>{let t=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},v=e=>{let t=u({eventData:{...e.impressionData||{},boardIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},x=e=>{let t=(0,i.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})}},490166:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);function l({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:l,rounding:r,fullWidth:s=!1,pressState:o="none",accessibilityLabel:d,role:c}){let u=(Array.isArray(o)?o:[o]).includes("compress");return(0,a.jsx)(i.iP,{accessibilityLabel:d,fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:l&&(({event:e})=>l(e)),role:c,rounding:r,tapStyle:u?"compress":"none",children:e})}},911049:(e,t,n)=>{"use strict";n.d(t,{H:()=>f,Z:()=>v});var i=n(667294),a=n(616550),l=n(883119),r=n(140017),s=n(406893),o=n(160133),d=n(96157),c=n(5859),u=n(554786),p=n(587703),m=n(623409),h=n(785893);function g({breadcrumb:e,isLastBreadcrumb:t,viewType:n,isHubPage:i}){let a=(0,p.Z)(),r=(0,m.Z)();return(0,h.jsx)(l.xu,{color:t?"secondary":void 0,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:t?2:void 0,paddingY:t?1:void 0,rounding:"pill",children:(0,h.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(l.rU,{href:e.url??"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),r({action:"click",item:"breadcrumb"}),a({event_type:102,component:176,element:1155,view_parameter:3713,view_type:n})},children:(0,h.jsx)(l.xv,{color:i&&!t?"light":"default",inline:!0,overflow:"noWrap",size:"100",children:e.name})}),!t&&(0,h.jsx)(l.xu,{display:"inlineBlock",paddingX:3,children:(0,h.jsx)(l.xv,{color:i&&!t?"light":"default",inline:!0,size:"100",children:(0,h.jsx)(l.JO,{accessibilityLabel:"breadcrumb arrow",color:i?"light":"default",icon:"arrow-forward",size:8})})})]})})}var _=n(255095);let y=`
  .article-row {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  div::-webkit-scrollbar {
    display: none;
  }
`,f=50.5;function b({direction:e,rightOverflowGradientOffset:t}){return(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0), #fff)`,pointerEvents:"none",right:t?`${t}px`:void 0}},height:32,left:"left"===e,position:"absolute",right:"right"===e,width:48})}function v({breadcrumbs:e,disableOverflowGradient:t,shouldHideLazyExploreButton:n,isHubPage:p,shouldLeftAlign:m,rightOverflowGradientOffset:v,contentRef:x}){let k=(0,r.ZP)(),P=(0,a.TH)(),{origin:S}=(0,c.B)(),w=(0,u.ml)(),T=(0,u.HG)(),[I,A]=w?[2,3]:[4,4],E=(0,d.Q0)(P),C=!1,j=202;(0,d.uM)(P)?j=3:(0,d.dr)(P)?(j=442,C=!0):(0,d.$Y)(P)||(0,d.E0)(P)?j=1:E&&(C=!0,j=580);let R=E?{name:k._('Watch', 'unauth.header.tabs.videos', 'label for videos root'),url:"/videos/"}:{name:k._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'),url:"/ideas/"},L=C?e.slice(0,e.length-1):[...e],F=[...E||!n?[R]:[],...L];return(0,h.jsxs)(l.xu,{"data-test-id":"breadcrumbs",children:[(0,h.jsx)(s.Z,{unsafeCSS:y}),(0,h.jsx)(o.Z,{children:(0,h.jsx)(l.xu,{alignItems:m?"start":"center",dangerouslySetInlineStyle:{__style:{flexDirection:m?void 0:"row-reverse"}},"data-test-id":"breadcrumbs-list",direction:"column",display:"flex",height:f,justifyContent:T?"center":void 0,overflow:"scrollX",paddingY:A,children:(0,h.jsxs)(l.xu,{ref:x,alignItems:"center",display:"flex",justifyContent:"end",margin:T||m?void 0:"auto",paddingX:I,children:[!t&&(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(b,{direction:"left"}),(0,h.jsx)(b,{direction:"right",rightOverflowGradientOffset:v})]}),F.map((e,t,n)=>(0,h.jsx)(g,{breadcrumb:e,isHubPage:p,isLastBreadcrumb:t===n.length-1,viewType:j},e.url))]})})}),(0,h.jsx)(_.Z,{testId:"breadcrumbs-list-metadata",type:"application/ld+json",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{name:k._('Pinterest', 'unauth.header.tabs.pinterest', 'label for pinterest website'),url:""},R,...e].map((e,t)=>({"@type":"ListItem",position:t+1,name:e.name,item:`${S}${e.url??""}`}))}})]})}},290550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i,a=n(667294),l=n(167912),r=n(883119),s=n(695238),o=n(995917),d=n(911049),c=n(785893);let u=void 0!==i?i:i=n(554714),p=(0,s.Z)({useGraphQLAdapter:e=>{let t=(0,l.useLazyLoadQuery)(u,{pinId:e});return{breadcrumbs:t.v3GetPinQuery?.data?.pinJoin?.seoBreadcrumbs?.map(({name:e,url:t})=>({name:e??"",url:t??""}))??[],shouldHideLazyExploreButton:!1}},useLegacyAdapter:e=>{let{data:t,isLoaded:n}=(0,o.Z)({name:"PinResource",options:{id:e,field_set_key:"unauth_ssr_lazy_load"}});return{shouldHideLazyExploreButton:!n,breadcrumbs:t?.pin_join?.seo_breadcrumbs||[]}}}),m=({windowWidth:e,breadcrumbsWidth:t})=>e-t-96>=0;function h({pinId:e,shouldUseGraphQL:t,rightOverflowGradientOffset:n,isUnauthMwebProminentSearchBarExpIconGroup:i}){let[l,s]=(0,a.useState)(!1),o=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{if(o.current&&i){let{width:e}=o.current.getBoundingClientRect(),t=window.innerWidth;s(!m({windowWidth:t,breadcrumbsWidth:e}))}},[i]),(0,c.jsx)(p,{input:t?{enabled:!0,data:e,suspense:{fallback:(0,c.jsx)(d.Z,{breadcrumbs:[],shouldHideLazyExploreButton:!0})}}:{enabled:!1,data:e},children:({data:{breadcrumbs:e,shouldHideLazyExploreButton:t}})=>(0,c.jsx)(r.xu,{marginEnd:l?12:void 0,children:(0,c.jsx)(d.Z,{breadcrumbs:e,contentRef:o,rightOverflowGradientOffset:n,shouldHideLazyExploreButton:t})})})}},189:(e,t,n)=>{"use strict";n.d(t,{G:()=>p,Kl:()=>m,vo:()=>u});var i=n(667294),a=n(342513),l=n(638747),r=n(587070),s=n(785893);let o=()=>n.e(70809).then(n.bind(n,570809)),{Provider:d,useHook:c}=(0,a.Z)("NativeEngagements");function u({children:e}){let[t,n]=(0,r.Z)(o,[]),a=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,l.Z8)("NativeInteractionsResource",a),(0,l.my)("NativeInteractionsResource",a);let c=(0,i.useMemo)(()=>({dispatch:n,nativeEngagements:t}),[n,t]);return(0,s.jsx)(d,{value:c,children:e})}function p(){let{dispatch:e}=c();return(0,i.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function m(){let{nativeEngagements:e}=c();return e}},33767:(e,t,n)=>{"use strict";n.d(t,{U:()=>p,m:()=>m});var i=n(667294),a=n(702664),l=n(342513),r=n(422210),s=n(588664),o=n(340523),d=n(149722),c=n(785893);let{Provider:u,useHook:p}=(0,l.Z)("NavFooterContext");function m({children:e}){let[t,n]=(0,i.useState)(),[l,p]=(0,i.useState)(!1),[m,h]=(0,i.useState)(0),[g,_]=(0,i.useState)(!1),[y,f]=(0,i.useState)(!1),[b,v]=(0,i.useState)(!1),{checkExperiment:x}=(0,o.F)(),k=(0,s.Z)(null,(0,d.Z)()),P=(0,a.useSelector)(e=>e.session.isAuthenticated),S=(0,a.useSelector)(e=>P?e.users[e.session.userId]:void 0),w=(0,r.Z)(S?.created_at),T=x("mweb_modernize_navbar").anyEnabled,I=P&&(T&&k||w);return(0,c.jsx)(u,{value:{forceShowNavFooter:b,homeFlyoutText:t,isNavFooterHiddenAfterScroll:l,navFooterHeight:l?0:T?I?64:52:60,numUnauthSavedPins:m,setForceShowNavFooter:v,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:p,setNumUnauthSavedPins:h,setShowHomeBadge:_,setShowHomeFlyoutWithButton:f,showHomeBadge:g,showHomeFlyoutWithButton:y},children:e})}},69979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),a=n(232887);let l=new i.H3([a.Z]),r=l},810052:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,a:()=>l});var i=n(342513);let{Provider:a,useMaybeHook:l}=(0,i.Z)("unauthPageWrapperContext")},477455:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,T:()=>s});var i=n(667294),a=n(785893);let l=(0,i.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),r=()=>(0,i.useContext)(l);function s({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:i})=>n({...t,[e]:i})}),[t]);return(0,a.jsx)(l.Provider,{value:r,children:e})}},570253:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var i=n(224796),a=n(191313),l=n(580472);let r=({canUpsellNativeApp:e})=>{let t;if("undefined"==typeof window)return t;let n=(0,a.qn)(i.CP),r=!!(n&&Date.now()-Number(n)<864e5),s=(0,a.qn)(i.X)||0,o=Number(s)>=3,d=(0,a.qn)(l.V5),c=Date.now()-Number(d)<l.UH?(0,a.qn)(l.QJ):0,u=c>=l.km;return!e||r||o?u||(t="saveSend"):t="appUpsell",t}},706569:(e,t,n)=>{"use strict";n.d(t,{GY:()=>v,Jg:()=>b,bR:()=>x,fW:()=>k});var i=n(184508),a=n(147916),l=n(167361),r=n(697031),s=n(404247),o=n(836866),d=n(620668),c=n(86119),u=n(753873),p=n(873774),m=n(110099),h=n(244892),g=n(485846),_=n(461471),y=n(662502),f=n(239784);let b=["goodIdea","love","thanks","wow","haha"],v={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},x={goodIdea:7,love:1,thanks:13,wow:11,haha:5},k=({i18n:e,type:t})=>{let n={default:{staticAsset:p},goodIdea:{backgroundColor:"yellow-caramellow-50",staticAsset:l,animatedAsset:i,gridAsset:a,label:e._('Good idea', 'Reaction label to tell a creator that their pin is a good idea', 'Reaction label to tell a creator that their pin is a good idea'),htmlStyle:`
      @keyframes play90 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -7380px 0px;
        }
      }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{backgroundColor:"purple-mysticool-100",staticAsset:o,animatedAsset:r,gridAsset:s,label:e._('Haha', 'Reaction label to tell a creator that the pinner laughed because of their pin', 'Reaction label to tell a creator that the pinner laughed because of their pin'),htmlStyle:`
      @keyframes play60 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -4920px 0px;
        }
      }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{backgroundColor:"red-pushpin-100",staticAsset:u,animatedAsset:d,gridAsset:c,label:e._('Love', 'Reaction label to tell a creator that the pinner loved their pin', 'Reaction label to tell a creator that the pinner loved their pin'),htmlStyle:`
      @keyframes play90 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -7380px 0px;
        }
      }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{backgroundColor:"teal-spabattical-100",staticAsset:g,animatedAsset:m,gridAsset:h,label:e._('Thanks', 'Reaction label to tell a creator thank you', 'Reaction label to tell a creator thank you'),htmlStyle:`
      @keyframes play60 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -4920px 0px;
        }
      }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{backgroundColor:"orange-firetini-50",staticAsset:f,animatedAsset:_,gridAsset:y,label:e._('Wow', 'Reaction label to tell a creator that the pinner was wowed by their pin', 'Reaction label to tell a creator that the pinner was wowed by their pin'),htmlStyle:`
      @keyframes play90 {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: -7380px 0px;
        }
      }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return n[t]||null}},738012:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var i=n(667294),a=n(702664),l=n(883119),r=n(587703),s=n(140017),o=n(995917),d=n(718423),c=n(358589),u=n(706569),p=n(785893);let m="cubic-bezier(0, 0, 0.58, 1)",h={loaded:{opacity:1,transitionDuration:"0.20s",transitionTimingFunction:m,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"},fade:{opacity:.1,transitionDuration:"0.30s",transitionTimingFunction:m,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"}};function g({reactionLabel:e,handleHideConfirmation:t}){let[n,a]=(0,i.useState)("loaded"),r=(0,i.useRef)();return(0,i.useEffect)(()=>{r.current=requestAnimationFrame(()=>{setTimeout(()=>a("fade"),1e3),setTimeout(()=>t(),1300)})},[]),(0,p.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"relative",children:(0,p.jsx)(l.xu,{ref:r,alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{...h[n],whiteSpace:"nowrap"}},display:"flex",height:"20px",justifyContent:"center",paddingX:2,paddingY:1,position:"absolute",rounding:"pill",children:(0,p.jsx)(l.xv,{color:"inverse",overflow:"normal",size:"100",weight:"bold",children:e})})})}var _=n(406893),y=n(490166);let f="cubic-bezier(0.25, 0.1, 0.25, 1)",b={icon:{backgroundRepeat:"no-repeat",backgroundSize:"cover"},loading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(25px) scale(1.28)"},loaded:{opacity:1,transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(0px) scale(1.28)"},clicked:{transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform",transform:"translateZ(0) translateY(-50px) scale(1.2)"},flying:{transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform"},label:{transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform",transform:"translateZ(0) translateY(0) scale(0.8)",whiteSpace:"nowrap"},fading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:f}},v={boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)"};function x({handleReactionClick:e,isCentered:t,isIdeaPinCloseUp:n,isInCommentModule:a,marginTop:o,reactionButtonRect:d,shouldShowReactionTrayUp:c,viewType:m,viewParameter:h,reactionPickerRef:g}){let f=(0,s.ZP)(),x=(0,r.Z)(),[k,P]=(0,i.useState)("loading"),[S,w]=(0,i.useState)(""),[T,I]=(0,i.useState)(),[A,E]=(0,i.useState)(),[C,j]=(0,i.useState)(!1),[R,L]=(0,i.useState)({}),F=(0,i.useRef)(),D=(0,i.useRef)({}),O=()=>{j(!0);let e={...R};u.Jg.forEach(t=>{D.current[t]&&!e[t]&&(e[t]=D.current[t].getBoundingClientRect())}),L(e)},z=()=>{let e={...T};u.Jg.forEach(t=>{let n=R[t],{left:i,top:a}=d,{left:l,top:r}=n,s=i-l-7+1.25*u.Jg.indexOf(t);e[t]={translateX:s,translateY:a-r-8.5}}),I(e)};(0,i.useEffect)(()=>{"loading"===k&&(F.current=requestAnimationFrame(()=>P("loaded"))),!T&&C&&z()},[C]);let M=()=>{document.body&&document.body.style&&(document.body.style.overflow="hidden")},N=()=>{document.body&&document.body.style&&(document.body.style.overflow="unset")},Z=e=>{let t;return C&&u.Jg.forEach(n=>{let i=R[n];if(i&&i.left&&i.right){let{left:a,right:l}=i;e>=a&&e<=l&&(t=n)}}),t||null},B=t=>{a&&t.stopPropagation(),O(),M();let{clientX:n}=t,i=Z(n);if(i!==S&&i){if(A&&S){let{type:e}=(0,u.fW)(i);x({event_type:105,element:11354,view_type:m,view_parameter:h,aux_data:{reaction_type:e,duration:`${(Date.now()-A)/1e3} seconds`}})}else!A&&S&&E(Date.now());w(i),P("clicked"),setTimeout(()=>{P("flying"),setTimeout(()=>{e(i)},800),N()},750)}},U=u.Jg.map((e,t)=>{let n={transitionDelay:`${.2*(t/u.Jg.length)}s`},i={};T&&(i={transform:`translateZ(0) translateX(${T[e].translateX}px) translateY(${T[e].translateY}px) scale(1)`});let{staticAsset:a,animatedAsset:r,label:s,htmlStyle:o,animationStyle:d}=(0,u.fW)({i18n:f,type:e});return(0,p.jsx)(l.xu,{alignSelf:"center",display:"flex",children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{zIndex:e===S&&"clicked"===k?"3":"2"}},children:(0,p.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{..."loading"===k||"loaded"===k||S===e&&"clicked"===k||S===e&&"flying"===k?b[k]:{},...S!==e&&("clicked"===k||"flying"===k)?b.loaded:{},..."loading"===k||"loaded"===k?n:{},...S===e&&"flying"===k?i:{},...S!==e&&"flying"===k?b.fading:{},transformOrigin:"left"}},display:"flex",justifyContent:"center",maxHeight:"flying"===k?24:32,maxWidth:"flying"===k?24:32,position:"relative",children:[S!==e&&(0,p.jsx)(l.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${a})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:32,width:32})}),(0,p.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",position:"relative",children:[(0,p.jsx)(_.Z,{unsafeCSS:o}),S===e&&"clicked"===k&&(0,p.jsx)(l.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:b.label},display:"flex",height:20,justifyContent:"center",paddingX:2,paddingY:1,rounding:"pill",children:(0,p.jsx)(l.xv,{color:"inverse",overflow:"normal",size:"100",weight:"bold",children:s})}),(0,p.jsx)(y.Z,{onTouch:B,pressState:"none",children:(0,p.jsx)(l.xu,{ref:t=>{D.current[e]=t},alignItems:"center",dangerouslySetInlineStyle:{__style:{...b.icon,...S===e&&"clicked"===k?{animation:d}:{},backgroundImage:`url(${r})`}},display:"flex",height:S===e&&"flying"!==k?82:"flying"===k?24:32,justifyContent:"center",width:S===e&&"flying"!==k?82:"flying"===k?24:32})})]})]})})},t)});return(0,p.jsx)(l.xu,{children:(0,p.jsx)(l.xu,{ref:g,alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:n?-295:0,marginTop:o||(c?-80:80),userSelect:"none"}},"data-test-id":"reaction-tray",display:"flex",justifyContent:"center",left:!0,position:"absolute",right:t,top:!0,children:(0,p.jsx)(l.Le,{top:0,children:(0,p.jsx)(l.xu,{alignItems:"center",color:"flying"===k?"transparent":"default",dangerouslySetInlineStyle:{__style:{..."flying"!==k?v:{},userSelect:"none"}},display:"flex",height:80,justifyContent:"center",rounding:"pill",width:300,children:(0,p.jsx)(l.xu,{width:"100%",children:(0,p.jsx)(l.xu,{display:"flex",justifyContent:"evenly",onTouchEnd:()=>{S&&(P("flying"),setTimeout(()=>{e(S)},325)),N()},onTouchMove:e=>{M();let{clientX:t}=e.touches[0],n=Z(t);if(n!==S){if(A&&S&&n&&(0,u.fW)(n)){let{type:e}=(0,u.fW)(n);x({event_type:105,element:11354,view_type:m,view_parameter:h,aux_data:{reaction_type:e,duration:`${(Date.now()-A)/1e3} seconds`}})}else!A&&S&&E(Date.now());w(n)}P("clicked")},onTouchStart:()=>{O()},children:U})})})})})})}x.defaultProps={isCentered:!1};var k=n(137525);function P(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.PureComponent{static getDerivedStateFromProps(e,t){let{reactions:n,viewer:i}=e,{isReactionsLoaded:a}=t;if(n.length>0&&!a){let e=!1,t=0;return n.forEach(n=>{i&&i.id&&n&&(n.user.id??n.user)===i.id&&(e=!0,t=n.reaction_type)}),{didViewerReact:e,userReaction:t?u.GY[t]:"",isReactionsLoaded:!0}}return null}constructor(e){super(e),P(this,"state",{isReactionTrayShowing:!1,reactionButtonRect:null,showConfirmation:!1,didViewerReact:!1,userReaction:null,isReactionsLoaded:!1}),P(this,"trayCloseTimer",null),P(this,"observer",null),P(this,"reactionPickerRef",(0,i.createRef)()),P(this,"handleClickOutside",e=>{let{isReactionTrayShowing:t}=this.state;t&&this.reactionPickerRef&&e.target instanceof Element&&!this.reactionPickerRef.current?.contains(e.target)&&this.setState({isReactionTrayShowing:!1})}),P(this,"setReactionButtonRect",()=>{if(this.reactionButton){let e=this.reactionButton.getBoundingClientRect(),{height:t,width:n,top:i,right:a}=e,l=document.createElement("div");l.style.height=t+"px",l.style.width=n+"px",l.style.top=i+"px",l.style.right=a+"px",l.style.position="absolute",l.style.zIndex="-1",document.body?.append(l),this.setState({reactionButtonRect:e})}}),P(this,"handleIconPositionChange",e=>{e.forEach(e=>{e.intersectionRatio<1&&this.setReactionButtonRect()})}),P(this,"handleScroll",()=>{let{isReactionTrayShowing:e}=this.state;e&&this.hideReactionTray(),this.setReactionButtonRect()}),P(this,"onReactionClick",async e=>{let{addReaction:t,i18n:n,reactionPinId:i,userId:a,clientTrackingParams:l,incrementReactionCount:r,onReactionUpdated:s,pinId:o}=this.props,{type:d}=(0,u.fW)({i18n:n,type:e});await t(d,i,a,l),s&&s(),r(o,d),this.handleShowConfirmation()}),P(this,"handleShowConfirmation",()=>{this.setState({showConfirmation:!0})}),P(this,"handleHideConfirmation",()=>{this.setState({showConfirmation:!1})}),P(this,"handleReactionClick",e=>{this.setState({userReaction:e,didViewerReact:!0},()=>{this.onReactionClick(e),this.trayCloseTimer=setTimeout(this.hideReactionTray,250)})}),P(this,"hideReactionTray",()=>{this.setState({isReactionTrayShowing:!1})}),P(this,"handleClick",e=>{let{didViewerReact:t,userReaction:n}=this.state,{isInCommentModule:i,removeReaction:a,reactionPinId:l,userId:r,requireAuthForLimitedLogin:s,decrementReactionCount:o,onReactionUpdated:d,pinId:c,logContextEvent:p}=this.props;i&&e.stopPropagation(),t||p({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),s({fn:async()=>{t?(await a(l,r),n&&(o(c,u.bR[n]),d&&d()),this.setState({isReactionTrayShowing:!1,userReaction:null,didViewerReact:!1})):this.setState({isReactionTrayShowing:!0})}})()}),P(this,"handleOneClickReact",()=>{let{didViewerReact:e,userReaction:t}=this.state,{removeReaction:n,reactionPinId:i,userId:a,requireAuthForLimitedLogin:l,decrementReactionCount:r,pinId:s,logContextEvent:o}=this.props;e||o({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),l({fn:()=>{e?(n(i,a),t&&r(s,u.bR[t]),this.setState({userReaction:null,didViewerReact:!1})):this.onReactionClick("love")}})()}),this.reactionPickerRef=(0,i.createRef)(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.observer=new window.IntersectionObserver(this.handleIconPositionChange),this.reactionButton&&this.observer.observe(this.reactionButton),this.setReactionButtonRect(),window.addEventListener("scroll",this.handleScroll),window.addEventListener("mouseover",this.setReactionButtonRect),window.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mouseover",this.setReactionButtonRect),window.removeEventListener("mousedown",this.handleClickOutside),clearTimeout(this.trayCloseTimer)}render(){let{isReactionTrayShowing:e,reactionButtonRect:t,userReaction:n,showConfirmation:i,didViewerReact:a}=this.state,{experience:r,i18n:s,nativePinType:o,hasBackground:c,inCommentModuleExp:m,isInCommentModule:h,isIdeaPinCloseUp:_,iconColor:y,isTextButton:f=!1,isTrayPositionRelative:b}=this.props,{animatedAsset:v,staticAsset:k,label:P}=(0,u.fW)({i18n:s,type:a&&n?n:"default"}),S=h?t?.top+window.scrollY+48:48;return(0,p.jsxs)(l.xu,{position:b?"relative":void 0,children:[e&&!!t&&!!t.left&&!!t.top&&(0,p.jsx)(x,{handleReactionClick:this.handleReactionClick,isCentered:!b,isIdeaPinCloseUp:_,isInCommentModule:h,marginTop:b?void 0:S,reactionButtonRect:t,reactionPickerRef:this.reactionPickerRef,shouldShowReactionTrayUp:"storyPin"===o,viewParameter:156,viewType:3}),(0,p.jsx)(l.iP,{onTap:f?this.handleOneClickReact:({event:e})=>{this.handleClick(e)},children:f?(0,p.jsx)(l.xv,{weight:"bold",children:s._('React', 'Closeup.ReactionPicker.Text', 'Text for button to react to current pin')}):(0,p.jsx)(l.xu,{ref:e=>{this.reactionButton=e},alignItems:"center",display:"flex",height:m?void 0:48,justifyContent:m?"start":"center",rounding:"circle",width:m?34:48,children:a&&n?(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:`url(${a&&v?v:k})`}},height:20,width:20}):m?(0,p.jsx)(l.JO,{accessibilityLabel:s._('React', 'Accessibility label for reacting to a Pin', 'Accessibility label for reacting to a Pin'),color:"default",icon:"heart-outline",size:h?20:24}):(0,p.jsx)(l.hU,{accessibilityLabel:s._('React', 'Accessibility label for reacting to a Pin', 'Accessibility label for reacting to a Pin'),bgColor:c?"lightGray":void 0,icon:"heart-outline",iconColor:y||"darkGray",size:"lg"})})}),!e&&!i&&!a&&(0,p.jsx)(l.xu,{left:!0,position:"absolute",right:!0,top:!0,children:(0,p.jsx)(d.Z,{color:"blue",eligibleIds:[501979,501996],experience:r,children:()=>null})}),i&&!!n&&P&&(0,p.jsx)(g,{handleHideConfirmation:this.handleHideConfirmation,reactionLabel:P})]})}}function w(e){let t=(0,a.useDispatch)();(0,o.Z)({name:"ReactionsResource",options:{pin_id:e.pinId,user_id:e.userId}});let n=(0,a.useSelector)(({feeds:t})=>t[`reactions:${e.pinId}`]||[]),i=(0,a.useSelector)(({reactions:e})=>n.length>0?n.map(t=>e[t.id]):[]),l=(0,a.useSelector)(({session:e,users:t})=>t[e.userId]),d=(0,a.useSelector)(({session:e})=>e.userId);return(0,p.jsx)(S,{...e,addReaction:(n,i,a,l)=>t((0,k.Gy)(e.pinId,n,i,a,l)),decrementReactionCount:(e,n)=>t((0,k.Ps)(e,n)),i18n:(0,s.ZP)(),incrementReactionCount:(e,n)=>t((0,k.xQ)(e,n)),logContextEvent:(0,r.Z)(),reactionPinId:e.aggregatedPinDataId??"",reactions:i,removeReaction:(n,i,a)=>t((0,k.G3)(e.pinId,n,i,a)),requireAuthForLimitedLogin:(0,c.Z)(),userId:d,viewer:l})}P(S,"defaultProps",{hasBackground:!1,isTrayPositionRelative:!0})},884141:(e,t,n)=>{"use strict";function i(e){let t=Object.keys(e);if(t.length>0){let n=t.sort((t,n)=>e[n]-e[t]).slice(0,3);return n}return null}function a(e){let t=Object.values(e);if(t.length>0){let e=t.reduce((e,t)=>e+t,0);return e}return 0}function l({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:a,isEligibleForStaticImageIdeaPin:l}){return!n&&!t&&(!!a||!!i)&&(null==e||!e)&&!l}n.d(t,{At:()=>i,J6:()=>l,Ud:()=>a})},761203:(e,t,n)=>{"use strict";n.d(t,{bn:()=>s,fJ:()=>d,gC:()=>o});var i=n(702664),a=n(342513),l=n(785893);let{Provider:r,useHook:s}=(0,a.Z)("Boards");function o(){let e=s();return t=>e[t]}function d({children:e}){let t=(0,i.useSelector)(({boards:e})=>e,i.shallowEqual);return(0,l.jsx)(r,{value:t,children:e})}},19447:(e,t,n)=>{"use strict";n.d(t,{AF:()=>s,H0:()=>o,S6:()=>d,_S:()=>c});var i=n(702664),a=n(342513),l=n(785893);let{Provider:r,useHook:s,useMaybeHook:o}=(0,a.Z)("Pins");function d(){let e=s();return t=>e[t]}function c({children:e}){let t=(0,i.useSelector)(({pins:e})=>e,i.shallowEqual);return(0,l.jsx)(r,{value:t,children:e})}},386008:(e,t,n)=>{"use strict";n.d(t,{Tt:()=>u,cm:()=>c,kW:()=>o,kY:()=>p,mN:()=>d});var i=n(702664),a=n(342513),l=n(149722),r=n(785893);let{Provider:s,useHook:o}=(0,a.Z)("Users");function d(){let e=o();return t=>e[t]}function c(){let e=o();return(t,n=!1)=>{let i=Object.keys(e).find(n=>e[n].username===t);if(i||!n)return e[i??""]}}function u(){let{id:e}=(0,l.Z)(),t=o();return t[e??""]}function p({children:e}){let t=(0,i.useSelector)(({users:e})=>e,i.shallowEqual);return(0,r.jsx)(s,{value:t,children:e})}},97032:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(667294),a=n(782677),l=n(883119),r=n(216167),s=n(25919),o=n(140017),d=n(339001),c=n(827625),u=n(638365),p=n(708171),m=n(81149),h=n(785893);let g=e=>{let t=(0,h.jsx)(l.xu,{"data-test-id":"pin-save-toast",height:48,width:48,children:(0,h.jsx)(m.Z,{boardId:e})});return{duration:5e3,thumbnail:t}};var _=n(454514),y=n(149722);function f({boardId:e,hideToast:t,pinId:n,originalPinId:i}){let a=(0,o.ZP)(),r=(0,y.Z)();return(0,h.jsx)(_.ZP,{duration:5e3,onHide:t,primaryAction:{accessibilityLabel:a._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${n}/repin/?isEditingPin=true&pinBoardId=${e??""}&&isFromToast=true&&originalPinId=${i??""}`,label:a._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:t,role:"link"},text:(0,h.jsxs)(l.xv,{children:[(0,h.jsx)(l.xv,{inline:!0,children:a._('Saved to ', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile')}),(0,h.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(l.rU,{display:"inlineBlock",href:r.isAuth?`/${r.username}/_saved`:"/",target:"self",underline:"hover",children:a._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})]}),thumbnail:{icon:(0,h.jsx)(l.JO,{accessibilityLabel:a._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var b=n(117512),v=n(539426);let x="RepinResource",k=({board:e,section:t})=>{let n=(0,o.ZP)(),a="quick_saves"===e.layout,r=a?n._('Profile', 'EditPin.Quicksaves.BoardName', 'Name for Quicksaves board that we want to surface to users'):e.name;return t?(0,d.nk)(n._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(l.xv,{color:"default",children:n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,h.jsx)(l.xv,{color:"default",weight:"bold",children:r})]})};class P{constructor({boardId:e,dispatch:t,history:n,isOneTapSave:i=!1,isQuickSave:l=!1,onSuccess:r,originalPinId:s,pinId:o,section:d,showNewUserSavetoProfileAnimation:c=!1,showRepinToasts:p,trackingParams:m,userId:h,viewType:g,historyPush:_,suggestedBoardIds:y,savePinId:f,pinData:{trackingParams:b,viewParameter:k,pinnedToBoardId:P}}){var S,w,T;S="_getNormalizedResponse",w=e=>(0,a.Fv)(e.resource_response.data,v.Z[x]),(S="symbol"==typeof(T=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(S,"string"))?T:String(T))in this?Object.defineProperty(this,S,{value:w,enumerable:!0,configurable:!0,writable:!0}):this[S]=w,this.boardId=e,this.trackingParams=m,this.clientTrackingParams=(0,u.Z)(m.clientTrackingParams||"",b),this.dispatch=t,this.history=n,this.onSuccess=r,this.originalPinId=s,this.pinId=o,this.pinnedToBoardId=m.pinnedToBoardId||(P??""),this.showNewUserSavetoProfileAnimation=c,this.showRepinToasts=p,this.section=d,this.isOneTapSave=i,this.isQuickSave=l,this.userId=h,this.viewType=g??3,this.historyPush=_,this.suggestedBoardIds=y,this.savePinId=f,this.pinViewParameter=k}get resourceOptions(){return{pin_id:this.pinId,board_id:this.boardId,section:this.section?.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return r.Z.create(x,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){let t=this._createRepin();return t.then(t=>{this.onSuccess&&this.onSuccess();let n=t.resource_response.data,{board:i}=n,{isQuickSave:a,originalPinId:r,showNewUserSavetoProfileAnimation:d}=this,u=this._getNormalizedResponse(t);if(this.dispatch((0,c.XM)(x,this.resourceOptions,t,u)),this.savePinId(this.resourceOptions.pin_id,n.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){let e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(x,e,t,u)),this.savePinId(this.originalPinId||"",n.id)}this.dispatch((0,b.M)(n.id,i.id,this.section?this.section.id:void 0,this.userId));let{showRepinToasts:m}=this;return m&&m(({hideToast:e})=>{if(a&&!d)return(0,h.jsx)(f,{boardId:n.board.id,hideToast:e,originalPinId:r,pinId:n.id});let{thumbnail:t}=g(i.id);return(0,h.jsx)(p.Z,{button:d&&(0,h.jsx)(o.oz,{children:e=>(0,h.jsx)(l.zx,{fullWidth:!0,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),this.historyPush(`/pin/${n.id}/repin/?isEditingPin=true&pinBoardId=${i.id}&&isFromToast=true&&originalPinId=${r??""}`)},text:e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins')})}),href:this.section?`${i.url}${this.section.slug??""}`:i.url,isRepinToExistingBoard:!0,onHide:e,text:(0,h.jsx)(k,{board:i,section:this.section}),thumbnail:t})}),this.dispatch((0,s.fO)({event_type:5,pin_id:this.originalPinId||this.pinId,new_pin_id:n.id,did_repin:!0})),e(this.trackingData),n})}}},329593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var i=n(702664),a=n(883119),l=n(696534),r=n(200201),s=n(140017),o=n(5859),d=n(995917),c=n(554786),u=n(386008),p=n(667294),m=n(25919),h=n(233731),g=n(616550),_=n(587703),y=n(190971),f=n(454514),b=n(422210),v=n(340523),x=n(623409),k=n(13848),P=n(237040),S=n(739382),w=n(358589),T=n(33767),I=n(92056),A=n(170568),E=n(615806),C=n(256918),j=n(785893);let R=()=>{};var L=n(771981);let F=({onTap:e,shouldShowSavedButton:t,text:n})=>(0,j.jsx)(a.iP,{fullWidth:!1,onTap:({event:t})=>{e?.(t)},rounding:"pill",children:(0,j.jsx)(a.xu,{alignItems:"center",color:t&&(0,l.Yc)()?"lightWash":"primary",display:"flex",height:L.oe,justifyContent:"center",paddingX:L.rM,paddingY:L.Ai,rounding:L.dX,children:(0,j.jsx)(a.xv,{color:t?"dark":"light",size:n.length>5?"100":"300",weight:"bold",children:n})})}),D=({buttonText:e,clientTrackingParams:t,color:n="red",deviceType:l,experience:r,hasQuickSave:o,hasSaveHandoffExperience:d,inline:c=!0,isLegoSaveStyle:L,isOnIdeaPinCloseup:D,onTouch:O,onUnsave:z,pinId:M,pinnedToBoardId:N,shape:Z,shouldShowSavedButton:B,to:U,viewParameter:K,viewType:V})=>{let H=(0,s.ZP)(),G=(0,i.useDispatch)(),$=(0,m.Ig)();(0,p.useEffect)(()=>{r&&r.placement_id&&G($(r.placement_id,r.experience_id))},[r,G,$]);let W=function({clientTrackingParams:e,experience:t,hasSaveHandoffExperience:n,onError:a,onTouch:l,onUnsave:r,pinId:o,pinnedToBoardId:d,shouldShowSavedButton:c,showSingleToast:h}){let L=(0,s.ZP)(),F=(0,_.Z)(),D=(0,x.Z)(),O=(0,i.useDispatch)(),z=(0,g.k6)(),M=(0,g.TH)(),{showToast:N}=(0,k.F9)(),Z=function({showSingleToast:e}){let t=(0,i.useDispatch)(),n=(0,k.F9)()[e?"showOneToast":"showToast"],{forceShowNavFooter:a,setForceShowNavFooter:l}=(0,T.U)(),r=(0,i.useSelector)(({session:e})=>e.shouldHideNavBar);return(e,i)=>{i||(r&&t((0,A.Cp)()),t((0,A.WF)()),a||l(!0)),setTimeout(()=>{i||(r&&t((0,A.FK)()),t((0,A.a5)()),a||l(!1)),n(e)},I.Tt)}}({showSingleToast:h}),B=(0,C.M)(),U=M.pathname.startsWith("/pin"),K=(0,i.useSelector)(({session:e})=>e.hasSavedUnauthPin),V=(0,i.useSelector)(({session:e})=>e.unauthSavePinId),H=(0,u.Tt)(),G=H?.pin_count,$=(0,p.useRef)(null),W=n&&!K,q=(0,w.Z)(),{checkExperiment:Y}=(0,v.F)(),X=(0,m.be)(),J=(0,b.Z)(H?.created_at)||Y("mweb_show_repin_toast_animation_to_res_user").anyEnabled,Q=(0,P.J1)(),ee=e=>z.push(e),et=(0,y.c)(),en=o?()=>{F({event_type:102,element:11933}),O((0,E.Z)({checkExperiment:Y,history:z,i18n:L,logContextEvent:F,onSuccess:()=>{t&&O(X(t.placement_id,t.experience_id)),et("Save",{pin_id:o})},originalPinId:o,pinId:o,trackingParams:{clientTrackingParams:e,pinnedToBoardId:d},showNewUserSavetoProfileAnimation:J,showRepinConfirmation:n&&!U?()=>void 0:Z,disableRepinAnimation:V===o,pinCount:G,historyPush:ee,savePinId:B?.save??(()=>{})})).catch(e=>{N(({hideToast:t})=>(0,j.jsx)(f.ZP,{onHide:t,text:e.message||L._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),type:"error"})),a?.()})}:R;if((0,p.useEffect)(()=>{W&&!$.current&&o&&!Y(Q).anyEnabled&&(D({action:"trigger",item:"unauth-save-button-quicksave"}),F({event_type:14581}),en(),O((0,A.e2)())),$.current=W}),!o)return null;let ei=q({fn:e=>{e.stopPropagation(),e.preventDefault(),l&&l(e),c?c&&r&&r(e):en()},modalHeader:(0,S.Bx)(L)});return ei}({clientTrackingParams:t,experience:r,hasSaveHandoffExperience:d,onTouch:O,onUnsave:z,pinId:M,pinnedToBoardId:N,shouldShowSavedButton:B}),q={accessibilityLabel:H._('Pin', 'Pin accessibility label', 'Pin accessibility label'),color:n,inline:L?void 0:c,minHeight:L?48:void 0,onTouch:o?W:O,onUnsave:o?W:z,pressState:"compress",shape:L?"pill":Z,size:"lg",text:e||H._('Save', 'Auth mobile web save button for pin closeup', 'Auth mobile web save button for pin closeup'),to:U,unsaveAccessibilityLabel:H._('Saved', 'SaveButton.ExperimentalSavedButtonAccessibilityLabel', 'Accessibility label on a saved button - Pin has already been saved')},Y=B?(0,j.jsx)(a.zx,{accessibilityLabel:q.unsaveAccessibilityLabel,fullWidth:q.inline,onClick:({event:e})=>{q.onUnsave?.(e)},selected:!0,size:q.size,text:q.text}):(0,j.jsx)(h.Ai,{...q,clientTrackingParams:t,deeplinkUri:"deeplinkUri",deviceType:l,upsellType:"save",viewParameter:K,viewType:V});return D&&"desktop"!==l&&(Y=B?(0,j.jsx)(F,{onTap:q.onUnsave,shouldShowSavedButton:!0,text:q.text}):(0,j.jsx)(h.MZ,{...q,clientTrackingParams:t,deeplinkUri:"deeplinkUri",deviceType:l,isActionButton:!0,upsellType:"save",viewParameter:K,viewType:V,children:(0,j.jsx)(F,{onTap:q.onTouch,shouldShowSavedButton:!1,text:q.text})})),(0,j.jsx)(a.xu,{"data-test-id":B?"saved-button-mobile":"save-button-mobile",children:Y})},O=({i18n:e,isSaved:t})=>{let n=(0,l.Yc)();return t?{buttonText:e._('Saved', 'closeup.savedButton.text', 'Auth mobile web save button for pin closeup when user has saved the Pin being viewed'),color:n?"darkGray":"white",inline:!1}:Object.freeze({})};function z({buttonText:e,clientTrackingParams:t,pinId:n,pinnedToBoardId:l,shouldShowSavedButton:p,to:m,...h}){let g=(0,s.ZP)(),_=(0,c.ZP)(),{isAuthenticated:y}=(0,o.B)(),f=(0,u.Tt)(),b=y?f:null,v=O({i18n:g,isSaved:p});(0,d.Z)(b?{name:"UserResource",options:{user_id:b.id,field_set_key:"save_behavior"}}:null);let x=b?.save_behavior,k=(0,i.useSelector)(({session:e})=>e.unauthSavePinId),P=y&&!!k,S=(0,r._)({id:1000152});return(0,j.jsx)(a.xu,{"data-test-id":"standard-save-button",children:(0,j.jsx)(D,{clientTrackingParams:t,deviceType:_,experience:S,hasQuickSave:0===x||P,hasSaveHandoffExperience:P,pinId:n,pinnedToBoardId:l,shouldShowSavedButton:p,to:m,...h,...v,isLegoSaveStyle:!0})})}},580472:(e,t,n)=>{"use strict";n.d(t,{QJ:()=>a,UH:()=>l,V5:()=>i,km:()=>r});let i="saveSendEducationModalLastDismissed",a="saveSendEducationModalTimesDismissed",l=864e5,r=2},367408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),l=n(785893);class r extends i.Component{componentDidMount(){this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){let e=this.props.children?i.Children.only(this.props.children):null;return(0,l.jsx)(a.xu,{ref:e=>this.anchor=e,children:e})}}},443171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var i,a=n(667294),l=n(702664),r=n(167912),s=n(883119),o=n(980536),d=n(140017),c=n(5859),u=n(995917),p=n(623409),m=n(163471),h=n(554786),g=n(696534),_=n(930837),y=n(119936),f=n(785893);function b({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){let a=(0,d.ZP)(),l=(0,h.HG)(),r=(0,h.Wb)();return r||l?(0,f.jsx)(_.ZP,{accessibilityModalLabel:"",closeOnOutsideClick:!1,isOpen:e&&!r,mobileHideCloseIcon:!0,mobileIsFullscreen:!0,onDismiss:()=>{},children:(0,f.jsx)(s.xu,{color:(0,g.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,g.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:l?"100vw":"100%",zIndex:new s.Ry(1),children:(0,f.jsx)(s.xu,{bottom:!0,left:!0,marginTop:n?0:12,overflow:"scroll",padding:5,position:"fixed",right:!0,top:!0,children:i})})}):(0,f.jsx)(y.default,{accessibilityModalLabel:a._('Close', 'Close modal window', 'Close modal window'),isOpen:t,mobileAccessibilityCloseIconLabel:a._('Close', 'Close modal window', 'Close modal window'),onDismiss:()=>{},children:i})}var v=n(499631);let x=void 0!==i?i:i=n(749608);function k({dedupeVisualAnnotations:e,iconColor:t,size:n,isMainPin:i,isAuth:r,pinCreditPrefix:u,onClickTitleOrDomain:g,pinId:_,renderOnlyHiddenSEOContent:y=!1,graphqlRef:x,shoppingKlpUrls:k}){let P=(0,d.ZP)(),S=(0,p.Z)(),{isBot:w}=(0,c.B)(),{unauthInterstitialDismissed:T}=(0,l.useSelector)(({session:e})=>e),[I,A]=(0,a.useState)(!1),E=(0,h.HG)(),C=(0,h.Wb)(),j=(0,m.Z)(),R=!C&&!r,L=x?{type:"graphqlRef",data:x}:{type:"deprecated",data:_},F=(0,f.jsxs)(s.xu,{dangerouslySetInlineStyle:R?{__style:{paddingTop:0,paddingBottom:30}}:void 0,padding:5,children:[(0,f.jsx)(s.xu,{color:"default","data-test-id":"close-seo-vase-see-more-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,f.jsx)(s.hU,{accessibilityLabel:P._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",iconColor:"gray",onClick:()=>{S({action:"dismiss",item:"close-see-more-button",within:"seo-vase"}),A(!1),i&&S({action:"click",item:"see-more-main-pin-button",within:"seo-vase"})},size:"sm"})}),(0,f.jsx)(s.xu,{marginBottom:R?0:8,children:(0,f.jsx)(s.xv,{align:R?"start":"center",weight:R?void 0:"bold",children:(0,f.jsx)("span",{className:"deprecatedTextSizeXL",children:R?null:P._('More information', 'more information label', 'more information label')})})}),(0,f.jsx)(v.Z,{dedupeVisualAnnotations:e,onClickTitleOrDomain:g,pinCreditPrefix:u,pinId:_,pinKey:L,shoppingKlpUrls:k})]});return y?(0,f.jsx)(s.xu,{display:"none",children:F}):(0,f.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{float:"right"}},"data-test-id":"SeoVaseSeeMoreButton",right:!0,children:[(0,f.jsx)(s.hU,{accessibilityLabel:P._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:t??"gray",onClick:({event:t})=>{t.stopPropagation(),i?S({action:"click",item:"see-more-main-pin-button",within:"seo-vase"}):S({action:"click",item:"see-more-related-pin-button",within:"seo-vase"}),C||r?(A(!0),i&&S({action:"click",item:"see-more-main-pin-button",within:"seo-vase"})):j({pinId:_||"",location:i?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,f.jsx)(v.Z,{dedupeVisualAnnotations:e,onClickTitleOrDomain:g,pinCreditPrefix:u,pinId:_,pinKey:L,shoppingKlpUrls:k})})},size:n||"md"}),w&&!E?(0,f.jsx)(s.xu,{display:I?"flex":"none",children:F}):(0,f.jsx)(b,{interstitialUpsellDismissed:!!T,isOpen:I&&!C,showFullScreenInfo:I,children:F}),C&&I&&(0,f.jsx)(o.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:F})]})}function P(e){let t=(0,r.useFragment)(x,e.graphqlRef);return(0,f.jsx)(k,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,graphqlRef:t,iconColor:e.iconColor,isAuth:e.isAuth,isMainPin:e.isMainPin,onClickTitleOrDomain:e.onClickTitleOrDomain,pinCreditPrefix:e.pinCreditPrefix,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,shoppingKlpUrls:e.shoppingKlpUrls,size:e.size})}function S(e){return(0,f.jsx)(k,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,isAuth:e.isAuth,isMainPin:e.isMainPin,onClickTitleOrDomain:e.onClickTitleOrDomain,pinCreditPrefix:e.pinCreditPrefix,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,shoppingKlpUrls:e.shoppingKlpUrls,size:e.size})}function w(e){return(0,u.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,f.jsx)(S,{...e})}function T(e){return e.graphqlRef?(0,f.jsx)(P,{...e}):e.lazyLoadAnnotations?(0,f.jsx)(w,{...e}):(0,f.jsx)(S,{...e})}},973868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(515278),r=n(930837),s=n(898233),o=n(785893);let d=new a.Ry(3);function c({anchor:e,children:t,displayOptions:n,onFlyoutDismiss:i}){return n?.shownWithinMasonry||n?.shownWithinProfileHeader?(0,o.jsx)(a.mh,{zIndex:n.shownWithinProfileHeader?d:void 0,children:(0,o.jsx)(a.xu,{position:n.inModal?"absolute":void 0,top:!!n.inModal||void 0,zIndex:n.inModal?r.b7:void 0,children:(0,o.jsx)(a.J2,{_deprecatedShowCaret:n.showCaret,anchor:e,idealDirection:n.idealDirection??"down",onDismiss:()=>{i()},positionRelativeToAnchor:!1,size:"flexible",children:t})})}):(0,o.jsx)(a.J2,{_deprecatedShowCaret:n?.showCaret,anchor:e,idealDirection:n?.idealDirection??"down",onDismiss:()=>{i()},size:"flexible",children:t})}function u({children:e,flyoutDisplayOptions:t,isFlyoutOpen:n,loggingOptions:r,onClick:d,onFlyoutDismiss:u,onToggleFlyout:p,sendObject:m}){let h=(0,i.useRef)(null),g=(0,l.Z)();return(0,o.jsxs)(a.xu,{ref:h,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,o.jsx)(a.xu,{children:e({handleSendShareFlyoutButtonClick:()=>{if(g){g();return}p()}})}),n&&(0,o.jsx)(c,{anchor:h.current,displayOptions:t,onFlyoutDismiss:u,children:(0,o.jsx)(s.Z,{component:r.component,element:r.element,onExternalSend:r.onExternalSend,onHide:()=>{d?.(),u()},sendType:m.type,sharedObject:{...m,type:"user"===m.type?"pinner":m.type},viewParameter:r.viewParameter,viewType:r.viewType})})]})}},557874:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_,s:()=>g});var i=n(667294),a=n(342513),l=n(608575),r=n(883119),s=n(930837),o=n(140017),d=n(339001),c=n(785893);let u=()=>{let e=(0,o.ZP)(),{dismissWarning:t}=g()??{};return(0,c.jsx)(r.xu,{paddingX:3,children:(0,c.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{let e=(0,o.ZP)();return(0,c.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(r.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},m=({message:e,sanitized_url:t})=>{let n=(0,o.ZP)(),{dismissWarning:i}=g()??{};return(0,c.jsx)(s.ZP,{accessibilityModalLabel:n._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,c.jsx)(u,{}),heading:n._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:i,children:(0,c.jsxs)(r.xu,{padding:6,children:[(0,c.jsx)(r.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(p,{},"learnMoreLink")})}),(0,c.jsxs)(r.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(r.xu,{marginEnd:3,children:(0,c.jsx)(r.JO,{accessibilityLabel:n._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(r.xv,{inline:!0,lineClamp:1,weight:"bold",children:l.parse(t).hostname})]})]})})},{Provider:h,useMaybeHook:g}=(0,a.Z)("SpammyClickthrough");function _({children:e}){let[t,n]=(0,i.useState)(null),a=(0,i.useCallback)(()=>{n(null)},[n]),l=(0,i.useCallback)(e=>{n(e)},[n]),r=(0,i.useMemo)(()=>({dismissWarning:a,showWarning:l}),[a,l]);return(0,c.jsxs)(h,{value:r,children:[t&&(0,c.jsx)(m,{...t}),e]})}},517545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d,j:()=>o});var i=n(883119),a=n(140017),l=n(339001),r=n(340523),s=n(785893);let o=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textColor:c}){let u;let p=(0,a.ZP)(),m=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;return t?u=(0,l.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):d||0===d?n&&!o.includes(d)?u=(0,l.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==d&&(u=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(u=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,s.jsxs)(i.xv,{color:c,size:"100",children:[m&&!t&&"Ad  "||"",(0,s.jsx)(l.r7,{text:u})]})}},155117:(e,t,n)=>{"use strict";n.d(t,{f:()=>s,w:()=>o});var i=n(667294),a=n(342513),l=n(785893);let{Provider:r,useHook:s}=(0,a.Z)("Session");function o({children:e}){let[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)(()=>n(void 0),[]),s=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a}),[t,a]);return(0,l.jsx)(r,{value:s,children:e})}},882584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(883119),a=n(40432),l=n(140017),r=n(623409),s=n(90647),o=n(773616),d=n(810052),c=n(785893);function u({pinId:e}){let t=(0,l.ZP)(),n=(0,d.a)(),u=(0,o.Z)(),p=(0,r.Z)();if(!n)return null;let{setShouldShowLearningUpsell:m}=n;return u?(0,c.jsx)(s.Z,{app_upsell_type:"mweb-unauth-plp-learning-upsell",children:({handleOpenApp:n})=>(0,c.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},direction:"row",display:"flex",left:!0,minHeight:70,position:"absolute",right:!0,top:!0,width:"100%",zIndex:new i.Ry(99999),children:(0,c.jsx)(i.iP,{onTap:()=>{p({action:"click",item:"background",within:"learning-upsell"}),n({deepLinkUri:`/pin/${e}`})},children:(0,c.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[(0,c.jsx)(i.xu,{marginEnd:2,marginStart:4,onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),p({action:"click",item:"learning-upsell-button",within:"learning-upsell"}),n({deepLinkUri:`/pin/${e}`})},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},children:(0,c.jsx)(i.JO,{accessibilityLabel:"Pinterest",color:"default",icon:"pinterest",size:24})}),(0,c.jsxs)(i.xu,{marginEnd:2,marginStart:2,children:[(0,c.jsx)("span",{onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),p({action:"click",item:"description",within:"learning-upsell"}),n({deepLinkUri:`/pin/${e}`})},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},style:{fontFamily:a.gxR,color:"#111111",fontSize:"16px"},children:t._('If you like this idea, see all the details in the app!  ', 'mweb.unauth.main.pin.learning.app.upsell.description.like', 'mweb unauth main pin learning app upsell description text for group enabled_app_like')}),(0,c.jsx)("span",{onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),p({action:"click",item:"cta",within:"learning-upsell"}),n({deepLinkUri:`/pin/${e}`})},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},style:{fontFamily:a.gxR,fontWeight:"600",color:"#111111",fontSize:"16px"},children:t._('Download', 'mweb.unauth.main.pin.learning.app.upsell.cta', 'mweb unauth main pin learning app upsell cta text')})]}),(0,c.jsx)(i.xu,{marginEnd:4,marginStart:2,onTouchEnd:e=>{m(!1),p({action:"dismiss",item:"close-button",within:"learning-upsell"}),e.preventDefault(),e.stopPropagation()},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},children:(0,c.jsx)(i.JO,{accessibilityLabel:"cancel",color:"dark",icon:"cancel"})})]})})})}):null}},10630:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>S});var i,a=n(667294),l=n(167912),r=n(883119),s=n(140017),o=n(406893),d=n(567344),c=n(5859),u=n(217058),p=n(623409),m=n(554786),h=n(19447),g=n(115526),_=n(785893);let y=`
div::-webkit-scrollbar {
  display: none;
}
`,f=void 0!==i?i:i=n(183753);function b({direction:e,handleClick:t,testId:n,isRTL:i}){let a=(0,s.ZP)(),l=(0,p.Z)(),o=i?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,_.jsx)("div",{"aria-hidden":"true","aria-label":"arrow","data-test-id":n,onClick:e=>{l({action:"click",item:"board-pills-arrow"}),t(e)},role:"button",style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},tabIndex:-1,children:(0,_.jsx)(r.xu,{borderStyle:"none",left:"left"===e,position:"absolute",right:"right"===e,children:(0,_.jsx)(r.xu,{"data-test-id":"board-pills-arrow",children:(0,_.jsx)(r.JO,{accessibilityLabel:a._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),color:"subtle",icon:"left"!==e?o[0]:o[1],size:12})})})})}function v({name:e,url:t}){let[n,i]=(0,a.useState)(!1),l=(0,p.Z)(),{country:s,locale:o}=(0,c.B)(),d=(0,m.HG)();return(0,_.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},"data-test-id":"vase-tag",display:"inlineBlock",marginEnd:1,marginTop:1,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),paddingX:2,paddingY:1,rounding:8,children:(0,_.jsx)(r.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,_.jsx)(r.rU,{display:"inlineBlock",href:t,onClick:()=>{l({action:"click",item:"vase-tag"}),t.split("/").length>=2&&"shopping"===t.split("/")[1]&&(0,u.My)(`${d?"dweb":"mweb"}.vase.shoppingKlp.click`,{country:s,locale:o})},rounding:8,tapStyle:"compress",underline:"hover",children:e}):e})})}function x({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n,shoppingKlpUrls:i}){let l=(0,a.useRef)(null),[s,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),g=(0,p.Z)(),{isRTL:f}=(0,c.B)();(0,a.useEffect)(()=>{let e=l.current,t=()=>{if("inlineWithScrollArrows"===n&&l.current){let e=l.current,t=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),i=t>4,a=t+e.clientWidth<n-4,r=f?i:a,s=f?a:i;u(r),h(s)}else u(!1),h(!1)};return t(),e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[n,f]);let x=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&g({action:"click",item:"board-pills-arrow-button-right"});let n=l.current;if(!n)return;let i=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(i,0)},{annotationsWithLinks:k}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});k.map(e=>{let t=e.name||"";return t});let P=[...k];return i&&(P=i.reduce((e,t)=>(e.push({name:function(e){let t=e.split("/"),n=t[2].split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return n}(t),url:t}),e),P)),(0,_.jsx)(r.kC,{alignItems:"center",justifyContent:"end",children:(0,_.jsxs)(r.xu,{"data-test-id":"vase-carousel",display:"flex",overflow:"hidden",position:"relative",width:"100%",children:[(0,_.jsx)(o.Z,{unsafeCSS:y}),m&&(0,_.jsx)(b,{direction:"left",handleClick:x("left"),isRTL:f,testId:"left-scroll-arrow"}),(0,_.jsx)(r.xu,{ref:l,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},overflow:"auto",padding:0,children:P.map(({name:e,url:t})=>(0,_.jsx)(v,{name:e,url:t},t||e))}),s&&(0,_.jsx)(r.xu,{"data-test-id":"board-pills-arrow-button-right",children:(0,_.jsx)(b,{direction:"right",handleClick:x("right"),isRTL:f,testId:"right-scroll-arrow"})})]})})}function k({dedupeVisualAnnotations:e,graphqlRef:t,mode:n,pinId:i,shoppingKlpUrls:a}){let r=(0,l.useFragment)(f,t),s=(0,g.Z)(r),o=r?.pinJoin?.visualAnnotation||[];return(e&&(o=e({pinId:i,visualAnnotations:o})),o.length<1)?null:(0,_.jsx)(x,{mode:n,pinJoinAnnotationsWithLinks:s||void 0,pinJoinVisualAnnotation:o,shoppingKlpUrls:a})}function P(e){let t=(0,h.S6)()(e.pinId),n=t?.pin_join?.visual_annotation||[];return n.length<1?null:(0,_.jsx)(x,{mode:e.mode,pinJoinAnnotationsWithLinks:t?.pin_join?.annotations_with_links,pinJoinVisualAnnotation:t?.pin_join?.visual_annotation,shoppingKlpUrls:e.shoppingKlpUrls})}function S(e){return e.graphqlRef?(0,_.jsx)(k,{...e}):(0,_.jsx)(P,{...e})}},499631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i,a=n(667294);n(167912);var l=n(883119),r=n(333739),s=n(140017),o=n(339001),d=n(558273),c=n(567344),u=n(5859),p=n(175789),m=n(217058),h=n(623409),g=n(554786),_=n(809216),y=n(785893);function f({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:a,pinnerImageLargeUrl:r}){let s=(0,h.Z)();if(!e||!t)return null;let o=e.split("/")[1],d=i||o,c=a||r;return(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[c?(0,y.jsx)(l.Tg,{fullWidth:!1,href:`/${o}/`,onTap:()=>{s({action:"click",item:"see-more-button-creator"})},tapStyle:"compress",children:(0,y.jsx)(l.xu,{"data-test-id":"see-more-button-creator",height:32,marginEnd:2,overflow:"hidden",rounding:"circle",width:32,children:(0,y.jsx)(l.Ee,{alt:d,color:"rgb(231, 186, 176)",fit:"cover",naturalHeight:32,naturalWidth:32,src:c})})},"profile-link"):null,(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,y.jsx)(l.xu,{"data-test-id":"see-more-button-creator-full-name",children:(0,y.jsx)(l.iP,{onTap:()=>{s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,y.jsx)(l.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,y.jsx)(l.rU,{display:"inlineBlock",href:`/${o}/`,tapStyle:"compress",underline:"hover",children:d},"profile-link")},"profileLink")})}),"protected"===n?null:(0,y.jsx)(l.xv,{color:"default",inline:!0,size:"100",children:(0,y.jsx)(l.rU,{display:"inlineBlock",href:e??"",tapStyle:"compress",underline:"hover",children:t??""},"board-link")},"boardLink")]})]})}var b=n(10630);let v=void 0!==i?i:i=n(436068);function x({dedupeVisualAnnotations:e,pin:t,pinId:n,queryRef:i,onClickTitleOrDomain:r,pinCreditPrefix:v,shoppingKlpUrls:x}){let k=(0,s.ZP)(),P=(0,g.ml)(),S=(0,g.Wb)(),{isAuthenticated:w,isBot:T}=(0,u.B)(),I=(0,h.Z)(),A=r||null,[E,C]=(0,a.useState)(!1),j=(0,_.si)(),R=(0,_.Re)(),L=(0,c.fs)({pinTitle:t.title,gridTitle:t.gridTitle,richSummaryDisplayName:t.richSummary?.displayName,richMetadataTitle:t.richMetadata?.title,storyPinDataId:t.storyPinDataId,storyPinDataMetadataPinTitle:t.storyPinData?.metadata?.pinTitle})||t.description,F=(L||"").length>R,{description:D}=(0,c.eK)({richMetadataDescription:t.richMetadata?.description,richSummaryDisplayName:t.richSummary?.displayName,closeupUnifiedDescription:t.closeupUnifiedDescription}),O=D.length>j,[z,M]=(0,a.useState)(!O&&!F),N=(0,d._S)(t.domain)?t.domain:"";return(0,y.jsxs)(l.xu,{children:[(0,y.jsxs)(l.xu,{children:[(0,y.jsxs)(l.xu,{as:"figcaption",paddingX:S?11:0,children:[(0,y.jsx)(l.X6,{accessibilityLevel:3,color:"default",id:"vase-pin-title",size:"300",children:E||T?L:(0,p.Z)(L||"",R)}),!!L&&(0,y.jsx)(l.xu,{height:D?8:0}),D&&(O||F)?(0,y.jsx)(l.xu,{"data-test-id":"vase-pin-description",children:(0,y.jsxs)(l.iP,{fullWidth:!1,onTap:()=>{E||w||((0,m.NC)("click_open_description_in_sheet"),I({action:"click",item:"more-description-in-sheet"})),M(!z),C(!E)},children:[(0,y.jsx)(l.xv,{color:"default",inline:!0,size:"200",children:E||T?D:(0,p.Z)(D,j)}),(0,y.jsx)(l.xu,{display:"inlineBlock",paddingX:1,children:(0,y.jsx)(l.xv,{inline:!0,size:"200",weight:"bold",children:E||T?k._('Less', 'Toggle less description button', 'Toggle less description button'):k._('More', 'Toggle more description button', 'Toggle more description button')})})]})}):(0,y.jsx)(l.xu,{"data-test-id":"vase-pin-description",children:(0,y.jsx)(l.xv,{color:"default",inline:!0,size:"200",children:D})})]}),!w&&!T&&P&&(z||T)&&!!N&&(0,y.jsx)(l.xu,{marginTop:2,children:(0,y.jsx)(l.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,o.nk)(k._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,y.jsx)(l.xu,{display:"inlineBlock",children:(0,y.jsx)(l.xv,{inline:!0,size:"200",children:v})},"pinCreditsPrefix"),pinCredit:(0,y.jsxs)(l.xu,{"data-test-id":"pin-domain-link",display:"inlineBlock",marginStart:1,maxWidth:"60vw",children:[A&&(0,y.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),I({action:"click",item:"pin-domain-link"}),w||(0,m.NC)("click_pin_closeup_link_clickthrough"),A()},tapStyle:"compress",children:(0,y.jsx)(l.xv,{lineClamp:1,size:"200",children:(0,y.jsx)("span",{style:{textDecoration:"underline"},children:N})},"pinLinkDomain")}),t.link&&!A&&(0,y.jsx)(l.rU,{href:t.link,children:(0,y.jsx)(l.xv,{size:"200",underline:!0,children:N})})]},"pinCredits")})})})]}),!!t.board&&(z||T)&&(0,y.jsx)(l.xu,{marginTop:4,children:(0,y.jsx)(f,{boardName:t.board.name||void 0,boardPrivacy:t.board.privacy||void 0,boardUrl:t.board.url?.toLowerCase()||void 0,pinnerFullName:t.pinner?.fullName||void 0,pinnerImageLargeUrl:t.pinner?.imageLargeUrl,pinnerImageSmallUrl:t.pinner?.imageSmallUrl})}),(0,y.jsx)(l.xu,{marginTop:4,children:(0,y.jsx)(b.ZP,{dedupeVisualAnnotations:e,graphqlRef:i,mode:"expanded",pinId:n,shoppingKlpUrls:x})})]})}function k({pinKey:e,pinId:t,...n}){let{data:i,childDataKey__DEPRECATED:a}=(0,r.sr)(v,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title})});return i&&(0,y.jsx)(x,{...n,pin:i,pinId:t,queryRef:"graphqlRef"===a.type?a.data:null})}},801690:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),a=n(525364),l=n(105737),r=n(766311),s=n(785893);class o extends i.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:a}=this.props;i===e.viewParameter&&a===e.viewType&&(0,l.ZP)(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:n,objectIdStr:i,viewData:a,viewParameter:l,viewType:o,clientTrackingParams:d}=this.props;return(0,s.jsx)(r.Z,{auxData:e,clientTrackingParams:d,component:n,objectIdStr:i,viewData:a,viewParameter:l,viewType:o,children:t})}}function d(e){let{setViewContextData:t,clearViewContextData:n}=(0,a.sV)();return(0,s.jsx)(o,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},766311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(667294),a=n(587703),l=n(217058);let r=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),s=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:a,component:s,clientTrackingParams:o,element:d},c)=>{let u=r({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:a,component:s,clientTrackingParams:o,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,l.My)("mweb.logging.null_view_type"),c(u)};function o(e){let{auxData:t,clientTrackingParams:n,children:l,component:r,element:o,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,a.Z)(),h=JSON.stringify(t),g=JSON.stringify(c);return(0,i.useEffect)(()=>{s(e,m)},[m,h,n,r,o,d,g,u,p]),i.Children.only(l)}},90647:(e,t,n)=>{"use strict";n.d(t,{B:()=>g,Z:()=>_});var i=n(667294),a=n(616550),l=n(214877),r=n(525364),s=n(96157),o=n(5859),d=n(217058),c=n(623409),u=n(773616),p=n(86264),m=n(953565),h=n(785893);let g=(e,t)=>"/"===e.pathname?"/":(0,s.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function _({children:e,componentType:t,app_upsell_type:n}){let s=(0,a.TH)(),{flushContextEvents:_,logContextEvent:y}=(0,l.v)(),{viewType:f,viewParameter:b}=(0,r.SU)(),v=(0,c.Z)(),{userAgent:{platform:x}}=(0,o.B)();(0,i.useEffect)(()=>{v({action:"view",item:"download-button",within:n})},[s,n,v]);let k=(0,i.useRef)(!1);(0,i.useEffect)(()=>{f&&202!==f?(y({component:t||13106,element:10308,event_type:9976,view_type:f,view_parameter:b,aux_data:{app_upsell_type:n,app_upsell_is_dupe:k.current}}),k.current=!0):(0,m.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:f,view_parameter:b,app_upsell_type:n,app_upsell_is_dupe:k.current}})},[t,y,b,f,n]);let P=(0,u.Z)();return(0,i.useEffect)(()=>{P||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[P,n]),(0,h.jsx)(p.Z,{children:i=>e({handleOpenApp:e=>{v({action:"click",item:"download-button",within:n}),(0,d.NC)("press_open_app",!0),y({component:t||13106,element:10308,event_type:102,view_type:f||202,view_parameter:b,aux_data:{app_upsell_type:n}}),y({component:t||13106,element:10308,event_type:9977,view_type:f||202,view_parameter:b,aux_data:{app_upsell_type:n}}),_(!0),i&&(y({component:t||13106,element:10308,event_type:1701,view_type:f||202,view_parameter:b,aux_data:{app_upsell_type:n}}),i(e?.deepLinkUri??g(s,"android"===x),n))}})})}},547010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(883119),a=n(119936),l=n(140017),r=n(340370),s=n(5859),o=n(554786),d=n(90647),c=n(677233),u=n(669177),p=n(785893);let m=({deepLinkUri:e,isOpen:t,onDismiss:n,onOpenInApp:c,to:m,app_upsell_type:h})=>{let g=(0,l.ZP)(),_=(0,o.Wb)(),{isBot:y,userAgent:{platform:f,raw:b}}=(0,s.B)(),v=(0,u.Rp)({isBot:y,platform:f,userAgent:b}),x=(0,r.Z)({href:m??""}),k=_?60:40;return(0,p.jsx)(a.default,{accessibilityModalLabel:"",closeOnOutsideClick:!1,isOpen:t,mobileHideCloseIcon:!0,onDismiss:()=>{},type:"app_upsell_v1",zIndex:new i.Ry(101),children:(0,p.jsx)(d.Z,{app_upsell_type:h,componentType:14157,children:({handleOpenApp:t})=>(0,p.jsxs)(i.xu,{"data-test-id":"appUpsell-iframe",padding:3,children:[(0,p.jsx)(i.xu,{display:"inlineBlock",position:"absolute",children:(0,p.jsx)(i.xu,{"data-test-id":"appUpsell-continue",children:(0,p.jsx)(i.hU,{accessibilityLabel:g._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",iconColor:"gray",onClick:({event:e})=>{n({event:e}),x&&!e.defaultPrevented&&x({event:e})},size:"lg"})})}),(0,p.jsxs)(i.xu,{paddingX:2,paddingY:6,children:[(0,p.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,p.jsx)(i.JO,{accessibilityLabel:"Pinterest App",color:"brandPrimary",icon:"pinterest",size:k})}),(0,p.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,p.jsx)(i.xu,{paddingY:2,children:(0,p.jsx)(i.X6,{align:"center",size:"400",children:v?g._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):g._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app')})}),(0,p.jsx)(i.xv,{align:"center",size:"300",children:v?g._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):g._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')}),(0,p.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,p.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:()=>{t({deepLinkUri:e}),c()},size:"lg",text:g._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app')})})]})]})]})})})};function h({clientTrackingParams:e,deepLinkUri:t,isOpen:n,onDismiss:i,onOpenInApp:a,shouldTrackDismiss:l,to:r,viewParameter:s,viewType:o,app_upsell_type:d}){return(0,p.jsx)(c.Z,{clientTrackingParams:e,viewParameter:s,viewType:o,children:(0,p.jsx)(m,{app_upsell_type:d,deepLinkUri:t,isOpen:n,onDismiss:e=>{l&&(0,c.y)(),i(e)},onOpenInApp:()=>{(0,c.y)(),a()},to:r})})}},677233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,y:()=>c});var i=n(667294),a=n(805783),l=n(191313),r=n(573810),s=n(194602),o=n(766311),d=n(785893);let c=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:l}){let r=(0,s.Z)();return r||(0,a.FP)(window)?null:(0,d.jsx)(o.Z,{clientTrackingParams:t,component:13106,viewParameter:n,viewType:l,children:(0,d.jsx)(i.Fragment,{children:e})})}},773616:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(702664);let a=()=>(0,i.useSelector)(({session:{canUseNativeApp:e}})=>e)},174314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(610465),a=n(887311);function l({action:e,collaboratedByMe:t,collaboratorPermissions:n,ownerId:l}){let r=(0,i.Z)(l),s=(0,a.Z)(t);return r||s&&!!n?.includes(e)}},610465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(149722);function a(e){let t=(0,i.Z)();return e===t.id}},887311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(149722);function a(e){let t=(0,i.Z)();return t.isAuth&&e}},966361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(603642),a=n(5859),l=n(667665),r=n(237040),s=n(785893);function o({children:e,type:t}){let n=(0,a.B)();return(0,s.jsx)(i.Z,{annotateExperiments:[(0,r.J1)(),n.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"],constraints:"authDesktop"===t?[...l.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},667665:(e,t,n)=>{"use strict";let i;n.d(t,{GL:()=>r,_z:()=>a,d0:()=>o,hO:()=>s,pM:()=>l});let a="video",l="image",r=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([a])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),s=(i=new Set,r.forEach(e=>{i=new Set([...i,...e])}),i),o=new Set([...s,l,"resource"])},604625:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>c,Dk:()=>p,Fk:()=>a,fS:()=>d,km:()=>u,lI:()=>r,lJ:()=>l,mS:()=>o,qW:()=>s});var i=n(883119);let a=new i.Ry(1),l=3,r=new i.Ry(l),s=2,o=new i.Ry(s),d=3,c=4,u=new i.Ry(5),p=new i.Ry(100)},34817:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,e:()=>r});var i=n(883119),a=n(5859),l=n(785893);let r=new i.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){let{isAuthenticated:n}=(0,a.B)();return(0,l.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,zIndex:n?void 0:r,children:[(0,l.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},700242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>t_});var i,a,l,r,s,o=n(667294),d=n(702664),c=n(167912),u=n(616550),p=n(240684),m=n(883119),h=n(587703),g=n(510989),_=n(25919),y=n(219651),f=n(810961),b=n(82531),v=n(190971),x=n(140017),k=n(339001),P=n(579814),S=n(639435),w=n(681508),T=n(422210),I=n(588664),A=n(96157),E=n(510972),C=n(771177),j=n(391884),R=n(558273),L=n(661428),F=n(340523),D=n(5859),O=n(608516),z=n(241552),M=n(48481),N=n(191313),Z=n(71328),B=n(217058),U=n(623409),K=n(624797),V=n(554786),H=n(494125),G=n(322864),$=n(773616),W=n(740707),q=n(174314),Y=n(479528),X=n(2034),J=n(587853),Q=n(656022),ee=n(313746),et=n(13241),en=n(345748),ei=n(662691),ea=n(311223),el=n(776883),er=n(437387),es=n(260488),eo=n(920572),ed=n(702499),ec=n(638365),eu=n(425712),ep=n(323294),em=n(508868),eh=n(942397),eg=n(174281),e_=n(911049),ey=n(290550),ef=n(739382),eb=n(358589),ev=n(33767),ex=n(272531),ek=n(92056),eP=n(810052),eS=n(477455),ew=n(884141),eT=n(409403),eI=n(170568),eA=n(386129),eE=n(19447),eC=n(572895),ej=n(499728),eR=n(274836),eL=n(256918),eF=n(189093),eD=n(882584),eO=n(118923),ez=n(832853),eM=n(785893);let eN=(0,p.ZP)({resolved:{},chunkName:()=>"StoryPinStream",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(28384).then(n.bind(n,663886)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>663886}),eZ=(0,o.lazy)(()=>Promise.all([n.e(24586),n.e(92851),n.e(97339)]).then(n.bind(n,321618))),eB=(0,o.lazy)(()=>n.e(90824).then(n.bind(n,198963))),eU=(0,o.lazy)(()=>n.e(20607).then(n.bind(n,927059))),eK=(0,o.lazy)(()=>Promise.all([n.e(17956),n.e(65633)]).then(n.bind(n,595219))),eV=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-CommentModule",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(87873).then(n.bind(n,334287)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>334287},{ssr:!1}),eH=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-UnauthCloseupRelatedPins",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(17956),n.e(18198)]).then(n.bind(n,694830)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>694830}),eG=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-search-SearchBar",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(31816).then(n.bind(n,554312)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>554312}),e$=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-LoggedOutProduct-duplo-Breadcrumbs-BreadcrumbsWithSearch",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(38590).then(n.bind(n,548810)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>548810},{ssr:!1}),eW=(0,ez.Z)(()=>n.e(28384).then(n.bind(n,663886)),void 0,"StoryPinStream"),eq=(0,ez.Z)(()=>Promise.all([n.e(24586),n.e(92851),n.e(97339)]).then(n.bind(n,321618)),void 0,"lazyComponent_app_www_closeup_duplo_image-viewer_ImageViewer"),eY=(0,ez.Z)(()=>n.e(90824).then(n.bind(n,198963)),void 0,"lazyComponent_app_www_closeup_duplo_CloseupModals"),eX=(0,ez.Z)(()=>n.e(20607).then(n.bind(n,927059)),void 0,"lazyComponent_app_www_nux_RelatedInterestUpsellContainer"),eJ=(0,ez.Z)(()=>Promise.all([n.e(17956),n.e(65633)]).then(n.bind(n,595219)),void 0,"lazyComponent_app_www_closeup_duplo_CloseupRelatedModules_CloseupRelatedModulesFeed"),eQ=(0,ez.Z)(()=>n.e(87873).then(n.bind(n,334287)),{ssr:!1}),e0=(0,ez.Z)(()=>Promise.all([n.e(17956),n.e(18198)]).then(n.bind(n,694830)),void 0,"lazyComponent_app_www_closeup_duplo_UnauthCloseupRelatedPins"),e1=(0,ez.Z)(()=>n.e(31816).then(n.bind(n,554312)),void 0,"lazyComponent_app_www_search_SearchBar"),e2=(0,ez.Z)(()=>n.e(38590).then(n.bind(n,548810)),{ssr:!1}),e3=void 0!==i?i:i=n(552756),e6=void 0!==a?a:a=n(992496),e4=void 0!==l?l:l=n(302854),e5=void 0!==r?r:r=n(420967),e8=void 0!==s?s:s=n(182692),e7=({children:e,queryRef:t})=>e((0,c.useFragment)(e6,c.usePreloadedQuery(e4,t).v3GetPinQuery?.data)),e9=({children:e,fallback:t,queryRef:n})=>n?(0,eM.jsx)(o.Suspense,{fallback:t,children:(0,eM.jsx)(e7,{queryRef:n,children:t=>t&&e(t)})}):e(null),te=({children:e,pinId:t})=>{let n=(0,V.HG)();return e((0,c.useFragment)(e5,c.useLazyLoadQuery(e8,{pinId:t,isDesktop:n}).v3GetPinQuery?.data))},tt=o.Fragment,tn=({children:e,uanuthDesktopSocialLandingPopover:t})=>e&&t?(0,eM.jsxs)(m.kC,{gap:{row:4,column:0},justifyContent:"center",children:[t,e]}):e,ti=({domain:e,isPromoted:t,hasLinkDomainOfficialUser:n,hasLinkUserWebsiteOfficialUser:i,hasNativeCreator:a,hasThirdPartyPinOwner:l,pinnerDomainVerified:r,pinnerDomainUrl:s})=>i||n||l||!!r&&s===e&&!t||a,ta=e=>{let t=(0,eO.b)();return t?(0,eM.jsx)(eW,{...e}):(0,eM.jsx)(eN,{...e})},tl=e=>{let t=(0,eO.b)();return t?(0,eM.jsx)(eq,{...e}):(0,eM.jsx)(eZ,{...e})},tr=e=>{let t=(0,eO.b)();return t?(0,eM.jsx)(eY,{...e}):(0,eM.jsx)(eB,{...e})},ts=e=>{let t=(0,eO.b)();return t?(0,eM.jsx)(eX,{...e}):(0,eM.jsx)(eU,{...e})},to=e=>{let t=(0,eO.b)();return t?(0,eM.jsx)(eJ,{...e}):(0,eM.jsx)(eK,{...e})},td=e=>{let t=(0,eO.b)();return t?(0,eM.jsx)(eQ,{...e}):(0,eM.jsx)(eV,{...e})},tc=e=>{let t=(0,eO.b)();return t?(0,eM.jsx)(e0,{...e}):(0,eM.jsx)(eH,{...e})},tu=e=>{let t=(0,eO.b)();return t?(0,eM.jsx)(e1,{...e}):(0,eM.jsx)(eG,{...e})},tp=e=>{let t=(0,eO.b)();return t?(0,eM.jsx)(e2,{...e}):(0,eM.jsx)(e$,{...e})};function tm({boardCollaboratedByMe:e,boardCollaboratorPermissions:t,boardIsCollaborative:n,boardOwnerId:i,boardId:a,boardUrl:l,clickthroughInterstitialExperience:r,closeupAttributionFullName:s,embedSrc:c,embedSubtype:p,embedType:L,experience:W,hasLinkDomain:et,hasLinkDomainOfficialUser:eE,hasLinkUserWebsiteOfficialUser:eO,hasNativeCreator:ez,hasRichMetadata:eN,hasRichMetadataProducts:eZ,hasRichMetadataArticle:eB,hasRichMetadataRecipe:eU,hasRichMetadataTutorial:eK,hasThirdPartyPinOwner:eV,imageSignature:eH,isDeletedStoryPin:eG,isDownstreamPromotion:e$,isEligibleForAggregatedComments:eW,isEligibleForPdp:eq,isProductPin:eY,isPromoted:eX,isStoryPin:eJ,isV1IdeaPin:eQ,isVideoPin:e0,link:e1,linkDomainName:e2,mobileLink:e3,graphqlRefs:e6,originalPinImageDimensions:e4,pinCreatedAt:e5,pinDomain:e8,pinTrackingParams:e7,pinId:te,nodeId:tm,imagesUrls:th,pinSectionId:tg,pinnedToBoardId:t_,pinnedToBoardUrl:ty,pinnerDomainUrl:tf,pinnerDomainVerified:tb,pinnerId:tv,postDownloadModalEligibilityType:tx,promotedIsRemovable:tk,promoterId:tP,recommendationReason:tS,seoBreadcrumbs:tw,shouldOpenInStream:tT,storyPinDataId:tI,trackedLink:tA,uanuthDesktopSocialLandingPopover:tE,videosId:tC,viewerId:tj,viewingUser:tR,feedbackType:tL}){let tF=(0,x.ZP)(),tD=(0,u.k6)(),tO=(0,u.TH)(),tz=(0,u.$B)(),tM=(0,V.ZP)(),tN="desktop"===tM,tZ=(0,d.useDispatch)(),tB=(0,$.Z)(),{checkExperiment:tU}=(0,F.F)(),tK=(0,h.Z)(),tV=(0,U.Z)(),tH=(0,M.Z)(),tG=(0,eb.Z)(),{isBot:t$,isSocialBot:tW,isAuthenticated:tq,userAgent:tY,locale:tX}=(0,D.B)(),{setHomeFlyoutText:tJ,setShowHomeBadge:tQ,setShowHomeFlyoutWithButton:t0}=(0,ev.U)(),{setPinFeedbackStatus:t1}=(0,eS.K)(),t2=e6?.pageRef,{group:t3}=tU("mweb_pin_closeup_resize_image",{dangerouslySkipActivation:!0}),{group:t6}=tU("mweb_pin_closeup_resize_image_body",{dangerouslySkipActivation:!0}),[t4,t5]=(0,o.useState)(!tN&&tq&&!!(t6||t3)),t8=(0,eL.M)(),[t7,t9]=(0,o.useState)(!1);(0,o.useEffect)(()=>{t9(!1)},[te]);let[ne,nt]=(0,G.Z)(!1,te),nn=!tN&&tU(tq?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,ni=!tN&&eW&&tq&&(!eq||tU("ce_mweb_pdp_comments").anyEnabled)&&tU("mweb_comment_module").anyEnabled,na=ni&&"enabled_with_spinner_fallback"===tU("mweb_comment_module").group,nl=!eX&&!e$&&!eG,nr=eJ&&!1!==tT&&!tN&&!t$&&!nn,ns=!tN&&!tq&&!nr&&tU("unauth_mweb_more_prominent_search").group.includes("bar"),no=!tN&&!tq&&!nr&&tU("unauth_mweb_more_prominent_search").group.includes("icon"),nd=tv===tj,nc=(0,R._S)(e8)?(0,ep.Wj)({i18n:tF,hasLinkDomain:et,hasRichMetadataArticle:eB,hasRichMetadataRecipeCategorizedIngredients:eU,hasRichMetadataTutorial:eK,richMetadataRecipeFromAggregatedData:null}):tF._('Uploaded to Pinterest', 'closeup.closeupDetails.pinCreditPrefix', 'tells the pinner that the pin was uploaded to Pinterest');(0,o.useEffect)(()=>{let e=!(0,em.Z)(tO);e&&tq&&(0,I.Z)(tR,null,28)&&tK({event_type:9956,view_type:3,userIdStr:tR?.id}),tq&&(0,B.Nc)("view_pin_page")},[]);let[nu,np]=(0,o.useState)(!1),[nm,nh]=(0,o.useState)(!1),[ng,n_]=(0,o.useState)(!1),[ny,nf]=(0,o.useState)(null),{showUnauthSharingModals:nb}=(0,z.l)()??Object.freeze({}),nv=(0,v.c)(),nx=eY&&tq,nk=!tN&&!eY,nP=nx||nk||t4,nS=!eY&&tU("auth_mweb_inline_action_bar").anyEnabled,[nw,nT]=(0,G.Z)(!nP&&(!tq||tN||nS),te),nI=nw||t4?"body":"header",nA=(0,q.Z)({action:4,collaboratedByMe:e??!1,collaboratorPermissions:t,ownerId:i}),nE=(0,A.fY)(tO),nC=()=>{!t$&&tR?.id&&"undefined"!=typeof window&&(0,S.U)(window.location,tR.id,!0,tq,e=>tD.replace(e,tO.state))},nj=()=>(0,Z.Z)(()=>{te&&tK({event_type:110,view_type:3,view_parameter:156,component:e0?179:85,aux_data:{unauth_page_pin_id:te}})},300),nR=(0,o.useCallback)(()=>{let e={pin_image_signature:eH};tZ((0,_.pz)([1000112],t$,tq?{...e,creator_username:s,is_creator_card_shown:!nd&&!!ti({domain:e8,isPromoted:eX,hasLinkDomainOfficialUser:eE,hasLinkUserWebsiteOfficialUser:eO,hasNativeCreator:ez,hasThirdPartyPinOwner:eV,pinnerDomainVerified:tb,pinnerDomainUrl:tf})}:e))},[tZ,s,eH,tq,eX,t$,eE,eO,ez,eV,e8,tb,tf,nd]);(0,o.useEffect)(()=>{t8?.isSaved(te)&&nv("Save",{pin_id:te})},[t8,te]);let nL=e=>{nr&&tK({component:229,element:10942,event_type:102,view_type:3,view_parameter:157}),tG({fn:()=>{nf("sendPinModal"),tq||nb?.()},modalHeader:(0,ef.hg)(tF)})(e)},nF=(0,V.ml)();(0,H.Z)(()=>{nC(),(0,P.Z)();let e=(0,K.mB)(window.location.search),t=e.invite_code;if(t&&tK({component:e0?179:85,element:46,event_type:47,view_type:3,view_parameter:156}),tq){if(!tN){let e=(0,N.qn)(ek.Hn);e||(0,eh.xT)(tR)||(tZ((0,eA.Q_)("HAS_DONE_CLOSEUP",1)),(0,N.Nh)(ek.Hn,!0))}}else window.addEventListener("scroll",nj),(0,B.My)(`mweb.pin_page.${tY.platform||"unknown"}`),e5&&(0,B.My)("mweb_unauth.pin_page.publish_date"),(0,B.NC)("view_pin_page");return tI&&tZ((0,eI.FK)()),t$||nR(),"t"===(0,K.mB)(tO.search).open_share&&nL(),()=>{tI&&tZ((0,eI.Cp)()),tq||window.removeEventListener("scroll",nj)}});let nD=(0,o.useRef)({linkDomainName:e2,pinId:te});(0,o.useEffect)(()=>{let e=nD.current,t=te!==e.pinId,n=!e.pinId&&te,i=e&&e.linkDomainName!==e2;t&&(nC(),tq&&(0,B.Nc)("view_pin_page")),(n||t||i&&tq)&&nR(),nD.current={linkDomainName:e2,pinId:te}});let nO=void 0===tD.location.state,nz=tq&&nO&&t7&&!nm&&!ng;(0,o.useEffect)(()=>{nz&&n_((0,ex.Z)())},[nz]),(0,o.useEffect)(()=>{tZ((0,eI.Cp)())},[tZ]);let nM=(0,eP.a)(),{setShouldShowLearningUpsell:nN,shouldShowLearningUpsell:nZ}=nM??{},nB=!tq&&nF&&["ios","android"].includes(tY.platform);(0,o.useEffect)(()=>{if(!nB||!nN||!nZ)return()=>{};{let e=(0,Z.Z)(()=>{window.scrollY>400&&(nN(!1),(0,B.My)("learning.upsell.dismiss.by.scroll.down"))},10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[nB,nN,nZ]);let nU=(0,eC.Z)({embedSrc:c,embedType:L,hasRichMetadata:eN,hasRichMetadataProducts:eZ,hasRichMetadataArticle:eB,hasRichMetadataRecipe:eU,imagesUrls:th,isStoryPin:eJ,pinId:te,nodeId:tm}),nK=(0,eR.Z)({boardId:a??"",embedSrc:c,embedType:L,imagesUrls:th,pinId:te,nodeId:tm,pinnerId:tv??"",pinnedToBoardId:t_??"",pinSectionId:tg??"",trackingParams:e7}),nV=(0,ej.Z)({embedSrc:c,embedType:L,imagesUrls:th,pinId:te,nodeId:tm,pinnerId:tv??""}),nH=(0,ea.Z)({link:e1,mobileLink:e3,trackedLink:tA}),nG=(0,ew.J6)({boardIsCollaborative:n,isDownstreamPromotion:e$,isEligibleForStaticImageIdeaPin:eJ&&!1===tT,isPromoted:eX,storyPinDataId:tI,videosId:tC}),n$=tq&&nG,nW=(0,ec.Z)(tO.state?.trackingParams,e7),nq=e0&&tq&&!tN,nY=t2?{type:"graphqlRef",data:t2}:{type:"deprecated",data:te},nX=(0,eu.Z)(nY),nJ={downloadImageUrl:!e0&&(0,j.Z)({imagesUrls:th,embedSrc:c,embedType:L,excludeOriginals:!t$&&!tW})||null,isAuthenticated:tq,isBot:t$,isSocialBot:tW,saveButtonConfig:{shouldShowSavedButton:nV,onSaveButtonClick:e=>{nU(e)},onUnsaveButtonClick:nK,repinPageLocation:(0,R.NK)(te,tO)},clientTrackingParams:nW,isStoryPin:eJ,viewParameter:(0,ep.CK)({hasRichMetadata:eN,hasRichMetadataProducts:eZ,hasRichMetadataArticle:eB,hasRichMetadataRecipe:eU}),pinId:te,canUpsellNativeApp:tB,shouldShowReactions:n$,onSendButtonClick:nL,isChromeOnIOS:"ios"===tY.platform&&"Chrome"===tY.browserName,handleDownloadPinImageClick:()=>{tV({action:"click",item:"download-image-button",within:"action-bar"}),"unauthPostDownloadUpsell"===tx?(nf(null),tN||tH({attributionLabel:"tap_closeup_download_button",reason:"UPSELL_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"download"}})):tx?nf("postDownloadModal"):nv("Download",{pin_id:te})},shouldRenderAsStoryPin:eJ&&!1!==tT&&!nn,shouldShowVisitInMoreOptions:nH&&nq,onHidePin:()=>{let{action:e,actionOptions:t}=(0,C.Z)({feedbackType:tL,pinId:te,pinFeedbackType:"pfy"===tL?4:10,recommendationReason:tS&&{board:null,reasonId:tS.reasonId,reason:tS.reason,throughProperties:[]},clientTrackingParams:nW});tZ((0,eT.q1)({id:te,nodeId:tm})),(0,E.t)(e,t,()=>t1({pinId:te,pinFeedbackStatus:"hidden"}),tK),tD&&tD.goBack()}},nQ=n$&&(tC&&"video"||eJ&&"storyPin")||null,n0=nd||nA?tG({fn:()=>tD.push(tz.url+"edit/"),modalHeader:(0,ef.oM)(tF),nextLocation:(0,ef.wI)(tO)}):void 0,n1=()=>{nf("reportPinModal"),tK({view_type:3,view_parameter:139,element:72,event_type:102,object_id_str:te||""})},n2=(0,eM.jsx)(e9,{queryRef:e6?.detailRef,children:e=>(0,eM.jsx)(el.Z,{clickthroughInterstitialExperience:r,experience:W,graphqlRef:e,inCommentModuleExp:!!ni,isActionBarInline:nw||t4,isEligibleForPinReactions:nl,isEligibleToVisitPin:nH,isNewUser:(0,T.Z)(tR?.created_at),isRemovablePin:tk??!1,nativePinType:nQ,onEditButtonClick:n0,onMobileTap:()=>{nr&&tK({component:229,element:10946,event_type:102,view_type:3,view_parameter:157}),n1()},onSendButtonClick:nL,pinId:te,pinnedToBoardId:t_,pinnedToBoardUrl:(nd?l:ty)||"",scrolledToRelatedPins:t7,shouldShowBackButton:"header"===nI,shouldShowReactions:n$&&!nP,shouldShowShareOnVideoCloseup:nq})}),n3=(0,eM.jsx)(e9,{queryRef:e6?.detailRef,children:e=>(0,eM.jsx)(td,{fallback:na?(0,eM.jsx)(Q.Z,{}):null,inCommentModuleExp:!!ni,isEligibleForPinReactions:nl,isProductPin:eY,pinId:te,pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:te}})}),n6=(tO.search||"").includes("force_seo")||!tq;return(0,eM.jsx)(ee.Z,{pinId:te,pinKey:nY,viewParameter:nJ.viewParameter,children:(0,eM.jsxs)(J.Z,{closeupPageContext:nJ,hasGutter:!nr,imageViewer:(0,A.Fr)(tO)&&!nr&&tq&&(0,eM.jsx)(e9,{queryRef:e6?.detailRef,children:e=>(0,eM.jsx)(tl,{experience:W,graphqlRef:e,isRemovablePin:!!tk,pinId:te,pinnedToBoardId:t_,pinnedToBoardUrl:(nd?l:ty)||"",postDownloadModalEligibilityType:tx,setActionBarIsMinifiedToMainPinImage:np,shouldShowSEOPinInfo:n6})}),pinKey:nY,stickyUpsell:nB&&nZ&&(0,eM.jsx)(eD.Z,{pinId:te}),children:[(0,eM.jsxs)(tt,{children:[tq&&(0,eM.jsxs)(o.Fragment,{children:[W&&(0,eM.jsx)(eo.Z,{experience:W}),W&&(0,eM.jsx)(ed.Z,{experience:W}),W&&(0,eM.jsx)(y.Z,{experience:W},`${te}-1000112`),(0,eM.jsx)(f.Z,{placementId:1000494},`${te}-1000494`),(0,eM.jsx)(f.Z,{placementId:1000500},`${te}-1000500`),(0,eM.jsx)(b.Z,{placementId:1000540},`${te}-1000540`)]}),!tq&&nE&&!tN&&(0,eM.jsx)(es.Z,{isDesktop:!1,isStoryPin:eJ}),"header"===nI&&!nu&&n2,!tq&&tN&&(0,eM.jsx)(e_.Z,{breadcrumbs:tw??[]}),ns&&(0,eM.jsx)(m.xu,{paddingY:4,children:(0,eM.jsx)(tu,{fallback:(0,eM.jsx)(m.xu,{height:40}),height:40,history:tD,shouldInputFocusOnTouch:!0,viewType:3})}),no&&(0,eM.jsx)(tp,{fallback:(0,eM.jsx)(m.xu,{height:e_.H}),isUnauthMwebProminentSearchBarExpIconGroup:no,pageRef:t2,pinId:te}),!tq&&!tN&&!ns&&!no&&!nr&&(t$?(0,eM.jsx)(e_.Z,{breadcrumbs:tw??[]}):(0,eM.jsx)(ey.Z,{pinId:te,shouldUseGraphQL:!!t2}))]}),(0,eM.jsxs)(tn,{uanuthDesktopSocialLandingPopover:tE,children:[(nP||nw)&&!nr&&(0,eM.jsx)(en.Z,{l1interestFallbackUrl:tw?.[tw.length-1]?tw[tw.length-1].url:"",pinActionBarOptionsButton:nP&&!t7&&(0,eM.jsx)(e9,{queryRef:e6?.detailRef,children:e=>(0,eM.jsx)(m.xu,{"data-test-id":"ellipsis-button",children:(0,eM.jsx)(er.Z,{clickthroughInterstitialExperience:r,graphqlRef:e,onMobileTap:n1,pinCreditPrefix:nc,pinId:te})})})}),nr?(0,eM.jsx)(g.Z,{name:"SafeSuspense_Closeup_StoryPinStream",children:(0,eM.jsx)(ta,{fallback:null,graphqlRef:e6?.storyPinRef,pinId:te})}):eG?(0,eM.jsx)(eF.Z,{}):(0,eM.jsx)(Y.Z,{originalPinImageHeight:e4.height||1,originalPinImageWidth:e4.width||1,pinId:te,setIsEligibleToShowInlineActionBar:t5,children:e=>(0,eM.jsx)(X.Z,{actionBarIsMinifiedToMainPinImage:nu,clickthroughInterstitialExperience:r,closeupIsFirstPageInHistoryStack:nO,commentModule:ni?n3:null,graphqlRefs:e6,isActionBarInline:nw||!!e.resizePinImageExperimentGroup,isImagePinForUnauthOnTablet:!tq&&!e0&&!(0,R.cL)({embedSrc:c,embedSubtype:p,embedType:L})&&("tablet"===tM||(0,w.oy)()),isSendPinModalOpen:"sendPinModal"===ny,isVideoPin:e0,onLinklessPinTap:()=>{let e=!nu;np(e),tZ(e?(0,eI.Cp)():(0,eI.FK)())},onMoreButtonClick:n1,onSendPin:nL,pinActionBar:"body"===nI||e.resizePinImageExperimentGroup?n2:null,pinCloseupExperience:W,pinId:te,pinImageResizePercents:e.pinImageResizePercents,pinnedToBoardId:t_,resizePinImageExperimentGroup:e.resizePinImageExperimentGroup,setCloseupDetailsHeight:e.setCloseupDetailsHeight,setCloseupPinLinkCreditsHeight:e.setCloseupPinLinkCreditsHeight,setCloseupTitleHeight:e.setCloseupTitleHeight,setIsActionBarInline:nT,setIsShowingCloseupDetailsSuspenseFallback:nt,setUploadedToPinterestTextHeight:e.setUploadedToPinterestTextHeight,setUserAttributionHeight:e.setUserAttributionHeight,setUserRepHeight:e.setUserRepHeight,shouldShowReactions:nG,shouldShowSEOPinInfo:n6,viewerId:tj})})]}),tq&&!nr&&(0,eM.jsx)(g.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,eM.jsx)(O.Z,{fallback:(0,eM.jsx)(Q.Z,{}),children:(0,eM.jsx)(m.xu,{paddingY:6,children:(0,eM.jsx)(to,{auxCommerceData:nX,graphqlConfig:e6?{fallback:(0,eM.jsx)(Q.Z,{}),isShowingCloseupDetailsSuspenseFallback:ne}:null,isProductDetailPage:eY,onRelatedPinsTitleEnter:()=>t9(!1),onRelatedPinsTitleExit:()=>t9(!0),pinId:te,recommendationReason:tS})})})}),!tq&&!nr&&!tP&&(0,eM.jsx)(e9,{fallback:(0,eM.jsx)(Q.Z,{}),queryRef:e6?.detailRef,children:e=>(0,eM.jsx)(tc,{fallback:(0,eM.jsx)(Q.Z,{}),isShowingCloseupDetailsSuspenseFallback:ne,onRelatedPinsTitleEnter:()=>t9(!1),onRelatedPinsTitleExit:()=>t9(!0),pinId:te,pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:te}})}),(0,eM.jsx)(e9,{queryRef:e6?.detailRef,children:e=>(0,eM.jsxs)(o.Fragment,{children:[tq&&!(0,eh.xT)(tR)&&nO&&t7&&!nm&&!ng&&!tU("mweb_turn_off_mini_renux_exp").anyEnabled&&(0,eM.jsx)(g.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,eM.jsx)(O.Z,{children:(0,eM.jsx)(ts,{onComplete:e=>{e&&(tJ((0,k.nk)(tF._('We\'ve added fresh ideas for {{ interestName }}', 'navFooter.flyout.text', 'A flyout points at Home button to ask users to go to home page'),{interestName:(0,eg.T_)(e,tX)}).join("")),tQ(!0),t0(!0)),nh(!0)},pinId:te,showRelatedInterestModal:()=>{nf("relatedInterestsModal")}})})}),eQ&&(0,eM.jsx)(ei.Z,{pinId:te,viewParameter:nJ.viewParameter}),(0,eM.jsx)(g.Z,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,eM.jsx)(O.Z,{children:(0,eM.jsx)(m.xu,{"data-test-id":"close-action-bar",children:(0,eM.jsx)(tr,{clickthroughInterstitialExperience:r,clientTrackingParams:nW,graphqlRef:e,modal:ny,nativePinType:nQ,onDismiss:()=>{tV({action:"click",item:"close-action-bar",within:"action-bar"}),"relatedInterestsModal"===ny&&nh(!0),nf(null)},onEditButtonClick:n0,onSendButtonClick:nL,pinId:te,postDownloadModalEligibilityType:tx,shouldShowShareOnVideoCloseup:nq,viewParameter:nJ.viewParameter})})})})]})})]})})}function th(e){let{pinId:t}=e,n=(0,eE.S6)()(t),i=(0,V.HG)(),a=(0,u.TH)(),{isAuthenticated:l}=(0,D.B)(),r=(0,W.Z)({pinKey:n?{type:"deprecated",data:n}:null,viewParameter:156}),s=n?.board,o=n?.promoter&&!n.is_downstream_promotion?n.promoter:null,d=n?.pinner;return n&&d&&s?(0,eM.jsx)(tm,{...e,boardCollaboratedByMe:s.collaborated_by_me??!1,boardCollaboratorPermissions:s.collaborator_permissions,boardId:s.id,boardIsCollaborative:s.is_collaborative,boardOwnerId:s.owner?.id,boardUrl:s.url,closeupAttributionFullName:n.closeup_attribution?.full_name,embedSrc:n.embed?.src,embedSubtype:n.embed?.subtype,embedType:n.embed?.type,feedbackType:r,graphqlRefs:null,hasLinkDomain:!!n.link_domain,hasLinkDomainOfficialUser:!!n.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!n.link_user_website?.official_user,hasNativeCreator:!!n.native_creator,hasRichMetadata:!!n.rich_metadata,hasRichMetadataArticle:!!n.rich_metadata?.article,hasRichMetadataProducts:!!n.rich_metadata?.products,hasRichMetadataRecipe:!!n.rich_metadata?.recipe,hasRichMetadataTutorial:!!n.rich_metadata?.tutorial,hasThirdPartyPinOwner:!!n.third_party_pin_owner,imageSignature:n.image_signature,imagesUrls:n.images?Object.keys(n.images).reduce((e,t)=>t&&n.images?.[t]?.url?{...e,[t]:n.images[t].url}:e,{}):void 0,isDeletedStoryPin:n.story_pin_data?.is_deleted??!1,isDownstreamPromotion:n.is_downstream_promotion,isEligibleForAggregatedComments:n.is_eligible_for_aggregated_comments,isEligibleForPdp:n.is_eligible_for_pdp,isPromoted:n.is_promoted,isV1IdeaPin:n.is_v1_idea_pin,isVideoPin:!!n.videos?.video_list,link:n.link,linkDomainName:n.link_domain?.name,mobileLink:n.mobile_link,nodeId:n.node_id,originalPinImageDimensions:n.images?.["236x"]||n.images?.["136x136"]||{},pinCreatedAt:n.created_at,pinDomain:n.domain,pinId:t,pinnedToBoardId:n.pinned_to_board?.id,pinnedToBoardUrl:n.pinned_to_board?.url,pinnerDomainUrl:d.domain_url,pinnerDomainVerified:d.domain_verified,pinnerId:d.id,pinSectionId:n.section?.id,pinTrackingParams:n.tracking_params,promotedIsRemovable:n.promoted_is_removable,promoterId:o?.id,recommendationReason:n.recommendation_reason&&{reason:n.recommendation_reason.reason,reasonId:n.recommendation_reason.reason_id},seoBreadcrumbs:n.pin_join?.seo_breadcrumbs,shouldOpenInStream:n.should_open_in_stream||!1,storyPinDataId:n.story_pin_data_id,trackedLink:n.tracked_link,videosId:n.videos?.id}):(0,eM.jsx)(m.xu,{margin:5,children:l||i&&(0,A.fY)(a)?(0,eM.jsx)(Q.Z,{}):(0,eM.jsx)(et.Z,{})})}function tg({graphqlRefs:e,...t}){let{pinId:n}=t,i=(0,c.useFragment)(e3,e.pageRef),a=(0,L.Z)({type:"graphqlRef",data:i}),{board:l,pinner:r}=i,s=i.pinJoin?.seoBreadcrumbs?.map(({name:e,url:t})=>({name:e??"",url:t??""})),o=(0,W.Z)({pinKey:{type:"graphqlRef",data:i},viewParameter:156});return(0,eM.jsx)(tm,{...t,boardCollaboratedByMe:l?.collaboratedByMe??!1,boardCollaboratorPermissions:l?.collaboratorPermissions,boardId:l?.entityId,boardIsCollaborative:l?.isCollaborative,boardOwnerId:l?.owner?.entityId,boardUrl:l?.url,closeupAttributionFullName:i.closeupAttribution?.fullName??"",embedSrc:i.embed?.src,embedSubtype:i.embed?.subtype,embedType:i.embed?.type,feedbackType:o,graphqlRefs:{...e,pageRef:i},hasLinkDomain:!!i.linkDomain,hasLinkDomainOfficialUser:!!i.linkDomain?.officialUser,hasLinkUserWebsiteOfficialUser:!!i.linkUserWebsite?.officialUser,hasNativeCreator:!!i.nativeCreator,hasRichMetadata:!!i.richMetadata,hasRichMetadataArticle:!!i.richMetadata?.article,hasRichMetadataProducts:!!i.richMetadata?.products?.length,hasRichMetadataRecipe:!!i.richMetadata?.recipe,hasRichMetadataTutorial:!!i.richMetadata?.tutorial,hasThirdPartyPinOwner:!!i.thirdPartyPinOwner,imageSignature:i.imageSignature,imagesUrls:a,isDeletedStoryPin:i.storyPinData?.isDeleted??!1,isDownstreamPromotion:i.isDownstreamPromotion,isEligibleForAggregatedComments:i.isEligibleForAggregatedComments,isEligibleForPdp:i.isEligibleForPdp,isPromoted:i.isPromoted,isV1IdeaPin:i.isV1IdeaPin,isVideoPin:!!i.videos?.entityId,link:i.link,linkDomainName:i.linkDomain?.name,mobileLink:i.mobileLink,nodeId:i.nodeId,originalPinImageDimensions:i.imageSpec_236x||i.imageSpec_136x136||{},pinCreatedAt:i.createdAt,pinDomain:i.domain,pinId:n,pinnedToBoardId:i.pinnedToBoard?.entityId,pinnedToBoardUrl:i.pinnedToBoard?.url,pinnerDomainUrl:r?.domainUrl,pinnerDomainVerified:r?.domainVerified,pinnerId:r?.entityId,pinSectionId:i.section?.entityId,pinTrackingParams:i.trackingParams,promotedIsRemovable:i.promotedIsRemovable,promoterId:i.promoter?.entityId,recommendationReason:i.recommendationReason&&{reason:i.recommendationReason.reason,reasonId:i.recommendationReason.reasonId},seoBreadcrumbs:s??[],shouldOpenInStream:i.shouldOpenInStream||!1,storyPinDataId:i.storyPinDataId,trackedLink:i.trackedLink,videosId:i.videos?.entityId})}function t_({graphqlRefs:e,...t}){if(!e)return(0,eM.jsx)(th,{...t});let{isStoryPin:n,pinId:i}=t;return n?(0,eM.jsx)(te,{pinId:i,children:n=>n&&(0,eM.jsx)(tg,{...t,graphqlRefs:{...e,storyPinRef:n}})}):(0,eM.jsx)(tg,{...t,graphqlRefs:{...e,storyPinRef:null}})}},989406:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(883119),a=n(160133),l=n(340523),r=n(5859),s=n(554786),o=n(490166),d=n(174281),c=n(479144),u=n(785893);let p={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},m=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:{mainImageEventHandlers:a}})=>{let c=(0,s.ZP)(),m="desktop"===c?8:"undefined"!=typeof window&&window.screen&&window.screen.width<750?0:54,{checkExperiment:h}=(0,l.F)(),{isAuthenticated:g}=(0,r.B)(),_=g?h("auth_closeup_redesign").anyEnabled:h("unauth_closeup_redesign").anyEnabled,y="phone"!==c?d.Hg:"47vw",f="phone"!==c?0:"desktop"===c?8:10;return(0,u.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:_?{__style:p}:void 0,maxWidth:_?1059:void 0,paddingX:_?5:void 0,paddingY:_?5:void 0,children:(0,u.jsxs)(i.xu,{dangerouslySetInlineStyle:"phone"!==c?{__style:{justifyContent:"center"}}:{__style:{marginTop:t?0:54,marginRight:m,marginBottom:54,marginLeft:m,boxShadow:"desktop"===c?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},display:"flex",minHeight:"40vh",overflow:"phone"!==c?void 0:"hidden",position:"relative",rounding:"desktop"===c?void 0:6,children:[(0,u.jsx)(i.xu,{display:"phone"!==c?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==c?void 0:"hidden",paddingX:f,rounding:"desktop"===c?8:void 0,width:y,children:(0,u.jsx)(o.Z,{onMouseEnter:a?.onMouseEnter,onMouseLeave:a?.onMouseLeave,onTouch:a?.onTouch,pressState:"desktop"===c?"none":"compress",rounding:2,children:n})}),(0,u.jsx)(i.xu,{direction:"column",display:"flex",justifyContent:"between",paddingX:f,width:y,children:e})]})})})},h=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:l})=>{let r;let o=(0,s.ZP)(),{storyPinHeight:p}=(0,c.Z)();return r="desktop"===o?void 0:"phone"===o?d.g6:"number"==typeof p?9*p/16:d.Hg,l?(0,u.jsx)(i.xu,{"data-test-id":"closeup-body-landscape",marginEnd:"auto",marginStart:"auto",children:(0,u.jsx)(m,{detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:l})}):(0,u.jsxs)(i.xu,{"data-test-id":"closeup-body-portrait",marginEnd:"auto",marginStart:"auto",maxWidth:r,children:[t||"desktop"===o?(0,u.jsx)(a.Z,{roundedForLargeDevice:!0,children:n}):n,e]})}},984331:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R}),n(167912);var i,a,l,r=n(333739),s=n(140017),o=n(339001),d=n(180593),c=n(5859),u=n(883119),p=n(785893);let m=void 0!==i?i:i=n(670496);function h({pin:e}){let t=(0,s.ZP)(),{author:n,authorUrl:i,ccUrl:a,link:l,mediaType:r,providerName:d}=e.mediaAttribution||{},c=!!d&&"Unknown"!==d,m={author:(0,p.jsx)(u.xu,{display:"inlineBlock",children:(0,p.jsx)(u.rU,{href:i||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,p.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:n})},"author")},"author"),provider:c?(0,p.jsx)(u.xu,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(u.rU,{href:l||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,p.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:d})},"provider")},"provider"):null},h=c?t._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return n&&(h="VIDEO"===r?c?t._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):t._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):c?t._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):t._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,p.jsx)(u.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,p.jsxs)(u.xv,{inline:!0,size:"200",children:[!!h&&(0,o.nk)(h,m),a&&(0,p.jsx)(u.rU,{href:a,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,p.jsx)(u.xv,{inline:!0,size:"200",children:t._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function g({pinKey:e}){let{data:t}=(0,r.sr)(m,e,{type:"pin",useLegacyAdapter:e=>({mediaAttribution:e.media_attribution&&{author:e.media_attribution.author,authorUrl:e.media_attribution.author_url,ccUrl:e.media_attribution.cc_url,link:e.media_attribution.link,mediaType:e.media_attribution.media_type,providerName:e.media_attribution.provider_name}})});return t&&(0,p.jsx)(h,{pin:t})}let _=void 0!==a?a:a=n(521467);function y({pin:e}){let t=(0,s.ZP)(),{authorUrl:n,authorName:i,url:a,providerName:l,ccUrl:r}=e.attribution||{},d=e.attribution?.embed?.src,{type:c,src:m,subtype:h}=e.embed||{},g=!!l&&"Unknown"!==l,_={author:(0,p.jsx)(u.xu,{display:"inlineBlock",children:(0,p.jsx)(u.rU,{href:n||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,p.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:i})},"author")},"author"),provider:g?(0,p.jsx)(u.xu,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(u.rU,{href:a||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,p.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:l})},"provider")},"provider"):null},y=g?t._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return i&&(y=(m||d)&&"gif"!==c&&"pinstory"!==h?g?t._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):t._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):g?t._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):t._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,p.jsx)(u.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,p.jsxs)(u.xv,{inline:!0,size:"200",children:[!!y&&(0,o.nk)(y,_),r&&(0,p.jsx)(u.rU,{href:r,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,p.jsx)(u.xv,{inline:!0,size:"200",children:t._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function f({pinKey:e}){let{data:t}=(0,r.sr)(_,e,{type:"pin",useLegacyAdapter:e=>({attribution:e.attribution&&{authorName:e.attribution.author_name,authorUrl:e.attribution.author_url,ccUrl:e.attribution.cc_url,embed:e.attribution.embed&&{src:e.attribution.embed.src},providerName:e.attribution.provider_name,url:e.attribution.url},embed:e.embed&&{src:e.embed.src,subtype:e.embed.subtype,type:e.embed.type}})});return t&&(0,p.jsx)(y,{pin:t})}var b=n(667294),v=n(169609),x=n(772667),k=n(696534),P=n(340523),S=n(217058),w=n(623409),T=n(885121),I=n(554786);function A({text:e}){let{isAuthenticated:t,isBot:n}=(0,c.B)(),[i,a]=(0,b.useState)(!1),{checkExperiment:l}=(0,P.F)(),r=(0,I.ZP)(),s=(0,w.Z)(),o=l("web_hashtags_in_description_display").anyEnabled,d=(0,k.vs)(),m=(0,b.useCallback)(()=>{i||t||((0,S.NC)("click_open_description"),s({action:"click",item:"more-description"})),a(!i)},[i,t,s]);return n?(0,p.jsx)(u.xv,{inline:!0,children:(0,x.Z)({isHashtagInDescriptionDisplayEnabled:o,text:e})}):"desktop"!==r?(0,p.jsx)(T.Z,{description:e,handleToggle:m,isExpanded:i,maxHeight:38,Wrapper:({children:e})=>(0,p.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start"},children:e})}):(0,p.jsx)(v.Z,{isDarkMode:d,children:(0,x.Z)({isHashtagInDescriptionDisplayEnabled:o,text:e})})}function E({photoAttribution:e,text:t}){let n;let i=(0,I.ZP)(),a=(0,w.Z)(),{checkExperiment:l}=(0,P.F)(),{isAuthenticated:r}=(0,c.B)(),s=r?l("auth_closeup_redesign").anyEnabled:l("unauth_closeup_redesign").anyEnabled;return"phone"===i&&(n=s?"start":"center"),(0,p.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{textAlign:n}},"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",children:[e,t&&(0,p.jsx)(u.xu,{"data-test-id":"main-pin-description-text",children:(0,p.jsx)(u.iP,{onTap:()=>{a({action:"click",item:"main-pin-description-text"})},children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,p.jsx)(A,{text:t})})})})]})}let C=void 0!==l?l:l=n(935949),j=(e,t)=>{if(e){let n=e.getTime(),i=new Date().getTime();return null==t||i-n<=31536e6*t}return!1};function R({pinKey:e}){let t;let n=(0,s.ZP)(),{isAuthenticated:i,locale:a}=(0,c.B)(),{data:l,childDataKey__DEPRECATED:u}=(0,r.sr)(C,e,{type:"pin",useLegacyAdapter:e=>({attribution:e.attribution&&{__typename:"Attribution"},closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,description:e.description,mediaAttribution:e.media_attribution&&{__typename:"MediaAttribution"},richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{datePublished:e.rich_metadata.article.date_published},description:e.rich_metadata.description,recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata"}},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},seoDescription:e.seo_description,seoNoindexReason:e.seo_noindex_reason,storyPinDataId:e.story_pin_data_id})});if(!l)return null;let{closeupDescription:m,closeupUnifiedDescription:h,storyPinDataId:_}=l,y=l.richMetadata?.description??"",b=l.richMetadata?.article?.datePublished??"",v=l.richSummary?.displayName??"",x=l.description,k=!!l.attribution,P=!!l.mediaAttribution,S=l.seoDescription||"",w=l.seoNoindexReason||"",T=b&&new Date(b),I=i?h?.trim():(0,d.Z)({storyPinDataId:_,pinDescription:x,richMetadataDescription:y,richSummaryDisplayName:v,closeupDescription:m,closeupUnifiedDescription:h,seoDescription:S,seoNoindexReason:w}),A=T&&j(T,2)&&I?(0,o.nk)(n._('{{ pinDescription }} Published on {{ date }}', 'closeup.details.descirptionWithPublishedDate', 'Pin description with publish date'),{date:function(e,t){try{return new Intl.DateTimeFormat(t,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(t){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}(T,a),pinDescription:I}).join(""):I;return(k||P)&&(t=(0,o.nk)(I?"{{ credit }}  \xb7 ":"{{ credit }}",{credit:P?(0,p.jsx)(g,{pinKey:u},"article-pin"):(0,p.jsx)(f,{pinKey:u},"article-pin"),descriptionToDisplay:A})),(0,p.jsx)(E,{photoAttribution:t,text:l.richMetadata?.recipe?null:I})}},168723:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>eh,fL:()=>es,xh:()=>el});var i,a,l=n(667294),r=n(167912),s=n(240684),o=n(883119),d=n(230556),c=n(89856),u=n(378049),p=n(696534),m=n(510989),h=n(333739),g=n(140017),_=n(59545),y=n(422210),f=n(165706),b=n(558273),v=n(567344),x=n(340523),k=n(5859),P=n(608516),S=n(191313),w=n(427514),T=n(629650),I=n(554786),A=n(219168),E=n(984331),C=n(242534),j=n(800856),R=n(752039),L=n(916845),F=n(618429),D=n(387450),O=n(703142),z=n(204926),M=n(875292),N=n(861748),Z=n(323294),B=n(942397),U=n(701082),K=n(386008),V=n(283970),H=n(367408),G=n(443171),$=n(41117),W=n(844035),q=n(771981),Y=n(605922),X=n(435333),J=n(115526),Q=n(644701),ee=n(223996),et=n(10630),en=n(785893);let ei=(0,s.ZP)({resolved:{},chunkName:()=>"app-www-Reactions-ReactionAggregation",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(80428).then(n.bind(n,656178)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>656178}),ea=(0,l.lazy)(()=>n.e(46148).then(n.bind(n,746148))),el=2,er=l.Fragment,es=({children:e})=>{let t=(0,V.H)();return"lg"===t?(0,en.jsx)(o.Le,{top:68,children:(0,en.jsx)(o.xu,{marginStart:4,children:e})}):e},eo=(0,l.lazy)(()=>n.e(68951).then(n.bind(n,868951))),ed=void 0!==i?i:i=n(491442),ec=void 0!==a?a:a=n(881285);function eu(e){let t,n;let i=(0,g.ZP)(),{commentCount:a,commentsDisabled:r,commentModule:s,isEligibleForPdp:c,isImagePinForUnauthOnTablet:h,isStoryPin:V,onClickTitleOrDomain:J,shouldShowAggregatedComments:ee,shouldShowReactions:ed,shouldShowSEOPinInfo:ec,viewParameter:eu,viewerId:ep,pinActionBar:em,sourceUserBlockedByMe:eh,sourceUserExplicitlyFollowedByMe:eg,sourceUserFollowerCount:e_,sourceUserFullName:ey,sourceUserId:ef,sourceUserImageLargeUrl:eb,sourceUserimageMediumUrl:ev,sourceUserImageSmallUrl:ex,sourceUserIsVerifiedMerchant:ek,sourceUserUsername:eP,sourceUserVerifiedIdentityVerified:eS,pinId:ew,pinLink:eT,pinDomain:eI,pinProductPrice:eA,pinProductInStock:eE,pinReactionCounts:eC,promoterFullName:ej,hasPinProduct:eR,hasSourceUser:eL,hasOfficialUser:eF,hasLinkDomain:eD,hasNativeCreator:eO,hasOriginPinner:ez,hasPromoter:eM,hasRichMetadataArticle:eN,hasRichMetadataTutorial:eZ,hasRichMetadataRecipe:eB,hasRichMetadataRecipeCategorizedIngredients:eU,hasRichMetadataRecipeAggregateInfo:eK,hasRichMetadataProductOfferSummary:eV,hasRichSummaryProductOfferSummary:eH,richMetadataRecipeFromAggregatedData:eG,richMetadataProductName:e$,richSummaryProductName:eW,pinJoinVisualAnnotation:eq,pinJoinAnnotationsWithLinks:eY,graphqlRef:eX,isActionBarInline:eJ,setIsActionBarInline:eQ,clientTrackingParams:e0,shoppingKlpUrls:e1,storyPinKeyValueBlocks:e2,setCloseupDetailsHeight:e3,setCloseupPinLinkCreditsHeight:e6,setCloseupTitleHeight:e4,setUploadedToPinterestTextHeight:e5,setUserAttributionHeight:e8,setUserRepHeight:e7}=e,{checkExperiment:e9}=(0,x.F)(),te=(0,I.ZP)(),tt="desktop"===te,tn="phone"===te,{isAuthenticated:ti,country:ta,locale:tl,isBot:tr,regionFromIp:ts}=(0,k.B)(),to=(0,K.mN)(),td=(0,K.Tt)(),tc=(0,p.vs)(),tu=c&&ti,tp=tu||!tt&&!c,tm=(0,l.useRef)(null),th=(0,l.useRef)(null),tg=(0,l.useRef)(null),t_=(0,l.useRef)(null),ty=(0,l.useRef)(null),tf=(0,l.useRef)(null),tb=(0,l.useRef)(null);(0,U.Z)(e=>{e3&&th&&th.current&&th.current.offsetHeight<72&&e3(e.offsetHeight)},tm),(0,U.Z)(e=>{e6&&e6(e.offsetHeight)},tg),(0,U.Z)(e=>{e4&&e4(e.offsetHeight)},t_),(0,U.Z)(e=>{e8&&e8(e.offsetHeight)},tf),(0,U.Z)(e=>{e5&&e5(e.offsetHeight)},ty),(0,U.Z)(e=>{e7&&e7(e.offsetHeight)},tb);let tv=!tt&&!!ee&&ti&&(!c||e9("ce_mweb_pdp_comments").anyEnabled),tx=!tt&&(!ti||tp&&eJ||!c&&e9("auth_mweb_inline_action_bar").anyEnabled);if(ti&&c)return(0,en.jsx)(es,{children:(0,en.jsxs)(o.xu,{"data-test-id":"CloseupDetails",children:[(0,en.jsx)(o.xu,{paddingX:2,paddingY:s?0:3,width:"100%",children:(0,en.jsx)(W.Z,{graphqlRef:eX,inlinePinActionBar:tx?em:void 0,inMwebPdpCommentsExp:tv,onClickTitleOrDomain:J,pinId:ew,setIsActionBarInline:tp?eQ:void 0})}),s]})});let tk=!tt&&["no_collapse_by_default","collapse_by_default"].includes(e9(ti?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group),tP=(0,b._S)(eI)?(0,Z.Fc)({i18n:i,hasRichMetadataProductOfferSummary:eV,richMetadataProductName:e$,richSummaryProductName:eW,hasRichSummaryProductOfferSummary:eH}):void 0,tS=(0,b._S)(eI)?(0,Z.Fc)({i18n:i,hasRichMetadataProductOfferSummary:eV,richMetadataProductName:e$,richSummaryProductName:eW,hasRichSummaryProductOfferSummary:eH})||(0,Z.Wj)({i18n:i,hasLinkDomain:eD,hasRichMetadataArticle:eN,hasRichMetadataRecipeCategorizedIngredients:eU,hasRichMetadataTutorial:eZ,richMetadataRecipeFromAggregatedData:eG}):void 0,tw=!ti&&eR&&(c||tr||!e9("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled),{pinCreditLink:tT,pinCredit:tI}=(0,Z.Xe)({hasLinkDomain:eD,hasNativeCreator:eO,hasOriginPinner:ez,pinDomain:eI,sourceUserUsername:eP,sourceUserFullName:ey}),{annotationsWithLinks:tA}=(0,v.eK)({pinJoinVisualAnnotation:eq,pinJoinAnnotationsWithLinks:eY}),tE=(0,Z.AH)(eT),tC=eL&&(!ti||tI&&tT),tj=ed&&!!eC&&!e9(`${ti?"auth":"unauth"}_mweb_reactions_expansion_mvp_idea_video_pin`).anyEnabled,tR=(0,y.Z)(td?.created_at)&&!(0,B.V0)(td),tL=tr&&!tt&&tp&&e9("mweb_render_missing_seo_content_holdout_ff").anyEnabled,tF=tL?!tp:tr||!tp,tD=ti?e9("auth_closeup_redesign").anyEnabled:e9("unauth_closeup_redesign").anyEnabled,tO=!tt&&ec&&(0,en.jsx)(o.xu,{children:(0,en.jsx)(G.Z,{dedupeVisualAnnotations:null,graphqlRef:eX,isAuth:ti,isMainPin:!0,lazyLoadAnnotations:!ti&&!tr,onClickTitleOrDomain:J,pinCreditPrefix:tS,pinId:ew,renderOnlyHiddenSEOContent:!tL&&tp&&tr,shoppingKlpUrls:e1})}),tz=eF&&(0,en.jsx)(o.xu,{ref:tf,marginBottom:2,children:(0,en.jsx)(D.Z,{clientTrackingParams:e0,graphqlRef:eX,hideFollowButton:e9("lex_follow_button").group.includes("hide_follow")||tt,justifyContent:tt?"start":"center",pinId:ew,seeMoreButton:tF&&tO,viewerId:ep})}),tM=ef&&to(ef),tN=tM?tM.explicitly_followed_by_me:!!eg,tZ=!!tC&&!eF&&(0,en.jsxs)(o.xu,{ref:tb,alignItems:"center","data-test-id":"CloseupUserRep",display:"flex",flex:"grow",justifyContent:"between",marginTop:tD?void 0:q.dP,width:"100%",children:[(0,en.jsx)(Q.Z,{activateLexFollowExp:()=>e9("lex_follow_button"),blockedByMe:eh??!1,clientTrackingParams:e0,explicitlyFollowedByMe:tN,followerCount:e_??0,fullName:ey??"",id:ef??"",imageLargeUrl:eb??"",imageMediumUrl:ev??"",imageSmallUrl:ex??"",isEligibleForPdp:!!c,isImagePinForUnauthOnTablet:h??!1,isOnCloseup:!0,isVerifiedMerchant:ek??!1,pinId:ew,pinKey:eX,textColor:"default",type:"row",username:eP??"",verifiedIdentityVerified:eS??!1,viewParameter:eu,viewType:3}),tF&&tO]}),tB=tt&&(tA||[]).length>0&&(0,en.jsx)(l.Fragment,{children:(0,en.jsx)(o.xu,{marginTop:tD?4:0,padding:tD?0:2,paddingX:0,children:(0,en.jsx)(et.ZP,{dedupeVisualAnnotations:null,graphqlRef:eX,mode:"inlineWithScrollArrows",pinId:ew,shoppingKlpUrls:e1})})}),tU=tj&&(0,en.jsx)(m.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,en.jsx)(P.Z,{children:(0,en.jsx)(o.xu,{alignSelf:"center",display:"flex",justifyContent:tt||tD?"start":"center",marginTop:tt?2:void 0,children:(0,en.jsx)(ei,{disableModal:!ti,pinId:ew,reactionCounts:eC,textSize:d.n,textWeight:"bold",viewParameter:156,viewType:3})})})});eI&&eT&&(t={domain:eI,url:eT});let tK=eX?{type:"graphqlRef",data:eX}:{type:"deprecated",data:ew},tV=(e2||[]).map((e,t)=>(0,en.jsx)(Y.Z,{categoryType:e.categoryType??e.category_type,size:"300",type:"compact",value:e.value},`key-val-component-${t}`)).filter(e=>null!=e),tH=q.dP,tG=tj||tn?q.dP:0,t$=ti?void 0:10,tW=tt?"start":"center";return tD&&(tH=tt?4:2,tG=tj||tn?q.dP:1,t$=ti?void 0:8,n=tn,tW="start"),(0,en.jsx)(es,{children:(0,en.jsxs)(o.xu,{ref:tm,"data-test-id":"CloseupDetails",children:[(0,en.jsxs)(o.xu,{marginBottom:tk&&!tD?0:4,marginTop:4,paddingX:el,width:"100%",children:[!tx&&em,tn&&tz,tU,(tt||tw||tE&&(!tC||h))&&(0,en.jsx)(o.xu,{ref:tg,"data-test-id":"callToActionButton",display:ti||tt||h||tw?void 0:"none",marginTop:tG,children:(0,en.jsx)(j.Z,{isImagePinForUnauthOnTablet:h,onClickTitleOrDomain:J,pinCreditPrefix:tD?tP:tS,pinDomain:eI})}),tt&&tw&&eA&&(0,en.jsxs)(o.xu,{alignItems:"baseline",direction:"row",display:"flex",marginTop:1,children:[(0,en.jsx)(o.xv,{size:"500",children:eA}),(0,en.jsx)(o.xu,{marginStart:2,children:(0,en.jsx)(o.xv,{size:"400",children:eE?i._('In stock', 'closeup.details.productPinInStock', 'Product pin in stock'):i._('Out of stock', 'Product pin out of stock', 'Product pin out of stock')})})]}),(0,en.jsxs)(er,{children:[tn&&tZ,(0,en.jsx)(o.xu,{ref:t_,marginTop:tD?4:q.dP,children:(0,en.jsx)(L.Z,{forceSmallerHeading:n,graphqlRef:eX,hasLink:tE,lineClamp:tD?void 0:(0,F.Z)({isImagePinForUnauthOnTablet:h}),onClick:J,pinId:ew,textAlign:tW})})]}),(0,en.jsx)(er,{children:tn&&tk&&(0,en.jsx)(o.xu,{marginTop:q.dP,children:(0,en.jsx)(T.Z,{color:tc?"light":"default",items:tV.filter(e=>""!==e)})})}),!tt&&eA&&(0,en.jsx)(o.xu,{display:"flex",justifyContent:tD?"start":"center",marginBottom:2,marginTop:2,children:(0,en.jsxs)(o.xv,{children:[eA," \xb7 ",eE?i._('In stock', 'closeup.details.productPinInStock', 'Product pin in stock'):i._('Out of stock', 'Product pin out of stock', 'Product pin out of stock')]})}),eB&&eK&&!tR&&(0,en.jsx)(z.Z,{boldText:!1,graphqlRef:eX,isWideViewport:tt,marginTop:q.dP,pinId:ew,textSize:"300"}),(0,en.jsx)(o.xu,{ref:th,children:(0,en.jsx)(er,{children:(0,en.jsx)(_.Z,{onVisibilityChange:tp?e=>{if(e&&e.length>0&&eQ){let{intersectionRatio:t,boundingClientRect:n}=e[0],i=n.y<0;eQ(1===t||i)}}:()=>{},options:{threshold:[1]},children:e=>(0,en.jsx)(o.xu,{ref:e,children:(0,en.jsx)(o.xu,{marginTop:tD?tH:q.dP,children:tw?(0,en.jsx)($.Z,{onClickTitleOrDomain:J,pinKey:tK}):(0,en.jsx)(E.Z,{pinKey:tK})})})})})}),tx&&(0,en.jsx)(o.xu,{marginBottom:tD&&!s?4:0,marginTop:tD?4:0,children:em}),tt&&!ti&&tB,!tn&&(0,en.jsx)(o.xu,{marginTop:tD?q.dP:0,children:tZ}),!tn&&(0,en.jsx)(o.xu,{marginTop:tD?8:q.dP,children:tz}),tt&&ti&&(0,en.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},"data-test-id":"UnauthVaseFullBleedModalContainer",children:(0,en.jsx)(A.Z,{onClose:()=>{},pinKey:tK})}),!tt&&eM&&(0,en.jsxs)(l.Fragment,{children:[(0,en.jsx)(o.xu,{marginTop:q.dP,children:(0,en.jsx)(o.iz,{})}),(0,en.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,en.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:i._('Promoted Pin', 'Denotes promoted pin in closeup', 'Denotes promoted pin in closeup')}),(0,en.jsx)(m.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,en.jsx)(P.Z,{children:(0,en.jsx)(eo,{graphqlRef:eX,pinId:ew,promoter:ej??"",type:"promoted"})})})]}),(0,en.jsx)(o.iz,{})]}),!tR&&eB&&!V&&(0,en.jsx)(H.Z,{hash:"recipe",offset:-f.DEFAULT_HEIGHT,children:(0,en.jsx)(O.ZP,{graphqlRef:eX,pinId:ew})}),!tR&&V&&(0,en.jsx)(C.Z,{clientTrackingParams:e0,graphqlRef:eX,link:t,pinId:ew??""}),!tk&&(0,en.jsx)(R.Z,{graphqlRef:eX,inCollapsibleModulesExp:tk,pinId:ew}),!ti&&tn&&"IN"===ta&&(tl||"").startsWith("en")&&X.N3.includes(ts)&&3>=Number((0,S.qn)("indiaUnauthLocaleShowCount",0))&&(0,en.jsx)(m.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,en.jsx)(P.Z,{children:(0,en.jsx)(ea,{})})}),(0,en.jsx)(u.Z,{isDesktop:tt,pinKey:tK})]}),tt&&ee&&!eR&&(0,en.jsx)(m.Z,{name:"CommentThread",children:(0,en.jsxs)(o.xu,{marginTop:t$,paddingX:2,children:[(0,en.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:a&&!r?(0,w.Z)(i.ngettext('{{ count }} Comment', '{{ count }} Comments', a, 'desktopPinCloseup.sectionTitle.commentsCountLabel', 'Comments on a Pin. count: number of comments'),{count:a.toString()}):i._('Comments', 'desktopPinCloseup.sectionTitle', 'Title of comments section')}),(0,en.jsx)(N.Z,{isReadOnly:!0,pinId:ew,pinKey:tK,viewParameter:eu}),!tr&&!r&&(0,en.jsx)(M.Z,{isStoryPin:!1,viewParameter:eu})]})}),!tt&&s]})})}let ep=e=>{let t,n;let i=(0,ee.Z)(e),a=(0,J.Z)(e),l=(0,r.useFragment)(ed,e.pinner),s=(0,r.useFragment)(ed,e.nativeCreator),o=(0,r.useFragment)(ed,e.linkDomain?.officialUser),d=(0,r.useFragment)(ed,e.originPinner),u=e.pinJoin?.visualAnnotation||[],p=e.pinJoin?.shoppingKlpUrls||[],m=e.promoter&&!e.isDownstreamPromotion?e.promoter:null,h=e.richMetadata?.products?.[0],g=e.richSummary?.products?.[0],_=e.aggregatedPinData?.commentCount||0,y=e.aggregatedPinData?.didItData?.imagesCount||0,{isAuthenticated:f}=(0,k.B)();t=s||(e.linkDomain?o:d||l),f||t||(t=l);let b=!!e.closeupAttribution;return h&&h.name&&h.offerSummary&&(n=h.offerSummary),!n&&g&&g.name&&g.offerSummary&&(n=g.offerSummary),{commentCount:_+y,commentsDisabled:e.commentsDisabled,closeupUnifiedDescription:e.closeupUnifiedDescription,hasLinkDomain:!!e.linkDomain,hasNativeCreator:!!e.nativeCreator,hasOfficialUser:b,hasOriginPinner:!!e.originPinner,hasPinProduct:!!n??!1,hasPromoter:!!m,hasRichMetadataArticle:!!e.richMetadata?.article,hasRichMetadataProductOfferSummary:!!h?.offerSummary,hasRichMetadataRecipe:!!e.richMetadata?.recipe,hasRichMetadataRecipeAggregateInfo:!!e.richMetadata?.recipe?.displayCookTime||!!e.richMetadata?.recipe?.servingsSummary||!!e.richMetadata?.recipe?.aggregateRating,hasRichMetadataRecipeCategorizedIngredients:!!e.richMetadata?.recipe?.categorizedIngredients,hasRichMetadataTutorial:!!e.richMetadata?.tutorial,hasRichSummaryProductOfferSummary:!!h?.offerSummary,hasSourceUser:!!t,isEligibleForPdp:e.isEligibleForPdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:a,pinJoinVisualAnnotation:u,pinLink:e.link,pinProductInStock:n?.inStock,pinProductPrice:n&&(0,c.Z)({maxPrice:n.maxPrice,minPrice:n.minPrice,price:n.price}),pinReactionCounts:i,promoterFullName:m?.fullName,richMetadataProductName:h?.name,richMetadataRecipeFromAggregatedData:e.richMetadata?.recipe?.fromAggregatedData,richSummaryProductName:g?.name,shouldShowAggregatedComments:e.isEligibleForAggregatedComments,shoppingKlpUrls:p,sourceUserBlockedByMe:t?.blockedByMe,sourceUserExplicitlyFollowedByMe:t?.explicitlyFollowedByMe,sourceUserFollowerCount:t?.followerCount,sourceUserFullName:t?.fullName,sourceUserId:t?.entityId,sourceUserImageLargeUrl:t?.imageLargeUrl,sourceUserimageMediumUrl:t?.imageMediumUrl,sourceUserImageSmallUrl:t?.imageSmallUrl,sourceUserIsVerifiedMerchant:t?.isVerifiedMerchant,sourceUserUsername:t?.username,sourceUserVerifiedIdentityVerified:t?.verifiedIdentity?.verified,storyPinKeyValueBlocks:e.storyPinData?.metadata?.basics?.keyValueBlocks}},em=e=>{let t,n;let{isAuthenticated:i}=(0,k.B)(),a=(0,K.mN)();if(!e)return null;let l=e.aggregated_pin_data?.comment_count||0,r=e.aggregated_pin_data?.did_it_data?.images_count||0,s=e.promoter&&!e.is_downstream_promotion?e.promoter:null,o=e.rich_metadata?.products?.[0],d=e.rich_summary?.products?.[0],{link_domain:u,native_creator:p,origin_pinner:m,pinner:h}=e||{},g=(0,Z.wS)(u,p,m,h);i||g||(g=h),g&&(t="string"==typeof g?a(g):g);let _=!!e.closeup_attribution;return o&&o.name&&o.offer_summary&&(n=o.offer_summary),!n&&d&&d.name&&d.offer_summary&&(n=d.offer_summary),{commentCount:l+r,commentsDisabled:e.comments_disabled,hasLinkDomain:!!e.link_domain,hasNativeCreator:!!e.native_creator,hasOfficialUser:_,hasOriginPinner:!!e.origin_pinner,hasPinProduct:!!n??!1,hasPromoter:!!s,hasRichMetadataArticle:!!e.rich_metadata?.article,hasRichMetadataProductOfferSummary:!!o?.offer_summary,hasRichMetadataRecipe:!!e.rich_metadata?.recipe,hasRichMetadataRecipeCategorizedIngredients:!!e.rich_metadata?.recipe?.categorized_ingredients,hasRichMetadataTutorial:!!e.rich_metadata?.tutorial,hasRichSummaryProductOfferSummary:!!o?.offer_summary,hasSourceUser:!!g,isEligibleForPdp:e.is_eligible_for_pdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:e.pin_join?.annotations_with_links,pinJoinVisualAnnotation:e.pin_join?.visual_annotation,pinLink:e.link,pinProductInStock:n?.in_stock,pinProductPrice:n&&(0,c.Z)({maxPrice:n.max_price,minPrice:n.min_price,price:n.price}),pinReactionCounts:e.reaction_counts,promoterFullName:s?.full_name,richMetadataProductName:o?.name,richMetadataRecipeFromAggregatedData:e.rich_metadata?.recipe?.from_aggregated_data,richSummaryProductName:d?.name,shouldShowAggregatedComments:e.is_eligible_for_aggregated_comments,shoppingKlpUrls:e.pin_join?.shopping_klp_urls||[],sourceUserBlockedByMe:t?.blocked_by_me,sourceUserExplicitlyFollowedByMe:t?.explicitly_followed_by_me,sourceUserFollowerCount:t?.follower_count,sourceUserFullName:t?.full_name,sourceUserId:t?.id,sourceUserImageLargeUrl:t?.image_large_url,sourceUserimageMediumUrl:t?.image_medium_url,sourceUserImageSmallUrl:t?.image_small_url,sourceUserIsVerifiedMerchant:t?.is_verified_merchant,sourceUserUsername:t?.username,sourceUserVerifiedIdentityVerified:t?.verified_identity?.verified,storyPinKeyValueBlocks:e.story_pin_data?.metadata?.basics?.key_value_blocks}};function eh({graphqlRef:e,pinId:t,...n}){let{data:i,childDataKey__DEPRECATED:a}=(0,h.HF)(ec,e?{type:"graphqlRef",data:e}:{type:"deprecated",data:t},{type:"pin",useGraphQLAdapter:ep,useLegacyAdapter:em});return!!i&&(0,en.jsx)(eu,{...n,...i,graphqlRef:"graphqlRef"===a.type?a.data:null,pinId:t})}},242534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i,a=n(667294),l=n(167912),r=n(883119),s=n(803947),o=n(230556),d=n(249123),c=n(213377),u=n(140017),p=n(340523),m=n(5859),h=n(554786),g=n(168723),_=n(312244),y=n(19447),f=n(785893);let b=void 0!==i?i:i=n(402931);function v({listBlocks:e,templateType:t}){let n=(0,u.ZP)(),i=(0,h.ml)(),{checkExperiment:l}=(0,p.F)(),{isAuthenticated:y}=(0,m.B)(),b=i&&["no_collapse_by_default","collapse_by_default"].includes(l(y?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group),v=new Map([[null,n._('Notes', 'Closeup.CloseupDetailsBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,n._('Ingredients', 'Closeup.CloseupDetailsBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,n._('Supplies', 'Closeup.CloseupDetailsBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,f.jsx)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:e&&e.length>0&&(0,f.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{rowGap:16}},direction:"column",display:"flex",marginTop:4,children:[b&&(0,f.jsx)(_.Z,{marginStart:c.D6+g.xh}),(0,f.jsx)(s.Z,{heading:v.get(t),children:(0,f.jsx)(({children:e})=>b?(0,f.jsx)(r.kC,{direction:"column",gap:4,children:e}):(0,f.jsx)(d.Z,{children:e}),{children:e.map((e,t)=>{let n=`${e.heading||"empty"}-${t}-listHeading`;return(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(r.xu,{marginTop:b?0:2,paddingY:b?0:2}),(0,f.jsx)(r.xv,{size:o.n,weight:"bold",children:e.heading}),(e.blocks??[]).map((t,n)=>{let i=`item-${n}-${e.heading||"empty"}`;return(0,f.jsx)(a.Fragment,{children:(0,f.jsx)(r.xu,{marginBottom:1,children:(0,f.jsxs)(r.xv,{size:o.n,children:[" ",t.text?t.text:""]})})},i)})]},n)})})})]})})}function x({pinId:e,graphqlRef:t,...n}){let i=(0,y.S6)()(e),a=i?.story_pin_data?.metadata?.basics||{},{key_value_blocks:l,list_blocks:r}=a;return(0,f.jsx)(v,{...n,keyValueBlocks:l,listBlocks:r,pinId:e,templateType:i?.story_pin_data?.metadata?.template_type,title:i?.title??""})}function k({pinId:e,graphqlRef:t,...n}){let i=(0,l.useFragment)(b,t),a=i?.storyPinData?.metadata?.basics||{};return(0,f.jsx)(v,{...n,graphqlRef:i,keyValueBlocks:a.keyValueBlocks,listBlocks:a.listBlocks,pinId:e,templateType:i?.storyPinData?.metadata?.templateType,title:i?.title??""})}function P(e){return e.graphqlRef?(0,f.jsx)(k,{graphqlRef:e.graphqlRef,...e}):(0,f.jsx)(x,{...e})}},797056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i=n(667294),a=n(883119),l=n(140017),r=n(340523),s=n(448318),o=n(5859),d=n(71328),c=n(554786),u=n(760101),p=n(34817),m=n(616550),h=n(48481),g=n(233440),_=n(217058),y=n(623409),f=n(785893);function b({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:n,inviterFirstName:s,imageSignature:o,pinId:d}){let u=(0,l.ZP)(),p=(0,y.Z)(),b=(0,h.Z)(),{checkExperiment:v}=(0,r.F)(),x=(0,i.useRef)(),k=(0,c.ZP)(),P="desktop"===k,S=s&&n,w=P&&v("dweb_unauth_main_pin_visual_search_v2").group,T="enabled_2_no_upsell"===w||"enabled_rollout"===w||"enabled_1_nav_upsell_post_land"===w,I=S&&(u._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",s),A=T?u._('See something you like? Tap to search inside this image', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'):u._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),E=u._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),C=(0,m.k6)();return(0,f.jsx)(a.iP,{onMouseEnter:()=>{S&&(0,_.My)("dweb.main_pin.social.wash.view"),(0,_.My)("dweb.pin.wash.view")},onMouseLeave:()=>{S?p({action:"dismiss",item:"main-pin-social-wash"}):p({action:"dismiss",item:"main-pin-wash"})},onTap:({event:e})=>{if(P){if(e.preventDefault(),p({action:"click",item:"pin-image"}),n&&s&&p({action:"click",item:"main-pin-social-wash"}),T){let e=`/pin/${d}/visual-search/?`;o&&(e+=`imageSignature=${o}`),C.push(e),g.Z.setItem("VISUAL_SEARCH_SOURCE","MAIN_PIN_WASH")}else p({action:"click",item:"main-pin-image-signup-modal"}),b({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}});t&&p({action:"click",item:"pdp-pin-image"})}},children:(0,f.jsxs)(a.xu,{zIndex:new a.Ry(2),children:[(0,f.jsx)(a.xu,{ref:x,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:n?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,f.jsx)(a.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:T?260:240,paddingY:10,children:(0,f.jsx)(a.xu,{marginTop:8,children:(0,f.jsx)(a.X6,{align:"center",color:"light",size:S?"500":"400",children:P?I||A:E})})})}),!P&&(0,f.jsx)(a.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(a.hU,{accessibilityLabel:u._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),p({action:"dismiss",item:"main-pin-hover-overlay"}))},size:"md"})})]})})}var v=n(174281),x=n(810052);let k=e=>{let t=(0,l.ZP)(),{alt:n,clickthroughOverlayOptions:m,color:h,isFlashlightPage:g,naturalHeight:_,naturalWidth:y,placeholder:k,pinImageResizePercent:P=100,pwtElementTimingId:S,pwtSurfaceContext:w,setShowClickthroughOverlay:T,showSpinner:I,src:A,stickyFooter:E,isEligibleForPdp:C,pinId:j,imageSignature:R}=e,L=(0,u.Z)(),{checkExperiment:F}=(0,r.F)(),D=!L,{isAuthenticated:O}=(0,o.B)(),z=(0,c.ZP)(),M="desktop"===z,N=O&&!M&&F("auth_mweb_inline_action_bar").anyEnabled,Z=(0,i.useRef)(),[B,U]=(0,i.useState)(!D||!!A&&!!k&&k===A),K=(0,i.useRef)(""),V=()=>{w&&w.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)(()=>{let e=new Image;e.onload=()=>U(!0),e.src=A},[]);let H=(0,i.useRef)(x.a()?.setHasScrolledPastMainContent);(0,i.useEffect)(()=>{let e=(0,d.Z)(()=>{if(Z.current){let t=window.scrollY>Z.current.offsetTop+Z.current.offsetHeight;H.current?.(t),t&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]);let[G,$]=(0,i.useState)();(0,i.useEffect)(()=>{Z.current&&$(Z.current.scrollHeight)},[]);let W=!g&&"tablet"===z,q=D?(0,f.jsx)(s.Z,{alt:n,color:h,elementTiming:S,naturalHeight:_,naturalWidth:y,onLoad:V,src:k}):null;return(0,f.jsxs)(a.xu,{ref:Z,dangerouslySetInlineStyle:{__style:{transition:100===P?"":"width 500ms ease-in-out"}},"data-test-id":"pin-closeup-image",marginTop:"tablet"===z&&N?12:0,maxHeight:"100%",maxWidth:"tablet"===z?v.g6:void 0,minHeight:100===P?G:void 0,overflow:E?void 0:"hidden",position:"relative",rounding:g||"phone"===z?0:6,width:g||"phone"===z?`${P}%`:M?508:v.Hg,children:[!O&&m&&"enabled_3_no_wash_upsell_post_land"!==F("dweb_unauth_main_pin_visual_search_v2").group&&(0,f.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,children:(0,f.jsx)(b,{imageSignature:R||"",inviterFirstName:K.current,isEligibleForPdp:C,pinId:j||"",setShowClickthroughOverlay:T})}),q&&(W?(0,f.jsx)(a.xu,{overflow:"hidden",rounding:6,children:q}):q),(0,f.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?1:0,transition:B&&!M?"opacity .5s ease-in-out":void 0,backgroundColor:h}},left:!0,overflow:W?"hidden":void 0,position:D?"absolute":"relative",right:!0,rounding:W?6:5,top:!0,children:D?(0,f.jsx)(a.Ee,{alt:n,naturalHeight:_,naturalWidth:y,src:A}):(0,f.jsx)(s.Z,{alt:n,color:h,elementTiming:S,naturalHeight:_,naturalWidth:y,onLoad:V,src:A})}),I&&(0,f.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?0:1,transition:B?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!B&&(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(a.$j,{accessibilityLabel:t._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),E]})}},479528:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(667294),a=n(214877),l=n(179370),r=n(172203),s=n(340523),o=n(554786),d=n(194602),c=n(149722),u=n(785893);let p=({isEligibleForPinImageResizeToBody:e,isEligibleForPinImageResizeToTitle:t,pinId:n})=>{let a;let{checkExperiment:o}=(0,s.F)(),{viewExperience:d}=(0,l.M)(),c=(0,r.Z)(1000511,{pin_id:n}),u=c&&c.experience&&505784===c.experience.experience_id;return(0,i.useEffect)(()=>{u&&d(1000511,505784)},[u,d]),u?(a="",t&&(a=o("mweb_pin_closeup_resize_image").group),!a&&e&&(a=o("mweb_pin_closeup_resize_image_body").group),a):""};function m({children:e,originalPinImageHeight:t=1,originalPinImageWidth:n=1,pinId:l,setIsEligibleToShowInlineActionBar:r}){let s=(0,d.Z)(),{logContextEvent:o}=(0,a.v)(),c=s?820:window.innerWidth,u=s?1180:window.innerHeight,m=c/n*t,[h,g]=(0,i.useState)(""),[_,y]=(0,i.useState)(0),[f,b]=(0,i.useState)(0),[v,x]=(0,i.useState)(0),[k,P]=(0,i.useState)(0),[S,w]=(0,i.useState)(0),[T,I]=(0,i.useState)(0),[A,E]=(0,i.useState)(!1),[C,j]=(0,i.useState)(!1),[R,L]=(0,i.useState)(m),[F,D]=(0,i.useState)(m);(0,i.useEffect)(()=>{if(_){let e=u-_-86;L(e),E(m>e)}let e=f?v>33?141:138:!f&&v>33?134:v+126,t=u-e-f-k-S-T;t<m&&(D(t),j(m>t))},[_,v,f,m,k,S,T,u]);let O=p({isEligibleForPinImageResizeToBody:A,isEligibleForPinImageResizeToTitle:C,pinId:l});return(0,i.useLayoutEffect)(()=>{O?(o({event_type:15046,component:13283}),r(!0)):r(!1)},[o,O,r]),(0,i.useEffect)(()=>{h!==l&&(g(l),L(m),D(m))},[h,m,l]),e({pinImageResizePercents:{pinImageResizePercentForShowTitleVariant:C?F/m*100:100,pinImageResizePercentForShowBodyVariant:A?R/m*100:100},resizePinImageExperimentGroup:O,setCloseupDetailsHeight:y,setCloseupPinLinkCreditsHeight:b,setCloseupTitleHeight:x,setUploadedToPinterestTextHeight:P,setUserAttributionHeight:w,setUserRepHeight:I})}function h({children:e,originalPinImageHeight:t,originalPinImageWidth:n,pinId:i,setIsEligibleToShowInlineActionBar:a}){let l=(0,o.ml)(),{checkExperiment:r}=(0,s.F)(),{isAuth:d}=(0,c.Z)(),{group:p}=r("mweb_pin_closeup_resize_image",{dangerouslySkipActivation:!0}),{group:h}=r("mweb_pin_closeup_resize_image_body",{dangerouslySkipActivation:!0});return l&&d&&(p||h)?(0,u.jsx)(m,{originalPinImageHeight:t,originalPinImageWidth:n,pinId:i,setIsEligibleToShowInlineActionBar:a,children:e}):e({pinImageResizePercents:{pinImageResizePercentForShowBodyVariant:100,pinImageResizePercentForShowTitleVariant:100}})}},554074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i,a=n(167912),l=n(883119),r=n(140017),s=n(19447),o=n(785893);let d=void 0!==i?i:i=n(903755),c=({embedsrc:e,pinImgSrc:t})=>{let n=(0,r.ZP)(),i={};return e&&e.includes("youtube")&&e.includes("/embed/")&&t&&(i.background=`url("${t}")`,i.backgroundSize="cover",i.backgroundPosition="center"),(0,o.jsx)(l.xu,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%",background:i.background,backgroundSize:i.backgroundSize,backgroundPosition:i.backgroundPosition}},overflow:"hidden",position:"relative",rounding:2,children:(0,o.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:e?.replace("http://","https://"),style:{width:"100%",height:"100%",position:"absolute",border:0},title:n._('Embedded content', 'Embedded iframe accessibility title', 'Embedded iframe accessibility title')})})},u=({graphqlRef:e})=>{let t=(0,a.useFragment)(d,e),{embed:n,imageSpec_736x:i}=t,l=i?.url??"";return(0,o.jsx)(c,{embedsrc:n?.src,pinImgSrc:l})},p=({pinId:e})=>{let t=(0,s.S6)()(e),{embed:n,images:i}=t??Object.freeze({});return(0,o.jsx)(c,{embedsrc:n?.src,pinImgSrc:i?i["736x"]?.url:void 0})};function m({graphqlRef:e,pinId:t}){return e?(0,o.jsx)(u,{graphqlRef:e}):(0,o.jsx)(p,{pinId:t})}},2034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i,a,l,r=n(667294),s=n(702664),o=n(167912),d=n(616550),c=n(240684),u=n(883119),p=n(302854),m=n(525364),h=n(877457),g=n(213377),_=n(558273),y=n(340523),f=n(906623),b=n(5859),v=n(627408),x=n(554786),k=n(989406),P=n(168723),S=n(554074),w=n(829367),T=n(255396),I=n(256661),A=n(695625),E=n(916840),C=n(171394),j=n(212208),R=n(736079),L=n(176063),F=n(19447),D=n(283970),O=n(311462),z=n(680053),M=n(785893);let N=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-CloseupVideo",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(66824).then(n.bind(n,793711)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>793711}),Z=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-StoryPinCloseupBodyOnDesktop",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(60815),n.e(70566)]).then(n.bind(n,895612)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>895612}),B=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-StoryPinCloseupDetailsOnDesktop",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(60815).then(n.bind(n,325578)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>325578}),U=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-StoryPinCloseupBodyOnMobile",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(2790).then(n.bind(n,525422)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>525422}),K=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-SEODebugModule",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(9771).then(n.bind(n,334954)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>334954}),V=(0,c.ZP)({resolved:{},chunkName:()=>"app-packages-rich-snippet-LeafSnippet",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(54074).then(n.bind(n,31219)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>31219}),H=void 0!==i?i:i=n(42112),G=void 0!==a?a:a=n(238909),$=void 0!==l?l:l=n(85469),W=({setIsShowingCloseupDetailsSuspenseFallback:e})=>((0,r.useEffect)(()=>(e(!0),()=>e(!1)),[e]),null),q=({children:e,queryRef:t})=>e((0,o.useFragment)(G,o.usePreloadedQuery(p.default,t).v3GetPinQuery?.data)),Y=({children:e,fallback:t,queryRef:n})=>n?(0,M.jsx)(r.Suspense,{fallback:t,children:(0,M.jsx)(q,{queryRef:n,children:t=>t&&e(t)})}):e(null);function X({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,closeupIsFirstPageInHistoryStack:n,commentModule:i,embedSrc:a,embedSubtype:l,embedType:c,graphqlRefs:p,hasImages:E,hasProductAdditionalImages:F,shouldRenderAsStoryPinVideo:H,isActionBarInline:G,isEligibleForPdp:q,isImagePinForUnauthOnTablet:X,isSendPinModalOpen:J,isVideoPin:Q,onMoreButtonClick:ee,onSendPin:et,pinActionBar:en,pinCloseupExperience:ei,pinId:ea,pinImageLargeUrl:el,pinImageResizePercents:er={},pinLink:es,pinMobileLink:eo,pinnedToBoardId:ed,pinTrackedLink:ec,resizePinImageExperimentGroup:eu="",setCloseupDetailsHeight:ep,setCloseupPinLinkCreditsHeight:em,setCloseupTitleHeight:eh,setIsActionBarInline:eg,setIsShowingCloseupDetailsSuspenseFallback:e_,setUploadedToPinterestTextHeight:ey,setUserAttributionHeight:ef,setUserRepHeight:eb,shouldShowReactions:ev,shouldShowSEOPinInfo:ex,viewerId:ek}){let eP=p?.pageRef,{isAuthenticated:eS,isBot:ew}=(0,b.B)(),{seoDebug:eT}=(0,s.useSelector)(({session:e})=>e),{clientTrackingParams:eI,isStoryPin:eA,viewParameter:eE,shouldRenderAsStoryPin:eC}=(0,I.R)(),ej=(0,d.TH)(),eR=(0,x.Wb)(),eL=(0,D.H)(),eF=(0,f.E)(),eD=(0,x.HG)(),{viewType:eO}=(0,m.SU)(),{checkExperiment:ez}=(0,y.F)(),eM=!eD&&ez(eS?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,[eN,eZ]=(0,r.useState)(!1),[eB,eU]=(0,r.useState)(!0),eK=(0,h.g)(),eV=eK?.pinLinkClickHandler,eH=eu.includes("peek_related_pins"),eG=eu.includes("peek_title"),e$=eu.includes("background"),eW=eu.includes("expand_button"),{pinImageResizePercentForShowBodyVariant:eq=100,pinImageResizePercentForShowTitleVariant:eY=100}=er,eX=()=>{t(),eV&&eV()},eJ=(0,j.Z)(),eQ=()=>eJ({linkType:eo&&"mobile"||ec&&"tracked"||es&&"external"||"original",viewParameter:eE}),e0=(0,s.useDispatch)(),e1=(0,s.useSelector)(({pinNavContext:e})=>e?.pinId!==ea?{}:e,(e,t)=>e?.pinId===t?.pinId);(0,r.useEffect)(()=>{e1?.pinId&&e1.pinId!==ea&&e0((0,L.H)())},[]);let e2=(0,o.useFragment)($,p?.storyPinRef);return(0,M.jsxs)(T.Z,{imageLargeUrl:el,isVideoPin:Q,pinId:ea,children:[eT&&eB&&(0,M.jsx)(K,{entityId:ea,entityType:"pin",setShowSeoDebugModule:eU}),e&&(0,M.jsx)(C.Z,{onMoreButtonTap:ee,onSendButtonTap:et}),eC?(0,M.jsxs)(r.Fragment,{children:[eD?(0,M.jsx)(Z,{clientTrackingParams:eI,graphqlRef:e2,pinActionBar:en,pinId:ea}):(0,M.jsx)(U,{clientTrackingParams:eI,graphqlRef:e2,pinCloseupExperience:ei,pinId:ea,pinnedToBoardId:ed,viewParameter:eE,viewType:3}),(0,M.jsx)(Y,{queryRef:p?.detailRef,children:e=>!eD&&!X&&(0,M.jsx)(P.ZP,{clientTrackingParams:eI,graphqlRef:e,isActionBarInline:G||!!eu,isStoryPin:!0,onClickTitleOrDomain:eS?eQ:eX,pinId:ea,setIsActionBarInline:eg,shouldShowReactions:ev,shouldShowSEOPinInfo:ex,viewParameter:eE})})]}):(0,M.jsx)(k.Z,{detail:eA&&!eC&&eD?(0,M.jsx)(P.fL,{children:(0,M.jsxs)(u.xu,{padding:3,children:[en,(0,M.jsx)(B,{clientTrackingParams:eI,disableScroll:!0,fallback:null,graphqlRef:e2,pinId:ea,shouldHideReactions:!0})]})}):(0,M.jsx)(Y,{fallback:(0,M.jsx)(W,{setIsShowingCloseupDetailsSuspenseFallback:e_}),queryRef:p?.detailRef,children:t=>(0,M.jsx)(P.ZP,{clientTrackingParams:eI,commentModule:i,graphqlRef:t,isActionBarInline:G,isImagePinForUnauthOnTablet:X,isStoryPin:eA,onClickTitleOrDomain:eX,pinActionBar:e?null:en,pinId:ea,setCloseupDetailsHeight:ep,setCloseupPinLinkCreditsHeight:em,setCloseupTitleHeight:eh,setIsActionBarInline:eg,setUploadedToPinterestTextHeight:ey,setUserAttributionHeight:ef,setUserRepHeight:eb,shouldShowReactions:ev,shouldShowSEOPinInfo:ex,viewerId:ek,viewParameter:eE})}),isShowingBreadcrumbs:!eS&&!(eA&&!eD),media:(0,M.jsx)(v.Z,{clientTrackingParams:eI,component:Q?179:85,viewParameter:eE,children:Q?(0,M.jsx)(N,{handleVideoTimeChange:e=>{e0((0,L.k)({pinId:ea,video:{elapsedTime:e}}))},isAuthenticated:eS,isFirstPageInHistoryStack:n,isSendPinModalOpen:J,onSendPin:et,pinId:ea,pinKey:eP?{type:"graphqlRef",data:eP}:{type:"deprecated",data:ea},startTimeAt:e1?.video?.elapsedTime}):(0,_.cL)({embedSrc:a,embedSubtype:l,embedType:c})?(0,M.jsx)(Y,{queryRef:p?.detailRef,children:e=>(0,M.jsx)(S.Z,{graphqlRef:e,pinId:ea})}):!eD&&F&&(eS?q:!ew)?(0,M.jsx)(Y,{queryRef:p?.detailRef,children:e=>(0,M.jsx)(O.Z,{pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:ea},pwtSurfaceContext:eF,unauthLazyLoad:!eS,viewParameter:eE})}):E?(0,M.jsx)(R.x,{children:(0,M.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{margin:eS&&!eR?`0 ${-g.yt}px`:void 0}},children:(0,M.jsx)(w.Z,{actionBarIsMinifiedToMainPinImage:e,clickthrough:eN?eX:void 0,graphqlRef:eP,inPinImageResizeExp:!!eu,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),H||eQ()},pinId:ea,pinImageResizePercent:eG?eY:eH?eq:100,renderStoryPinBlock:({placeholder:e})=>H&&eM?(0,M.jsx)(z.Z,{clientTrackingParams:eI,experience:ei,graphqlRef:e2,location:ej,pinId:ea,pinnedToBoardId:ed,viewParameter:eE,viewType:eO}):(0,M.jsx)(A.Z,{pinId:ea,pinKey:null!=e2?{type:"graphqlRef",data:e2}:{type:"deprecated",data:ea},placeholder:e}),setShowClickthroughOverlay:eZ,shouldRenderAsStaticImageIdeaPin:eA&&!eC,shouldRenderAsStoryPinVideo:H,shouldShowSEOPinInfo:ex,showBaseColorBackground:e$,showExpandActionButton:eW,viewParameter:eE})})}):(0,M.jsx)(r.Fragment,{children:null})}),sideBySideOptions:("lg"===eL||eD)&&(eS||!eS&&"enabled_3_no_wash_upsell_post_land"!==ez("dweb_unauth_main_pin_visual_search_v2").group)?{mainImageEventHandlers:Q?void 0:eD?{onMouseEnter:()=>{eZ(!0)},onMouseLeave:()=>{eZ(!1)}}:{onTouch:e=>{e.stopPropagation(),e.preventDefault(),eQ()}}}:null}),!eS&&(0,M.jsx)(Y,{queryRef:p?.detailRef,children:e=>(0,M.jsx)(V,{graphqlRef:e,pinId:ea})})]})}function J({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,graphqlRefs:n,onLinklessPinTap:i,pinId:a,...l}){let r=(0,o.useFragment)(H,n.pageRef),s=(0,E.I)({clickthroughInterstitialExperience:t,linklessOptions:(0,_.rM)({mobileLink:r.mobileLink,trackedLink:r.trackedLink,link:r.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:i}:void 0,graphqlRef:r}),d=r.richMetadata?.products?.[0],c=Number(d?.additionalImageSpec_236x?.length)>0||Number(d?.additionalImageSpec_474x?.length)>0||Number(d?.additionalImageSpec_564x?.length)>0||Number(d?.additionalImageSpec_736x?.length)>0,u=r.storyPinData?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),p=u?.some(e=>e.blocks?.find(e=>3===e.blockType)),m=p||(u?.length||0)>1;return(0,M.jsx)(X,{...l,actionBarIsMinifiedToMainPinImage:e,clickthrough:s,clickthroughInterstitialExperience:t,embedSrc:r.embed?.src,embedSubtype:r.embed?.subtype,embedType:r.embed?.type,graphqlRefs:{...n,pageRef:r},hasImages:!!r.imageSpec_orig,hasProductAdditionalImages:c,isEligibleForPdp:r.isEligibleForPdp,onLinklessPinTap:i,pinId:a,pinImageLargeUrl:r.imageLargeUrl,pinLink:r.link,pinMobileLink:r.mobileLink,pinTrackedLink:r.trackedLink,shouldRenderAsStoryPinVideo:!!m})}function Q({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,onLinklessPinTap:n,pinId:i,...a}){let l=(0,F.S6)()(i),r=(0,E.Z)({clickthroughInterstitialExperience:t,linklessOptions:(0,_.rM)({mobileLink:l?.mobile_link,trackedLink:l?.tracked_link,link:l?.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:n}:void 0,pinId:i}),s=l?.story_pin_data?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),o=s?.some(e=>e.blocks?.find(e=>3===e.block_type)),d=o||(s?.length||0)>1;return l?(0,M.jsx)(X,{...a,actionBarIsMinifiedToMainPinImage:e,clickthrough:r,clickthroughInterstitialExperience:t,embedSrc:l.embed?.src,embedSubtype:l.embed?.subtype,embedType:l.embed?.type,hasImages:!!l.images,hasProductAdditionalImages:Number(l.rich_metadata?.products?.[0].additional_images?.length)>0,isEligibleForPdp:l.is_eligible_for_pdp,onLinklessPinTap:n,pinId:i,pinImageLargeUrl:l.image_large_url,pinLink:l.link,pinMobileLink:l.mobile_link,pinTrackedLink:l.tracked_link,shouldRenderAsStoryPinVideo:!!d}):null}function ee({graphqlRefs:e,...t}){return e?(0,M.jsx)(J,{...t,graphqlRefs:e}):(0,M.jsx)(Q,{...t})}},829367:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var i,a=n(667294),l=n(702664),r=n(167912),s=n(269220),o=n(883119),d=n(46113),c=n(889449),u=n(899165),p=n(696534),m=n(140017),h=n(422210),g=n(160133),_=n(391884),y=n(100896),f=n(558273),b=n(567344),v=n(661428),x=n(340523),k=n(193300),P=n(906623),S=n(146935),w=n(5859),T=n(217058),I=n(623409),A=n(163471),E=n(554786),C=n(797056),j=n(256661),R=n(57158),L=n(490166),F=n(942397),D=n(736079),O=n(174281),z=n(810052),M=n(19447),N=n(386008),Z=n(700198),B=n(953565),U=n(42040),K=n(785893);let V=void 0!==i?i:i=n(342275),H=({children:e,onTouch:t})=>{let n=(0,E.ZP)();return(0,K.jsx)(o.xu,{overflow:"phone"!==n?"hidden":void 0,rounding:"phone"!==n?6:void 0,children:"desktop"===n?e:(0,K.jsx)(L.Z,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),t()},pressState:"none",children:e})})},G=({pinId:e})=>(0,l.useSelector)(({feeds:t})=>{let n=t[`related-pins:${e||""}`];return!!n&&0===n.length});function $({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,onImageClick:n,setShowClickthroughOverlay:i,shouldShowSEOPinInfo:l,viewParameter:r,imagesUrls:c,embedSrc:v,embedType:L,description:M,descriptionHtml:V,altText:$,autoAltText:W,dominantColor:q,pinId:Y,domain:X,pinJoinVisualAnnotation:J,pinnerConnectionType:Q,hasPromoter:ee,graphqlRef:et,isEligibleForPdp:en,isHiddenPin:ei,isUnsafePin:ea,shouldRenderAsStaticImageIdeaPin:el,renderStoryPinBlock:er,imageSignature:es,shouldRenderAsStoryPinVideo:eo,shouldRenderShuffle:ed,placeholder:ec,isSmallestImgPlaceholder:eu,inPinImageResizeExp:ep=!1,pinImageResizePercent:em,showBaseColorBackground:eh=!1,shuffleId:eg,showExpandActionButton:e_=!1}){let ey=(0,m.ZP)(),ef=(0,P.E)(),eb=(0,p.vs)(),ev=(0,E.HG)(),ex=(0,E.Wb)(),ek=(0,E.ml)(),eP=(0,D.Z)(),{onSendButtonClick:eS}=(0,j.R)(),ew=(0,A.Z)(),{isAuthenticated:eT,isBot:eI,isSocialBot:eA,countryFromIp:eE,userAgent:{platform:eC,canUseNativeApp:ej}}=(0,w.B)(),eR=(0,d.Z)({shuffleId:eg,shouldRenderShuffle:ed}),eL=(0,E.ZP)(),eF=`${eC}.${eL}`,eD=(0,a.useRef)(Date.now()),eO=(0,a.useRef)(null),ez=!eT&&!ev&&["ios","ipad","android"].includes(eC),eM=!eT&&ek&&["ios","android"].includes(eC),eN=!eT&&ek&&["ios","android"].includes(eC),eZ=(0,z.a)(),{shouldShowLearningUpsell:eB,setShouldShowLearningUpsell:eU,hasScrolledPastMainContent:eK}=eZ??Object.freeze({}),eV=(0,N.Tt)(),eH=G({pinId:Y}),eG=null,{checkExperiment:e$}=(0,x.F)(),eW=!ev&&e$(eT?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,eq=(0,u.Z)({isHiddenPin:ei,isUnsafePin:ea}),eY=!eT&&ek&&!ej;eT||eH||eK||ev?!eq||eY||eT&&((0,h.Z)(eV?.created_at)&&!(0,F.V0)(eV)||ee||(0,f.sY)(L)||e)||(eG="visualSearch"):eG="moreLikeThisButton";let eX=(0,U.I)(),eJ=(0,I.Z)(),eQ=(0,_.Z)({imagesUrls:c,embedSrc:v,embedType:L,preferredResolution:function({countryFromIp:e,isBot:t,isDesktop:n,pinnerConnectionType:i,shouldRenderSIIP:a}){return a?"236x":n?void 0:(0,y.Z)(e||"",t,n)&&["Dialup","Cellular"].includes(i)?"236x":"736x"}({isDesktop:ev,countryFromIp:eE,isBot:eI,pinnerConnectionType:Q,shouldRenderSIIP:el}),excludeOriginals:!eI&&!eA});(0,a.useEffect)(()=>{if(eX){let e=document.getElementById("pin-image-preload")?.getAttribute("href")??"",t="";try{t=document.URL.split("/pin/")[1].slice(0,-1)}catch{t="unknown"}(0,B.nP)("www.closeup.preloadImageCheck",{sampleRate:1,tags:{isAuthenticated:eT,deviceType:eL,isEqual:e===eQ,isGraphQL:!!et}}),(0,k.w)(t=>{let{entries:n}=t,{element:i,url:a}=n[n.length-1];(0,B.nP)("www.closeup.mainPinImageLcpCheck",{sampleRate:1,tags:{isAuthenticated:eT,deviceType:eL,isEqual:eQ===a,isGraphQL:!!et,isPreloadEqual:e===a,nodeName:i?i.nodeName:"unknown"}})}),e!==eQ&&((0,B.nP)("www.closeup.preloadImageCheckWithId",{sampleRate:.5,tags:{isAuthenticated:eT,deviceType:eL,pinId:t}}),(0,B.nP)("www.closeup.preloadImageCheckWithResolutions",{sampleRate:1,tags:{isAuthenticated:eT,deviceType:eL,resolution:eQ.split("/")[3]}}));let n=document.querySelector('[data-test-id="pin-closeup-image"]'),i=n?.querySelectorAll("img").length||0;i>1&&((0,B.nP)("www.closeup.mainImageCount",{sampleRate:1,tags:{isAuthenticated:eT,deviceType:eL}}),(0,B.nP)("www.closeup.mainImageCountWithId",{sampleRate:.1,tags:{isAuthenticated:eT,deviceType:eL,pinId:t}}))}},[]);let e0="phone"===eL||ex?"100%":O.Hg,e1=["phone"].includes(eL)?"100%":O.Hg,e2=(0,K.jsx)(C.Z,{alt:l?(0,b.rw)(M??"",V||"",J,$||"",W||""):ey._('Pin image', 'Pin closeup image', 'Pin closeup image'),clickthroughOverlayOptions:t?{onConfirm:t,visitButtonText:"Uploaded by user"===X?ey._('Uploaded by user', 'pin.default_domain', 'default domain for the pin'):X||""}:void 0,color:q||"#efefef",imageSignature:es||"",isEligibleForPdp:en,naturalHeight:ec?.height??1,naturalWidth:ec?.width??1,pinId:Y||"",pinImageResizePercent:em,placeholder:ec?.url??"",pwtElementTimingId:S.f,pwtSurfaceContext:ef,setShowClickthroughOverlay:i,showSpinner:eu,src:eQ,stickyFooter:!ep&&eG&&(0,K.jsx)(R.Z,{imageSignature:es,isPdp:en,pinId:Y,type:eG,viewParameter:r})},Y),e3=(0,K.jsx)(H,{onTouch:()=>{eN&&eU?(eB?eJ({action:"dismiss",item:"learning-upsell"}):eJ({action:"click",item:"learning-upsell"}),eU(!eB)):n(),ez&&(0,T.My)(`unauth.mweb.${eF}.pin.image.touch`),!eT&&en&&eJ({action:"click",item:"pdp-pin-image"})},children:(0,K.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none",background:(()=>{if(ep)return eh?`linear-gradient(90deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0) ${.25*window.innerWidth}px, rgba(0, 0, 0, 0) ${.5*window.innerWidth}px, rgba(0, 0, 0, 0.0) ${.75*window.innerWidth}px, rgba(0, 0, 0, 0.4) ${window.innerWidth}px)`:eb?"#111111":"#efefef"})()}},display:"flex",justifyContent:"center",onContextMenu:e=>{!eT&&en&&(0,T.My)("unauth.pdp.pin.context_menu.open",{device:eL}),e.preventDefault(),e.stopPropagation(),ev?(eP((0,K.jsx)(Z.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},graphqlRef:et,isMainPinImage:!0,onSendButtonClick:eS,pinId:Y})),(0,T.My)("pcons.dweb.main_pin.context_menu.open")):(0,T.My)(`${eT?"auth":"unauth"}.mweb_pin_closeup_page.pin_image.long_press`)},onTouchEnd:e=>{if(!ez&&!eM)return;e.stopPropagation(),(0,T.My)(`unauth.mweb.${eF}.pin.image.touch.end`);let t=Date.now()-eD.current>500,n=!1,i=eO.current;if(e.changedTouches&&e.changedTouches.length>0&&i){let t=e.changedTouches.item(0),a=t.clientX-i.x,l=t.clientY-i.y;n=t&&Math.pow(a,2)+Math.pow(l,2)>100}!ez||!t||n||((0,T.My)(`unauth.mweb.${eF}.pin.image.long.touch`),e.preventDefault(),eT||ev||ew({pinId:Y,location:"main-pin-long-press"}))},onTouchMove:e=>{eM&&e.stopPropagation()},onTouchStart:e=>{if((ez||eM)&&(e.stopPropagation(),eD.current=Date.now(),(0,T.My)(`unauth.mweb.${eF}.pin.image.touch.start`),e.changedTouches&&e.changedTouches.length>0)){let t=e.changedTouches.item(0);t&&(eO.current={x:t.clientX,y:t.clientY})}},children:[(!el||!eW)&&(ed?(0,K.jsx)(s.s,{rounded:!ek,shuffle:eR,width:e1,children:e2}):e2),el&&(eW?(0,K.jsxs)(o.xu,{marginEnd:-2,marginStart:-2,overflow:eG?void 0:"hidden",width:e0,children:[er({placeholder:ec&&{height:ec.height,width:ec.width}}),eG&&!eo&&(0,K.jsx)(R.Z,{imageSignature:es,isPdp:en,pinId:Y,type:eG,viewParameter:r})]}):(0,K.jsx)(o.xu,{bottom:!0,left:!0,marginEnd:-2,marginStart:-2,overflow:"hidden",position:"absolute",right:!0,rounding:6,top:!0,children:er({placeholder:ec&&{height:ec.height,width:ec.width}})}))]})}),e6=eT?g.Z:a.Fragment;return(0,K.jsx)(o.xu,{position:"relative",width:"100%",children:ep?(0,K.jsx)(e6,{children:(0,K.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{background:eh?q||"#efefef":void 0}},children:[e_&&(0,K.jsx)(o.xu,{bottom:!0,position:"absolute",right:!0,width:"100%",children:(0,K.jsx)(R.Z,{imageSignature:es,inPinImageResizeExp:ep,pinId:Y,type:"expand",viewParameter:r})}),eG&&(0,K.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",width:"100%",children:(0,K.jsx)(R.Z,{imageSignature:es,inPinImageResizeExp:ep,isPdp:en,pinId:Y,type:eG,viewParameter:r})}),e3]})}):e3})}function W({graphqlRef:e,pinId:t,...n}){let i=(0,r.useFragment)(V,e),a=(0,v.Z)({type:"graphqlRef",data:i}),l=i.imageSpec_236x||i.imageSpec_136x136,s=!!(l&&!i.imageSpec_236x),{isBot:o}=(0,w.B)(),{checkShuffleRendererExperiment:d}=(0,c.Z)(),u=i.shuffle?.entityId,p=!!i.shuffle&&!o&&d().anyEnabled;return(0,K.jsx)($,{...n,altText:i.altText,autoAltText:i.autoAltText,description:i.description,descriptionHtml:i.descriptionHtml,domain:i.domain,dominantColor:i.dominantColor,embedSrc:i.embed&&i.embed.src,embedType:i.embed&&i.embed.type,graphqlRef:i,hasPromoter:!!i.promoter&&!i.isDownstreamPromotion,imageSignature:i.imageSignature,imagesUrls:a,isEligibleForPdp:!!i.isEligibleForPdp,isHiddenPin:i.isHidden,isSmallestImgPlaceholder:s,isUnsafePin:i.isUnsafe,pinId:t,pinJoinVisualAnnotation:i.pinJoin?.visualAnnotation,pinnerConnectionType:i.pinner?.connectionType,placeholder:l&&{height:l.height,width:l.width,url:l.url},shouldRenderShuffle:p,shuffleId:u})}function q({pinId:e,...t}){let n=(0,M.S6)()(e),i=n?.images?.["236x"]||n?.images?.["136x136"],a=!!(i&&!n?.images?.["236x"]),l=(0,v.Z)(null!=n?{type:"deprecated",data:n}:null),{isBot:r}=(0,w.B)(),{checkShuffleRendererExperiment:s}=(0,c.Z)(),o=n?.shuffle?.id,d=!!o&&!r&&s().anyEnabled;return(0,K.jsx)($,{...t,altText:n?.alt_text,autoAltText:n?.auto_alt_text,description:n?.description,descriptionHtml:n?.description_html,domain:n?.domain,dominantColor:n?.dominant_color,embedSrc:n?.embed?.src,embedType:n?.embed?.type,hasPromoter:!!(n&&n.promoter&&!n.is_downstream_promotion),imageSignature:n?.image_signature,imagesUrls:l,isEligibleForPdp:!!n?.is_eligible_for_pdp,isHiddenPin:n?.is_hidden,isSmallestImgPlaceholder:a,isUnsafePin:n?.is_unsafe,pinId:e,pinJoinVisualAnnotation:n?.pin_join?.visual_annotation,pinnerConnectionType:n?.pinner?.connection_type,placeholder:i&&{height:i.height,width:i.width,url:i.url},shouldRenderShuffle:d,shuffleId:o})}function Y({graphqlRef:e,...t}){return e?(0,K.jsx)(W,{...t,graphqlRef:e}):(0,K.jsx)(q,{...t})}},255396:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(616550),a=n(883119),l=n(494125),r=n(256661),s=n(560007),o=n(237040),d=n(206923),c=n(785893);let u=({children:e,imageLargeUrl:t,isVideoPin:n,pinId:u})=>{let p=(0,i.k6)(),{clientTrackingParams:m,viewParameter:h}=(0,r.R)(),g=(0,o.Yg)();return(0,l.Z)(()=>{g?.("main_pin_impression")}),(0,c.jsx)(a.xu,{"data-layout-shift-boundary-id":"CloseupPageBody",children:(0,c.jsx)(d.dL,{auxData:{closeup_navigation_type:(0,s.Z)(p)},component:n?179:85,impressionData:{imageURL:t,type:13},loggingId:u,slotIndex:-1,trackingParams:m,viewData:{pin_id:u},viewParameter:h,viewType:3,children:({impressionTrackerRef:t})=>(0,c.jsx)(a.xu,{ref:t,"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",children:e})},u)})}},587853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_}),n(167912);var i,a=n(883119),l=n(333739),r=n(179425),s=n(160567),o=n(256661),d=n(50786),c=n(667294),u=n(510989),p=n(608516),m=n(785893);function h({children:e,imageViewer:t}){return(0,m.jsxs)(c.Fragment,{children:[(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-out"}},"data-layout-shift-boundary-id":"CloseupPageContainerInner",display:t?"visuallyHidden":"block",opacity:t?0:1,children:!t&&e}),(0,m.jsx)(u.Z,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,m.jsx)(p.Z,{children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-in"}},display:t?"block":"visuallyHidden",opacity:t?1:0,children:t})})})]})}var g=n(662175);function _({children:e,closeupPageContext:t,hasGutter:c,imageViewer:u,pinKey:p,stickyUpsell:_}){let{childDataKey__DEPRECATED:y}=(0,l.sr)(void 0!==i?i:i=n(299749),p,{type:"pin",useLegacyAdapter:()=>({})});return(0,m.jsx)(o.q,{value:t,children:(0,m.jsxs)(a.xu,{position:"relative",width:"100%",children:[!!_&&(0,m.jsx)(a.Le,{top:s.SB,zIndex:new a.Ry(99999),children:_}),(0,m.jsx)(g.Z,{graphqlRef:"graphqlRef"===y.type?y.data:null,onSendButtonClick:t.onSendButtonClick,children:(0,m.jsx)(r.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:c,children:(0,m.jsx)(d.m,{children:(0,m.jsx)(h,{imageViewer:u,children:e})})})})]})})}},256661:(e,t,n)=>{"use strict";n.d(t,{R:()=>l,q:()=>a});var i=n(342513);let{Provider:a,useHook:l}=(0,i.Z)("CloseupPageContext")},656022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),a=n(140017),l=n(785893);function r(){let e=(0,a.ZP)();return(0,l.jsx)(i.xu,{padding:5,children:(0,l.jsx)(i.$j,{accessibilityLabel:e._('Loading pin data', 'closeupPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})})}},313746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m}),n(167912);var i,a=n(616550),l=n(333739),r=n(627408),s=n(801690),o=n(560007),d=n(61714),c=n(638365),u=n(785893);function p({children:e,pin:{imageSignature:t,isEligibleForPdp:n,isOosProduct:i,isStaleProduct:l,shoppingFlags:p,trackingParams:m},pinId:h,viewParameter:g}){let _=(0,a.k6)(),y=(0,a.TH)(),f=(0,c.Z)(y.state?.trackingParams,m);return(0,u.jsx)(s.Z,{auxData:{closeup_navigation_type:(0,o.Z)(_),commerce_data:(0,d.Z)({isEligibleForPdp:n,isOosProduct:i,isStaleProduct:l,pinShoppingFlags:p??[]})},clientTrackingParams:f,component:13283,objectIdStr:h,viewData:{pin_id:h,closeup_rich_types:p??[],image_signature:t||null},viewParameter:g,viewType:3,children:(0,u.jsx)(r.Z,{clientTrackingParams:f,objectId:h,view:3,children:e})})}function m({children:e,pinKey:t,...a}){let{data:r}=(0,l.sr)(void 0!==i?i:i=n(530632),t,{type:"pin",useLegacyAdapter:e=>({imageSignature:e.image_signature,isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,shoppingFlags:e.shopping_flags,trackingParams:e.tracking_params})});return r?(0,u.jsx)(p,{pin:r,...a,children:e}):null}},800856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(883119),a=n(230556),l=n(140017),r=n(339001),s=n(558273),o=n(340523),d=n(5859),c=n(217058),u=n(623409),p=n(554786),m=n(785893);function h({isImagePinForUnauthOnTablet:e,onClickTitleOrDomain:t,pinCreditPrefix:n,pinDomain:h}){let{isAuthenticated:g}=(0,d.B)(),_=(0,l.ZP)(),y=(0,u.Z)(),f=(0,p.HG)(),{checkExperiment:b}=(0,o.F)(),v=g?b("auth_closeup_redesign").anyEnabled:b("unauth_closeup_redesign").anyEnabled,x=f?"start":"center",k=1,P=e?void 0:"bold",S=e?{textDecoration:"underline"}:{};v&&(x="start",k=n?1:0,P=void 0,S={textDecoration:"underline"});let w=(0,s._S)(h);return(0,m.jsx)(i.kC,{alignItems:"center",direction:"row",justifyContent:x,width:"100%",children:(0,r.nk)(_._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,m.jsx)(i.xu,{display:"inlineBlock",children:(0,m.jsx)(i.xv,{inline:!0,size:a.n,children:n})},"pinCreditsPrefix"),pinCredit:w?(0,m.jsx)(i.xu,{"data-test-id":"pin-domain-link",display:"inlineBlock",marginStart:k,maxWidth:"60vw",children:(0,m.jsx)(i.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),y({action:"click",item:"pin-domain-link"}),g||(0,c.NC)("click_pin_closeup_link_clickthrough"),t()},tapStyle:"compress",children:(0,m.jsx)(i.xv,{lineClamp:1,size:a.n,weight:P,children:(0,m.jsx)("span",{style:S,children:h})},"pinLinkDomain")})},"pinCredits"):""})})}},593868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(140017),a=n(160133),l=n(179425),r=n(906623),s=n(146935),o=n(989406),d=n(797056),c=n(656022),u=n(345748),p=n(212208),m=n(490166),h=n(323294),g=n(785893);let _=e=>(0,h.CK)({hasRichMetadata:!!e.richMetadata,hasRichMetadataProducts:!!e.richMetadata?.products?.length,hasRichMetadataArticle:!!e.richMetadata?.article,hasRichMetadataRecipe:!!e.richMetadata?.recipe});function y({data:e}){let t=(0,r.E)(),n=(0,i.ZP)(),{derived:{imageUrl:a,placeholder:l},pin:o}=e,c=(0,p.Z)();return(0,g.jsx)(m.Z,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),c({linkType:o.mobileLink&&"mobile"||o.trackedLink&&"tracked"||o.link&&"external"||"original",viewParameter:_(o)})},pressState:"none",children:(0,g.jsx)(d.Z,{alt:n._('Pin image', 'Pin closeup image', 'Pin closeup image'),color:o.dominantColor||"#efefef",naturalHeight:l?.height??1,naturalWidth:l?.width??1,placeholder:l?.url??"",pwtElementTimingId:s.f,pwtSurfaceContext:t,showSpinner:!1,src:a})})}function f({data:e}){return(0,g.jsxs)(l.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:!0,children:[(0,g.jsx)(u.Z,{}),(0,g.jsx)(o.Z,{detail:null,isShowingBreadcrumbs:!1,media:(0,g.jsx)(a.Z,{roundedForLargeDevice:!0,children:(0,g.jsx)(y,{data:e})}),sideBySideOptions:null}),(0,g.jsx)(c.Z,{})]})}},752039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m}),n(167912);var i,a=n(883119),l=n(205841),r=n(333739),s=n(140017),o=n(339001),d=n(149722),c=n(785893);let u=void 0!==i?i:i=n(107346);function p({inCollapsibleModulesExp:e,pin:t}){let n;let i=(0,s.ZP)(),r=(0,d.Z)(),u=!(t.board?.layout!=="quick_creates"),p=r.id===t.pinner?.entityId;if(!p||u||!r.isAuth)return null;let{imageMediumUrl:m,username:h}=r||{};if(t.section?.title&&t.section.slug){let e=`${t.board?.url??""}${t.section.slug}/`;n=(0,o.nk)(i._('{{ you }} {{ savedTo }} {{ sectionName }}', 'closeup.savedAttribution.section', 'Showing that you saved this pin to a section within a board on closeup'),{you:(0,c.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(a.rU,{href:`/${h}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(a.xv,{size:"300",weight:"bold",children:i._('You', 'closeup.savedAttribution.user', 'This is the user')})},"author")},h),savedTo:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{size:"300",children:i._('saved to', 'closeup.savedAttribution.savedTo', 'saved to text')})},"saved-to"),sectionName:(0,c.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(a.rU,{href:e,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(a.xv,{lineClamp:1,size:"300",weight:"bold",children:t.section?.title})},"section")},e)})}else n=(0,o.nk)(i._('{{ you }} {{ savedTo }} {{ boardName }}', 'closeup.savedAttribution.board', 'Indicating you saved this pin to a board on closeup'),{you:(0,c.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(a.rU,{href:`/${h}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:i._('You', 'closeup.savedAttribution.user', 'This is the user')})},"author")},h),savedTo:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{size:"300",children:i._('saved to', 'closeup.savedAttribution.savedTo', 'saved to text')})},"saved-to"),boardName:(0,c.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(a.rU,{href:t.board?.url??"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:t.board?.name??""})},"author")},t.board?.url??"")});return(0,c.jsxs)(a.xu,{"data-test-id":"saved-attribution",direction:"row",display:"flex",marginTop:e?0:12,maxWidth:"100%",paddingY:e?4:0,children:[(0,c.jsx)(a.xu,{"data-test-id":"saved-attribution-avatar",display:"flex",flex:"shrink",children:(0,c.jsx)(a.iP,{rounding:"circle",children:(0,c.jsx)(a.rU,{href:`/${h}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(l.qE,{name:h,size:"md",src:m??""})},"profile")})}),(0,c.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,c.jsx)(a.xu,{alignItems:"baseline","data-test-id":"saved-attribution-board-or-section",display:"flex",marginStart:2,children:n})})]})}function m({graphqlRef:e,inCollapsibleModulesExp:t,pinId:n}){let{data:i}=(0,r.sr)(u,e?{type:"graphqlRef",data:e}:{type:"deprecated",data:n},{type:"pin",useLegacyAdapter:e=>({board:e.board&&{layout:e.board.layout,name:e.board.name,url:e.board.url},pinner:e.pinner&&{entityId:e.pinner.id},section:e.section&&{slug:e.section.slug,title:e.section.title}})});return i&&(0,c.jsx)(p,{inCollapsibleModulesExp:t,pin:i})}},13241:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),l=n(140017),r=n(406893),s=n(5859),o=n(439278);let d="undefined"!=typeof window&&window.innerWidth-32||400,c=e=>[{name:`${e}closeup`,width:d,height:d},{name:`${e}title`,width:d,height:24},{name:`${e}attribution`,width:40,height:40},{name:`${e}credit`,width:d-40-8,height:40},{name:`${e}visit_button`,width:d,height:40},{name:`${e}pin_grid_pin`,width:(d-32)/2,height:100}].map(({name:e,width:t,height:n})=>(0,o.Z)({name:e,width:t,height:n})).join("");var u=n(785893);let p="CloseupPageSkeletonLoader__",m=()=>{let e=(0,l.ZP)(),{isAuthenticated:t}=(0,s.B)();return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(r.Z,{unsafeCSS:c(p)}),(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(a.xu,{marginEnd:3,marginTop:4,children:(0,u.jsx)("div",{className:p+"closeup"})}),(0,u.jsx)(a.xu,{marginTop:3,children:(0,u.jsx)("div",{className:p+"title"})}),(0,u.jsxs)(a.xu,{direction:"row",display:"flex",marginTop:3,children:[(0,u.jsx)(a.xu,{children:(0,u.jsx)("div",{className:p+"attribution"})}),(0,u.jsx)(a.xu,{marginStart:2,children:(0,u.jsx)("div",{className:p+"credit"})})]}),(0,u.jsx)(a.xu,{marginTop:3,children:(0,u.jsx)(a.iz,{})})]}),(0,u.jsx)(a.xu,{marginBottom:3,marginTop:2,children:(0,u.jsx)(a.xv,{align:t?void 0:"center",weight:"bold",children:e._('More like this', 'On mobile web pin page, title for related pins beneath pin closeup', 'On mobile web pin page, title for related pins beneath pin closeup')})}),(0,u.jsxs)(a.xu,{direction:"row",display:"flex",marginTop:3,children:[(0,u.jsx)(a.xu,{marginEnd:t?2:1,marginStart:t?2:1,children:(0,u.jsx)("div",{className:p+"pin_grid_pin"})}),(0,u.jsx)(a.xu,{marginEnd:t?2:1,marginStart:t?2:1,children:(0,u.jsx)("div",{className:p+"pin_grid_pin"})})]})]})]})}},345748:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(883119),a=n(343902),l=n(5859),r=n(160567),s=n(554786),o=n(125768),d=n(785893);function c({pinActionBarOptionsButton:e,l1interestFallbackUrl:t}){let{isAuthenticated:n}=(0,l.B)(),c=(0,s.ZP)();return(0,d.jsx)(i.Le,{top:n?0:(0,r.x9)(c),children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},marginTop:2,position:"absolute",width:"100%",children:(0,d.jsxs)(i.kC,{justifyContent:n?"between":"end",children:[n&&(0,d.jsx)(a.Z,{children:(0,d.jsx)(o.Z,{bgColor:"white",color:"darkGray",fallbackUrl:n?"/":"/ideas",fallbackUrlForExp:t,padding:3,viewParameter:156,viewType:3})}),!!e&&(0,d.jsx)(a.Z,{children:e})]})})})}},695625:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(167912);var i,a=n(899691),l=n(333739),r=n(749886),s=n(810495),o=n(785893);function d({pinId:e,pinKey:t,placeholder:d}){let{data:c,childDataKey__DEPRECATED:u}=(0,l.HF)(void 0!==i?i:i=n(835097),t,{type:"pin",useGraphQLAdapter:e=>e.storyPinData,useLegacyAdapter:e=>e?e.story_pin_data:null}),p=c?.pages?.[0].pageId,m=c?.pages?.[0].blocks,{blocks:h}=(0,a.Z)({storyPinBlocks:m??[],blocksToRender:[r.h8.COMMENT_REPLY_STICKER,r.h8.GENERIC_STICKER,r.h8.HEADING,r.h8.MENTION_STICKER,r.h8.PARAGRAPH,r.h8.PRODUCT_STICKER,r.h8.VTO_MAKEUP_STICKER,r.h8.IMAGE]});return c?(0,o.jsx)(s.Z,{blocks:h,isActive:!0,isCoverImageWithTitle:!0,isSinglePage:!0,isStaticImageIdeaPin:!0,maybeGraphqlRef:"graphqlRef"===u.type?u.data:null,muteVideos:!0,pageId:p,pinAspectRatio:(d?.width||0)/(d?.height||1),pinId:e}):null}},916845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var i,a=n(167912),l=n(883119),r=n(422210),s=n(165706),o=n(567344),d=n(340523),c=n(5859),u=n(217058),p=n(623409),m=n(554786),h=n(490166),g=n(19447),_=n(386008),y=n(367408),f=n(785893);let b=({children:e,handleTap:t})=>t?(0,f.jsx)(h.Z,{onTouch:t,pressState:"compress",children:e}):e,v=void 0!==i?i:i=n(890549);function x({onClick:e,hasLink:t,forceSmallerHeading:n,textAlign:i,pinTitle:a,gridTitle:h,richSummaryDisplayName:g,richMetadataTitle:v,storyPinDataId:x,storyPinDataMetadataPinTitle:k,pinJoinVisualAnnotation:P,lineClamp:S,seoNoindexReason:w,seoTitle:T}){let I=(0,m.ZP)(),{isAuthenticated:A,isBot:E}=(0,c.B)(),C=(0,_.Tt)(),{checkExperiment:j}=(0,d.F)(),R=(0,p.Z)(),L=(0,r.Z)(C?.created_at)&&!C?.is_matured_new_user,F=A?j("auth_closeup_redesign").anyEnabled:j("unauth_closeup_redesign").anyEnabled,D=(0,o.Ly)({pinTitle:a,gridTitle:h,richSummaryDisplayName:g,richMetadataTitle:v,storyPinDataId:x,storyPinDataMetadataPinTitle:k,pinJoinVisualAnnotation:P,seoNoindexReason:w,seoTitle:T}),O="desktop"===I?"start":"center";return F&&(O="start"),(0,f.jsx)(y.Z,{hash:"details",offset:-s.DEFAULT_HEIGHT,children:(0,f.jsx)(l.kC,{alignItems:"desktop"===I?"start":"center",direction:"column",justifyContent:"center",children:(0,f.jsx)(l.xu,{alignSelf:F?"start":"stretch","data-test-id":"pinTitle",maxWidth:"100%",children:(0,f.jsx)(b,{handleTap:"desktop"!==I&&t?t=>{t.preventDefault(),t.stopPropagation(),R({action:"click",item:"pin-title",within:"pin-image"}),A||(0,u.NC)("unauth_click_pin_closeup_title"),e()}:null,children:(0,f.jsx)(l.X6,{accessibilityLevel:1,align:i||O,lineClamp:E?void 0:S,overflow:"breakWord",size:n||L?"400":"500",children:D})})})})})}function k(e){let t=(0,a.useFragment)(v,e.graphqlRef);return(0,f.jsx)(x,{forceSmallerHeading:e.forceSmallerHeading,gridTitle:t?.gridTitle,hasLink:e.hasLink,lineClamp:e.lineClamp,onClick:e.onClick,pinId:e.pinId,pinJoinVisualAnnotation:t?.pinJoin?.visualAnnotation||void 0,pinTitle:t?.title,richMetadataTitle:t?.richMetadata?.title??"",richSummaryDisplayName:t?.richSummary?.displayName??"",seoNoindexReason:t?.seoNoindexReason,seoTitle:t?.seoTitle,storyPinDataId:t?.storyPinDataId,storyPinDataMetadataPinTitle:t?.storyPinData?.metadata?.pinTitle,textAlign:e.textAlign})}function P(e){let t=(0,g.S6)()(e.pinId||"");return t?(0,f.jsx)(x,{forceSmallerHeading:e.forceSmallerHeading,gridTitle:t.grid_title,hasLink:e.hasLink,lineClamp:e.lineClamp,onClick:e.onClick,pinId:e.pinId,pinJoinVisualAnnotation:t.pin_join?.visual_annotation,pinTitle:t.title,richMetadataTitle:t.rich_metadata?.title??"",richSummaryDisplayName:t.rich_summary?.display_name??"",seoNoindexReason:t.seo_noindex_reason,seoTitle:t.seo_title,storyPinDataId:t.story_pin_data_id,storyPinDataMetadataPinTitle:t.story_pin_data?.metadata?.pin_title,textAlign:e.textAlign}):null}function S(e){return e.graphqlRef?(0,f.jsx)(k,{...e}):(0,f.jsx)(P,{...e})}},232887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),a=n(34817);let l=new i.H3([a.e]),r=l},312244:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),a=n(213377),l=n(785893);let r=function({marginStart:e=a.D6}){return(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${-(4*e)}px`,marginRight:`${-(4*e)}px`,backgroundColor:"#E9E9E9"}},height:1})}},662691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(214877),r=n(930837),s=n(140017),o=n(785893);function d({pinId:e,viewParameter:t}){let{logContextEvent:n}=(0,l.v)(),d=(0,s.ZP)(),[c,u]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{u(!1)},[e]),c)?null:(0,o.jsx)(r.ZP,{accessibilityModalLabel:"",isOpen:!0,mobileHideCloseIcon:!0,mobileIsSlideUp:!0,onDismiss:()=>{n({event_type:102,view_type:3,view_parameter:t,element:12511}),u(!0)},children:(0,o.jsx)(a.xu,{color:"default",marginBottom:3,padding:9,rounding:6,children:(0,o.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:4},justifyContent:"center",children:[(0,o.jsx)(a.xv,{align:"center",children:d._('This Pin was created with early test tools that no longer exist, so parts of the content may be permanently missing.', 'storyPinCloseup.MobileModal.V1DeprecationMessage', 'Message letting user know that V1 Idea Pins are deprecated.')}),(0,o.jsx)(a.zx,{color:"red",onClick:()=>{n({event_type:102,view_type:3,view_parameter:t,element:12511}),u(!0)},text:d._('Got it', 'storyPinCloseup.MobileModal.V1DeprecationAcknowledgementButton', 'Button for user\'s acknowledgement of V1 idea pins deprecation.')})]})})})}},171394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(883119),a=n(5859),l=n(785893);let r=new i.H3([new i.Ry(0)]);function s({onMoreButtonTap:e,onSendButtonTap:t}){let{userAgent:{platform:n}}=(0,a.B)();return(0,l.jsxs)(i.xu,{display:"flex",justifyContent:"end",padding:6,position:"absolute",top:!0,width:"100%",zIndex:r,children:[(0,l.jsx)(i.hU,{accessibilityLabel:"share",bgColor:"transparentDarkGray",icon:"android"===n?"android-share":"share",onClick:t,size:"md"}),(0,l.jsx)(i.xu,{marginStart:2,children:(0,l.jsx)(i.hU,{accessibilityLabel:"overflow menu",bgColor:"transparentDarkGray",icon:"ellipsis",onClick:e,size:"md"})})]})}},57158:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(883119),a=n(340523),l=n(5859),r=n(554786),s=n(667294),o=n(846559),d=n(71328),c=n(623409),u=n(160567),p=n(494125),m=n(785893);function h({pinId:e,imageSignature:t}){let n=(0,r.HG)(),a=(0,r.ml)(),{isAuthenticated:h}=(0,l.B)(),[g,_]=(0,s.useState)(!1),[y,f]=(0,s.useState)(!1),b=(0,s.useRef)(),v=(0,c.Z)();return(0,p.Z)(()=>{let e=(0,d.Z)(()=>{if(b.current){let t=b.current,{top:n}=t.getBoundingClientRect(),i=n>(a?u.SB:u.Pw);!y&&i&&(_(!0),f(!0),window.removeEventListener("scroll",e))}},10);return n||h?_(!0):window.addEventListener("scroll",e),()=>{h||window.removeEventListener("scroll",e)}}),(0,m.jsx)(i.xu,{ref:b,alignItems:"stretch","data-test-id":"visual-search-icon",display:"flex",justifyContent:"end",paddingX:n?2:0,children:(0,m.jsx)(i.xu,{overflow:"hidden",children:(0,m.jsx)(i.iP,{onTap:()=>{v({action:"click",item:"visual-search-icon",within:"pin-image"})},children:(0,m.jsx)(o.default,{animateShopButton:g,id:e,imageSignature:t,onAnimationComplete:()=>{_(!1)},surfaceType:"flashlight"})})})})}var g=n(616550),_=n(214877),y=n(696534),f=n(140017);function b({pinId:e,viewParameter:t}){let n=(0,f.ZP)(),a=(0,y.vs)(),{logContextEvent:l}=(0,_.v)(),r=(0,g.k6)();return(0,p.Z)(()=>{l({element:10405,event_type:120,view_type:3})}),(0,m.jsx)(i.iP,{onTap:()=>{l({component:128,element:10405,event_type:102,view_parameter:t,view_type:3}),r&&e&&r.push(`/pin/${e}#imgViewer`)},children:(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)",transform:"scaleX(-1)",marginLeft:-4}},"data-test-id":"expand-action-icon",display:"flex",height:44,justifyContent:"center",rounding:"pill",width:44,children:(0,m.jsx)(i.JO,{accessibilityLabel:n._('Button to expand the image', 'expandAction.button', 'Button to expand the pin image to full screen'),color:"default",icon:"maximize",size:20})})})}var v=n(217058);function x({imageSignature:e,pinId:t,viewParameter:n}){let a=(0,f.ZP)(),{logContextEvent:s}=(0,_.v)(),o=(0,c.Z)(),{isAuthenticated:d}=(0,l.B)(),u=(0,y.vs)(),h=(0,r.HG)(),b=(0,g.k6)();return(0,p.Z)(()=>{s({aux_data:{image_signature:e},component:128,element:234,event_type:120,view_parameter:n,view_type:3})}),(0,m.jsx)(i.iP,{onTap:({event:i})=>{d||((0,v.My)(`${h?"dweb":"mweb"}_pin_page.flashlight_icon_click`),o({action:"click",item:"visual-search-icon",within:"pin-image"})),i.stopPropagation(),i.preventDefault(),s({aux_data:{image_signature:e},component:128,element:234,event_type:102,view_parameter:n,view_type:3}),b&&t?b.push(`/pin/${t}/visual-search/`):(0,v.My)(`${h?"dweb":"mweb"}_pin_page.flashlight_icon_click.error`)},tapStyle:"compress",children:(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:u?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"visual-search-icon",display:"flex",height:44,justifyContent:"center",rounding:"pill",width:44,children:(0,m.jsx)(i.JO,{accessibilityLabel:a._('Visual search', 'flashlight.button', 'Button to search for visually similar Pins'),color:"default",icon:"flashlight",size:20})})})}var k=n(50786);let P=()=>{let{isScrolledToPins:e,scrollToPins:t}=(0,k.Z)(),n=(0,f.ZP)();return e&&t(!1),(0,m.jsx)(i.xu,{"data-test-id":"more-like-this-button",children:(0,m.jsx)(i.iP,{onTap:({event:e})=>{e.stopPropagation(),e.preventDefault(),(0,v.My)("remove_drawer_exp.more_like_this.scroll_to_pins"),t(!0)},children:(0,m.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,m.jsxs)(i.xu,{alignContent:"between",alignItems:"center",color:"default",display:"flex",padding:3,rounding:"pill",children:[(0,m.jsx)(i.xu,{color:"default",marginEnd:3,rounding:"pill",children:(0,m.jsx)(i.xv,{inline:!0,weight:"bold",children:n._('More like this', 'mobilePinPage.relatedPins.title', 'On mobile web pin page, title for related pins beneath pin closeup')})}),(0,m.jsx)(i.JO,{accessibilityLabel:n._('Scroll to related pins button', 'mobilePinPage.relatedPins.scroll', 'Button to auto scroll to the related pins section'),color:"dark",icon:"arrow-down",inline:!0})]})})})})},S=({isDesktop:e})=>e?-68:-60;function w({imageSignature:e,inPinImageResizeExp:t=!1,isPdp:n,pinId:s,type:o,viewParameter:d}){let{isAuthenticated:c}=(0,l.B)(),u=(0,r.HG)(),{checkExperiment:p}=(0,a.F)(),g=p("mweb_image_search_animated_button").anyEnabled;return(0,m.jsx)(i.Le,{bottom:0,children:(0,m.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:S({isDesktop:u}),marginRight:t&&"visualSearch"===o?-8:0,marginLeft:t&&"expand"===o?-4:0}},padding:2,position:"expand"===o?"relative":"absolute",right:"expand"!==o,children:"moreLikeThisButton"===o?(0,m.jsx)(P,{}):"expand"===o?(0,m.jsx)(b,{pinId:s,viewParameter:d}):"visualSearch"!==o||c&&(n||!g)?(0,m.jsx)(x,{imageSignature:e,pinId:s,viewParameter:d}):(0,m.jsx)(h,{imageSignature:e,pinId:s})})})}},387450:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i,a=n(667294),l=n(702664),r=n(167912),s=n(883119),o=n(587703),d=n(205841),c=n(140017),u=n(72461),p=n(339001),m=n(340523),h=n(5859),g=n(687603),_=n(213503),y=n(70982),f=n(19447),b=n(386008),v=n(785893);let x=void 0!==i?i:i=n(829205);function k({hideFollowButton:e,hideFollowerCount:t,viewerId:n,justifyContent:i,avatarSize:r,seeMoreButton:f,graphqlRef:x,pinId:k,pinImageSignature:P,userData:S,clientTrackingParams:w}){let T=(0,c.ZP)(),I=(0,u.Z)(),{checkExperiment:A}=(0,m.F)(),{isAuthenticated:E}=(0,h.B)(),C=E?A("auth_closeup_redesign").anyEnabled:A("unauth_closeup_redesign").anyEnabled,{id:j="",image_medium_url:R,follower_count:L,followed_by_me:F,username:D="",is_ads_only_profile:O=!1,ads_only_profile_site:z=""}=S,M=(0,b.mN)()(j),N=(0,l.useDispatch)(),Z=(0,a.useRef)(),B=(0,o.Z)(),{locale:U}=(0,h.B)(),[K,V]=(0,a.useState)(M?M.explicitly_followed_by_me:F),H=O&&z,G=H&&z?z:`/${E?D:D.toLowerCase()}/`;return(0,v.jsxs)(s.xu,{alignItems:"center","data-test-id":"official-user-attribution",direction:"row",display:"flex",justifyContent:i||"center",children:[(0,v.jsx)(s.kC,{alignItems:"stretch",flex:"shrink",justifyContent:"start",children:(0,v.jsx)(s.Tg,{href:G,onTap:()=>{H&&B({event_type:9371,element:13382,component:123})},rel:H?"nofollow":"none",target:H?"blank":null,children:(0,v.jsx)(d.qE,{name:D,size:r||"md",src:R??""})})}),(0,v.jsxs)(s.xu,{"data-test-id":"follower-count",direction:"column",display:"flex",justifyContent:"center",marginStart:2,minWidth:0,children:[(0,v.jsx)(g.Z,{fontWeight:"bold",graphqlRef:x,pinId:k}),!t&&(0,v.jsx)(s.xv,{size:C?"200":"300",children:(0,p.nk)(T._('{{ followerCount }} followers', 'closeup.officialUser.followerCount', 'Official user\'s follower count'),{followerCount:I(U,L||0,{shortform:!0,shortform_maximum_fraction_digits:0})})})]}),f,!e&&(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(s.xu,{ref:Z,marginStart:"auto",children:(0,v.jsx)(_.Z,{auxData:k&&P?{pin_id:k,image_signature:P}:void 0,clientTrackingParams:w,followEventType:45,id:j,isFollowed:K,isUserFollowButton:!0,isUserMe:n===j,onFollow:e=>{V(!0),N((0,y.ZN)(e,null,w))},onUnfollow:e=>{V(!1),N((0,y.fv)(e,null,w))},pinKey:null!=x?x:null,shouldUseLegoColors:!0,size:"lg",unfollowEventType:46,viewType:3})})})]})}function P({graphqlRef:e,pinId:t,...n}){let i=(0,r.useFragment)(x,e),l=i.closeupAttribution;return l&&i?(0,v.jsx)(k,{...n,graphqlRef:i,pinId:t,pinImageSignature:i.imageSignature??void 0,userData:{id:l.entityId??void 0,image_medium_url:l.imageMediumUrl??void 0,follower_count:l.followerCount??void 0,followed_by_me:l.followedByMe??void 0,username:l.username??void 0,is_ads_only_profile:!!l.isAdsOnlyProfile,ads_only_profile_site:l.adsOnlyProfileSite}}):(0,v.jsx)(a.Fragment,{})}function S({pinId:e,...t}){let n=(0,f.S6)()(e),i=n?.closeup_attribution;return i&&n?(0,v.jsx)(k,{...t,pinId:e,pinImageSignature:n.image_signature??void 0,userData:i}):(0,v.jsx)(a.Fragment,{})}function w({graphqlRef:e,...t}){return e?(0,v.jsx)(P,{...t,graphqlRef:e}):(0,v.jsx)(S,{...t})}},687603:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i,a=n(667294),l=n(167912),r=n(883119),s=n(587703),o=n(5859),d=n(109615),c=n(19447),u=n(785893);let p=void 0!==i?i:i=n(987699);function m({getDisplayName:e,fontWeight:t="normal",isVerifiedMerchant:n,fullName:i="",verifiedIdentityVerified:a,username:l="",isAdsOnlyProfile:c=!1,adsOnlyProfileSite:p="",onMouseDown:m}){let h=(0,s.Z)(),{isAuthenticated:g}=(0,o.B)(),_=c&&p,y=_&&p?p:`/${g?l:l.toLowerCase()}/`;return(0,u.jsx)(r.Tg,{href:y,onMouseDown:()=>{m&&m()},onTap:()=>{_&&h({event_type:9371,element:13382,component:123})},rel:_?"nofollow":"none",target:_?"blank":null,children:(0,u.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,u.jsx)(r.xu,{"data-test-id":"creator-profile-name",children:(0,u.jsx)(r.xv,{lineClamp:1,size:"300",weight:t,children:e?e(i):i})}),(n||a)&&(0,u.jsx)(r.xu,{marginEnd:2,marginStart:1,children:(0,u.jsx)(d.Z,{isVerifiedMerchant:n,showVerifiedIdentity:!n,size:"sm"})})]})})}function h(e){let t=(0,l.useFragment)(p,e.graphqlRef),n=t?.closeupAttribution;return n?(0,u.jsx)(m,{adsOnlyProfileSite:n.adsOnlyProfileSite,fontWeight:e.fontWeight,fullName:n.fullName??void 0,getDisplayName:e.getDisplayName,isAdsOnlyProfile:n.isAdsOnlyProfile??!1,isVerifiedMerchant:n.isVerifiedMerchant??void 0,onMouseDown:e.onMouseDown,username:n.username??void 0,verifiedIdentityVerified:n.verifiedIdentity?.verified??void 0}):(0,u.jsx)(a.Fragment,{})}function g(e){let t=(0,c.S6)()(e.pinId),n=t?.closeup_attribution;return n?(0,u.jsx)(m,{adsOnlyProfileSite:n.ads_only_profile_site,fontWeight:e.fontWeight,fullName:n.full_name,getDisplayName:e.getDisplayName,isAdsOnlyProfile:n.is_ads_only_profile,isVerifiedMerchant:n.is_verified_merchant,onMouseDown:e.onMouseDown,username:n.username,verifiedIdentityVerified:n.verified_identity?.verified}):(0,u.jsx)(a.Fragment,{})}function _(e){return e.graphqlRef?(0,u.jsx)(h,{...e}):(0,u.jsx)(g,{...e})}},776883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i,a,l=n(667294),r=n(167912),s=n(883119),o=n(510989),d=n(140017);let c=({hasRecipe:e,hasArticle:t,i18n:n})=>e?n._('Make it', 'pinPage.pinActionBar.Makeit.Button', 'Text on a button that lets users visit the source of the pin'):t?n._('Read it', 'pinPage.pinActionBar.Readit.Button', 'Text on a button that lets users visit the source of the pin'):n._('Visit', 'pinPage.pinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin');var u=n(776427),p=n(340523),m=n(5859),h=n(608516),g=n(207270),_=n(554786),y=n(149722),f=n(188349),b=n(191313);let v=()=>{let e=(0,b.qn)("relatedPinsAppUpsell"),t=e&&Date.now()-e>f.F4;return!e||t};var x=n(773616),k=n(256661),P=n(676012),S=n(326718),w=n(910142),T=n(272768),I=n(437387),A=n(623409),E=n(916840),C=n(237040),j=n(785893);let R=void 0!==i?i:i=n(841433),L=({clickthrough:e,onLoad:t,actionButtonText:n})=>{let i=(0,A.Z)(),a=(0,C.Yg)();return(0,l.useEffect)(()=>{t&&t()},[t]),(0,j.jsx)(s.xu,{"data-test-id":"main-pin-section-visit-button",children:(0,j.jsx)(s.zx,{accessibilityLabel:n,fullWidth:!0,onClick:()=>{i({action:"click",item:"main-pin-section-visit-button"}),a?.("main_pin_clickthrough"),e()},size:"lg",text:n||""})})},F=({clickthroughInterstitialExperience:e,graphqlRef:t,actionButtonText:n})=>{let i=(0,r.useFragment)(R,t),a=(0,E.I)({clickthroughInterstitialExperience:e,graphqlRef:i});return(0,j.jsx)(L,{actionButtonText:n,clickthrough:a})},D=({clickthroughInterstitialExperience:e,pinId:t,actionButtonText:n})=>{let i=(0,E.Z)({clickthroughInterstitialExperience:e,pinId:t});return(0,j.jsx)(L,{actionButtonText:n,clickthrough:i})};function O({clickthroughInterstitialExperience:e,pinId:t,graphqlRef:n,actionButtonText:i}){return n?(0,j.jsx)(F,{actionButtonText:i,clickthroughInterstitialExperience:e,graphqlRef:n}):(0,j.jsx)(D,{actionButtonText:i,clickthroughInterstitialExperience:e,pinId:t})}var z=n(405510),M=n(718738),N=n(19447),Z=n(386008),B=n(329593),U=n(240137),K=n(917094);let V=(0,l.lazy)(()=>n.e(73922).then(n.bind(n,473922))),H=(0,l.lazy)(()=>Promise.resolve().then(n.bind(n,738012))),G=new s.Ry(5),$=void 0!==a?a:a=n(214303),W=({children:e,experience:t,onCompleteRef:n})=>{let i=(0,l.useRef)();return(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)(s.xu,{ref:i,children:(0,j.jsx)(s.xu,{children:e})}),(0,j.jsx)(o.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,j.jsx)(h.Z,{children:(0,j.jsx)(V,{anchor:i.current,eligibleIds:[503459,503761],experience:t,onCompleteRef:n,showTooltip:!0})})})]})},q=()=>{let{locale:e}=(0,m.B)();(0,l.useEffect)(()=>{(0,u.we)(e)},[e])};function Y({pinId:e,viewParameter:t,enabledUnauthContextMenu:n}){let i=(0,d.ZP)(),[a,r]=(0,l.useState)(!1),o=(0,l.useRef)(null),c=(0,j.jsx)(U.Z,{onDefaultSendButtonClick:()=>{r(!0)},viewParameter:t});return(0,j.jsxs)(s.xu,{ref:o,children:[(0,j.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[n&&(0,j.jsx)(s.u,{inline:!0,text:i._('Share', 'Closeup.SharePin.Icon', 'Icon for sharing the current pin'),zIndex:G,children:c}),!n&&c]}),a&&(0,j.jsx)(K.Z,{anchor:o.current,component:194,objectId:e,objectType:1,onDismiss:()=>r(!1),title:i._('Send this pin', 'PinCloseup.ShareMenu.Title', 'title for share menu popover'),viewParameter:t,viewType:3})]})}function X({aggregatedPinDataId:e,clickthroughInterstitialExperience:t,experience:n,inCommentModuleExp:i,isEligibleForAggregatedComments:a,isEligibleForPinReactions:r,isNewUser:c,isRemovablePin:u,onEditButtonClick:f,onMobileTap:b,onSendButtonClick:A,pinId:E,actionButtonText:R,pinnedToBoardId:L,pinnedToBoardUrl:F,nativePinType:D,scrolledToRelatedPins:N,shouldShowReactions:K,shouldShowBackButton:V,shouldShowShareOnVideoCloseup:$,isEligibleToVisitPin:X,hasPin:J,isEligibleForPdp:Q,pinnerBlockedByMe:ee,maybeGraphqlRef:et,isActionBarInline:en}){let ei=(0,d.ZP)(),{checkExperiment:ea}=(0,p.F)(),el=(0,_.HG)(),{isAuthenticated:er}=(0,m.B)(),es=(0,k.R)(),{clientTrackingParams:eo,isStoryPin:ed,shouldRenderAsStoryPin:ec,saveButtonConfig:eu,viewParameter:ep}=es,em=(0,x.Z)(),eh=(0,l.useRef)(null),{id:eg}=(0,y.Z)(),e_=(0,Z.mN)()(eg??""),{countryFromIp:ey}=(0,m.B)(),{COUNTRY_CODES:ef}=M.LAW_CONFIGURATION.dsa,eb=ef.includes(ey),ev=!er&&eb,ex=!el&&!Q,ek=Q&&er||ex,eP=er&&!el&&ea("auth_mweb_inline_action_bar").anyEnabled,{userIsEligibleForShippedLOPExperiment:eS}=(0,g.Z)(),ew=eS&&!er,eT=(0,P.z)(),eI=(0,C.Yg)();q();let eA=!!n&&8===n.type,eE=!el&&ed&&ec;if(eE)return null;if(N&&er&&!eP&&!ek){let e=em&&c&&!e_?.is_partner&&v();return(0,j.jsx)(w.Z,{backButton:V?(0,j.jsx)(S.Z,{bgColor:"white"}):null,headerLimitedOverflow:eA,isActionBarInline:en,isDesktop:el,isRelatedPinsAppUpsellShown:e,isTransparentBackground:!0,showHorizontalActionBar:ek})}let eC=!el&&a&&(!Q||er&&ea("ce_mweb_pdp_comments").anyEnabled)&&(!er||["enabled","running_experiments"].includes(ea("community_engagement_holdout_2023_h1").group)),ej=(0,j.jsx)(I.Z,{enabledUnauthContextMenu:ew,graphqlRef:et,onMobileTap:b,pinId:E});return(0,j.jsx)(w.Z,{backButton:V?(0,j.jsx)(S.Z,{}):null,commentButton:eC&&(0,j.jsx)(z.default,{inCommentModuleExp:i,isEligibleForPinReactions:r,pinId:E,pinKey:et?{type:"graphqlRef",data:et}:{type:"deprecated",data:E},viewParameter:ep}),editOrMoreButton:!ek&&(f?(0,j.jsx)(s.xu,{"data-test-id":"editBoardButton",children:(0,j.jsx)(s.hU,{accessibilityLabel:ei._('edit', 'Pin edit button', 'Pin edit button'),icon:"edit",iconColor:"darkGray",onClick:({event:e})=>f(e),size:"lg"})}):(0,T.E)(es,ev,el)&&!!J&&(0,j.jsxs)(s.xu,{"data-test-id":"ellipsis-button",children:[ew&&(0,j.jsx)(s.u,{inline:!0,text:ei._('More options', 'Closeup.MoreOptions.Icon', 'Icon for opening more actions dropdown'),zIndex:G,children:ej}),!ew&&ej]})),headerLimitedOverflow:eA,isActionBarInline:en,isDesktop:el,saveButton:er&&(u||ee)?null:(0,j.jsx)(W,{experience:n,onCompleteRef:eh,children:(0,j.jsx)(s.xu,{children:(0,j.jsx)(B.Z,{clientTrackingParams:eo,color:"primary",deeplinkUri:eu.shouldShowSavedButton&&F||eu.repinPageLocation.deeplinkUri,onTouch:e=>{eh.current?.(),eu.onSaveButtonClick(e);let t=!!eT?.getData(E);eI?.(t?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar")},onUnsave:eu.onUnsaveButtonClick,pinId:E,pinnedToBoardId:L,shouldShowSavedButton:eu.shouldShowSavedButton,to:eu.repinPageLocation.mwebUri,viewParameter:ep,viewType:3})})}),shareButtonGroup:K&&D?(0,j.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(o.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,j.jsx)(h.Z,{children:(0,j.jsx)(H,{aggregatedPinDataId:e,clientTrackingParams:eo,experience:n,nativePinType:D,pinId:E})})}),$&&(0,j.jsx)(U.Z,{onDefaultSendButtonClick:A,viewParameter:es.viewParameter})]}):(0,j.jsx)(s.xu,{"data-test-id":"share-button",children:!er&&el?(0,j.jsx)(Y,{enabledUnauthContextMenu:ew,pinId:E,viewParameter:es.viewParameter}):(0,j.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(U.Z,{onDefaultSendButtonClick:A,viewParameter:es.viewParameter})})}),showHorizontalActionBar:ek,visitButton:!$&&X?(0,j.jsx)(s.xu,{"data-test-id":"visit-button-mobile",paddingX:2,children:(0,j.jsx)(O,{actionButtonText:R,clickthroughInterstitialExperience:t,graphqlRef:et,pinId:E})}):null})}let J=({graphqlRef:e,...t})=>{let n=(0,d.ZP)(),i=(0,r.useFragment)($,e),a=i.richMetadata?.recipe,l=c({hasRecipe:!!(a?.name&&a.categorizedIngredients?.length&&!a.fromAggregatedData),hasArticle:!!i.richMetadata?.article,i18n:n});return(0,j.jsx)(X,{actionButtonText:l,aggregatedPinDataId:i.aggregatedPinData?.entityId,hasPin:!!i,isEligibleForAggregatedComments:i.isEligibleForAggregatedComments,isEligibleForPdp:i.isEligibleForPdp,maybeGraphqlRef:i,pinnerBlockedByMe:i.pinner?.blockedByMe,...t})},Q=({pinId:e,...t})=>{let n=(0,N.S6)()(e),i=(0,d.ZP)(),a=n?.pinner,l=n?.rich_metadata?.recipe,r=c({hasRecipe:!!(l?.name&&l.categorized_ingredients&&!l.from_aggregated_data),hasArticle:!!n?.rich_metadata?.article,i18n:i});return(0,j.jsx)(X,{actionButtonText:r,aggregatedPinDataId:n?.aggregated_pin_data?.id,hasPin:!!n,isEligibleForAggregatedComments:n?.is_eligible_for_aggregated_comments,isEligibleForPdp:n?.is_eligible_for_pdp,maybeGraphqlRef:null,pinId:e,pinnerBlockedByMe:a?.blocked_by_me,...t})};function ee({graphqlRef:e,...t}){return e?(0,j.jsx)(J,{graphqlRef:e,...t}):(0,j.jsx)(Q,{...t})}},326718:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),a=n(5859),l=n(256661),r=n(125768),s=n(785893);let o=({bgColor:e,color:t})=>{let{viewParameter:n}=(0,l.R)(),{isAuthenticated:o}=(0,a.B)();return(0,s.jsx)(i.xu,{"data-test-id":"back-button",children:(0,s.jsx)(r.Z,{bgColor:e,color:t||"darkGray",fallbackUrl:o?"/":"/ideas",padding:"auto",size:"xl",viewParameter:n,viewType:3})})}},910142:(e,t,n)=>{"use strict";n.d(t,{V:()=>p,Z:()=>h});var i=n(667294),a=n(883119),l=n(165706),r=n(340523),s=n(5859),o=n(283970),d=n(785893);let c=new a.Ry(2),u=new a.Ry(1),p=new a.Ry(4),m=({children:e,headerLimitedOverflow:t,isDesktop:n,isActionBarInline:i,isRelatedPinsAppUpsellShown:r,isTransparentBackground:s,showHorizontalActionBar:o,zIndex:c,isCloseupRedesign:u})=>!n&&o?(0,d.jsxs)(a.xu,{children:[(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:i?0:1,transition:"opacity .4s ease-in-out"}},children:(0,d.jsx)(l.FixedFooter,{hasTopShadow:!0,paddingY:5,zIndex:c,children:e},String(s))}),i&&(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:i?1:0,transition:"opacity .4s ease-in-out"}},paddingY:u?0:5,children:e})]}):(0,d.jsx)(l.FixedHeader,{headerLimitedOverflow:t,ignoreObstructions:s,isTranslucent:!s,isTransparentBackground:s,paddingY:r?0:void 0,zIndex:c,children:e},String(s)),h=({backButton:e,commentButton:t,copyButton:n,editOrMoreButton:l,headerLimitedOverflow:h,isActionBarInline:g=!1,isDesktop:_,isRelatedPinsAppUpsellShown:y,isTransparentBackground:f,saveButton:b,showHorizontalActionBar:v,shareButtonGroup:x,visitButton:k})=>{let P;let S=(0,o.H)(),{isAuthenticated:w}=(0,s.B)(),{checkExperiment:T}=(0,r.F)(),I=w?T("auth_closeup_redesign").anyEnabled:T("unauth_closeup_redesign").anyEnabled;return w?"lg"===S?P=c:v&&(P=p):P=v?p:u,(0,d.jsx)(a.xu,{"data-test-id":"header",children:(0,d.jsx)(m,{headerLimitedOverflow:h,isActionBarInline:g,isCloseupRedesign:I,isDesktop:_,isRelatedPinsAppUpsellShown:y,isTransparentBackground:f,showHorizontalActionBar:v,zIndex:P,children:(0,d.jsx)(a.xu,{marginBottom:I?0:-1,marginTop:I?0:-1,children:(0,d.jsx)(a.kC,{alignItems:"center",justifyContent:"between",children:v?(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:t||null}),(0,d.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginStart:!t&&x?12:0,children:[k||null,b||null]}),(0,d.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:x||null})]}):(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,d.jsx)(a.xu,{color:f?"default":void 0,dangerouslySetInlineStyle:{__style:f?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},marginStart:I?0:-1,rounding:"circle",children:e}),(0,d.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[t||null,I?l||null:x||null,I?x||null:l||null,n||null]})]}),(0,d.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[k||null,b||null]})]})})})})})}},272768:(e,t,n)=>{"use strict";n.d(t,{E:()=>I,Z:()=>R});var i,a=n(167912),l=n(883119),r=n(214877),s=n(103322),o=n(200201),d=n(140017),c=n(339001),u=n(340523),p=n(14583),m=n(48481),h=n(554786),g=n(149722),_=n(90647),y=n(256661),f=n(916840),b=n(395391),v=n(490166),x=n(121228),k=n(738012),P=n(19447),S=n(785893);let w=void 0!==i?i:i=n(934843),T=({canUpsellNativeApp:e,downloadImageUrl:t,pinId:n,shouldShowReactions:i,isAuthenticated:a,shouldShowVisitInMoreOptions:l})=>n?{react:i,editPin:a,downloadImageUrl:t,openInApp:e,reportPin:a,sendPin:i,visitPin:l,hidePin:a}:Object.freeze({}),I=(e,t,n)=>{let i=T(e);return!!(i.react||i.openInApp||i.sendPin||i.downloadImageUrl||i.reportPin||i.visitPin||t||n||i.hidePin)},A=({imageUrl:e,closeupUnifiedDescription:t,gridTitle:n,title:i,pinId:a,imageSignature:r,textSize:s})=>{let o=(0,d.ZP)(),{isChromeOnIOS:c,viewParameter:u,handleDownloadPinImageClick:p,isAuthenticated:g}=(0,y.R)(),_=(0,m.Z)(),f=(0,h.HG)(),x=t&&t.trim();return(0,S.jsx)(b.Z,{filename:n||i||x,imageSignature:r||void 0,imgSrc:e,isChromeOnIOS:c,pinId:a,viewParameter:u,viewType:3,children:e=>(0,S.jsx)(l.xu,{"data-test-id":"more-options-download-pin",children:(0,S.jsx)(v.Z,{onTouch:()=>{e().then(()=>{f&&!g&&_({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_closeup_download_button",desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnDweb",container:"download"}}}),p()})},pressState:"none",children:(0,S.jsx)(l.xv,{size:s,weight:"bold",children:o._('Download image', 'Button to download Pin image', 'Button to download Pin image')})})})})},E=({aggregatedPinDataId:e,pinId:t,domain:n,closeupUnifiedDescription:i,gridTitle:a,title:m,imageSignature:b,textSize:P,onDismiss:w,onEditButtonClick:I,isIdeaPin:E,isIdeaPinDeleted:C,shouldShowShareOnVideoCloseup:j,clickthroughInterstitialExperience:R,nativePinType:L})=>{let F=(0,d.ZP)(),D=(0,y.R)(),{clientTrackingParams:O,onSendButtonClick:z,isAuthenticated:M,onHidePin:N}=D,Z=(0,f.Z)({clickthroughInterstitialExperience:R,pinId:t}),{logContextEvent:B}=(0,r.v)(),U=(0,o._)({id:1000112}),K=(0,h.HG)(),{isAuth:V}=(0,g.Z)(),{checkExperiment:H}=(0,u.F)(),G=T(D);return(0,S.jsxs)(l.kC,{direction:"column",gap:{row:0,column:4},children:[G.react&&!!L&&!K&&!H(`${V?"auth":"unauth"}_mweb_reactions_expansion_mvp_idea_video_pin`).anyEnabled&&(0,S.jsx)(s.Z,{name:"SafeSuspense_PinActionBarMoreOptionsMenu_ReactionPickerContainer",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(v.Z,{onTouch:w,pressState:"none",children:(0,S.jsx)(k.default,{aggregatedPinDataId:e,clientTrackingParams:O,experience:U,isTextButton:!0,nativePinType:L,pinId:t})})})}),!K&&G.editPin&&I&&(0,S.jsx)(l.xu,{"data-test-id":"editBoardButton",children:(0,S.jsx)(v.Z,{onTouch:()=>I(),pressState:"none",children:(0,S.jsx)(l.xv,{size:P,weight:"bold",children:F._('Edit Pin', 'closeup.PinActionBarMoreOptions.editButton', 'Option in overflow menu on Pin closeup to edit this pin')})})}),G.openInApp&&(0,S.jsx)(_.Z,{app_upsell_type:M?"auth-pin-page-action-bar":"unauth-pin-page-action-bar",componentType:14162,children:({handleOpenApp:e})=>(0,S.jsx)(l.xu,{"data-test-id":"more-options-open-app",children:(0,S.jsx)(v.Z,{onTouch:()=>e({deepLinkUri:`pin/${t}`}),pressState:"none",children:(0,S.jsx)(l.xv,{size:P,weight:"bold",children:F._('Open in app', 'Option in overflow menu on Pin closeup to open the Pin in the Pinterest app', 'Option in overflow menu on Pin closeup to open the Pin in the Pinterest app')})})})}),!j&&!E&&G.sendPin&&(0,S.jsx)(l.xu,{"data-test-id":"more-options-send-app",children:(0,S.jsx)(v.Z,{onTouch:z,pressState:"none",children:(0,S.jsx)(l.xv,{size:P,weight:"bold",children:F._('Send Pin', 'Option in overflow menu on Pin closeup to send this pin', 'Option in overflow menu on Pin closeup to send this pin')})})}),!E&&G.visitPin&&(0,S.jsx)(v.Z,{onTouch:Z,pressState:"none",children:(0,S.jsx)(l.xv,{size:P,weight:"bold",children:(0,c.Wc)(F._('Visit {{domain}}', 'videoPinCloseup.overflowMenu.visit', 'Option in overflow menu on Pin closeup to visit the source of pin, domain: the domain name of the url that takes user to source of pin'),{domain:n||""})})}),!E&&!C&&G.downloadImageUrl&&(0,S.jsx)(A,{closeupUnifiedDescription:i,gridTitle:a,imageSignature:b,imageUrl:G.downloadImageUrl,pinId:t,textSize:P,title:m}),G.hidePin&&(0,S.jsx)(l.xu,{"data-test-id":"more-options-hide-pin",children:(0,S.jsx)(v.Z,{onTouch:()=>{w&&w(),N()},pressState:"none",children:(0,S.jsx)(l.xv,{size:P,weight:"bold",children:F._('Hide Pin', 'closeup.PinActionBarMoreOptions.hidePinButton', 'Option in overflow menu on Pin closeup to hide this pin')})})}),G.reportPin&&(0,S.jsx)(x.Z,{callbackFunction:w,nextLocation:`/pin/${t}/report/`,children:(0,S.jsx)(l.xv,{size:P,weight:"bold",children:(0,S.jsx)(l.xu,{"data-test-id":"more-options-report-pin",children:(0,S.jsx)(l.rU,{href:`/pin/${t}/report/`,onClick:()=>{B({view_type:48,element:176,event_type:102,component:13,object_id_str:t})},tapStyle:"none",children:F._('Report Pin', 'Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)', 'Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)')})})})})]})},C=({graphqlRef:e,...t})=>{let n=(0,a.useFragment)(w,e);return(0,S.jsx)(E,{aggregatedPinDataId:n.aggregatedPinData?.entityId,closeupUnifiedDescription:n.closeupUnifiedDescription,domain:n.domain,gridTitle:n.gridTitle,imageSignature:n.imageSignature,isIdeaPin:!!n.storyPinDataId,isIdeaPinDeleted:n.storyPinData?.isDeleted??!1,pinId:n.entityId??"",title:n.title,...t})},j=e=>{let{pinId:t}=(0,y.R)(),n=e.pinId||t,i=(0,P.S6)()(n);return(0,S.jsx)(E,{aggregatedPinDataId:i?.aggregated_pin_data?.id,closeupUnifiedDescription:i?.closeup_unified_description,domain:i?.domain,gridTitle:i?.grid_title,imageSignature:i?.image_signature,isIdeaPin:!!i?.story_pin_data_id,isIdeaPinDeleted:i?.story_pin_data?.is_deleted??!1,pinId:i?.id??"",title:i?.title,...e})};function R({graphqlRef:e,...t}){return e?(0,S.jsx)(C,{graphqlRef:e,...t}):(0,S.jsx)(j,{...t})}},437387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i,a=n(667294),l=n(167912),r=n(883119),s=n(140017),o=n(5859),d=n(217058),c=n(623409),u=n(163471),p=n(554786),m=n(256661),h=n(916840),g=n(19447),_=n(700198),y=n(499631),f=n(785893);let b=void 0!==i?i:i=n(466335),v=({pinId:e,pinCreditPrefix:t,onClickTitleOrDomain:n,onMobileTap:i,hasPinner:l,graphqlRef:h,overlayingPinImage:g=!1,shoppingKlpUrls:b=[],enabledUnauthContextMenu:v})=>{let x=(0,s.ZP)(),k=(0,c.Z)(),P=(0,u.Z)(),{onSendButtonClick:S}=(0,m.R)(),w=(0,a.useRef)(),T=(0,p.HG)(),I=(0,p.Wb)(),{isAuthenticated:A}=(0,o.B)(),[E,C]=(0,a.useState)(null),j=!!E;(0,a.useEffect)(()=>{let e=()=>{C(null),(0,d.My)("dweb.unauth.context_menu.click_away")};return j&&document.addEventListener("click",e),()=>{j&&document.removeEventListener("click",e)}},[j]);let R=g?"white":"darkGray",L=g?"transparent":"white";return T&&v&&(L="white",j&&(L="transparentDarkGray",R="white")),(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(r.xu,{ref:w,children:(0,f.jsx)(r.hU,{accessibilityLabel:x._('more', 'Pin more button', 'Pin more button'),bgColor:L,icon:"ellipsis",iconColor:R,onClick:({event:a})=>{if(A||T){if(k({action:"click",item:"ellipsis-button",within:"contextual-menu-modal"}),T){if(a.stopPropagation(),a.preventDefault(),(0,d.My)("dweb.ellipsis_button.context_menu.open"),w.current){let e=w.current.getBoundingClientRect(),t=e.left,n=e.top;C({x:t,y:n}),j&&C(null)}}else i(a)}else e&&l?P({pinId:e,location:"main-pin-overflow",vaseSection:!I&&(0,f.jsx)(y.Z,{dedupeVisualAnnotations:null,onClickTitleOrDomain:n,pinCreditPrefix:t,pinId:e,pinKey:h?{type:"graphqlRef",data:h}:{type:"deprecated",data:e},shoppingKlpUrls:b})}):i(a)},selected:!T&&g,size:"lg"})}),E&&T&&e&&l&&(0,f.jsx)(_.Z,{anchor:w.current,desktopContextMenuState:E,enabledUnauthContextMenu:v,graphqlRef:h,onSendButtonClick:S,pinId:e,source:"dweb.plp.ellipsis.button"})]})},x=({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:r,enabledUnauthContextMenu:s})=>{let o=(0,l.useFragment)(b,e),d=(0,h.I)({clickthroughInterstitialExperience:r,graphqlRef:o});return(0,f.jsx)(v,{enabledUnauthContextMenu:s,graphqlRef:o,hasPinner:!!o.pinner,onClickTitleOrDomain:d,onMobileTap:i,overlayingPinImage:a,pinCreditPrefix:n,pinId:t,shoppingKlpUrls:o.pinJoin?.shoppingKlpUrls||[]})},k=({pinId:e,pinCreditPrefix:t,onMobileTap:n,overlayingPinImage:i,clickthroughInterstitialExperience:a,enabledUnauthContextMenu:l})=>{let r=(0,g.S6)()(e),s=(0,h.Z)({clickthroughInterstitialExperience:a,pinId:e});return(0,f.jsx)(v,{enabledUnauthContextMenu:l,hasPinner:!!r?.pinner,onClickTitleOrDomain:s,onMobileTap:n,overlayingPinImage:i,pinCreditPrefix:t,pinId:e,shoppingKlpUrls:r?.pin_join?.shopping_klp_urls??[]})};function P({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:l,enabledUnauthContextMenu:r}){let s={pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,enabledUnauthContextMenu:r,clickthroughInterstitialExperience:l};return e?(0,f.jsx)(x,{...s,graphqlRef:e}):(0,f.jsx)(k,{...s})}},703142:(e,t,n)=>{"use strict";n.d(t,{IS:()=>P,Ys:()=>k,ZP:()=>j,j$:()=>T});var i,a=n(667294),l=n(167912),r=n(883119),s=n(803947),o=n(249123),d=n(213377),c=n(140017),u=n(339001),p=n(340523),m=n(737244),h=n(5859),g=n(554786),_=n(168723),y=n(312244),f=n(19447),b=n(771981),v=n(785893);let x=void 0!==i?i:i=n(817082),k=({m:e,h:t,rm:n,rh:i},a,l=!1)=>e&&(!t||i<=0)?l?(0,u.nk)(a._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):(0,u.nk)(a.ngettext('{{mins}} minute', '{{mins}} minutes', n, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):t?l?(0,u.nk)(a._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:t.toString(),mins:e.toString()}):(0,u.nk)(a.ngettext('{{hrs}} hour', '{{hrs}} hours', i, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:i.toString()}):null,P=({m:e,h:t,rm:n,rh:i,i18n:a})=>e&&(!t||i<=0)?(0,u.nk)(a._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:n.toString()}):t?(0,u.nk)(a._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:t.toString(),mins:e.toString()}):null,S=(e,t)=>{let n=e&&e.length>0&&e.join(", "),i=t&&t.summary;return n&&i?`${n}  ${i}`:n||i},w=e=>e?e.reduce((e,t)=>e+(t.ingredients?.length??0),0):0,T=({displayCookTime:e,i18n:t,isShortened:n})=>k((0,m.u)(e),t,n);function I({category:e,ingredients:t,textSize:n="300"}){return(0,v.jsxs)(r.xu,{marginBottom:4,children:[e&&(0,v.jsx)(r.xu,{children:(0,v.jsx)(r.xv,{size:n,weight:"bold",children:e})}),(t??[]).map(e=>(0,v.jsx)(r.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,v.jsxs)(r.xv,{size:n,children:[" ",e.amt||null," ",e.name]})},`${e.name??""}-${e.name??""}`))]})}let A=({categorizedIngredients:e,displayCookTime:t,image:n,ingredientCount:i,ingredientsDescription:l,name:u})=>{let m=(0,c.ZP)(),{checkExperiment:f}=(0,p.F)(),{isAuthenticated:x}=(0,h.B)(),k=(0,g.ZP)(),P=x?f("auth_closeup_redesign").anyEnabled:f("unauth_closeup_redesign").anyEnabled,S="desktop"!==k&&["no_collapse_by_default","collapse_by_default"].includes(f(x?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group),w=t?T({displayCookTime:t,i18n:m,isShortened:!0}):null;if(!w&&!i&&!l)return null;let A=m._('Ingredients', 'Closeup.PinRecipe.ingredientsLabel', 'Ingredients category heading for recipes');return(0,v.jsxs)(r.xu,{marginTop:b.dP,children:[S&&(0,v.jsx)(y.Z,{marginStart:d.D6+_.xh}),(0,v.jsxs)(r.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginBottom:P?0:4,marginEnd:P?0:6,marginTop:P?4:12,overflow:"hidden",children:[(0,v.jsx)("meta",{content:u,itemProp:"name"}),n&&(0,v.jsx)("meta",{content:n,itemProp:"image"}),(0,v.jsx)(r.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,v.jsx)(s.Z,{heading:A,children:S?e.map(({category:e,ingredients:t},n)=>{let i=`ingredient-${n}`;return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(r.xu,{marginBottom:4,children:(0,v.jsx)(I,{category:e,ingredients:t,textSize:"300"})})},i)}):(0,v.jsx)(o.Z,{children:e.map(({category:e,ingredients:t},n)=>{let i=`ingredient-${n}`;return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(r.xu,{marginBottom:4,children:(0,v.jsx)(I,{category:e,ingredients:t,textSize:"300"})})},i)})})})})]})]})},E=({graphqlRef:e})=>{let t=(0,l.useFragment)(x,e),{imageSpec_474x:n,richMetadata:i}=t,a=i?.recipe,r=a?.categorizedIngredients,s=w(r),o=a?.categorizedIngredients&&S(a.diets,a.servingsSummary);return(0,v.jsx)(A,{categorizedIngredients:r,displayCookTime:a?.displayCookTime,image:n?.url,ingredientCount:s,ingredientsDescription:o,name:a?.name})},C=({pinId:e})=>{let t=(0,f.S6)()(e),n=t?.rich_metadata?.recipe||{},{display_cook_time:i,name:a,categorized_ingredients:l,diets:r,servings_summary:s}=n,o=w(l),d=l&&S(r,s);return(0,v.jsx)(A,{categorizedIngredients:l,displayCookTime:i,image:(t?.images||{})["474x"]?.url||"",ingredientCount:o,ingredientsDescription:d,name:a})};function j({graphqlRef:e,pinId:t}){return e?(0,v.jsx)(E,{graphqlRef:e}):(0,v.jsx)(C,{pinId:t})}},204926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i,a=n(167912),l=n(883119),r=n(140017),s=n(339001),o=n(340523),d=n(686769),c=n(5859),u=n(554786),p=n(703142),m=n(19447),h=n(785893);let g=void 0!==i?i:i=n(985005);function _({boldText:e=!0,marginTop:t=3,onlyShowNumber:n=!1,textSize:i="md",isWideViewport:a,ratingBestRating:m,ratingRatingValue:g,ratingReviewCount:_,hasPinRecipe:y,displayCookTime:f,dietList:b,servingSummaryServes:v}){let x=(0,r.ZP)(),{checkExperiment:k}=(0,o.F)(),{isAuthenticated:P}=(0,c.B)(),S=P?k("auth_closeup_redesign").anyEnabled:k("unauth_closeup_redesign").anyEnabled,w=(0,u.ZP)(),T=(0,s.nk)(x.ngettext('{{review_count}} rating', '{{review_count}} ratings', _ ?? 0, 'closeup.recipe.ratings', 'number of ratings for this recipe pin'),{review_count:_}),I=f?(0,p.j$)({displayCookTime:f,i18n:x,isShortened:!0}):null,A=Number(v),E=(0,s.nk)(x.ngettext('{{serves}} serving', '{{serves}} servings', Number.isNaN(A) ? 0 : A, 'closeup.recipe.serves', 'number of servings for this recipe pin'),{serves:v}).join(""),C=[b,E].filter(Boolean),j=(0,s.nk)(x._('{{ ratingStars }} {{ count }}', 'closeup.recipe.rating', 'recipe ratings and count'),{ratingStars:(0,h.jsx)(d.Z,{max_rating:m,rating:g},"ratingStars"),count:(0,h.jsx)(l.xv,{inline:!0,size:i,weight:e?"bold":"normal",children:n?_:T},"ratingCount")});y&&(j=(0,h.jsx)(l.xu,{"data-test-id":"CookTime",children:(0,s.nk)(x._('{{ recipeText }} {{cookTime}} {{ pinRecipe }}', 'closeup recipe cooktime', 'This is the bar under the title which shows these three things. recipeText: shows the rating of the Pin. cookTime: shows the amount of time it takes to prepare the food. pinRecipe: includes any dietary restrictions and how many servings the Pin serves.'),{recipeText:(0,h.jsx)(l.xv,{inline:!0,children:j},"recipeText"),cookTime:(0,h.jsxs)(l.xv,{inline:!0,children:[I&&"\xb7 ",I]},"cookTimeText"),pinRecipe:(0,h.jsx)(l.xv,{inline:!0,children:C.length>0&&(0,h.jsx)(l.xv,{inline:!0,children:` \xb7 ${C.join(" \xb7 ")}`})},"pinRecipe")})}));let R=a||"phone"!==w?"start":"center";return S&&(R="start"),(0,h.jsx)(l.xu,{alignItems:"baseline","data-test-id":"PinRecipeContainer",display:y&&"phone"===w?"block":"flex",justifyContent:"start",marginTop:t,children:(0,h.jsx)(l.xv,{align:R,inline:!0,children:j})})}let y=({graphqlRef:e,...t})=>{let n=(0,a.useFragment)(g,e),{richMetadata:i}=n,l=i?.recipe;return(0,h.jsx)(_,{...t,dietList:(l?.diets||[]).join(", "),displayCookTime:l?.displayCookTime,hasPinRecipe:!!i?.recipe,ratingBestRating:l?.aggregateRating?.bestRating,ratingRatingValue:l?.aggregateRating?.ratingValue,ratingReviewCount:l?.aggregateRating?.reviewCount,servingSummaryServes:l?.servingsSummary?.serves})},f=({pinId:e,...t})=>{let n=(0,m.S6)()(e),i=n?.rich_metadata?.recipe||{},{diets:a,display_cook_time:l,servings_summary:r}=i;return(0,h.jsx)(_,{...t,dietList:(a||[]).join(", "),displayCookTime:l,hasPinRecipe:!!n?.rich_metadata?.recipe,ratingBestRating:i.aggregate_rating?.best_rating,ratingRatingValue:i.aggregate_rating?.rating_value,ratingReviewCount:i.aggregate_rating?.review_count,servingSummaryServes:r?.serves})};function b({graphqlRef:e,pinId:t,...n}){return e?(0,h.jsx)(y,{...n,graphqlRef:e}):(0,h.jsx)(f,{...n,pinId:t})}},236798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(883119),a=n(140017),l=n(5859),r=n(785893);let s=({onSendButtonClick:e,trackShareTap:t,color:n,size:s,bgColor:o})=>{let d=(0,a.ZP)(),{userAgent:{platform:c}}=(0,l.B)();return(0,r.jsx)(i.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),bgColor:o||"transparent",icon:"android"===c?"android-share":"share",iconColor:n||"darkGray",onClick:({event:n})=>{e(n),t()},size:s||"lg"})}},875292:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(883119),a=n(903591),l=n(53264),r=n(608516),s=n(48481),o=n(623409),d=n(413110),c=n(785893);function u(e){let{viewParameter:t,isStoryPin:n}=e,u=(0,s.Z)(),p=(0,o.Z)();return(0,c.jsx)(r.Z,{fallback:null,children:(0,c.jsx)(i.xu,{marginTop:4,children:(0,c.jsx)(l.Z,{commentWarningModalState:a.A9.NONE,dismissCommentWarningModal:()=>{},objectType:d.o.pin,onEnter:()=>{p({action:"click",item:n?"comment-compose-story-pin":"comment-compose-pin",within:"comment-composer-modal"}),u({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:"login",modalOptions:{source:"commentComposer",container:"closeup"}}})},statusType:"textStaticDisplay",viewParameter:t})})})}},38964:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let i="imgViewer"},560007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(373543);let a=e=>{let t=(0,i.Z)({url:e.location.search});switch(e.action){case"PUSH":if("news_hub"===t.entrySource)return"deeplink";return"click";case"REPLACE":return"click";case"POP":if(!e.location.key)return"deeplink";return"click";default:return null}}},618429:(e,t,n)=>{"use strict";function i({isImagePinForUnauthOnTablet:e}){return e?3:2}n.d(t,{Z:()=>i})},809216:(e,t,n)=>{"use strict";n.d(t,{Ph:()=>a,Re:()=>r,si:()=>l});var i=n(554786);let a=(e,t)=>e&&!t?e:null,l=()=>{let e=(0,i.ZP)();return"phone"!==e?180:130},r=()=>{let e=(0,i.ZP)();return"phone"!==e?180:80}},916840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z,I:()=>O});var i,a=n(702664),l=n(167912),r=n(616550),s=n(587703),o=n(25919),d=n(422210),c=n(263148),u=n(391884),p=n(558273),m=n(661428),h=n(5859),g=n(623409),_=n(624797),y=n(256661),f=n(560007),b=n(809216),v=n(107366),x=n(217058);let k=async({pinId:e,link:t,mobileLink:n,origImageUrl:i,trackedLink:a,clientTrackingParams:l})=>{let r=await (0,v.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:l,pin_id:e??null,url:(0,p.Zt)({link:t,mobileLink:n,origImageUrl:i,trackedLink:a})??""}});if(!r||!r.resource_response||r.resource_response.error)return"error";{let{redirect_status:e}=r.resource_response.data;return e}},P=e=>{k(e).then(e=>(0,x.My)(`mweb.unauth.clickthrough_quality.${e}`))};var S=n(638365),w=n(425712),T=n(851690),I=n(546689),A=n(844998),E=n(19447);let C=void 0!==i?i:i=n(571541),j=({commerceData:e,isPromoted:t,imageSignature:n,location:i,pinId:a,trackingParams:l,viewParameter:r})=>{let s=(0,S.Z)((i.state||{}).trackingParams,l);return{object_id_str:a,component:4,element:35,view_type:3,view_parameter:r,clientTrackingParams:s,aux_data:{commerce_data:e,image_signature:n,is_promoted:t}}},R=()=>navigator.onLine,L=({context:{completeExperience:e,dispatch:t,history:n,isAuthenticated:i,isBot:a,isSocialBot:l,location:r,logContextEvent:s,shouldUpsellHomePage:d,trackInteraction:m,userIsNew:h,viewExperience:g,unauthUserStateDispatch:y},data:{category:b,clickthroughInterstitialExperience:v,commerceData:x,domain:k,embedSrc:S,embedType:w,hasPin:I,hasPromoter:A,isPromoted:E,imageSignature:C,imagesUrls:L,link:F,linkDomainOfficialUserImageMediumUrl:D,linklessOptions:O,mobileLink:z,pinId:M,trackedLink:N,trackingParams:Z,viewParameter:B}})=>()=>{if(!I)return;let U=j({commerceData:x,imageSignature:C,isPromoted:E,location:r,pinId:M,trackingParams:Z,viewParameter:B});m({action:"click",item:"clickthrough"}),i||P({pinId:M,link:F,mobileLink:z,origImageUrl:L?.orig,trackedLink:N,clientTrackingParams:U.clientTrackingParams});let K=(0,T.jC)(U);12===K&&(s({event_type:8948,view_type:3,view_parameter:B,object_id_str:M,clientTrackingParams:U.clientTrackingParams,aux_data:{image_signature:C,closeup_navigation_type:(0,f.Z)(n),click_type:"clickthrough",cosmic_ray_count:"1",is_promoted:E}}),!i&&C&&k&&F&&y({type:"ADD_UNAUTH_CLICKTHROUGH_PIN",payload:{imageSignature:C,pinId:M,domain:k,link:F}}));let V=(0,p.Zt)({link:F,mobileLink:z,origImageUrl:L?.orig,trackedLink:N})??"",H={pin:M,client_tracking_params:U.clientTrackingParams};if(O){if(!O.actionBarIsMinifiedToMainPinImage){let e=new XMLHttpRequest;e.open("GET",(0,c.Se)(V,{queryParams:H})),e.send()}O.onTap();return}let G=!A&&(h||d);if(G&&t((0,o.kd)(1000162)),G&&v){t(g(v.placement_id,v.experience_id)),t(e(v.placement_id,v.experience_id));let n=(0,c.Se)(V,{queryParams:H}),i=(0,u.Z)({imagesUrls:L,embedSrc:S,embedType:w,excludeOriginals:!a&&!l}),s=r.pathname+r.search;if(!R())return;window.open((0,_.ru)("/pin_redirect",{domain:k??"",domainImageUrl:D??"",origin:s,pinCategory:b,pinImageUrl:i,redirectUrl:n}),"_blank")}else{if(!R())return;(0,c.Gj)(V,{queryParams:H})}},F=()=>{let e=(0,r.k6)(),t=(0,r.TH)(),n=(0,a.useDispatch)(),{unauthUserStateDispatch:i}=(0,I.Rh)(),l=(0,A.S)(),c=(0,a.useSelector)(({users:e,session:t})=>(0,d.Z)(e[t.userId].created_at)),{isAuthenticated:u,isBot:p,isSocialBot:m}=(0,h.B)(),_=(0,s.Z)(),y=(0,g.Z)(),f=(0,o.be)(),b=(0,o.Ig)();return{history:e,location:t,dispatch:n,shouldUpsellHomePage:l,userIsNew:c,isAuthenticated:u,isBot:p,isSocialBot:m,logContextEvent:_,trackInteraction:y,completeExperience:f,viewExperience:b,unauthUserStateDispatch:i}},D=e=>L({context:F(),data:e}),O=({clickthroughInterstitialExperience:e,linklessOptions:t,graphqlRef:n})=>{let{viewParameter:i}=(0,y.R)(),a=(0,l.useFragment)(C,n),r=(0,m.Z)({type:"graphqlRef",data:a}),s=(0,w.Z)({type:"graphqlRef",data:a});return D({hasPromoter:!!(a.promoter&&!a.isDownstreamPromotion),viewParameter:i,clickthroughInterstitialExperience:e,linklessOptions:t,hasPin:!!a.entityId,pinId:a.entityId??"",commerceData:s,imageSignature:a.imageSignature,mobileLink:a.mobileLink,trackingParams:a.trackingParams,link:a.link,trackedLink:a.trackedLink,imagesUrls:r,embedSrc:a.embed?.src,embedType:a.embed?.type,category:a.category??"",domain:a.domain,linkDomainOfficialUserImageMediumUrl:a.linkDomain?.officialUser?.imageMediumUrl,isPromoted:a.isPromoted})},z=({clickthroughInterstitialExperience:e,linklessOptions:t,pinId:n})=>{let i=(0,E.S6)()(n),a=(0,b.Ph)(i?.promoter,i?.is_downstream_promotion),{viewParameter:l}=(0,y.R)(),r=(0,w.Z)({type:"deprecated",data:n}),s=(0,m.Z)(null!=i?{type:"deprecated",data:i}:null);return D({hasPromoter:!!a,viewParameter:l,clickthroughInterstitialExperience:e,linklessOptions:t,hasPin:!!i,pinId:i?.id??"",commerceData:r,imageSignature:i?.image_signature,mobileLink:i?.mobile_link,trackingParams:i?.tracking_params,link:i?.link,trackedLink:i?.tracked_link,imagesUrls:s,embedSrc:i?.embed?.src,embedType:i?.embed?.type,category:i?.category,domain:i?.domain,linkDomainOfficialUserImageMediumUrl:i?.link_domain?.official_user?.image_medium_url,isPromoted:i?.is_promoted})}},311223:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(422210),a=n(558273),l=n(149722),r=n(942397),s=n(386008);function o({link:e,mobileLink:t,trackedLink:n}){let{id:o}=(0,l.Z)(),d=(0,s.mN)()(o??"");return!!(e||t||n)&&!((0,i.Z)(d?.created_at)&&!(0,r.V0)(d))&&!(0,a.ZE)(e)}},260488:(e,t,n)=>{"use strict";n.d(t,{X:()=>P,Z:()=>S});var i,a=n(167912),l=n(883119),r=n(608516),s=n(344064),o=n(205841),d=n(140017),c=n(48481),u=n(623409),p=n(490166),m=n(953565),h=n(785893);function g({isStoryPin:e,inviteText:t,inviterFirstName:n,isThinnerStyle:i,username:a}){let r=(0,u.Z)(),s=t.split(n);return(0,h.jsx)(l.xu,{children:(0,h.jsx)(p.Z,{onTouch:()=>{(0,m.nP)("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,h.jsxs)(l.kC,{direction:"row",gap:{row:1,column:0},children:[(0,h.jsx)(l.xv,{inline:!0,size:"300",children:s[0]}),e?(0,h.jsx)(l.xv,{inline:!0,size:"300",weight:"bold",children:(0,h.jsx)(l.rU,{href:"/"+a,onClick:()=>{r({action:"click",item:"invite-profiler"})},target:"blank",children:n})}):(0,h.jsx)(l.xv,{inline:!0,size:i?"200":"300",weight:i?"normal":"bold",children:(0,h.jsx)(l.rU,{href:"/"+a,onClick:()=>{r({action:"click",item:"invite-profiler-not-story"})},target:"blank",children:n})}),(0,h.jsx)(l.xv,{inline:!0,size:i?"200":"300",children:s[1]})]})})})}function _({inviter:e,socialContextBannerStyle:t,setShouldShowSocialUpsellBanner:n}){let{shouldShowSignupUpsellText:i,isDismissible:a}=t,r=(0,d.ZP)(),{username:s}=e,m=e.imageMediumUrl,_=e.firstName,y=(0,c.Z)(),f=(0,u.Z)();return(0,h.jsx)(l.kC,{alignItems:"center",justifyContent:a?"center":"start",children:(0,h.jsx)(l.xu,{children:(0,h.jsx)(l.iP,{fullHeight:!0,onTap:()=>{f({action:"click",item:"close-button",within:"social-banner"}),y({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,h.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},direction:"row",display:"flex",height:44,marginBottom:6,marginStart:a?0:2,marginTop:2,paddingX:a?4:2,paddingY:4,position:a?"static":"absolute",rounding:"pill",top:!0,width:a?1012:void 0,zIndex:new l.Ry(1),children:[(0,h.jsx)(l.xu,{marginBottom:8,marginEnd:1,marginTop:8,width:32,children:(0,h.jsx)(p.Z,{onTouch:e=>{e.stopPropagation(),s&&window.open("/"+s),f({action:"click",item:"user-rep",within:"social-banner"})},pressState:"none",children:m?.includes("default")?(0,h.jsx)(l.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,h.jsx)(o.qE,{name:_,size:"fit",src:m??void 0})})}),(0,h.jsxs)(l.kC,{direction:"row",flex:"grow",children:[(0,h.jsx)(g,{inviterFirstName:_,inviteText:i?(r._('{{ name }} shared this idea.', 'pin.closeup.long_banner.desktop.shareNotification', 'Long banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",_):(r._('{{ name }} shared this idea ', 'pin.closeup.banner.desktop.shareNotification', 'Banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",_),isStoryPin:!1,isThinnerStyle:i,username:s}),i&&(0,h.jsx)(l.xu,{marginEnd:2,marginStart:1,children:(0,h.jsx)(l.xv,{inline:!0,size:"200",weight:"bold",children:r._('Sign up to join them', 'pin.header.social_context_dweb', 'label')})})]}),a&&(0,h.jsx)(l.hU,{accessibilityLabel:"cancel",icon:"cancel",onClick:({event:e})=>{e.stopPropagation(),f({action:"dismiss",item:"close-button",within:"social-banner"}),n?.(!1)},size:"sm"})]})})})})}var y=n(340523),f=n(554786),b=n(90647),v=n(773616);function x({inviter:{imageMediumUrl:e,username:t,firstName:n},isStoryPin:i}){let a=(0,d.ZP)(),{checkExperiment:r}=(0,y.F)(),s=(0,f.ml)(),_=()=>(0,m.nP)("mweb_social_unauth.closeup.avatar_click"),x=(0,v.Z)(),k=(0,c.Z)(),P=(0,u.Z)(),S=(a._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them')).replace("{{ name }}",t),w="undefined"!=typeof window&&window.innerWidth<360,T=t.length>25,I=s&&!i&&r("mweb_social_context_header_upsell").anyEnabled,A=r("mweb_social_context_header_upsell").group;return x&&i?(0,h.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",minHeight:T?100:80,children:[(0,h.jsx)(l.xu,{marginBottom:4,marginTop:4,width:40,children:(0,h.jsx)(p.Z,{onTouch:_,pressState:"none",children:(0,h.jsx)(o.qE,{name:n,size:"fit",src:e??void 0})})}),(0,h.jsx)(l.kC.Item,{flex:"grow",children:(0,h.jsxs)(l.xu,{alignItems:"center",direction:T?"column":"row",display:"flex",justifyContent:T?"start":"between",padding:T?3:0,children:[(0,h.jsxs)(l.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},wrap:!w,children:[(0,h.jsx)(l.kC,{children:(0,h.jsxs)(l.xv,{align:T?"center":"start",children:[(0,h.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(l.rU,{display:"inlineBlock",href:`/${t??""}/`,onClick:()=>{P({action:"click",item:"invite-profiler"})},target:"blank",underline:"hover",children:t})}),S.split(t)[1]]})}),!T&&(0,h.jsx)(l.xv,{size:"100",children:a._('Open Pinterest to see more', 'unauth.mweb.shared.banner.edu', 'education for CTA to open app on shared banner')})]}),(0,h.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:T?3:0,minWidth:T?0:100,children:(0,h.jsx)(b.Z,{app_upsell_type:"social-context-header",componentType:14161,children:({handleOpenApp:e})=>(0,h.jsx)(l.zx,{onClick:()=>e(),size:"md",text:a._('Open app', 'unauth.mweb.shared.banner.cta', 'CTA to open app on shared banner')})})})]})})]}):(0,h.jsx)(p.Z,{onTouch:()=>{I&&k({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_mobile_unauth_social_context_header"})},pressState:"none",children:(0,h.jsxs)(l.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,h.jsx)(l.xu,{marginBottom:4,marginStart:I?2:0,marginTop:4,width:48,children:(0,h.jsx)(p.Z,{onTouch:_,pressState:"none",children:(0,h.jsx)(o.qE,{name:n,src:e??void 0})})}),(0,h.jsxs)(l.kC,{alignItems:I?"start":"center",direction:"column",justifyContent:"start",children:[(0,h.jsx)(l.xu,{marginStart:I?-1:0,children:(0,h.jsx)(g,{inviterFirstName:n,inviteText:I&&A.includes("join")?(a._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):I&&A.includes("converse")?(a._('{{ name }} sent an idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):I&&A.includes("explore")?(a._('{{ name }} sent this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):(a._('{{ name }} shared this idea with you', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n),isStoryPin:i,isThinnerStyle:I,username:t})}),I&&(0,h.jsx)(l.xu,{marginTop:1,children:(0,h.jsx)(l.xv,{inline:!0,size:"300",weight:"bold",children:A.includes("join")?a._('Tap to join them on Pinterest', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area'):A.includes("converse")?a._('Tap to share feedback', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area'):A.includes("explore")&&a._('Tap to see more like it', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area')})})]})]})})}let k=void 0!==i?i:i=n(195020),P=({children:e,variables:t})=>e((0,a.useLazyLoadQuery)(k,t));function S({inviterFirstNameRef:e,isDesktop:t,isStoryPin:n,setShouldShowSocialUpsellBanner:i,socialContextBannerStyle:a}){return(0,h.jsx)(r.Z,{children:(0,h.jsx)(s.ty,{children:r=>r?(0,h.jsx)(P,{variables:{inviteCode:r},children:r=>{let s=r.v3GetInviteCodeQuery?.data?.sender,{firstName:o,imageMediumUrl:d,username:c}=s??Object.freeze({});return o&&c?(e&&(e.current=o),t?(0,h.jsx)(_,{inviter:{firstName:o,imageMediumUrl:d,username:c},setShouldShowSocialUpsellBanner:i,socialContextBannerStyle:a??{isDismissible:!0,shouldShowSignupUpsellText:!0}}):(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginEnd:-2,marginStart:-2,paddingX:2,children:(0,h.jsx)(x,{inviter:{firstName:o,imageMediumUrl:d,username:c},isStoryPin:!!n})})):null}}):null})})}},413009:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(702664),a=n(224796),l=n(391884),r=n(5859),s=n(48481),o=n(731714),d=n(623409),c=n(554786),u=n(33767),p=n(810052),m=n(170568);let h=(e,t,n,i)=>{n&&e((0,m.Cp)()),t||i(!0),setTimeout(()=>{n||e((0,m.FK)()),t&&i(!1)},3e3)};function g({embedSrc:e,embedType:t,imagesUrls:n,pinId:g,nodeId:_,isFromUnauthContextMenu:y,attributionLabel:f}){let b=(0,p.a)(),{numUnauthSavedPins:v,setNumUnauthSavedPins:x}=(0,u.U)(),k=(0,i.useDispatch)(),P=(0,c.ZP)(),S=(0,s.Z)(),w=!!(g&&b&&b.unauthSavedPinsStore.isSaved(g)),{forceShowNavFooter:T,setForceShowNavFooter:I}=(0,u.U)(),A=(0,i.useSelector)(({session:e})=>e.shouldHideNavBar)??!1,{isBot:E,isSocialBot:C}=(0,r.B)(),j=(0,d.Z)();if(b&&g)return{isSaved:w,onSave:()=>{j({action:"click",item:"save-button"});let i="save",r=!0;if("desktop"!==P){let{unauthSavedPinsStore:s}=b,d=!!s.pins.length;!y&&s.canSaveMore()?(s.save({id:g,nodeId:_,imageUrl:(0,l.Z)({imagesUrls:n,embedSrc:e,embedType:t,excludeOriginals:!E&&!C})}),r=!1,x(v+1),h(k,T,A,I)):("desktop"!==P?k((0,m.QZ)(g)):(o.Z.setItem(a.M8,g),o.Z.setItem(a.zz,_)),i=d&&!y?"extended_save_out_of_quota":"save")}else o.Z.setItem(a.M8,g),o.Z.setItem(a.zz,_);r&&S({attributionLabel:"extended_save_out_of_quota"===i?"click_save_button_with_max_unauth_saves":f||"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:i},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}},pinId:g})},onUnsave:()=>{v>=1&&x(v-1);let{unauthSavedPinsStore:e}=b;e.unsave(g),j({action:"click",item:"unsave-button"}),"desktop"===P&&(o.Z.removeItem(a.M8),o.Z.removeItem(a.zz))}}}},212208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),a=n(616550),l=n(214877),r=n(525364),s=n(5859),o=n(217058),d=n(623409),c=n(38964),u=n(156652);function p(){let{isAuthenticated:e}=(0,s.B)(),t=(0,a.TH)(),n=(0,a.k6)(),p=(0,d.Z)(),{logContextEvent:m}=(0,l.v)(),{viewType:h}=(0,r.SU)(),[g,_]=(0,i.useState)(!1),y=(0,a.$B)(),f=t.state?.trackingParams;return({linkType:t,viewParameter:i})=>{if((0,o.NC)("click_pin_closeup_image"),e||p({action:"click",item:"pin-image"}),(0,u.Z)(t),e){y.params.id&&n.push(`/pin/${y.params.id}#${c.v}`,{trackingParams:f});return}g?(m({event_type:14688,element:13319,component:14215,view_type:h,view_data:i,aux_data:{upsell_reason:"click_pin_closeup_image"}}),p({action:"click",item:"main-pin-wash"}),n.push("/signup")):((0,o.My)("main.pin.wash.show"),_(!g))}}},50786:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,m:()=>r});var i=n(667294),a=n(785893);let l=(0,i.createContext)({isScrolledToPins:!1,scrollToPins:()=>{}});function r({children:e}){let[t,n]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>({isScrolledToPins:t,scrollToPins:n}),[t,n]);return(0,a.jsx)(l.Provider,{value:r,children:e})}let s=()=>(0,i.useContext)(l)},861748:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T,w:()=>k});var i,a=n(667294),l=n(702664);n(167912);var r=n(616550),s=n(442279),o=n(883119),d=n(139922),c=n(333739),u=n(995917),p=n(554786),m=n(494125),h=n(149722),g=n(415199),_=n(413110),y=n(110155),f=n(930822),b=n(937310),v=n(386008),x=n(785893);let k=({aggregatedPinDataId:e,featuredCommentIds:t,featuredDidItIds:n,isDesktop:i,isReversed:a=!1,noCache:l=!1})=>({name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:t,did_it_featured_ids:n,page_size:i?10:25,redux_normalize_feed:!0,is_reversed:a},noCache:l}),P=(0,s.P1)((e,t,n)=>n,({feeds:e},t)=>e[`${b.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,t,n,i)=>i,(e,t,n,i)=>t?.map(({id:t,type:a})=>{let l="aggregatedcomment"===a.toLowerCase()?e[t]:n[t];if(!l)return;let r="string"==typeof l.user?i[l.user]??{}:l.user??{};return{...l,user:r??{}}}).filter(e=>e)||[]),S=void 0!==i?i:i=n(346035),w=({aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,commentsDisabled:i,hasComments:s,isReadOnly:c,pinId:b,isVideo:S,pinnerId:w,scrollContainer:T,setIsComposingNewComment:I=()=>{},storyPinDataId:A,viewParameter:E,toggleComposerForReply:C,openMwebOverflowMenu:j})=>{let{comment_id:R}=(0,r.UO)(),L=(0,l.useDispatch)(),F=(0,p.HG)(),D=(0,h.Z)(),O=(0,a.useRef)(s),z=(0,u.Z)(O.current&&e?k({aggregatedPinDataId:e,featuredCommentIds:R?[R]:[],isDesktop:F}):null),{removeUnauthCommentPinId:M,unauthCommentPinId:N}=(0,y.C)(),Z=(0,g.lV)(),{toggleAggregatedCommentHelpful:B,toggleAggregatedCommentLike:U}=(0,g.nf)(),K=(0,v.kW)(),V=(0,l.useSelector)(t=>P(t,e,Z,K)),[H,G]=(0,a.useState)(void 0),$=()=>{I(!0)};return(0,m.Z)(()=>{!F&&D.isAuth&&N&&b&&N===b&&($(),M())}),(0,a.useEffect)(()=>{let e=()=>{let t=!!T&&T.scrollTop+T.clientHeight+10>=T.scrollHeight;z&&!z.isFetching&&(z.isAtEnd?T?.removeEventListener("scroll",e):t&&z.fetchMore())};return T?.addEventListener("scroll",e),()=>{T?.removeEventListener("scroll",e)}},[z,T]),(0,x.jsx)(a.Fragment,{children:(0,x.jsx)(o.xu,{display:"flex",marginTop:F?6:0,width:"100%",children:(0,x.jsx)(d.Z,{aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,comments:V,commentsDisabled:i,isDesktop:F,isLoaded:z&&z.isLoaded||!s,isReadOnly:c,isVideo:S,openOverflowMenu:j,parentId:e??"",parentType:_.o.pin,pinId:b,pinnerId:w,reactionListCommentId:H,showReactionListForComment:G,storyPinDataId:A,toggleHelpful:(e,t,n)=>()=>{n?L((0,f.YH)({didItDataId:e,isMarkedHelpfulByMe:t})):B({aggregatedCommentId:e,isMarkedHelpfulByMe:t})},toggleLike:(e,t,n)=>()=>{n?L((0,f.wH)({didItDataId:e,isLikedByMe:t})):U({aggregatedCommentId:e,isLikedByMe:t})},toggleReplyComposer:C,userAvatarSize:"sm",viewParameter:E})})})};function T({pinKey:e,...t}){let{data:n}=(0,c.sr)(S,e,{type:"pin",useLegacyAdapter:e=>({aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:e.aggregated_pin_data.id??""},closeupAttribution:e.closeup_attribution&&{entityId:e.closeup_attribution.id??"",username:e.closeup_attribution.username},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,entityId:e.id,pinner:e.pinner&&{entityId:e.pinner.id},storyPinData:e.story_pin_data&&{entityId:e.story_pin_data.id??""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}})}),i=(n?.aggregatedPinData?.commentCount||0)+(n?.aggregatedPinData?.didItData?.imagesCount||0);return(0,x.jsx)(w,{aggregatedPinDataId:n?.aggregatedPinData?.entityId,closeupAttributionId:n?.closeupAttribution?.entityId,closeupAttributionUsername:n?.closeupAttribution?.username,commentsDisabled:n?.commentsDisabled,disablePhotoCommentSelection:!!n?.doneByMe,hasComments:i>0&&!n?.commentsDisabled,isVideo:!!n?.videos?.videoList,pinId:n?.entityId,pinnerId:n?.pinner?.entityId,storyPinDataId:n?.storyPinData?.entityId,...t})}},205148:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ee});var i,a,l=n(667294),r=n(702664);n(167912);var s=n(883119),o=n(40432),d=n(161881),c=n(880790),u=n(903591),p=n(53264),m=n(214877),h=n(930837),g=n(333739),_=n(883087),y=n(140017),f=n(339001),b=n(96452),v=n(340523),x=n(554786),k=n(494125),P=n(149722),S=n(415199),w=n(413110),T=n(801690),I=n(861748),A=n(557403),E=n(924081),C=n(785893);let j=({action:e,text:t})=>(0,C.jsx)(s.iP,{onTap:e,children:(0,C.jsx)(s.xv,{weight:"bold",children:t})});var R=n(887582),L=n(454514),F=n(13848);let D={SPAM:"spam",PORN:"nudity",SELF_INJURY:"self-harm",HATE_SPEECH:"hate-speech",HARASSMENT:"attacks",VIOLENCE:"graphic-violence",MEDICAL_MISINFORMATION:"medical-misinformation"},O=e=>[{key:D.SPAM,title:e._('Spam', 'report.comment.option.spam.title', 'Report comment option'),subtitle:e._('Misleading or repetitive posts', 'report.comment.option.spam.subtitle', 'Report comment option description')},{key:D.PORN,title:e._('Sexual commentary', 'report.comment.option.sexualCommentary.title', 'Report comment option'),subtitle:e._('Sexually explicit content', 'report.comment.option.sexualCommentary.subtitle', 'Report comment option description')},{key:D.SELF_INJURY,title:e._('Self-harm', 'report.comment.option.selfHarm.title', 'Report comment option'),subtitle:e._('Eating disorders, cutting, suicide, drugs', 'report.comment.option.selfHarm.subtitle', 'Report comment option description')},{key:D.MEDICAL_MISINFORMATION,title:e._('Medical misinformation', 'report.comment.option.medicalMisinformation.title', 'Report comment option'),subtitle:e._('Harmful or misleading content about health and safety', 'report.comment.option.medicalMisinformation.subtitle', 'Report comment option description')},{key:D.HATE_SPEECH,title:e._('Hate speech', 'report.comment.option.hateSpeech.title', 'Report comment option'),subtitle:e._('Prejudice or attacks directed at protected groups', 'report.comment.option.hateSpeech.subtitle', 'Report comment option description')},{key:D.HARASSMENT,title:e._('Harassment or privacy violations', 'report.comment.option.harassment.title', 'Report comment option'),subtitle:e._('Blackmail, personal attacks or bullying', 'report.comment.option.harassment.subtitle', 'Report comment option description')},{key:D.VIOLENCE,title:e._('Graphic violence', 'report.comment.option.violence.title', 'Report comment option'),subtitle:e._('Threats or promotion of violence', 'report.comment.option.violence.subtitle', 'Report comment option description')}],z=({onReasonSelect:e})=>{let t=(0,y.ZP)();return O(t).map(({key:n,title:i,subtitle:a})=>(0,C.jsx)(s.iP,{onTap:e(n),children:(0,C.jsxs)(s.xu,{display:"flex",justifyContent:"between",paddingY:3,children:[(0,C.jsxs)(s.xu,{children:[(0,C.jsx)(s.X6,{size:"400",children:i}),(0,C.jsx)(s.xv,{color:"subtle",size:"300",children:a})]}),(0,C.jsx)(s.JO,{accessibilityLabel:t._('Arrow Forward', 'reportPinReasonSelection.openUrl.accessibilityLabel', 'Accessibility label on arrow icon'),color:"default",icon:"arrow-forward"})]})},n))},M=e=>({[D.SPAM]:{title:e._('Report spam?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Misleading content or behavior', 'Example of spam', 'Example of spam'),e._('Repetitive posts', 'Example of spam', 'Example of spam'),e._('Unsolicited commercial messages', 'Example of spam', 'Example of spam')]},[D.PORN]:{title:e._('Report a sexual comment?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Graphic sexual descriptions', 'Example of sexual comment', 'Example of sexual comment'),e._('Unsolicited sexual remarks', 'Example of sexual comment', 'Example of sexual comment'),e._('Links to sexual content', 'Example of sexual comment', 'Example of sexual comment')]},[D.SELF_INJURY]:{title:e._('Report this comment?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Encouragement of self-injury, suicide, eating disorders and substance abuse', 'Example of self-injury', 'Example of self-injury'),e._('Buying or selling drugs', 'Example of self-injury', 'Example of self-injury'),e._('Jokes about self-harm', 'Example of self-injury', 'Example of self-injury')],notes:e._('We may send support resources to the person who left this comment.', 'Note on further actions Pinterest may take in the case of self-harm content.', 'Note on further actions Pinterest may take in the case of self-harm content.')},[D.MEDICAL_MISINFORMATION]:{title:e._('Report medical misinformation?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('False cures for cancer or other chronic or terminal illnesses', 'Example of medical misinformation', 'Example of medical misinformation'),e._('Anti-vaccination advice', 'Example of medical misinformation', 'Example of medical misinformation')],nonRemovals:[e._('Diet advice, including cleanses and supplements that can boost the immune system', 'Example of a comment we will not remove', 'Example of a comment we will not remove'),e._('Teas, oils and herbs proposed for aromatic and sleep quality', 'Example of a comment we will not remove', 'Example of a comment we will not remove')]},[D.HATE_SPEECH]:{title:e._('Report hateful speech?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Attacks or slurs directed at protected groups', 'Example of hate speech', 'Example of hate speech'),e._('Support for hate groups and their messages', 'Example of hate speech', 'Example of hate speech'),e._('Denial of someone\u2019s gender or sexual identity', 'Example of hate speech', 'Example of hate speech')]},[D.HARASSMENT]:{title:e._('Report harassment?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Bullying', 'Example of harassment', 'Example of harassment'),e._('Profanity directed at individuals', 'Example of harassment', 'Example of harassment'),e._('Personally identifiable information (even if shared voluntarily)', 'Example of harassment', 'Example of harassment')]},[D.VIOLENCE]:{title:e._('Report graphic violence?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Glorification or promotion of violence', 'Example of violence', 'Example of violence'),e._('Threats of harm', 'Example of violence', 'Example of violence')]}}),N=e=>{let t="policies";switch(e){case D.SPAM:return[D.SPAM,"spamPin"];case D.PORN:return[t,D.PORN];case D.SELF_INJURY:return[t,"hurtfulContent","selfHarm"];case D.HATE_SPEECH:return[t,"hurtfulContent","hateSpeech"];case D.HARASSMENT:return[t,"hurtfulContent","harassingMeOrMyChild"];case D.VIOLENCE:return[t,"gore"];default:return[]}},Z=({commentId:e,onDismiss:t,reason:n})=>{let i=(0,y.ZP)(),{flagAggregatedComment:a,aggregatedCommentHidden:r}=(0,S.nf)(),{showToast:o}=(0,F.F9)(),[d,c]=(0,l.useState)(!1),{title:u,nonRemovals:p,removals:m}=M(i)[n];return(0,C.jsxs)(l.Fragment,{children:[(0,C.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,C.jsx)(s.xu,{paddingY:4,children:(0,C.jsx)(s.X6,{align:"center",children:u})}),(0,C.jsxs)(s.xu,{paddingY:4,children:[(0,C.jsx)(s.xv,{children:i._('We remove things such as', 'comment.report.removeIntro', 'Text introducing the types of comments that get removed')}),(0,C.jsx)(s.xu,{paddingY:2,children:m.map(e=>(0,C.jsxs)(s.xv,{children:[" ",e]},e))})]}),p&&(0,C.jsxs)(s.xu,{paddingY:4,children:[(0,C.jsx)(s.xv,{children:"We don't remove things like"}),(0,C.jsx)(s.xu,{paddingY:2,children:p.map(e=>(0,C.jsxs)(s.xv,{children:[" ",e]},e))})]}),(0,C.jsx)(s.xu,{alignSelf:"center",marginTop:3,children:(0,C.jsx)(s.zx,{color:"red",onClick:()=>{r(e),a({commentId:e,reason:n,detailedReasons:N(n)}).then(()=>{o(({hideToast:e})=>(0,C.jsx)(L.ZP,{onHide:e,text:i._('Thanks! Your feedback helps us improve Pinterest.', 'reportPinReasonDetail.submit.toast', 'Message to user after successfully reporting a pin')})),setTimeout(()=>{t()},3500)})},size:"lg",text:i._('Report', 'reportCommentConfirmation.button.report', 'button to report comment')})})]}),d&&(0,C.jsx)(L.ZP,{duration:3500,onHide:()=>{c(!1)},text:i._('Thanks! Your feedback helps us improve Pinterest', 'comment.report.confirmationToast', 'Toast confirming that user has successfully reported a comment')})]})},B=({commentId:e,isModalOpen:t,onDismiss:n})=>{let i=(0,y.ZP)(),[a,r]=(0,l.useState)(void 0);if((0,l.useEffect)(()=>{t&&r(void 0)},[t]),!e)return null;let{windowHeight:o}=(0,R.Z)();return(0,C.jsx)(h.ZP,{accessibilityModalLabel:"",heading:i._('Report Comment', 'reportComment.heading', 'Heading for report comment page in report comment flow'),isOpen:t,mobileAccessibilityCloseIconLabel:i._('Close', 'commentThreadModal.close', 'Close modal window'),mobileIsSlideUp:!0,onDismiss:n,children:(0,C.jsx)(s.xu,{height:o-90,paddingX:5,paddingY:3,children:a?(0,C.jsx)(Z,{commentId:e,onDismiss:n,reason:a}):(0,C.jsx)(z,{onReasonSelect:e=>()=>{r(e)}})})})};var U=n(386129);let K=({author:e,commentId:t,isMenuOpen:n,isViewingOwnComment:i,onDelete:a,onDismiss:o,openEditComposer:d})=>{let c=(0,y.ZP)(),{isAuth:u}=(0,P.Z)(),p=(0,r.useDispatch)(),{logContextEvent:g}=(0,m.v)(),{aggregatedCommentsHiddenForUser:_}=(0,S.nf)(),[f,b]=(0,l.useState)(!1),v=e=>()=>{g({component:14349,event_type:e})};return(0,C.jsxs)(l.Fragment,{children:[(0,C.jsx)(h.ZP,{accessibilityModalLabel:"",isOpen:n,mobileAccessibilityCloseIconLabel:c._('Close', 'commentOverflowMenu.close', 'Close modal window'),mobileIsSlideUp:!0,onDismiss:()=>o(!1),children:(0,C.jsx)(s.xu,{"data-test-id":"comment-overflow-menu",padding:3,children:(0,C.jsx)(s.kC,{direction:"column",gap:{row:0,column:4},children:u?(0,C.jsx)(l.Fragment,{children:i?(0,C.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,C.jsx)(s.xu,{"data-test-id":"overflow-edit-menu-option",children:(0,C.jsx)(j,{action:d,text:c._('Edit', 'commentOverflowMenu.option.edit', 'Edit comment')})}),(0,C.jsx)(s.xu,{"data-test-id":"overflow-delete-menu-option",children:(0,C.jsx)(j,{action:a(t),text:c._('Delete', 'commentOverflowMenu.option.delete', 'Delete comment')})})]}):(0,C.jsxs)(s.kC,{direction:"column",gap:4,children:[(0,C.jsx)(s.xu,{"data-test-id":"overflow-report-menu-option",children:(0,C.jsx)(j,{action:()=>{b(!0)},text:c._('Report', 'commentOverflowMenu.option.report', 'Report comment')})}),(0,C.jsx)(E.Z,{cancelBlockCallback:v(9408),onBlock:()=>{let{id:t}=e;p((0,U.Ge)({id:t,blockSource:"comment",blockContext:t,logContextEvent:g})),_(t),v(9407)()},onBlockCallback:()=>o(!0),openModalCallback:v(9406),size:"300",user:e})]})}):(0,C.jsx)(s.rU,{href:"https://policy.pinterest.com/de/netzdg/",target:"blank",underline:"none",children:(0,C.jsx)(s.xv,{weight:"bold",children:c._('Report comment for NetzDG', 'commentOverflowMenu.option.reportForNetzDG', 'Report comment - NetzDG')})})})})}),(0,C.jsx)(B,{commentId:t,isModalOpen:f,onDismiss:()=>{b(!1),o(!0)}})]})};var V=n(110155),H=n(848272),G=n(216167),$=n(232518),W=n(930822),q=n(937310),Y=n(800858);let X={height:150,signature:"",url:"",width:150},J=void 0!==i?i:i=n(189783),Q=void 0!==a?a:a=n(442445);function ee({inCommentModuleExp:e,isEligibleForPinReactions:t,isInCommentModule:n,isModalOpen:i,isReactionsExpansionEnabled:a,onDismiss:E,pinId:j,pinKey:R,viewParameter:L}){let F;let{data:D,childDataKey__DEPRECATED:O}=(0,g.sr)(J,R,{type:"pin",useLegacyAdapter:e=>({aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:e.aggregated_pin_data.id??""},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,storyPinData:e.story_pin_data&&{entityId:e.story_pin_data.id??""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}})}),{refetch:z}=(0,_.Z)(Q,{pinId:j},{suspendOnRefetch:!1}),M=(0,y.ZP)(),{isAuth:N}=(0,P.Z)(),Z=(0,x.HG)(),B=(0,P.Z)(),U=(0,S.lV)(),ee=(0,r.useDispatch)(),{checkExperiment:et}=(0,v.F)(),{logContextEvent:en}=(0,m.v)(),ei=(0,l.useRef)(null),[ea,el]=(0,l.useState)(!!n),{removeUnauthCommentPinId:er,unauthCommentPinId:es}=(0,V.C)(),{updateAggregatedComment:eo}=(0,S.nf)(),ed=(0,H.Z)(),ec=(0,d.Z)(),eu=function(){let{aggregatedCommentDeleted:e,updateCommentCount:t}=(0,S.nf)(),n=(0,r.useDispatch)();return async({commentId:i,parentId:a,isReply:l})=>{G.Z.create("AggregatedCommentResource",{commentId:i,pinId:l?void 0:a}).callDelete().then(()=>{e(a,i),l&&t(a,-1),n((0,$.R)(a,-1))})}}(),[ep,em]=(0,l.useState)(""),[eh,eg]=(0,l.useState)(void 0),[e_,ey]=(0,l.useState)(void 0),[ef,eb]=(0,l.useState)(u.A9.NONE),[ev,ex]=(0,l.useState)(!1),[ek,eP]=(0,l.useState)(void 0),[eS,ew]=(0,l.useState)(void 0),[eT,eI]=(0,l.useState)(X),[eA,eE]=(0,l.useState)(""),[eC,ej]=(0,l.useState)([]),[eR,eL]=(0,l.useState)(!!D?.doneByMe),eF=B.isAuth?B.id:null,eD=D?.aggregatedPinData?.entityId,eO=(0,r.useSelector)(e=>(0,Y.Z)(e,eD,U)),ez=M._('Add comment', 'commentComposer.heading.addComment', 'Comment composer title when composing new comment'),eM=()=>{em(ez),el(!0)};(0,k.Z)(()=>{!Z&&B.isAuth&&es&&j&&es===j&&(eM(),er())});let eN="",eZ=(0,l.useMemo)(()=>[],[]);if(eh&&(et("mweb_photo_comment_replies").anyEnabled?"aggregatedcomment"===eh.parentType||"userdiditdata"===eh.parentType:"aggregatedcomment"===eh.parentType)?(eN=`@${eh.user.username} `,eZ=[{length:eh.user.username.length+1,object_id:eh.user.id,offset:0,tag_type:1}]):e_&&(eN=(e_.text||e_.details)??"",eZ=e_.tags,F=e_.images?e_.images[0]["150x150"]:void 0),(0,l.useEffect)(()=>{ej(eZ),eE(eN)},[eZ,eN,eh]),!D)return null;let eB=e=>{let t=et("mweb_foundation_open_editor").anyEnabled;(t?e:!el)||(el(!1),eg(void 0)),n&&E(),ey(void 0),eI(X)},eU=e=>{ex(!1),e||en({component:14349,event_type:10128})},eK=()=>{eB(!e_),eU(!0)},eV=async(e,t,n)=>{let i;if(e_)"userdiditdata"===e_.type?(ee((0,W.IU)({id:e_.id,details:e,pinId:j??"",image_signatures:e_.image_signatures??[]})),eK()):i=eo({commentId:e_.id,force:n,text:e,tags:"[]"});else if(j){let a=eh?.parentType==="aggregatedcomment",l=eh?.parentType?.toLowerCase()===w.n.didIt,r=a||l?eh?.parentId:eh?.id||D.aggregatedPinData?.entityId,s=eh?.type==="userdiditdata",o=s||l?w.o.didIt:w.o.aggregatedComment;if(r){if(eT.signature){let t={aggregatedPinDataId:r,details:e,image_signatures:eT.signature,pin_id:j??"",username:B.username||"",fromUnifiedComment:!0};await ee((0,W.DD)(t)),eL(!0),z(),eK()}else i=et("mweb_photo_comment_replies").anyEnabled?ec({force:n,fromUnifiedComment:!0,objectId:r,pinId:j,objectType:eh?o:w.o.pin,text:e,tags:JSON.stringify(t),replyToCommentId:a||l?eh?.id:void 0}):ed({force:n,parentId:r,pinId:j,text:e,tags:JSON.stringify(t),isReply:!!eh,replyToCommentId:a?eh?.id:null})}}if(!i)return!0;try{await i,z(),eK()}catch(e){return[b.ky,b.LJ].includes(e.api_error_code)&&eb(e.api_error_code===b.ky?u.A9.WARNING:u.A9.BLOCK),!1}return!0},eH=()=>{eb(u.A9.NONE)},eG=({photoHeight:e,photoUrl:t,photoWidth:n,photoSignature:i})=>{eI({height:e,url:t,signature:i,width:n})},e$=(D.aggregatedPinData?.commentCount??0)+(D.aggregatedPinData?.didItData?.imagesCount??0),eW=!!D.storyPinData?.entityId;return(0,C.jsxs)(s.xu,{children:[(0,C.jsx)(h.ZP,{accessibilityModalLabel:"",heading:!a&&M._('Comments', 'commentThreadModal.heading', 'Comment thread'),isOpen:i,mobileAccessibilityCloseIconLabel:M._('Close', 'commentThreadModal.close', 'Close modal window'),mobileHideCloseIcon:a,mobileIsSlideUp:!0,onDismiss:E,children:(0,C.jsx)(T.Z,{viewParameter:L,viewType:98,children:(0,C.jsxs)(s.kC,{alignContent:"stretch",alignItems:"stretch",dataTestId:"comment-modal-container",direction:"column",height:"75vh",justifyContent:"start",children:[a&&(0,C.jsx)(c.Z,{aggregatedPinDataId:D.aggregatedPinData?.entityId,commentCount:e$,commentsDisabled:D.commentsDisabled,inCommentModuleExp:e,isEligibleForPinReactions:t,nativePinType:eW&&"storyPin"||D.videos?.videoList&&"video"||"image",onCancel:E,pinUid:j,shouldUseGraphQL:"graphqlRef"===O.type}),(0,C.jsx)(s.xu,{ref:ei,display:"flex",flex:"grow",minHeight:128,overflow:"scrollY",paddingX:4,paddingY:6,children:(0,C.jsx)(I.Z,{disablePhotoCommentSelection:eR,isComposingNewComment:ea,isReadOnly:!N,openMwebOverflowMenu:e=>{ex(!0),eP(e.id),ew(e.user)},pinId:j,pinKey:O,scrollContainer:ei.current,setIsComposingNewComment:el,toggleComposerForReply:(e,t,n)=>{if(e){let{user:{first_name:i,full_name:a,username:l}}=e;em((0,f.nk)(M._('Reply to {{ name }}', 'commentComposer.heading.replyTo', 'Comment composer title when reply to comment'),{name:i||a||l}).join("")),e.parentId=t,e.parentType=n}eg(e)},viewParameter:L})}),!D.commentsDisabled&&N&&(0,C.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderTop:`1px solid ${o.mJW}`}},paddingX:4,paddingY:4,children:(0,C.jsx)(p.Z,{commentWarningModalState:u.A9.NONE,disablePhotoCommentSelection:eR,dismissCommentWarningModal:()=>{},handlePhotoSelect:eG,inCommentModuleExp:e,objectType:w.o.pin,onEnter:eM,statusType:"textStaticDisplay",viewParameter:L})}),!Z&&(0,C.jsx)(A.Z,{commentWarningModalState:ef,defaultText:eA,disablePhotoCommentSelection:eR,dismissCommentWarningModal:eH,handlePhotoSelect:eG,heading:ep,initialMentions:eC,isCommentEdit:!!e_,isCommentReply:!!eh,isModalOpen:!!ea||!!eh||!!e_,onDismiss:eB,onPost:eV,postedPhoto:F,setInitialComposerMentions:ej,setInitialComposerText:eE,uploadedPhotoProperties:eT}),ek&&!!eS&&(0,C.jsx)(K,{author:eS,commentId:ek,isMenuOpen:ev,isViewingOwnComment:eS.id===eF,onDelete:e=>()=>{let t=D.aggregatedPinData?.entityId,n=eO.find(e=>e.id===ek),i=n??U[ek??""];try{t&&("aggregatedcomment"===i.type?eu({commentId:e,parentId:j,isReply:!n}).then(()=>{eU(!0)}):ee((0,W.lg)({aggregatedPinDataId:t??"",feedType:q.Z.UNIFIED_COMMENTS,id:e,isOwnedByMe:!0,pinId:j??"",username:i.user.username,updateParentDidItCount:!0})),eL(!1),z(),eU(!0))}catch(e){}},onDismiss:eU,openEditComposer:()=>{let e=eO.find(e=>e.id===ek),t=e??U[ek??""];t&&(em(M._('Edit comment', 'commentComposer.heading.editComment', 'Comment composer title when editing own comment')),ey(t))}})]})})}),!Z&&n&&(0,C.jsx)(A.Z,{commentWarningModalState:ef,defaultText:eA,disablePhotoCommentSelection:eR,dismissCommentWarningModal:eH,handlePhotoSelect:eG,heading:ez,initialMentions:eC,isCommentEdit:!!e_,isCommentReply:!!eh,isInCommentModule:n,isModalOpen:!!ea||!!eh||!!e_,onDismiss:eB,onPost:eV,postedPhoto:F,setInitialComposerMentions:ej,setInitialComposerText:eE,uploadedPhotoProperties:eT})]})}},405510:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var i,a=n(667294);n(167912);var l=n(616550),r=n(883119),s=n(587703),o=n(696534),d=n(333739),c=n(140017),u=n(340523),p=n(623409),m=n(149722),h=n(256661),g=n(205148),_=n(771981),y=n(785893);function f({color:e}){return(0,y.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyMiAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS4wMDAyIDJDNS45Mzc2NiAyIDEuODMzNSA2LjEwNDE3IDEuODMzNSAxMS4xNjY3QzEuODMzNSAxMy4zNjMzIDIuNjA4NSAxNS4zNzgzIDMuODk2ODMgMTYuOTU3NUwyLjY4MDE2IDIxLjQ4MDhDMi41OTEgMjEuODM3NSAyLjk3MTgzIDIyLjEyNTggMy4yOTEgMjEuOTQ0Mkw3LjUyNTE2IDE5LjY0NzVDOC41OTc2NiAyMC4wODY3IDkuNzY5MzMgMjAuMzMzMyAxMS4wMDAyIDIwLjMzMzNDMTYuMDYyNyAyMC4zMzMzIDIwLjE2NjggMTYuMjI5MiAyMC4xNjY4IDExLjE2NjdDMjAuMTY2OCA2LjEwNDE3IDE2LjA2MjcgMiAxMS4wMDAyIDJaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==")',WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",background:e}},"data-test-id":"comment-button-container",display:"flex",justifyContent:"center",minHeight:_.CR,minWidth:_.CR,position:"relative"})}var b=n(110155);let v=void 0!==i?i:i=n(524072);function x({inCommentModuleExp:e,isEligibleForPinReactions:t,pinId:n,pinKey:i,viewParameter:x}){let{data:k,childDataKey__DEPRECATED:P}=(0,d.sr)(v,i,{type:"pin",useLegacyAdapter:e=>({videos:e.videos&&{entityId:e.videos.id||""}})}),S=(0,o.vs)(),w=(0,c.ZP)(),{checkExperiment:T}=(0,u.F)(),I=(0,s.Z)(),{comment_id:A}=(0,l.UO)(),{unauthCommentPinId:E}=(0,b.C)(),{isStoryPin:C,shouldRenderAsStoryPin:j}=(0,h.R)(),{isAuth:R}=(0,m.Z)(),L=(0,p.Z)(),[F,D]=(0,a.useState)(!!A||R&&!!E&&!!n&&E===n);if(!k)return null;let{anyEnabled:O}=T(`${R?"auth":"unauth"}_mweb_reactions_expansion_mvp_${k.videos?.entityId||C?"idea_video":"web"}_pin`),z=j||S;return(0,y.jsx)(a.Fragment,{children:(0,y.jsxs)(r.xu,{"data-test-id":"comment-button",children:[(0,y.jsx)(r.iP,{accessibilityLabel:w._('comments', 'closeup.storyPin.actionBar.commentThread', 'Comments entry point'),onTap:()=>{R||L({action:"click",item:"comment-button"}),I({event_type:102,element:2,view_type:3}),I({component:C?13801:13464,element:C?10944:2,event_type:10554,view_type:C?1:3}),D(!0)},children:O?(0,y.jsx)(r.xu,{alignItems:"center","data-test-id":"comment-button-container",display:"flex",justifyContent:"center",minHeight:_.CR,minWidth:_.CR,position:"relative",children:(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(r.xu,{position:"absolute",children:(0,y.jsx)(r.JO,{accessibilityLabel:"",color:z?"light":"dark",icon:"speech",size:24})}),(0,y.jsx)(r.xu,{position:"absolute",children:(0,y.jsx)(r.JO,{accessibilityLabel:"",color:z?"dark":"light",icon:"heart",size:10})})]})}):(0,y.jsx)(f,{color:z?"white":"black"})}),F&&(0,y.jsx)(g.default,{inCommentModuleExp:e,isEligibleForPinReactions:t,isModalOpen:!0,isReactionsExpansionEnabled:O,onDismiss:()=>{D(!1)},pinId:n,pinKey:P,viewParameter:x})]})})}},110155:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,p:()=>o});var i=n(667294),a=n(342513),l=n(785893);let{Provider:r,useHook:s}=(0,a.Z)("Session");function o({children:e}){let[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)(()=>n(void 0),[]),s=(0,i.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:a}),[t,a]);return(0,l.jsx)(r,{value:s,children:e})}},557403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),l=n(214877),r=n(930837),s=n(140017),o=n(340523),d=n(608516),c=n(785893);let u=(0,i.lazy)(()=>Promise.all([n.e(72586),n.e(46888),n.e(24432),n.e(92848)]).then(n.bind(n,692848))),p=({commentWarningModalState:e,defaultText:t,disablePhotoCommentSelection:n,dismissCommentWarningModal:p,handlePhotoSelect:m,heading:h,initialMentions:g,isCommentEdit:_,isCommentReply:y,isInCommentModule:f,isModalOpen:b,onDismiss:v,onPost:x,placeholder:k,setInitialComposerMentions:P,setInitialComposerText:S,uploadedPhotoProperties:w,postedPhoto:T})=>{let I=(0,s.ZP)(),{logContextEvent:A}=(0,l.v)(),{checkExperiment:E}=(0,o.F)(),[C,j]=(0,i.useState)({mentions:[],text:""}),R=document.body?.style,L=E("mweb_foundation_scroll_lock").anyEnabled;(0,i.useEffect)(()=>{if(b){A({component:14348,event_type:8983});let e=document.getElementById("hiddenInput");e&&(e.style.visibility="visible",e.focus(),setTimeout(()=>{e.style.visibility="hidden"},1e3))}},[b,A]),(0,i.useEffect)(()=>(R&&L&&(R.position="fixed"),()=>{R&&L&&(R.position="unset")}),[R,L]);let F=(0,c.jsx)(a.xv,{align:"center",size:"300",weight:"bold",children:h});return(0,c.jsx)(r.ZP,{accessibilityModalLabel:"",heading:F,isOpen:b,mobileAccessibilityCloseIconLabel:I._('Close', 'commentComposer.close', 'Close comment composer'),mobileIsSlideUp:!f,onDismiss:()=>{A({component:14348,event_type:8985}),P&&S&&(P(C.mentions),S(C.text)),v()},children:(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsx)(d.Z,{children:(0,c.jsx)(u,{defaultText:t,disablePhotoCommentSelection:n,dismissCommentWarningModal:p,handlePhotoSelect:m,initialMentions:g,isCommentEdit:!!_,isCommentReply:!!y,onPost:(e,t,n)=>()=>{A({component:14348,event_type:8984}),x(e,t,n)},placeholder:k,postedPhoto:T,setComposerObjects:j,uploadedPhotoProperties:w,warningModalState:e})})})})}},848272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(702664),a=n(216167),l=n(415199),r=n(64819),s=n(937310);function o(){let e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,l.nf)();return async({force:i,parentId:l,pinId:o,text:d,tags:c,isReply:u,replyToCommentId:p})=>a.Z.create(u?"AggregatedCommentReplyResource":"AggregatedCommentResource",{force:i,objectId:l,pinId:o,tags:c,text:d,replyToCommentId:p}).callCreate().then(i=>{let a=i.resource_response.data;t(l,a),e((0,r.vX)({feedType:u?s.Z.AGGREGATED_COMMENT_REPLIES:s.Z.UNIFIED_COMMENTS,feedId:l,itemIds:[a.id],itemType:a.type})),u&&n(l,1)})}},282778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(667294),a=n(240684),l=n(883119),r=n(140017),s=n(862249),o=n(983983),d=n(785893);let c=new l.Ry(o.fe),u=new l.H3([c]),p=new l.H3([u]),m={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},h={width:540,height:363},g={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},_={width:320,height:215},y=(0,a.ZP)({resolved:{},chunkName:()=>"app-www-video-VideoWrapper",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93041),n.e(95813)]).then(n.bind(n,131348)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>131348}),f=e=>{let{isMobile:t,image:n,video:i,handleDismiss:a,title:s}=e,o=(0,r.ZP)(),c=t?g:m,u=t?_:h,f=(0,d.jsx)(l.xu,{display:"flex",justifyContent:t?"start":"end",margin:c.closeButtonMargin,position:"absolute",width:u.width-2*c.modalMargin,zIndex:p,children:(0,d.jsx)(l.hU,{accessibilityLabel:o._('Dismiss', 'experiences.ExperienceModalWindow.modalDismissIconButton', 'Accessibility lable for the X icon button to dismiss the modal window'),icon:"cancel",iconColor:"darkGray",onClick:a,size:"sm"})}),b=n?n.imageAlt:s,v=n?n.url:i?.metadata?.thumbnail,x=n?.dominantColor?.length===3?`rgb(${n.dominantColor[0]}, ${n.dominantColor[1]}, ${n.dominantColor[2]})`:"rgb(111, 91, 77)",k=u.width/u.height,P={width:u.width,height:u.height};n&&n.width&&n.height?(k=n.width/n.height,P={width:n.width,height:n.height}):i&&i.metadata.width&&i.metadata.height&&(k=i.metadata.width/i.metadata.height,P={width:i.metadata.width,height:i.metadata.height});let S=v&&(0,d.jsx)(l.Ee,{alt:b||"",color:x,fit:"cover",naturalHeight:P.height,naturalWidth:P.width,src:v}),w=Math.trunc(u.width/k);return(0,d.jsxs)(l.xu,{bottom:!0,height:w,left:!0,overflow:"hidden",right:!0,top:!0,width:u.width,children:[f,n&&S,i&&(0,d.jsx)(y,{aspectRatio:k,captions:"",controls:!1,fallback:S,isAutoPlay:!0,loop:!0,objectFit:"cover",onPlay:()=>{},onPlayError:()=>{},playing:!0,playsInline:!0,poster:n?.url||i.metadata.thumbnail,src:i.url,volume:0})]})};function b(e){let{displayData:t,handleComplete:n,handleDismiss:a,isMobile:r}=e,{video:o,image:c,title:u,body:p,completeButton:h,dismissButton:_}=t,y=r?"center":"start",b=(0,s.Z)({url:h.url});return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(f,{handleDismiss:a,image:c,isMobile:r,title:u,video:o}),(0,d.jsxs)(l.xu,{direction:"column",display:"flex",justifyContent:"center",margin:(r?g:m).gestaltModalMargin,children:[(0,d.jsx)(l.X6,{align:y,children:u}),(0,d.jsx)(l.xu,{marginBottom:4,marginTop:2,children:(0,d.jsx)(l.xv,{align:y,children:p})}),(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:r?"center":"end",margin:-1,children:[_&&!_.hideDismissButton&&(0,d.jsx)(l.xu,{fit:!0,flex:r?"grow":"none",minWidth:r?130:void 0,padding:1,children:(0,d.jsx)(l.zx,{color:"gray",fullWidth:r,onClick:a,size:"lg",text:_.text})}),h&&(0,d.jsx)(l.xu,{fit:!0,flex:r?"grow":"none",minWidth:r?130:void 0,padding:1,children:h.url?(0,d.jsx)(l.ZP,{color:"red",fullWidth:r,href:h.url,onClick:()=>n(),rel:b?"nofollow":"none",size:"lg",text:h.text}):(0,d.jsx)(l.zx,{color:"red",fullWidth:r,onClick:()=>n(),size:"lg",text:h.text})})]})]})]})}},920572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(401429),a=n(667294),l=n(883119),r=n(406893),s=n(444781),o=n(887582),d=n(325362),c=n(40432),u=n(696534),p=n(340370),m=n(460270),h=n(862249),g=n(785893);let _=40,y={lightMode:{backgroundColor:c.x_d,color:"#FFFFFF"},darkMode:{backgroundColor:c.x_d,color:"#FFFFFF"}},f={lightMode:{backgroundColor:"#EFEFEF",color:"#111111"},darkMode:{backgroundColor:"#292929",color:"#EFEFEF"}},b=({color:e,isPrimary:t,shape:n,text:i,textColor:a})=>{let r=(0,u.Yc)()?"darkMode":"lightMode",s=(t?y:f)[r];return(0,g.jsx)(l.xv,{align:"center",weight:"bold",children:(0,g.jsx)("div",{className:t?"banner-button-primary":"banner-button-secondary",style:{backgroundColor:e||s.backgroundColor,borderRadius:"pill"===n?"24px":"4px",color:a||s.color,padding:"10px 14px"},children:i})})},v=({external:e,onTouch:t,pressState:n,to:i,accessibilityLabel:a,color:r,isPrimary:s,textColor:o,minHeight:d=_,shape:c,text:u})=>{let y=(0,m.Z)(i),f=(0,p.Z)({externalData:{dangerouslyForceOffsiteUrl:e},href:y});return(0,g.jsx)(l.xu,{"aria-label":a,minHeight:d,children:y?(0,g.jsx)(l.Tg,{href:y,onTap:({event:e})=>{t?.(e),e.defaultPrevented||f({event:e})},rel:(0,h.Z)({url:y})?"nofollow":"none",rounding:"pill"===c?"pill":2,tapStyle:n||"none",target:"blank",children:(0,g.jsx)(b,{color:r,isPrimary:s,shape:c,text:u,textColor:o})}):(0,g.jsx)(l.iP,{onTap:({event:e})=>t?.(e),rounding:"pill"===c?"pill":2,tapStyle:n||"none",children:(0,g.jsx)(b,{color:r,isPrimary:s,shape:c,text:u,textColor:o})})})};function x(e){return e.startsWith("https://")||e.startsWith("http://")}let k=function({experience:e,onComplete:t,onDismiss:n}){let{display_data:i={},experience_id:c,placement_id:u}=e||{},p=(0,a.useMemo)(()=>(0,s.Z)(d.Z)(i),[i]),{backgroundColorNarrowMweb:m,backgroundColorWideMweb:h,backgroundImageNarrow:_,backgroundImageWide:y,button1ColorNarrowMweb:f,button1ColorWideMweb:b,button1TextColorNarrowMweb:k,button1TextColorWideMweb:P,button1Text:S,button1Uri:w,button2ColorNarrowMweb:T,button2ColorWideMweb:I,button2TextColorNarrowMweb:A,button2TextColorWideMweb:E,button2Text:C,button2Uri:j,completeButtonAction:R,coverImage:L,detailedTextWithLinks:F,iconImage:D,layoutNarrow:O,layoutWide:z,links:M,linkTitles:N,primaryColorNarrowMweb:Z,primaryColorWideMweb:B,titleText:U}=p,{windowWidth:K}=(0,o.Z)(),V=K<=480,H=V?O:z,G=!V&&3!==H,$=V?Z:B,{altText:W,uri:q}=(V?_:y)||{},{altText:Y,uri:X}=L||{},{altText:J,uri:Q}=D||{},ee=V&&2===H||!V&&2===H,et=V?"96px":"48px",en=V&&3===H,ei=e=>{!e&&u&&c&&n&&n()},ea=e=>{t&&t(e)},el=S&&(0,g.jsx)(l.xu,{marginEnd:2,children:(0,g.jsx)(v,{accessibilityLabel:S,color:V?f:b,external:w?x(w):void 0,onTouch:()=>ei(w),shape:"pill",text:S,textColor:V?k:P,to:w})}),er=C&&(0,g.jsx)(v,{accessibilityLabel:C,color:V?T:I,external:j?x(j):void 0,isPrimary:!0,onTouch:()=>ea(R),shape:"pill",text:C,textColor:V?A:E,to:j}),es=M.reduce((e,t,n)=>{let i=x(t)?'rel="noreferrer noopener" target="_blank"':"",a=`<a href="${t}" ${i}>${N[n]}</a>`;return e.replace(`{${n}}`,a)},F),eo={backgroundImage:!q||ee||en?void 0:`url(${q})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:V?m:h,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},marginBottom:1,rounding:4,children:(0,g.jsxs)(l.zd,{rounding:4,children:[en&&X&&(0,g.jsx)(l.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,g.jsx)(l.Ee,{alt:Y||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:X})}),(0,g.jsxs)(l.xu,{alignItems:"center","aria-label":W,dangerouslySetInlineStyle:{__style:eo},direction:G?"row":"column",display:"flex",justifyContent:"between",marginTop:en?-2:0,padding:6,children:[(0,g.jsxs)(l.kC,{alignItems:"center",direction:G?"row":"column",justifyContent:"between",maxWidth:G?void 0:"560px",children:[ee&&Q&&(0,g.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:G?0:6,marginEnd:G?4:0,children:(0,g.jsx)(l.xu,{height:et,width:et,children:(0,g.jsx)(l.zd,{rounding:G?4:6,children:(0,g.jsx)(l.Ee,{alt:J||"icon",naturalHeight:1,naturalWidth:1,src:Q})})})}),!G&&U&&(0,g.jsx)(l.xv,{align:"center",weight:"bold",children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:$,fontSize:"20px"}},marginBottom:2,children:U})}),F&&(0,g.jsxs)(l.xv,{align:G?"start":"center",overflow:"normal",children:[(0,g.jsx)(r.Z,{unsafeCSS:`
                      .nag-text a {
                        color: ${$||""};
                        font-weight: bold;
                      }`}),(0,g.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:es},style:{color:$}})]})]}),(el||er)&&(0,g.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:G?0:-1,marginStart:G?4:0,marginTop:G?0:4,wrap:!G,children:[el,er]})]})]})})},P=({experience:e={}})=>(0,g.jsx)(i.Z,{experience:e,predicate:e=>e&&e.display_data&&1===e.display_data.component_type,children:({complete:e,dismiss:t,experience:n})=>(0,g.jsx)(k,{experience:n,onComplete:e,onDismiss:t})})},702499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),l=n(25919),r=n(401429),s=n(785893);let o=[502321,502322];class d extends i.Component{componentDidMount(){let{experience:e,completeExperience:t}=this.props;e&&o.includes(e.experience_id)&&t(e.placement_id,e.experience_id,!0)}render(){return(0,s.jsx)(r.Z,{eligibleIds:o,experience:this.props.experience,children:(0,s.jsx)("span",{})})}}function c(e){let t=(0,a.useDispatch)(),n=(0,l.be)();return(0,s.jsx)(d,{...e,completeExperience:(e,i,a)=>t(n(e,i,a))})}},718423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),l=n(883119),r=n(25919),s=n(401429),o=n(490166),d=n(785893);function c(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),c(this,"handleDismiss",()=>{let{onClickDismiss:e,dismissExperience:t,experience:n}=this.props;if(!n)return;let{experience_id:i,placement_id:a}=n;t(a,i),e&&e()}),c(this,"wrapperRef",(0,i.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}componentDidUpdate(e){this.props.experience&&e.experience!==this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){let{experience:e}=this.props;if(!e)return;let{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){let e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;let n=e.current.getBoundingClientRect(),{height:i,width:a}=n;return(0,d.jsx)(o.Z,{pressState:"none",children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-(68+i/2),marginLeft:-(68-a/2),pointerEvents:"none"}},position:"absolute",zIndex:new l.Ry(1),children:(0,d.jsx)(l.o3,{paused:t,size:136})})})}render(){let{children:e,color:t,eligibleIds:n,experience:i,idealDirection:a,onClickComplete:r,showCaret:o,size:c,textWeight:u="bold",textAlign:p,textOverflow:m,fontSize:h}=this.props,{showPulsar:g,hasMounted:_}=this.state;if(!i||!n.includes(i.experience_id)||!_)return e({experience:i});let{display_data:{scroll_to_dismiss:y,scroll_to_dismiss_delay_in_seconds:f=0,...b}}=i;return(0,d.jsx)(s.Z,{eligibleIds:n,experience:i,children:({complete:n})=>{let s=()=>(_(),setTimeout(this.handleDismiss,1e3*f)),_=()=>{y&&(window.removeEventListener("scroll",s),window.removeEventListener("touchmove",s))};y&&(window.addEventListener("scroll",s),window.addEventListener("touchmove",s));let v=()=>{_(),n(1)};return(0,d.jsxs)(l.xu,{ref:this.wrapperRef,children:[e({experience:i}),g?this.renderPulsar():b.has_tooltip&&(0,d.jsx)(l.J2,{_deprecatedShowCaret:o,anchor:this.wrapperRef.current,color:"blue"===t?"deprecatedBlue":t,idealDirection:a||"down",onDismiss:this.handleDismiss,size:c,children:(0,d.jsx)(l.xu,{padding:3,children:(0,d.jsxs)(l.kC,{direction:"column",gap:{row:0,column:3},children:[(0,d.jsx)(l.xu,{column:12,children:(0,d.jsxs)(l.xv,{align:"right"===p?"end":p,color:"inverse",overflow:m,size:h,weight:u||"bold",children:[b.text,b.secondary_cta_link&&(0,d.jsx)(l.xu,{display:"inlineBlock",marginStart:1,children:(0,d.jsx)(l.xv,{color:"inverse",size:h,weight:"bold",children:(0,d.jsx)(l.rU,{display:"inlineBlock",href:b.secondary_cta_link.url,target:"blank",underline:"hover",children:b.secondary_cta_link.text})})})]})}),b.complete_button_text&&(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:b.complete_button_text&&(0,d.jsx)(l.kC,{alignContent:"center",children:(0,d.jsx)(l.zx,{color:"white",onClick:()=>{v(),r&&r()},size:"md",text:b.complete_button_text})})})]})})})]})}})}}function p(e){let t=(0,a.useDispatch)(),n=(0,r.be)(),i=(0,r.Am)();return(0,d.jsx)(u,{...e,completeExperience:(e,i)=>t(n(e,i)),dismissExperience:(e,n)=>t(i(e,n))})}},622155:(e,t,n)=>{"use strict";n.d(t,{_l:()=>b,cO:()=>f,t2:()=>v,w2:()=>x,xM:()=>y});var i=n(667294),a=n(616550),l=n(216167),r=n(96157),s=n(624797),o=n(554786),d=n(149722),c=n(785893);let u="UnauthDesktopSocialPinLandingPageContext",p="AthDesktopSocialPinLandingPageContext",m="AuthMobileSocialPinLandingPageContext",h=(0,i.createContext)(),g=({children:e})=>{let[t,n]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:n,hasSeenAuthDesktopLandingToast:a,setHasSeenAuthDesktopLandingToast:l}),[t,n,a,l]);return(0,c.jsx)(h.Provider,{value:r,children:e})},_=(0,i.createContext)({key:"",data:null}),y=({children:e})=>{let t=(0,a.TH)(),n=(0,d.Z)(),h=n&&n.isAuth,y=(0,o.HG)(),f=(0,i.useRef)((0,r.fY)(t)&&(0,s.mB)(t.search).invite_code||null),b=(0,a.LX)(t.pathname,{path:"/pin/:id"}),v=b&&b.params.id||"",[x,k]=(0,i.useState)({key:"",data:null});return(0,i.useEffect)(()=>{(async function(){let e=f.current;if(e)try{let t=l.Z.create("InviteCodeMetadataResource",{invite_code:e}),i=await t.callGet(),a=i.resource_response.data;if(a){let e=a.sender??null,t=h&&e.id!==n.id&&e?.should_show_messaging&&n.should_show_messaging;!h&&y?k({key:u,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(a.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):t&&!y?k({key:m,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:v}}}}):t&&y&&k({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:v}}}})}else k({key:"",data:null})}catch{k({key:"",data:null})}})()},[h,y,n.id,v,n.should_show_messaging]),(0,c.jsx)(g,{children:(0,c.jsx)(_.Provider,{value:x,children:e})})},f=()=>{let e=(0,i.useContext)(_);return e.key===u?e:null},b=()=>{let e=(0,i.useContext)(_);return e.key===m?e:null},v=()=>{let e=(0,i.useContext)(_);return e.key===p?e:null},x=()=>(0,i.useContext)(h)},61714:(e,t,n)=>{"use strict";function i({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:i}){if(i){let a={pin_is_shop_the_look:i.includes(2),pin_show_pdp:e||t||n,is_available:i.includes(1),is_product_pin_v2:i.includes(5),is_rich_product_pin:i.includes(6)};return JSON.stringify(a)}}n.d(t,{Z:()=>i})},638365:(e,t,n)=>{"use strict";function i(e,t){return e||`${t||""}~0`}n.d(t,{Z:()=>i})},425712:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s}),n(167912);var i,a=n(333739),l=n(61714);let r=void 0!==i?i:i=n(544560);function s(e){let{data:t}=(0,a.sr)(r,e,{type:"pin",useLegacyAdapter:e=>({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,shoppingFlags:e.shopping_flags})});return t?(0,l.Z)({isEligibleForPdp:t.isEligibleForPdp,isOosProduct:t.isOosProduct,isStaleProduct:t.isStaleProduct,pinShoppingFlags:t.shoppingFlags}):null}},669177:(e,t,n)=>{"use strict";n.d(t,{G3:()=>c,Rp:()=>d,kp:()=>s});var i=n(188349),a=n(191313),l=n(573810);let r=14*i.F4,s=(e,t)=>{let n=function(){let e=Date.now(),t=Number((0,a.qn)("appUpsell")),n=Number((0,a.qn)("firstUpsellTime")),i=!!(0,l.qn)("showedAppUpsellCurrentSession");return{currentTime:e,firstUpsellTime:n,lastUpsellTime:t,showedAppUpsellCurrentSession:i}}();return e?function(e,t,n){let{currentTime:i,firstUpsellTime:l,lastUpsellTime:s,showedAppUpsellCurrentSession:o}=e;return(n=n||r,!l||i<l+t)?!o:i-s>n&&((0,a.L_)("firstUpsellTime"),!0)}(n,i.F4):function(e,t){let{currentTime:n,lastUpsellTime:i}=e;return t=t||r,!i||n-i>t}(n,t)},o=e=>{e=e.toLowerCase();let t=e.match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},d=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&7>parseFloat(o(n))}catch(e){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},407053:(e,t,n)=>{"use strict";n.d(t,{AA:()=>l,E9:()=>y,EU:()=>v,IO:()=>b,KH:()=>c,Lg:()=>m,QR:()=>d,Uw:()=>a,ZR:()=>x,dx:()=>h,dy:()=>o,eA:()=>p,eV:()=>g,fo:()=>_,k7:()=>r,rT:()=>f,tz:()=>u,u9:()=>k,zR:()=>s,zu:()=>i});let i="OPEN_UNAUTH",a="openUnauthType",l="_isAfterLogin",r="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",o="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,m="_inviteCodeRedemption",h="_inviteCodeRedemptionList",g="_paidTrafficLand",_="_unauthReferrerString",y="unauthTopicsFollowed",f=["US","CA","NZ","AU"],b=new Set(["GB","IE"]),v=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),x=new Set(["BR","MX","AR","CL","CO","PE"]),k="ad_img"},758939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(729817),a=n(217058);async function l(e){let t=await (0,i.Kw)(),n=t?{user_ids:Object.keys(t)}:{};(0,a.tj)(`mweb_multiple_accounts_${e}`,n)}},373236:(e,t,n)=>{"use strict";n.d(t,{eN:()=>d,_:()=>u,kB:()=>c});var i=n(702497),a=n(624797),l=n(616550);let r=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],s=(e,t)=>{let n=new URL(e,t);return r.some(e=>!!(0,l.LX)(n.pathname,{path:e,exact:!0}))};var o=n(953565);let d=e=>e&&(0,a.Qg)(e)&&i.lfe!==e?(0,a.Qc)(e).relative:"/",c=(e,t)=>{let n=(0,a.Jx)(e);return s(n,t)||(0,a.OM)(n)===a.vx.TRUSTED_DIFFERENT_ORIGIN},u=({forceFullPageNavigation:e,history:t,next:n,noLocationReplace:i,origin:l})=>{let r=(0,a.Jx)(n);c(n,l)||!t||e?(e&&(0,o.nP)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(r)):i?t.push(d(r)):t.replace(d(r))}},156652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(953565);let a=e=>{(0,i.nP)(`closeup.image.clicked.${e}`,{sampleRate:1,tags:{platform:"mobile"}})}},323294:(e,t,n)=>{"use strict";n.d(t,{AH:()=>d,CK:()=>o,Fc:()=>r,Wj:()=>l,Xe:()=>a,kb:()=>s,wS:()=>i});let i=(e,t,n,i)=>t||(e?e.official_user:n||i);function a({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:n,pinDomain:i,sourceUserUsername:a,sourceUserFullName:l}){return!t&&(e||n)&&a?{pinCreditLink:`/${a}/`,pinCredit:l}:{pinCreditLink:void 0,pinCredit:!t&&e?i:""}}let l=({i18n:e,hasLinkDomain:t,hasRichMetadataArticle:n,hasRichMetadataRecipeCategorizedIngredients:i,hasRichMetadataTutorial:a,richMetadataRecipeFromAggregatedData:l})=>(!t||l)&&e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation')||a&&e._('Saved from ', 'pin annotation', 'pin annotation')||i&&e._('Recipe from ', 'pin annotation', 'pin annotation')||n&&e._('Article from ', 'pin annotation', 'pin annotation')||e._('From ', 'Closeup pin annotation', 'Closeup pin annotation');function r({i18n:e,hasRichMetadataProductOfferSummary:t,richMetadataProductName:n,richSummaryProductName:i,hasRichSummaryProductOfferSummary:a}){return t&&n||!t&&i&&a?e._('Product sold by ', 'pin annotation', 'pin annotation'):""}let s=({hasLinkDomain:e,richMetadata:t,richSummary:n})=>e&&!t?.recipe?.fromAggregatedData&&t?.products&&t.products[0]&&t.products[0].name&&t.products[0].offerSummary?t.products[0].offerSummary:n?.products&&n.products[0]&&n.products[0].name&&n.products[0].offerSummary?n.products[0].offerSummary:void 0,o=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140,d=e=>!!e&&!e.startsWith("https://i.pinimg.com")},838458:(e,t,n)=>{"use strict";n.d(t,{J:()=>l,f:()=>r});var i=n(782677),a=n(539426);let l=(e,{bookmark:t,options:n,schema:i})=>{let l=i||a.Z[e];return"function"==typeof l?l({resource:e,options:n,bookmark:t}):l};function r({data:e,opts:{bookmark:t,options:n,schema:a},resource:r}){let s=l(r,{bookmark:t,options:n,schema:a}),o=s&&e?(0,i.Fv)(e,s):null;return{normalizedResponse:o,resourceSchema:s}}},508868:(e,t,n)=>{"use strict";function i(e){return!!e.key}n.d(t,{Z:()=>i})},851690:(e,t,n)=>{"use strict";let i;n.d(t,{XK:()=>o,jC:()=>s,yd:()=>d});var a=n(287434);let l=null,r=null,s=(i=null,e=>{if(e&&!i){let t={...e,time:(0,a.Z)()};return i={...t,event_type:12},r?.logContextEvent(i),l?.storeClickthroughProperties(t),12}if(!e&&i){let e={...i,event_type:4100,duration_ns:(0,a.Z)()-i.time};return r?.logContextEvent(e),i=null,4100}return null}),o=e=>{l=e},d=e=>{r=e}},344278:(e,t,n)=>{"use strict";n.d(t,{CC:()=>o,H$:()=>c,Mt:()=>r,dp:()=>d,p9:()=>u});var i=n(191313),a=n(573810),l=n(407053);let r=(e,t,n,a,r,s,o=l.k7)=>{let d=(0,i.qn)(o)?JSON.parse((0,i.qn)(o)):[];if(!d[0]||d[0].path!==e){let l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:a||"",pin_description:r||"",is_shared:!!s,pin_invite_code:s}];(0,i.Nh)(o,JSON.stringify(l.concat(d)))}},s=()=>{let e;let t=(0,a.qn)(l.KH);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},o=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:r})=>{let o=s();o[0]&&o[0].path===e||(0,a.Nh)(l.KH,JSON.stringify([{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:r||""}].concat(o)))};function d(e,t,n,i,a,s){r(e,t,n,i,a,s,l.zR)}let c=(e,t,n,i,a)=>{r(e,t,n,i,a??"","",l.dy)};function u(e,t,n,i,a){r(e,t,n,i,a,"",l.QR)}},546689:(e,t,n)=>{"use strict";n.d(t,{Cb:()=>O,Ff:()=>ea,K7:()=>U,Lp:()=>R,MM:()=>Q,O0:()=>er,OJ:()=>D,PW:()=>es,Rh:()=>X,S2:()=>F,Vd:()=>V,Yi:()=>ee,Yy:()=>en,Z4:()=>I,ZN:()=>b,dc:()=>N,di:()=>L,i$:()=>P,iU:()=>K,nR:()=>j,oQ:()=>el,t_:()=>x,z$:()=>z});var i=n(667294),a=n(216167),l=n(224796),r=n(836313),s=n(658583),o=n(622541),d=n(342513),c=n(191313),u=n(573810),p=n(217058),m=n(624797),h=n(494125),g=n(407053),_=n(942397),y=n(785893);let f=new Set([...r.Z,"UK"]),b=["utm_pai","utm_source","invite_code"],v=function(e){return{...e,ts:Date.now()}},x=()=>(0,c.qn)(g.tz,"");function k(e,t){let n;try{n=JSON.parse(e)}catch(e){n=t}return n}let P=()=>k(x(),[]),S=()=>k((0,c.qn)(l.s1,""),[]),w=()=>k((0,c.qn)(l.Vb,""),[]),T=({pinId:e,link:t,imageSignature:n,domain:i})=>{let a=[...w()],r=a.length,s=r?a[0].pinId:"";if(r>=g.eA&&a.pop(),!r||e!==s){let r=v({pinId:e,link:t,imageSignature:n,domain:i});(0,c.Nh)(l.Vb,JSON.stringify([r].concat(a)))}},I=(e,t)=>{let n=[...P()],i=n.length,a=i?n[0].path:"";if(!(i>=g.eA)&&(!i||e!==a)){let i=v({path:e,pageType:t});(0,c.Nh)(g.tz,JSON.stringify([i].concat(n)))}},A=()=>{let e=(0,c.qn)(l.ny,"");return k(e,[])},E=()=>parseInt((0,c.qn)(l.rN,0),10),C=()=>{let e=(0,c.qn)(g.dx,"");return k(e,[])},j=()=>{let e=(0,c.qn)(g.Lg,"");return k(e,null)},R=e=>{if(!e)return;let t=[...C()],n=v({inviteCode:e});(0,c.Nh)(g.Lg,JSON.stringify(n)),t.length>=g.eA||(0,c.Nh)(g.dx,JSON.stringify([n].concat(t)))},L=()=>{let e=(0,c.qn)(g.eV,"");return k(e,null)},F=(e,t)=>{if(!e)return;let n=v({...!!t&&{adImageUrl:t},campaignId:e});(0,c.Nh)(g.eV,JSON.stringify(n))},D=()=>(0,c.qn)(g.fo,""),O=e=>{(0,c.Nh)(g.fo,e)},z=()=>{x()&&(0,c.L_)(g.tz),(0,c.qn)(l.ny)&&(0,c.L_)(l.ny),(0,c.qn)(l.Vb)&&(0,c.L_)(l.Vb),j()&&((0,c.L_)(g.Lg),(0,c.L_)(g.dx)),L()&&(0,c.L_)(g.eV),D()&&(0,c.L_)(g.fo)},M=()=>{let e=P();return e.filter(e=>"closeup"===e.pageType)};function N(){return M().length}let Z=({query:e,rs:t,scope:n,rg:i})=>{let a=[...A()],r=a.length,s=r?a[0].query:"";if(r>=g.eA&&a.pop(),!r||e!==s){let r=v({query:e,rs:t,scope:n,rg:i});(0,c.Nh)(l.ny,JSON.stringify([r].concat(a)))}},B=({query:e})=>{let t=[...A()],n=t.filter(t=>t.query!==e);(0,c.Nh)(l.ny,JSON.stringify(n))},U=()=>({count:1,time:0,ts:Date.now()}),K=()=>{try{let e=JSON.parse((0,c.qn)(l.SI)),{count:t,time:n,ts:i}=e;if("number"==typeof t&&"number"==typeof n&&"number"==typeof i)return{count:t,time:n,ts:i};throw Error("Invalid revisitation data")}catch(e){return U()}},V=e=>{(0,c.Nh)(l.SI,JSON.stringify(v(e)))},H=(e,t,n)=>{if(e>=n)return`${n}+`;let i=e.toString();if(e>t){let n=Math.floor(e/t);i=`${n*t}+`}return i},G=e=>H(e,5,20),$=(e,t,n)=>t.reduce((t,n)=>(Array.isArray(e[n])&&(t[n+"Count"]=G(e[n].length)),t),n),W=e=>({...e,_updateUnauthUserAggregateDefinitions:function(){let{completedSearches:t,closeupPins:n,clickthroughPins:i,downloadedPinsCount:a}=e;e.isQUS=Number(t.length>=1||n.length>=3||i.length>=1||a>=1)},_getDaysSinceLastRevisitation:function(){let{revisitationState:t}=e,{ts:n}=t,i=new Date,a=new Date(n||i),l=Math.floor(Number(((i.getTime()-a.getTime())/864e5).toFixed(2))),r=H(l,7,84);return[l,r]},getStatslogData:function(){let t=$(e,[],{isQUS:e.isQUS.toString(),isAllowedCountry:e.isAllowedCountry.toString(),daysSinceLastRevisitationBucket:e.daysSinceLastRevisitationBucket}),n=$(e,["closeupPins","completedSearches","clickthroughPins","savedPins","invitesRedeemed"],{revisitationCount:G(e.revisitationState.count||1),downloadedPinsCount:G(e.downloadedPinsCount)});return{core:t,counts:n}}}),q=({isAuthenticated:e,countryFromIp:t,countryFromHostName:n})=>{let i={isAuthenticated:Number(e),countryFromIp:t||"",countryFromHostName:n||"",closeupPins:[],completedSearches:[],clickthroughPins:[],downloadedPinsCount:0,savedPins:[],invitesRedeemed:[],isQUS:0,revisitationState:U(),daysSinceLastRevisitation:0,daysSinceLastRevisitationBucket:"0",isAllowedCountry:Number(!(f.has(t||"")||f.has(n||"")))};if(e||!i.isAllowedCountry){let e=W(i);return Object.freeze({...e,...i})}i.closeupPins=M(),i.completedSearches=A(),i.clickthroughPins=w(),i.downloadedPinsCount=E(),i.savedPins=S(),i.invitesRedeemed=C(),i.revisitationState=K();let a=W(i),[l,r]=a._getDaysSinceLastRevisitation();return i.daysSinceLastRevisitation=l,i.daysSinceLastRevisitationBucket=r,a._updateUnauthUserAggregateDefinitions(),Object.freeze({...a,...i})},{Provider:Y,useHook:X}=(0,d.Z)("UnauthUserStateContext");function J(e,t){let{isAuthenticated:n,countryFromIp:i,countryFromHostName:a,isAllowedCountry:l}=e;if(n||!l)return e;switch(t.type){case"UPDATE":break;case"ADD_UNAUTH_COMPLETED_SEARCH":Z(t.payload);break;case"REMOVE_UNAUTH_COMPLETED_SEARCH":B(t.payload);break;case"ADD_UNAUTH_CLICKTHROUGH_PIN":T(t.payload);break;default:return e}return q({isAuthenticated:n,countryFromIp:i,countryFromHostName:a})}function Q({children:e,initialState:t}){let[n,a]=(0,i.useReducer)(J,t,q);(0,h.Z)(()=>{a({type:"UPDATE"})});let l=(0,i.useMemo)(()=>({unauthUserState:n,unauthUserStateDispatch:a}),[n,a]);return(0,y.jsx)(Y,{value:l,children:e})}function ee(){let e=a.Z.create("UnauthUserDataResource");return new Promise((t,n)=>{e.callGet().then(e=>{let i=e.resource_response.data,a=!!s.U2(o.x3);return i?((0,_.Wn)(i.medium_image_url)&&(i.medium_image_url=""),(0,p.My)(`mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_${a?"true":"false"}`),t(i)):((0,p.My)(`mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_${a?"true":"false"}`),n({}))}).catch(e=>{if(e&&e.message){let t=e.message.replace(/\s/g,"_").toLowerCase();(0,p.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,p.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})}function et({i18n:e,location:t}){let n;let i=t.pathname.startsWith("/signup"),a=t.pathname.startsWith("/login");if(!i&&!a)return{showPLPBanner:!1,pinForBanner:null};try{n=JSON.parse((0,u.qn)(g.KH))}catch(e){n=[]}if(n&&n.length>0){let t=n[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:!!t.image,pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}let en=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function ei({i18n:e,location:t}){let n=t.state?.next||en(t);if(n){let t=n.indexOf("?"),i=(0,m.mB)(n.substring(t));if(i.url&&i.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,m.Jx)(i.media),height:1,width:1},pinDescription:i.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function ea({i18n:e,location:t}){return ei({i18n:e,location:t}).showPLPBanner?ei({i18n:e,location:t}):et({i18n:e,location:t}).showPLPBanner?et({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}let el=(e,t)=>e?`https://i.pinimg.com/${t||"474x"}/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",er=e=>e?`https://i.pinimg.com/75x75/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",es=e=>e?`https://i.pinimg.com/236x/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:""},844998:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,S:()=>s});var i=n(667294),a=n(191313);let l="_loggingInNotHome",r=e=>{e?(0,a.Nh)(l,1):(0,a.L_)(l)},s=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!0)},[]),e&&(0,a.qn)(l)}},736079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,x:()=>c});var i=n(667294),a=n(217058),l=n(785893);let r=(0,i.createContext)(()=>{}),s=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="hidden")},o=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},d=()=>(0,i.useEffect)(()=>o,[]),c=({children:e})=>{let[t,n]=(0,i.useState)(null);d();let c=(0,i.useCallback)(e=>{(0,a.My)("dweb.unauth.context_menu.open_menu"),s(),n(e)},[]),u=!!t;return(0,i.useEffect)(()=>{let e=()=>{n(null),o(),(0,a.My)("dweb.unauth.context_menu.click_away")};return u&&document.addEventListener("click",e),()=>{u&&document.removeEventListener("click",e)}},[u]),(0,l.jsx)(r.Provider,{value:c,children:(0,l.jsxs)(i.Fragment,{children:[e,t]})})},u=()=>(0,i.useContext)(r)},505573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(616550);let a=Object.freeze({"/:username":"profile","/:username/:slug/:section_slug":"board","/:username/:slug":"board","/csrf_error":"csrfError","/email_verification_error":"emailVerificationError","/email/remove":"emailRemove","/email/subscription":"emailSubscription","/ideas":"ideasRoot","/ideas/:interest/:id":"ideasHub","/invited":"invited","/password/reset":"passwordReset","/pin/:id":"pin","/pin/:id/feedback":"pinFeedBack","/pin/:id/sent":"pinFeedBack","/pin/:id/visual-search":"flashlight","/pin/create/:method":"pinBookmarklet","/pw/:username":"resetPasswordUsername","/panic/":"panic","/search/:scope":"search","/shopping":"shoppingRoot","/shopping/:category/:id":"shoppingCategory","/today":"todayTab","/today/:term/:title/:articleId":"todayArticleFeed","/today/popular/:interest/:interestId":"todayArticleInterestFeed","/tv":"LiveSessionEvent","/tv/:pin_id":"liveSessionCloseup","/unlink":"unlinkAccount","/videos":"videosRoot","/videos/:category/:id":"videosCategory"}),l=()=>{let{path:e}=(0,i.$B)();return a[e]||"unknown"}},942397:(e,t,n)=>{"use strict";function i(e){return!!e?.is_matured_new_user}n.d(t,{IR:()=>r,V0:()=>i,Wn:()=>l,xT:()=>a});let a=e=>!!e&&2===e.login_state,l=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},174281:(e,t,n)=>{"use strict";n.d(t,{D5:()=>s,Hg:()=>a,T_:()=>r,g6:()=>l,w6:()=>i});let i=(e,t)=>Array.from({length:t-e},(t,n)=>n+e),a=508,l=600;function r(e,t){if(!t.startsWith("en"))return e;let n=e.split(" ").map(e=>{let t=e===e.toUpperCase();return t?e:e.toLowerCase()});return n.join(" ")}let s=()=>{let e=new URL(window.location.href),t=e.hostname.replace("www.",""),n=e.pathname;return`${t}${n=n.replace(/\/\d+\//,"/").replace(/\/$/,"")}`}},439278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=({name:e,width:t,height:n})=>{let i=`${t}${"number"==typeof t?"px":""}`,a=`${n}${"number"==typeof n?"px":""}`,l="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${l} ${a};
  width: ${i};
  height: ${a};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${l}px 0;
  }
  100% {
      background-position: ${l}px 0;
  }
}
`}},166770:(e,t,n)=>{"use strict";n.d(t,{H:()=>l,o:()=>a});var i=n(342513);let{Provider:a,useHook:l}=(0,i.Z)("LimitedLogin")},735728:(e,t,n)=>{"use strict";n.d(t,{N4:()=>l,Wh:()=>i,hr:()=>a});let i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),l=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},739382:(e,t,n)=>{"use strict";n.d(t,{Bb:()=>_,Bx:()=>o,F4:()=>s,OG:()=>l,Qj:()=>d,_6:()=>g,gv:()=>r,hg:()=>c,is:()=>m,jP:()=>h,lt:()=>a,oM:()=>u,wI:()=>p});var i=n(624797);let a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),l=e=>e.pathname,r=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),s=e=>{let t=(0,i.mB)(e.search).board_url;if(t){let e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},o=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},c=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),u=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),h=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),_=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},121228:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(140017),a=n(739382),l=n(166770),r=n(785893);function s({children:e,callbackFunction:t,modalHeader:n,nextLocation:s}){let o=(0,i.ZP)(),{viewer:d,loginForMore:c,limitedLoginModalSubheader:u,limitedLoginModalNextLocation:p}=(0,l.H)(),m="LIMITED_LOGIN"===d.type;return(0,r.jsx)("div",{onClickCapture:e=>{m&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),c?.setVisible(!0),u?.setText(n||a.lt(o)),s&&p?.setRoute(s))},children:e})}},358589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(140017),a=n(554786),l=n(166770),r=n(735728);let s=()=>{let e=(0,i.ZP)(),t=(0,a.HG)(),{viewer:n,loginForMore:s,limitedLoginModalSubheader:o,limitedLoginModalNextLocation:d}=(0,l.H)(),c="LIMITED_LOGIN"===n.type;return c?({modalHeader:n,nextLocation:i})=>a=>{let l=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?l=a:a.event&&(l=a.event)),l&&(l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()),s?.setVisible(!0),o?.setText(n||(t?r.hr(e):r.Wh(e))),i&&d?.setRoute(i)}:({fn:e})=>e}},295923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(667294),a=n(883119),l=n(922719),r=n(406893);let s={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},o="DelightfulBubbles__",d=(e,t)=>{let n=e.length,i=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[i]},c=`${o}fadeIn {
  to {
    opacity: 1;
  }
}
`,u=`${o}growShrink {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
`,p=`${o}swirl {
  0% {
    transform: rotate(0deg) translateX(-50%);
  }
  100% {
    transform: rotate(-360deg) translateX(-50%);
  }
}
`,m=[c,u,p,...(()=>{let e=Object.keys(s).map(e=>{let t=d(Object.keys(s),e);return`${o}colorChange_${e} {
      0% {
        background-color: ${s[e]};
      }
      50% {
        background-color: ${s[t]};
      }
    }
    `});return e})()],h=(0,l.Ll)(m),g=(e,t,n,i,a,l,r,d)=>({bubblePositionStyles:{position:"absolute",marginLeft:`${l/2-a}px`,marginTop:`${n/2-a}px`,left:`${r}px`,top:`${d}px`},bubbleSwirlStyles:{animation:`${o}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${o}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${o}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${o}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:s[i],opacity:0,animation:`${o}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,
      ${o}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${o}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,
      ${o}fadeIn 3s linear ${e}s 1 forwards`}});var _=n(785893);function y(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f=e=>{let{delay:t,diameter:n,height:i,initialColor:l,width:r,xOffset:s,yOffset:o}=e,d=Math.floor(n/2),c=g(t,n,i,l,d,r,s,o);return(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:c.bubblePositionStyles},children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:c.bubbleSwirlStyles},children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:c.bubbleGrowShrinkStyles},children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:c.bubbleShapeStyles}})})})})};class b extends i.Component{constructor(...e){super(...e),y(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){let{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){let{delayFactor:n,delayOffset:i,numBubbles:a,xRadiusAdjustment:r,yRadiusAdjustment:o}=this.props,d=e+2*o,c=t+2*r,u=[],p=Object.keys(s);for(let r=0;r<a;r+=1){let a=16+(0,l.XF)(-4,4),s=p[r%p.length],{x:o,y:m}=(0,l.CC)(d,c);u.push((0,_.jsx)(f,{delay:r*n+i,diameter:a,height:e,initialColor:s,width:t,xOffset:o,yOffset:m},r))}return u}render(){let{isDesktop:e}=this.props,{height:t,width:n}=this.getSize();return(0,_.jsxs)(a.xu,{height:t,position:"relative",width:n,children:[(0,_.jsx)(r.Z,{unsafeCSS:h}),(0,_.jsxs)(a.xu,{ref:e=>this.containerElement=e,position:e?void 0:"absolute",children:[this.state.isInitialized&&this.createBubbles(t||0,n||0),(0,_.jsx)(a.xu,{position:"relative",children:this.props.children})]})]})}}y(b,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});let v=b},92056:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>u,Jw:()=>g,L7:()=>i,Qc:()=>a,Tt:()=>y,UF:()=>d,UV:()=>r,W1:()=>l,Ws:()=>p,ZW:()=>o,cK:()=>_,cy:()=>h,o4:()=>m,tr:()=>c,vF:()=>s});let i=1,a=2,l="female",r="male",s="unspecified",o="en-US",d="US",c=3,u="has_done_closeup",p="Gender",m="InterestPicker",h="LoadingStep",g="AppInstall",_={NUX_GENDER_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:h,NUX_APP_INSTALL_STEP_NAME:g},y=2500},310822:(e,t,n)=>{"use strict";n.d(t,{R:()=>m,Z:()=>h});var i=n(667294),a=n(883119),l=n(22724),r=n(549629),s=n(140017),o=n(5859),d=n(407996),c=n(407053),u=n(295923),p=n(785893);let m=e=>{let t=new Set([...c.EU,...c.rT,...c.IO]);return t.has(e)};function h({isReducedHeader:e,progressBarAnimationDuration:t}){let n=(0,s.ZP)(),{country:c}=(0,o.B)(),h=m(c);return(0,p.jsx)(i.Fragment,{children:h?(0,p.jsx)(r.Z,{log:{view_type:10,view_parameter:259},children:(0,p.jsxs)(a.xu,{bottom:!0,color:"default",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,p.jsx)(l.Z,{color:"dark",duration:t||3e3,finalProgress:95}),(0,p.jsxs)(a.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,p.jsxs)(a.xu,{"data-test-id":"account-creation-heading",margin:10,children:[(0,p.jsx)(a.X6,{overflow:"normal",size:e?"500":"600",children:n._('Your account is being created!', 'account created heading', 'account created heading')}),(0,p.jsx)(a.xv,{overflow:"normal",children:n._('You can now save ideas, get personalized recommendations, and more', 'loading state description while waiting for any sign up registration to complete', 'loading state description while waiting for any sign up registration to complete')})]}),(0,p.jsx)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,p.jsx)(u.Z,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,p.jsx)(a.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,p.jsx)(a.JO,{accessibilityLabel:n._('Loading', 'Loading state for any sign up registration', 'Loading state for any sign up registration'),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,p.jsx)(d.Z,{})})}},708171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(667294),a=n(376030),l=n(883119),r=n(140017),s=n(55202),o=n(494125),d=n(406893),c=n(785893);let u=`
@keyframes baseEduToastIconScale {
  0% {
    transform: scale(0)
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
}
`;function p({addedStyles:e,button:t,headerText:n,icon:a,iconOverride:r,minHeight:s,subHeaderText:o}){return(0,c.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingX:2,width:"100vw",children:(0,c.jsxs)(l.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:s||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{let e=r||(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:u}),(0,c.jsx)(l.xu,{alignItems:"center",color:"education",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},"data-test-id":"pin-save-toast",direction:"column",display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(l.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,c.jsx)(l.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(l.xu,{"data-test-id":"pin-save-toast-header",marginEnd:"auto",children:[(0,c.jsx)(l.xv,{color:"default",weight:"bold",children:n}),!!o&&(0,c.jsx)(l.xu,{paddingY:1,children:(0,c.jsx)(l.xv,{color:"default",size:"300",children:o})})]}),(0,c.jsx)(l.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var m=n(915163);function h(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g="cubicBezier(0.25, 0.1, 0.25, 1)",_="encourageToastIconContainer",y="encourageToastIconRadiateBg",f="encourageToastIconRadiateRing",b={targets:`#${_}`,duration:300,scale:1.4,easing:g},v={targets:`#${_}`,duration:300,scale:1,easing:g,endDelay:1e3},x={targets:`#${_}`,duration:300,scale:.42,easing:g},k={targets:`#${y}`,duration:400,opacity:0,scale:1.6,easing:g},P={targets:`#${f}`,duration:650,opacity:0,scale:2,easing:g};class S extends i.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>{(0,a.Z)(k),(0,a.Z)(P),(0,a.Z)(b).finished.then(()=>{(0,a.Z)(v).finished.then(()=>{a.Z.set(`#${_}`,{transformOrigin:"top right"}),(0,a.Z)(x)})})})}),h(this,"getHeaderText",()=>{let{text:e}=this.props;return Array.isArray(e)?e[0]:e}),h(this,"getIconProps",()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})),h(this,"getSubHeaderText",()=>{let{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""}),h(this,"renderAnimatedIcon",()=>(0,c.jsxs)(l.xu,{height:68,position:"relative",width:68,children:[(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:"4px",top:"4px"}},"data-test-id":"pin-save-toast",height:60,overflow:"hidden",position:"absolute",rounding:4,width:60,children:this.props.thumbnail}),(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},height:68,id:_,position:"absolute",width:68,children:[(0,c.jsx)(l.xu,{color:"infoBase",dangerouslySetInlineStyle:{__style:{left:"0px",top:"0px",transform:"scale(0)"}},height:68,id:y,position:"absolute",rounding:"circle",width:68}),(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"1px",top:"1px",transform:"scale(0)"}},height:66,id:f,opacity:1,position:"absolute",rounding:"circle",width:66}),(0,c.jsx)(l.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,c.jsx)(l.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]}))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){let{isRepinToExistingBoard:e,button:t}=this.props;return(0,c.jsx)(p,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:e?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function w(e){let{duration:t,onHide:n}=e,a=(0,r.ZP)(),[d,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),g=(0,i.useRef)(),_=()=>{u(!0),g.current=setTimeout(n,200)},y=()=>{g.current&&clearTimeout(g.current)},f=()=>{g.current=setTimeout(_,t||m.w)};(0,o.Z)(()=>(setTimeout(()=>h(!0),100),f(),y));let b=(0,c.jsx)(S,{...e,i18n:a});return e.href&&(b=(0,c.jsx)(l.rU,{href:e.href,onClick:_,rounding:"pill",tapStyle:"none",children:b})),(0,c.jsx)(s.Z,{children:(0,c.jsx)(l.mh,{children:(0,c.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...function({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}({hiding:d,visible:p})}},display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:m.k,children:b})})})}},272531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(191313);function a(){let e=(0,i.qn)("lastViewedMiniRenux");return!!e&&Date.now()-Number(e)<2592e5}},704970:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ei,getPinResourceOptions:()=>Y});var i,a,l=n(667294),r=n(702664),s=n(167912),o=n(616550),d=n(240684),c=n(256985),u=n(200201),p=n(558273),m=n(11453),h=n(340523),g=n(193300),_=n(643778),y=n(5859),f=n(870319),b=n(151784),v=n(624797),x=n(689390),k=n(554786),P=n(494125),S=n(149722),w=n(773616),T=n(966361),I=n(700242),A=n(656022),E=n(593868),C=n(716791),j=n(237040),R=n(622155),L=n(344278),F=n(100896),D=n(810052),O=n(570253),z=n(170568),M=n(19447),N=n(386008),Z=n(647639),B=n(706196),U=n(953565),K=n(118923),V=n(832853),H=n(431489),G=n(42040),$=n(785893);let W=(0,d.ZP)({resolved:{},chunkName:()=>"app-www-tv-EpisodeCloseupPage",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(75216),n.e(9776),n.e(35900)]).then(n.bind(n,134214)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return n(t)},resolve:()=>134214}),q=(0,V.Z)(()=>Promise.all([n.e(75216),n.e(9776),n.e(35900)]).then(n.bind(n,134214)),void 0,"lazyComponent_app_www_tv_EpisodeCloseupPage"),Y=({id:e,isAuthenticated:t,addUserConnectionType:n,shouldLazyLoadPinJoin:i,getPageMetadata:a,addResourceLatency:l})=>t?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0,add_connection_type:n,add_resource_latency:l}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:a?"seo":void 0,add_connection_type:n,fetch_pin_join_by_default:!i},X=void 0!==i?i:i=n(373435),J=void 0!==a?a:a=n(917805);function Q({description:e,dominantColor:t,graphqlRefs:n,imageSignature:i,isGif:a,isLoaded:s,isProductPin:d,isRecipePin:p,isStoryPin:m,isVideoPin:h,pinId:f,pinImage:b,pinTitle:x,renderAuthMobilePinLandingToast:T,uanuthDesktopSocialLandingPopover:A}){let E=(0,H.U)(),C=(0,r.useDispatch)(),j=(0,o.TH)(),F=(0,k.ZP)(),M=(0,u._)({id:1000112}),{id:Z}=(0,S.Z)(),{isAuthenticated:K,isBot:V}=(0,y.B)(),W=(0,N.mN)()(Z??""),q=(0,G.I)(),Y=(0,r.useSelector)(({experiences:e})=>e),X=a&&"gif"||d&&"productPin"||p&&"recipePin"||m&&"storyPin"||h&&"video"||"image";(0,l.useEffect)(()=>{E&&setTimeout(()=>{E.preload?.(B.ke("pin/[id]/repin.js"))},500)},[]),(0,l.useEffect)(()=>{if(q){let e=document.querySelector('div[data-test-id="CloseupMainPin"]');(0,g.w)(t=>{let{entries:i}=t,{element:a}=i[i.length-1];(0,U.nP)("www.closeup.lcpCheck",{sampleRate:1,tags:{isAuthenticated:K,deviceType:F,isGraphQL:!!n,isMainPin:e?.contains(a),nodeName:a?a.nodeName:"unknown",pinType:X}})})}},[]),(0,c.Z)("closeup");let J=(0,k.HG)();(0,l.useEffect)(()=>{let n=()=>{C((0,z.Cp)()),window.removeEventListener("scroll",n)};if(J||V?C(m?(0,z.FK)():(0,z.Cp)()):window.addEventListener("scroll",n),K)i&&C((0,z.xu)(i));else{let n=j.pathname,a=e??"";(0,L.Mt)(n,i),(0,L.CC)({path:n,image:b,dominant_color:t??null,pin_description:a,pin_id:f});let l=(0,v.mB)(j.search).invite_code;(0,L.dp)(n,i,f,b,a??"",l),j.state?.isFromNavFooterPage||(0,L.p9)(n,i,f,b,"pin")}},[j]);let Q=(0,D.a)(),ee=Q?.onPinTypeLoad,et=!!s;(0,l.useEffect)(()=>{et&&ee&&ee(m)},[et,m,ee]);let en="pin_closeup_lcp",ei=(0,_.PY)(en);(0,l.useEffect)(()=>{ei&&(0,_.ku)({stopwatchName:en,binaryAnnotationName:"pinType",value:X,annotationType:"STRING"})},[ei,X]);let ea=(0,w.Z)(),el=K?(0,O.o)({canUpsellNativeApp:ea}):"unauthPostDownloadUpsell",er=(0,R.w2)();return(0,P.Z)(()=>{if(!T||!er||er.hasSeenAuthMobileLandingToast)return()=>{};let{setHasSeenAuthMobileLandingToast:n}=er,i=setTimeout(()=>{T({type:"pin",id:f,data:{title:x||e||"",imgUrl:b?.url||"",dominantColor:t||""}})},3e3);return()=>{n(!0),clearTimeout(i)}}),(0,$.jsx)(I.Z,{clickthroughInterstitialExperience:Y[1000162],experience:M,graphqlRefs:n,isProductPin:d,isStoryPin:m,pinId:f,postDownloadModalEligibilityType:el,uanuthDesktopSocialLandingPopover:A,viewerId:Z??"",viewingUser:W})}function ee({pinId:e,queryRefs:t,...n}){let i=(0,s.usePreloadedQuery)(J,t.pageRef),a=(0,s.useFragment)(X,i.v3GetPinQuery?.data),{isAuthenticated:l,countryFromIp:r,country:d}=(0,y.B)(),c=(0,K.b)();return a?a.creatorClass&&a.creatorClassInstance?(0,b.pf)(d,r,l)?(0,$.jsx)(o.l_,{to:"/tv/error"}):c?(0,$.jsx)(q,{pinId:e}):(0,$.jsx)(W,{pinId:e}):(0,$.jsx)(Q,{...n,description:a.description,dominantColor:a.dominantColor,graphqlRefs:{...t,pageRef:a},imageSignature:a.imageSignature??"",isGif:(0,p.sY)(a.embed?.type),isLoaded:!0,isProductPin:!!a.isEligibleForPdp,isRecipePin:a.richSummary?.typeName==="recipe",isStoryPin:!!a.storyPinDataId,isVideoPin:!!a.videos?.videoUrls?.length,pinId:e,pinImage:a.imageSpec_236x?{dominant_color:a.imageSpec_236x.dominantColor??"",height:a.imageSpec_236x.height??0,type:a.imageSpec_236x.type??"",url:a.imageSpec_236x.url??"",width:a.imageSpec_236x.width??0}:null,pinTitle:a.gridTitle??a.gridDescription??"",storyPinDataId:a.storyPinDataId}):(0,$.jsx)(o.l_,{to:{pathname:l?"/":"/ideas/",state:{showError:!0}}})}function et({pinId:e,queryRefs:t,...n}){let i=(0,C.Z)(e);return(0,$.jsx)(l.Suspense,{fallback:i.enabled?(0,$.jsx)(E.Z,{data:i.data}):(0,$.jsx)(A.Z,{}),children:"QUERY_MISS"!==t&&(0,$.jsx)(ee,{...n,pinId:e,queryRefs:t})})}function en({pinId:e,...t}){let{country:n,countryFromIp:i,isBot:a,isAuthenticated:l}=(0,y.B)(),r=(0,k.HG)(),s=(0,F.Z)(i??"",a,r),d=(0,C.Z)(e),{checkExperiment:c}=(0,h.F)(),u=(0,j.J1)(),m=(0,K.b)(),g=l&&c(u).group.includes("add_latency"),_=(0,f.Z)({name:"PinResource",options:Y({id:e,isAuthenticated:l,addUserConnectionType:s,shouldLazyLoadPinJoin:!r&&!l&&!a,addResourceLatency:g})}),v=(0,M.S6)()(e),x=_.data||v;return x?.creator_class?.id&&x.creator_class_instance?.id?(0,b.pf)(n,i,l)?(0,$.jsx)(o.l_,{to:"/tv/error"}):m?(0,$.jsx)(q,{pinId:e}):(0,$.jsx)(W,{pinId:e}):!x&&d.enabled?(0,$.jsx)(E.Z,{data:d.data}):(0,$.jsx)(Q,{...t,description:x?.description,dominantColor:x?.dominant_color,graphqlRefs:null,imageSignature:x?.image_signature,isGif:(0,p.sY)(x?.embed?.type),isLoaded:!!x,isProductPin:!!x?.is_eligible_for_pdp,isRecipePin:x?.rich_summary?.type_name==="recipe",isStoryPin:!!x?.story_pin_data_id,isVideoPin:!!x?.videos?.video_list,pinId:e,pinImage:x?.images?.["236x"]??null,pinTitle:x?.grid_title??x?.grid_description??"",storyPinDataId:x?.story_pin_data_id})}function ei({queryRefs:e,...t}){let n=(0,o.$B)(),{pinId:i}=(0,x.Z)(n.params.id||""),a=(0,S.Z)(),l=(0,m.jr)(a);return(0,$.jsxs)(T.Z,{type:"duplo",children:[l&&(0,$.jsx)(Z.default,{}),"GRAPHQL_DISABLED"===e?(0,$.jsx)(en,{...t,pinId:i}):(0,$.jsx)(et,{...t,pinId:i,queryRefs:e})]})}},100896:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(407053);let a=(e,t,n)=>!t&&!n&&i.ZR.has(e)},718738:(e,t,n)=>{"use strict";n.d(t,{C0:()=>s,LAW_CONFIGURATION:()=>d,ZP:()=>c,ZU:()=>o});var i=n(883119),a=n(140017),l=n(996523),r=n(785893);let s=["DMCA","Trademark","GDPR"],o=new Date(2024,0,1),d={test:{LAW:"test",DECIDER_KEY:"legal_webapp_takedown_form_test",COUNTRY_CODES:["US"],API:"/v3/legal/takedowns/test/",COMPLAINTS_OFFICE:!0,TRUSTED_FLAGGER:!1,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},netzdg:{LAW:"netzdg",DECIDER_KEY:"legal_webapp_takedown_form_netzdg",COUNTRY_CODES:["DE"],API:"/v3/legal/takedowns/netzdg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},turkey:{LAW:"turkey",DECIDER_KEY:"legal_webapp_takedown_form_turkey",COUNTRY_CODES:["TR"],API:"/v3/legal/takedowns/turkey/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},koplg:{LAW:"koplg",DECIDER_KEY:"legal_webapp_takedown_form_koplg",COUNTRY_CODES:["AT"],API:"/v3/legal/takedowns/koplg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},loi_fr:{LAW:"loi_fr",DECIDER_KEY:"legal_webapp_takedown_form_fr",COUNTRY_CODES:["FR"],API:"/v3/legal/takedowns/fr_dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},dsa:{LAW:"dsa",DECIDER_KEY:"legal_webapp_takedown_form_dsa",EXPERIMENT_KEY:"legal_web_dsa_form",COUNTRY_CODES:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!0}};function c(e,t){let n=(0,a.ZP)(),s={test:{header:"Test Header",subHeader:"Test SubHeader",laws:[{name:"Test Law A",label:"Test Law A"},{name:"Test Law B",label:"Test Law B"}]},netzdg:{header:n._('NetzDG Complaint Form', 'Takedown.NetzDG.FormTitle', 'The title of the form'),subHeader:n._('Use this form to identify content that violates German laws that are subject to the Netzwerkdurchsetzungsgesetz (NetzDG). Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'Takedown.NetzDG.FormDescription', 'Provides a description of what the form is used for'),laws:[{name:"Dissemination of propaganda material of unconstitutional organizations (Section 86 StGB)",label:n._('Dissemination of propaganda material of unconstitutional organizations (Section 86 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Using symbols of unconstitutional organizations (Section 86a StGB)",label:n._('Using symbols of unconstitutional organizations (Section 86a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Preparation of a serious violent offense endangering the state (Section 89a StGB)",label:n._('Preparation of a serious violent offense endangering the state (Section 89a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Encouraging the commission of a serious violent offense endangering the state (Section 91 StGB)",label:n._('Encouraging the commission of a serious violent offense endangering the state (Section 91 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Treasonous forgery (Section 100a StGB)",label:n._('Treasonous forgery (Section 100a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Public incitement to crime (Section 111 StGB)",label:n._('Public incitement to crime (Section 111 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Breach of the public peace by threatening to commit offenses (Section 126 StGB)",label:n._('Breach of the public peace by threatening to commit offenses (Section 126 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Forming criminal organizations (Section 129 StGB)",label:n._('Forming criminal organizations (Section 129 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Forming terrorist organizations (Section 129a StGB)",label:n._('Forming terrorist organizations (Section 129a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Criminal and terrorist organizations abroad; extended confiscation and deprivation (Section 129b StGB)",label:n._('Criminal and terrorist organizations abroad; extended confiscation and deprivation (Section 129b StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Incitement to hatred (Section 130 StGB)",label:n._('Incitement to hatred (Section 130 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Dissemination of depictions of violence (Section 131 StGB)",label:n._('Dissemination of depictions of violence (Section 131 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Rewarding and approving of criminal offenses (Section 140 StGB)",label:n._('Rewarding and approving of criminal offenses (Section 140 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Insulting denominations, religious communities and ideological associations (Paragraph 166 StGB)",label:n._('Insulting denominations, religious communities and ideological associations (Paragraph 166 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Making available child pornography by broadcasting, media services, or telecommunication services (Section 184b/184d StGB)",label:n._('Making available child pornography by broadcasting, media services, or telecommunication services (Section 184b/184d StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Insult (Section 185 StGB)",label:n._('Insult (Section 185 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Defamation (Section 186 StGB)",label:n._('Defamation (Section 186 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Intentional Defamation (Section 187 StGB)",label:n._('Intentional Defamation (Section 187 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Denigration of the memory of the deceased (Paragraph 189 StGB)",label:n._('Denigration of the memory of the deceased (Paragraph 189 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Violation of intimate privacy by taking photographs (Section 201a StGB)",label:n._('Violation of intimate privacy by taking photographs (Section 201a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Threatening the commission of a felony (Section 241 StGB)",label:n._('Threatening the commission of a felony (Section 241 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Forgery of data intended to provide proof (Section 269 StGB)",label:n._('Forgery of data intended to provide proof (Section 269 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')}]},turkey:{header:(0,r.jsx)(i.xu,{"data-test-id":"turkish-law-complaint-header",children:n._('Turkish Internet Law Complaint Form', 'Takedown.Turkey.FormSubHeader', 'The title of the form')}),subHeader:n._('Use this form to identify content that violates Turkish laws that are subject to the Turkish Internet Law. Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'Takedown.Turkey.FormSubheader', 'The sub-title of the form'),laws:[{label:n._('Personal rights violation', 'Takedown.Turkey.Law.Personal', 'These are laws which a user can report a pin for takedown'),name:"Personal rights violation"},{label:n._('Privacy rights violation', 'Takedown.Turkey.Law.Privacy', 'These are laws which a user can report a pin for takedown'),name:"Privacy rights violation"}]},koplg:{header:(0,r.jsx)(i.xu,{"data-test-id":"koplg-header",children:n._('Austria KoPl-G Form', 'AustriaKoPl-G.FormTitle', 'The title of the form')}),subHeader:n._('Use this form to identify content that violates Austrian laws that are subject to the Kommunikationsplattformen-Gesetz (KoPl-G). Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'AustriaKoPl-G.FormDescription', 'Provides a description of what the form is used for'),laws:[{label:"N\xf6tigung",name:"N\xf6tigung"},{label:"Gef\xe4hrliche Drohung",name:"Gef\xe4hrliche Drohung"},{label:"Beharrliche Verfolgung",name:"Beharrliche Verfolgung"},{label:"Fortdauernde Bel\xe4stigung im Wege einer Telekommunikation",name:"Fortdauernde Bel\xe4stigung im Wege einer Telekommunikation"},{label:"Vorwurf einer schon abgetanen gerichtlich strafbaren Handlung",name:"Vorwurf einer schon abgetanen gerichtlich strafbaren Handlung"},{label:"Beleidigung",name:"Beleidigung"},{label:"Unbefugte Bildaufnahmen",name:"Unbefugte Bildaufnahmen"},{label:"Erpressung",name:"Erpressung"},{label:"Herabw\xfcrdigung religi\xf6ser Lehren",name:"Herabw\xfcrdigung religi\xf6ser Lehren"},{label:"Pornographische Darstellungen Minderj\xe4hriger",name:"Pornographische Darstellungen Minderj\xe4hriger"},{label:"Anbahnung von Sexualkontakten zu Unm\xfcndigen",name:"Anbahnung von Sexualkontakten zu Unm\xfcndigen"},{label:"Terroristische Vereinigung",name:"Terroristische Vereinigung"},{label:"Anleitung zur Begehung einer terroristischen Straftat",name:"Anleitung zur Begehung einer terroristischen Straftat"},{label:"Anleitung zu terroristischen Straftaten und Guthei\xdfung terroristischer Straftaten",name:"Anleitung zu terroristischen Straftaten und Guthei\xdfung terroristischer Straftaten"},{label:"Verhetzung",name:"Verhetzung"},{label:"Nazionalsozialistische Propaganga",name:"Nazionalsozialistische Propaganga"}]},loi_fr:{header:n._('Bill confirming respect for the principles of the Republic Form', 'French_DSA.FormTitle', 'The title of the form'),subHeader:n._('Use this form to identify content that violates French laws that are subject to the bill confirming respect for the principles of the Republic. Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'French_DSA.FormDescription', 'Provides a description of what the form is used for'),laws:[{name:"Apology of/sympathy to crimes",label:n._('Apology of/sympathy to crimes', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Provocation to discrimination, hatred or violence on the ground of origin, ethnic group, nation, race or religion, or sex, sexual orientation or gender identity or their disability",label:n._('Provocation to discrimination, hatred or violence on the ground of origin, ethnic group, nation, race or religion, or sex, sexual orientation or gender identity or their disability', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Challenging the existence of crimes against humanity, denial, minimization or trivialization of crimes of genocide, crimes of enslavement or war crimes",label:n._('Challenging the existence of crimes against humanity, denial, minimization or trivialization of crimes of genocide, crimes of enslavement or war crimes', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Sexual harassment",label:n._('Sexual harassment', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Child pornography",label:n._('Child pornography', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Human trafficking",label:n._('Human trafficking', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Procuring/pimping",label:n._('Procuring/pimping', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Direct provocation or public apology for acts of terrorism",label:n._('Direct provocation or public apology for acts of terrorism', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Insult based on origin, ethnic group, nation, race or religion",label:n._('Insult based on origin, ethnic group, nation, race or religion', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Insult based on gender, sexual orientation, gender identify or disability",label:n._('Insult based on gender, sexual orientation, gender identify or disability', 'French_DSA.Law', 'A French law which a user can report content for takedown')}]},dsa:{header:n._('European Union Illegal Content Reporting Form', 'DSA.FormTitle', 'The title of the form'),subHeader:n._('Use this form to report content you believe to be illegal in the European Union. Please fill out the form with as much detail as possible to allow us to efficiently evaluate your report.', 'DSA.FormDescription', 'The sub-title of the form'),laws:[{name:"Promoting or condoning terrorist acts",label:n._('Promoting or condoning terrorist acts', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Incitement to or apology of terrorist acts', 'DSA.Law', 'Example of this law')},{name:"Threatening commission of or condoning serious criminal offense",label:n._('Threatening commission of or condoning serious criminal offense', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Threats to commit serious criminal offense against individuals or their condemnation', 'DSA.Law', 'Example of this law')},{name:"Child sexual abuse material (CSAM)",label:n._('Child sexual abuse material (CSAM)', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Dissemination or\xA0 procurement of child pornographic content', 'DSA.Law', 'Example of this law')},{name:"Hate speech, hateful acts and discrimination",label:n._('Hate speech, hateful acts and discrimination', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Incitement to hatred, violence or discrimination against protected and vulnerable groups', 'DSA.Law', 'Example of this law')},{name:"Graphic Violence",label:n._('Graphic Violence', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Gore/graphic wounds and mutilation, beatings, excessive blood, corpses', 'DSA.Law', 'Example of this law')},{name:"Denying or condoning crimes against humanity",label:n._('Denying or condoning crimes against humanity', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Denial of genocides, war crimes and other crimes against humanity', 'DSA.Law', 'Example of this law')},{name:"Illegal goods and services",label:n._('Illegal goods and services', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Illegal sale of drugs, live animals or the illegal offer of services', 'DSA.Law', 'Example of this law')},{name:"Harassment",label:n._('Harassment', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Online stalking or sexual harassment', 'DSA.Law', 'Example of this law')},{name:"Harmful to minors",label:n._('Harmful to minors', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Incitement of minors to engage in actions which put them in physical danger or to intentionally harm themselves', 'DSA.Law', 'Example of this law')},{name:"Nudity or pornography",label:n._('Nudity or pornography', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Dissemination of pornographic content', 'DSA.Law', 'Example of this law')},{name:"Disinformation",label:n._('Disinformation', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Deliberate disinformation of individuals or groups of people', 'DSA.Law', 'Example of this law')},{name:"Affront to personal honor",label:n._('Affront to personal honor', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Insults or defamation', 'DSA.Law', 'Example of this law')},{name:"Violation of privacy",label:n._('Violation of privacy', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Non-consensual sharing of private images', 'DSA.Law', 'Example of this law')},{name:"DMCA",label:n._('Copyright infringement', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,r.jsxs)(i.xv,{color:"warning",inline:!0,size:"100",children:[" ",n._('Fill out the', 'Dsa.Law.DMCA', 'Subtext for filling out the DMCA form'),(0,r.jsxs)(i.rU,{display:"inline",href:"https://www.pinterest.com/about/copyright/dmca-pin/",underline:"always",children:[" ",n._(' Copyright Complaint form here', 'DSA.Law', 'Hyperlink to copyright form')]})]})},{name:"Trademark",label:n._('Trademark infringement', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,r.jsxs)(i.xv,{color:"warning",inline:!0,size:"100",children:[" ",n._('Fill out the ', 'Dsa.Law.Trademark', 'Subtext for filling out the trademark form'),(0,r.jsxs)(i.rU,{display:"inline",href:"https://www.pinterest.com/about/trademark/",underline:"always",children:[" ",n._('Trademark Complaint form here', 'DSA.Law', 'Hyperlink to trademark form')]})]})},{name:"GDPR",label:n._('Contains my personal data', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,r.jsxs)(i.xv,{color:"warning",inline:!0,size:"100",children:[" ",n._('You can delete your data by going to your settings or by contacting ', 'Dsa.Law.GDPR', 'Subtext for removing your personal data'),(0,r.jsxs)(i.rU,{display:"inline",href:"mailto:privacy-support@pinterest.com",underline:"always",children:[" ",n._('privacy-support@pinterest.com', 'DSA.Law', 'Hyperlink to privacy support email')]})]})},{name:"Other illegal behavior",label:n._('Other illegal behavior', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('Report behavior that does not match the above categories here', 'DSA.Law', 'Example of this law')}]}},o={header:n._('Complaint Information', 'AustriaKoPl-G.ComplaintInformation.Header', 'Complaint Information header'),reportedUrl:n._('Identify the URL of the content', 'AustriaKoPl-G.ContentUrlField', 'The url of the content the user wants to report'),dsaReportedUrl:n._('What is the URL of the content you want to report?', 'Dsa.ContentUrlField', 'The url of the content the user wants to report for DSA'),reportedUrlHelperText:n._('Please provide the full URL of the content you are complaining about. 1 URL per form.', 'AustriaKoPl-G.ComplaintInformation.ContentUrl.HelperText', 'Complaint Information url field helper text'),contentPortionHeader:n._('What portion(s) of the content are you reporting?', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaContentPortionHeader:n._('What portion of the content are you reporting?', 'DSA.ContentReporting.Header', 'Header describing which part of the content the user is reporting for DSA'),lawsViolatedLabel:n._('Which law(s) do you believe the content violates?', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaLawsViolatedLabel:n._('Why do you think this content is illegal under local law?', 'DSA.ContentReporting.Header', 'Header describing which part of the content the user is reporting for DSA'),dsaLawsViolatedSubtext:n._('Please carefully consider the option you select, so we can address your report as efficiently as possible.', 'DSA.ContentReporting.Subtext', 'Subtext asking to carefully choose the law being violated for DSA'),otherLabel:n._('Enter other portion of content', 'AustriaKoPl-G.ContentPortion.OtherValue', 'Field to describe other portion of the pin they are reporting'),dsaOtherLabel:n._('Please describe what other portion of the content you are reporting', 'DSA.ContentPortion.OtherValue', 'Field to describe other portion of the content they are reporting for DSA'),additionalInformationLabel:n._('Additional information on illegality of content (Optional)', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),additionalInformationPlaceholder:n._('250 character limit...', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaAdditionalInformationLabel:n._('Please provide additional information about why you think the content is illegal. You may cite or link to relevant statutes, if you like. (Optional)', 'DSA.ContentReporting.Header', 'Label for the additional details textbox of the DSA form'),dsaAdditionalInformationPlaceholder:n._('Provide additional details here', 'DSA.ContentReporting.Placeholder', 'Placeholder for the additional details textbox of the DSA form'),countryHeader:n._('Under what country\u2019s laws do you believe this content is illegal?', 'DSA.Country.Header', 'Header describing the country in which the content is illegal'),otherViolationLabel:n._('Report behavior that does not match the above categories here', 'DSA.OtherViolation.Field', 'Field to describe other violation reason of the reported content'),attachmentLabel:n._('If you have additional documents that could help us understand your report (e.g., court order), you can attach it here. Please upload PDFs only, with a maximum file size of 5 MB.', 'DSA.OtherViolation.Field', 'Field for uplodaing attachments'),moduleCollapseLabel:n._('Collapse the module', 'DSA.CollapseModule', 'Text for collapsing items module'),moduleExpandLabel:n._('Expand the module', 'DSA.ExpandModule', 'Text for expanding items module'),noCountryResultText:n._('No countries found', 'DSA.NoCountries', 'Text for country combo box no countries found error'),clearButtonLabel:n._('Clear search field', 'DSA.ClearInput', 'Accessibility text for clearing combobox field'),invalidUrlText:n._('Invalid URL', 'DSA.Invalid Url', 'Accessibility text for invalid pinterest urls'),selectedLawErrorText:n._('Please fill out the appropriate form for this complaint', 'DSA.InvalidLaw', 'Accessibility text for redirecting to the appropriate place for this law'),multiselectPlaceholder:n._('Select an option', 'DSA.Multiselect.Placeholder', 'Header prompting user to select an option'),dateSelectPlaceholder:n._('Select a date', 'DSA.DateSelect.Placeholder', 'Header prompting user to select a date')},c={contactHeader:n._('Contact Information', 'TakedownsContactInformation.OwnerInformationHeading', 'Heading with the word Owner Information'),companyCheckbox:n._('Do you represent a complaints office? (Yes)', 'TakedownsContactInformation.ComplaintsOfficeValidation', 'Checkbox to determine if represents a complaints office'),company:n._('Complaints office', 'TakedownsContactInformation.ComplaintsOfficeNameField', 'The name of the organization or office submitting the complaint'),trustedFlaggerCheckbox:n._('Trusted flagger? (Yes)', 'TakedownsContactInformation.TrustedFlagger', 'Checkbox to determine if reporter is a trusted flagger'),trustedFlaggerSubtext:n._('Trusted Flagger as designated by the Digital Services Coordinator of the Member State in which the applicant is established, in line with Article 22 of the Digital Services Act.', 'TakedownsContactInformation.TrustedFlaggerSubtext', 'Defines a trusted flagger'),trustedFlaggerDate:n._('Date of Trusted Flagger status designation', 'TakedownsContactInformation.TrustedFlaggerDate', 'Date input for trusted flagger status designation'),trustedFlaggerCountry:n._('Country of Trusted Flagger status designation', 'TakedownsContactInformation.TrustedFlaggerDate', 'Date input for trusted flagger status designation'),anonSubmissionCheckbox:n._('Do you wish to remain anonymous? (Yes)', 'TakedownsContactInformation.AnonSubmission', 'Checkbox to determine if reporter wishes to remain anonymous'),anonSubmissionSubtext:n._('If you select this box, you will not receive any additional communications about your report, including the final outcome of your report.', 'TakedownsContactInformation.AnonSubmissionSubtext', 'Anon submission disclaimer'),name:n._('Name of Reporter', 'TakedownsContactInformation.NameField', 'User\'s name'),email:n._('Email Address', 'TakedownsContactInformation.EmailField', 'User\'s email address'),phone:n._('Phone Number', 'TakedownsContactInformation.PhoneField', 'Users phone number'),address:n._('Full Address', 'TakedownsContactInformation.AddressField', 'User address')},u={termsHeading:n._('By checking the following boxes, I confirm:', 'TakedownsForm.LabelForCheckboxes', 'Label describing the checkboxes'),isAccurate:n._('The information in this application is accurate.', 'TakedownsContactInformation.isAccurateBoolean', 'Confirmation checkbox that information in form is accurate'),consequences:n._('I understand that if I use this form to submit fraudulent or abusive complaints, I might be subject to claims of liability by Pinterest or other third parties.', 'temp', 'temp'),possibleSuspension:n._('I understand that frequently submitting reports that are fraudulent or abusive may lead Pinterest to suspend the processing of my reports.', 'TakedownsContactInformation.possibleSuspension', 'Confirmation checkbox that fraudulent reports may lead to suspension'),terms:(0,r.jsx)(i.xv,{children:n._('I have a good faith belief that the content violates the law(s) identified.', 'TakedownsContactInformation.termsBoolean', 'Checkbox to confirm they are owner of items they are claiming')}),dsaIsAccurate:n._('I have a good faith belief that the information and allegations contained in this report are accurate and complete.', 'TakedownsContactInformation.DSA.termsBoolean', 'Checkbox to confirm that the information is accurate and complete'),submitText:n._('Submit', 'TakedownsForm.SubmitApplication', 'Submit application form'),cancelText:n._('Cancel', 'TakedownsForm.CancelApplication', 'Cancel application form'),errorCallout:n._('Please fill out all required fields before submitting the application', 'CCP.AppValidationCallout', 'Call out that lets user know there\'s a validation error ')},p={pin_image:n._('Pin Image / Video', 'TakedownsForm.ContentPortion.Image', 'Checkbox content portion for Image'),pin_description:n._('Pin Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),pin_notes:n._('Pin Comments / Notes', 'TakedownsForm.ContentPortion.Notes', 'Checkbox content portion for Notes'),profile_image:n._('Profile Image', 'TakedownsForm.ContentPortion.Image', 'Checkbox content portion for Image'),profile_name:n._('Profile Name', 'TakedownsForm.ContentPortion.Name', 'Checkbox content portion for Name'),profile_description:n._('Profile Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),board_name:n._('Board Name', 'TakedownsForm.ContentPortion.Name', 'Checkbox content portion for Name'),board_description:n._('Board Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),other:n._('Other...', 'TakedownsForm.ContentPortion.Other', 'Checkbox content portion for Other')},m=(0,l.Z)({takedown:s[e],contactInformation:c,complaints:o,terms:u,reportedPortion:p},t);return{configuration:d[e],translations:m}}},641016:(e,t,n)=>{"use strict";n.d(t,{AL:()=>R,CY:()=>o,Ct:()=>v,FW:()=>c,Jd:()=>f,Lc:()=>a,M5:()=>F,MV:()=>x,OL:()=>S,RA:()=>g,RZ:()=>i,S2:()=>l,S7:()=>I,Tx:()=>b,Vr:()=>p,XP:()=>j,Ym:()=>w,Zf:()=>m,aj:()=>r,bQ:()=>_,gn:()=>d,hK:()=>k,jn:()=>A,k6:()=>u,mD:()=>h,oF:()=>P,oZ:()=>T,oc:()=>E,wL:()=>y,wS:()=>s,wW:()=>L,yd:()=>C});let i=1200,a=240,l=426,r=60,s=1100,o=8,d=200,c=8,u=2,p="400",m=71+4*c,h="OVERVIEW",g="VISUALS",_="PRODUCTS",y="ATTENDEES",f="REVIEW",b={UPCOMING:1,PREVIOUS:2,PENDING:3,DRAFT:4,REJECTED:5},v={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},x={NORMAL:1,PRODUCT_DROP:2,SHOPPING:3},k={NORMAL:1,PRODUCT_DROP:2,SHOPPING:3},P={PENDING:1,REJECTED:2,APPROVED:3,DRAFT:4,SOFT_REJECTED:5},S={BAD_TITLE:1,BAD_COVER_IMAGE:2,BAD_DATETIME:3,TITLE_NOT_DESCRIPTIVE:4,ALREADY_BOOKED_TIME:5,START_TIME_IN_PAST:6,COVER_IMG_BLURRY:7,COVER_IMG_CONTENT:8,COVER_IMG_FAIL_GUIDELINES:9,VIDEO_CONTENT:10},w={TRENDSETTER:0,IMMERSIVE:1,HOW_TO:2,TRANSFORMATIVE:3,LIVE_EVENT:4},T={PENDING:0,APPROVED:1,HIDDEN:2},I={CREATOR_STUDIO:1,PINTEREST_APP:2,MANAGED:3},A={CLASS_HERO_VIDEO:"1",CLASS_INSTANCE_HERO_VIDEO:"2",CLASS_INSTANCE_REPLAY_VIDEO:"3",APPLICATION_EXAMPLE_VIDEO:"4"},E={NO_LIVE_CREATOR:1,MANAGED_CREATOR:2,COMMUNITY_CREATOR:3,ORGANIC_CREATOR:4},C=new Intl.DateTimeFormat().resolvedOptions().timeZone||"America/Los Angeles",j={PIN_ID:"424605071130991177",PIN_URL:"https://www.pinterest.com/pin/424605071130991177/",PIN_URL_SHORTENED:"https://pin.it/2T2eRb6"},R={IS_SPONSORED:!0,IS_NOT_SPONSORED:!1},L={IS_SPONSORED:"I am receiving something of value for including links or promoting a brand/product in my episode.",IS_NOT_SPONSORED:"I am not receiving anything of value from a brand/product for including links or a brand/product in my episode OR I am not including any brand/product in my episode."},F="Anytime you receive something of value to promote a brand or its product(s), you have an obligation to disclose that. Something of value can be money, like affiliate earnings or direct payments from the brand. It can also be free products or even discounts on products. If your episode includes multiple products and you were only compensated for some of those products, you must still disclose that."},281871:(e,t,n)=>{"use strict";function i(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>i})},945488:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(e,t)=>`${e}:${t||""}`},885837:(e,t,n)=>{"use strict";n.d(t,{O:()=>s,Q:()=>o});var i=n(827625),a=n(945488),l=n(64819);let r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i},a)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},o=e=>r.reduce((t,n)=>{let r=[(0,l.N8)("profileBoards",(0,a.Z)(e,n))];return[!0,!1].forEach(t=>{[!0,!1].forEach(a=>{r.push((0,i.jB)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:a})))})}),t.concat(r)},[])},701082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){(0,i.useEffect)(()=>{if(!t.current)return()=>{};{let n=t.current;if("ResizeObserver"in window){let t=new ResizeObserver(t=>{Array.isArray(t)&&t.length&&e(n)});return t.observe(n),()=>t.unobserve(n)}{let t=n.clientHeight,i=n.clientWidth,a=()=>{let l=n.clientHeight,r=n.clientWidth;(t!==l||i!==r)&&(t=l,i=r,e(n)),window.requestAnimationFrame(a)};return a(),()=>window.cancelAnimationFrame(a)}}},[t,e])}},193247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(883119),a=n(930837),l=n(140017),r=n(339001),s=n(702497),o=n(554786),d=n(785893);let c=s.K_Y+"?source=block_dialogue";function u({firstName:e,onBlockUser:t,onClearModal:n}){let s=(0,l.ZP)(),u=(0,o.HG)(),p=(0,r.nk)(s._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:e}).join(""),m=(0,r.nk)(s._('Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other\u2019s profiles.', 'blockUser.modal.description', 'explanation of what blocking another user means'),{firstName:e});return u?(0,d.jsxs)(a.ZP,{accessibilityModalLabel:p,footer:(0,d.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,onClick:n,size:"lg",text:s._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user')})}),(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:t,size:"lg",text:s._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user')})})]}),heading:p,onDismiss:n,role:"alertdialog",size:"md",children:[(0,d.jsx)(i.xu,{"data-test-id":"block-text",marginEnd:6,marginStart:6,children:(0,d.jsx)(i.xv,{children:m})}),(0,d.jsx)(i.xu,{marginEnd:6,marginStart:6,marginTop:4,children:(0,d.jsx)(i.xv,{color:"default",weight:"bold",children:(0,d.jsx)(i.rU,{href:c,target:"blank",children:s._('Learn more', 'link to help center to learn more about blocking', 'link to help center to learn more about blocking')})})})]}):(0,d.jsxs)(a.ZP,{accessibilityModalLabel:p,mobileHideCloseIcon:!0,onDismiss:n,type:"block_button",children:[(0,d.jsx)(i.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,d.jsx)(i.X6,{accessibilityLevel:1,size:"500",children:p})}),(0,d.jsx)(i.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,d.jsx)(i.xv,{children:m})}),(0,d.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,onClick:n,size:"md",text:s._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user')})}),(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:t,size:"md",text:s._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user')})})]})]})}},27460:(e,t,n)=>{"use strict";n.d(t,{f:()=>j,l:()=>R});var i=n(667294),a=n(702664),l=n(216167),r=n(224796),s=n(587703),o=n(658583),d=n(622541),c=n(305657),u=n(957753),p=n(820428),m=n(857916),h=n(508218),g=n(340523),_=n(182962),y=n(891276),f=n(5859),b=n(666698),v=n(731714),x=n(191313),k=n(217058),P=n(722363),S=n(407053),w=n(758939),T=n(373236),I=n(546689),A=n(844998),E=n(953565);let C=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),j=()=>{let e=(0,s.Z)(),t=(0,g.F)(),n=(0,a.useDispatch)(),{country:j,countryFromHostName:R,countryFromIp:L,regionFromIp:F,userAgent:{isTablet:D,isMobile:O}}=(0,f.B)(),z=(0,_.Z)(),M=(0,P.Z)();return(0,i.useCallback)(async(i,a,s="/",g={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},_)=>{z();let f=!D&&!O,{isAutologin:P,isSwitchAccount:N,noLocationReplace:Z,recaptchaV3Token:B,noImmediateRedirect:U,useAlternativeResourceCall:K,trigger:V,accountUnlinked:H}=g;v.Z.setItem(r.V6,(0,h.nY)(i));let G=t=>{e({..._,event_type:t,aux_data:{..._.aux_data,upsell_reason:_.aux_data?.upsell_reason||(P?"autologin":v.Z.getItem(r.bg)||null),upsell_view_count:v.Z.getItem(r.w0)||0}}),7536===t&&v.Z.setItem(r.w0,0)},$={get_user:!0,...i,app_type_from_client:6,recaptchaV3Token:B},W=(0,I.t_)();W&&($={...$,visited_pages_before_login:W});let q=(0,I.OJ)();q&&($={...$,referrer:q});let Y=l.Z.create("UserSessionResource",$).callCreate();if(K&&i.username_or_email&&i.password){let e=new FormData;e.append("username",i.username_or_email),e.append("password",i.password);let t={method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,c.getCsrfToken)()||"","X-Requested-With":"XMLHttpRequest"}};Y=fetch("/resource/UserSessionResource/create/",t).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>Promise.reject(e))}try{P?(0,k.dy)({event:"login_api_call_start",provider:i.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_start",provider:(0,h.nY)(i)}),G(7534),M({action:P?"autologin":"login",event:"attempt",type:(0,h.lp)(i),trigger:V});let e=await Y;P?(0,k.dy)({event:"login_api_call_success",provider:i.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_success",provider:(0,h.nY)(i)}),n(C(e.resource_response.data.user));let l=e.client_context,r=e.resource_response.data.user.gatekeeper_experiments;if(r){let{active:e,triggerable:n}=r;e&&n||(0,E.nP)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!e),triggerable:String(!!n)}}),t.updateExperiments(e,n)}else(0,E.nP)("webapp.authentication.updateExperimentsFailed");l&&l.placed_experiences&&n((0,u.OD)(l.placed_experiences)),(0,w.Z)("authentication.login_success"),h.ZP.storeLoginCredentialsToBrowser(i),G(7536),M({action:P?"autologin":"login",event:"success",type:(0,h.lp)(i),trigger:V}),(0,p.Z)(),o.zN(d.e7.name),o.zN(d.x3.name),(0,x.Nh)(S.AA,1),"/"!==s&&(0,A.E)(!0),N?(0,b.Dm)().then(()=>{let t=`/${e.resource_response.data?.user.username||""}`+(H?`?message=${m.aU}`:"");window.location.href=t}):P&&!f||U||(0,T._)({forceFullPageNavigation:f,history:a,next:s,noLocationReplace:Z,origin:window.location}),(0,y.ko)({country:j,countryFromHostName:R,countryFromIp:L,regionFromIp:F,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(P?(0,k.dy)({event:"login_api_call_failure",provider:i.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_failure",provider:(0,h.nY)(i)}),1201!==e.api_error_code||P||f)throw G(7535),M({action:P?"autologin":"login",event:"fail",type:(0,h.lp)(i),trigger:V}),N&&(0,w.Z)("authentication.login_error"),e;if(a){let t={creds:i,next:s,phoneNumber:e.data.phone_number_end};a.push({pathname:"/login/mfa/",state:t})}}},[n,j,R,L,z,t,O,D,e,F,M])},R=()=>{let e=(0,g.F)(),t=(0,a.useDispatch)(),n=(0,_.Z)();return({client_context:i,resource_response:a})=>{let{data:l}=a;l&&(n(),t(C(l.user)));let r=l.user.gatekeeper_experiments;if(r){let{active:t,triggerable:n}=r;t&&n||(0,E.nP)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,E.nP)("webapp.crossDomainAutologin.updateExperimentsFailed");i&&t((0,u.OD)(i.placed_experiences))}}},402287:(e,t,n)=>{"use strict";n.d(t,{$n:()=>b,A4:()=>P,CE:()=>h,ET:()=>E,F$:()=>f,Kw:()=>I,Nv:()=>T,PA:()=>k,X_:()=>A,d9:()=>v,e1:()=>m,o4:()=>w,vB:()=>_});var i=n(782677),a=n(216167),l=n(107366),r=n(227258),s=n(827625),o=n(821419),d=n(64819),c=n(430408),u=n(539426),p=n(937310);function m(e){return t=>{let{boardId:n,sectionIdBefore:i,sectionIdAfter:a,sourceSectionId:r,targetSectionId:s}=e;t((0,d._f)({feedType:p.Z.BOARD_SECTIONS,feedId:n,itemType:"boardsection",sourceItemId:r,targetItemId:s}));let o=Object.freeze({});return i&&(o={...o,section_before:i}),a&&(o={...o,section_after:a}),(0,l.Z)({url:`/v3/board/sections/${r}/reorder/`,method:"POST",data:o})}}function h(e,t){return n=>n((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}function g(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function _({boardId:e,sourceBoardId:t="",sourceSectionId:n="",name:i,nameSource:l,pinImport:r,initialPinIds:u=[]},m,h,_){let y=0;"RECOMMENDATION"===l?y=1:"EDITED_RECOMMENDATION"===l&&(y=2);let f={board_id:e,initial_pins:r&&!r.all?r.pinIds:u,name:i,name_source:y,...h?{orbac_subject_id:h}:Object.freeze({})};return i=>a.Z.create("BoardSectionResource",f).callCreate({showError:!1}).then(({resource_response:{data:a}})=>{_({event_type:7100,object_id_str:a.id}),i(g(e,a)),i((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),i((0,o.Tq)(e,"pin_count")),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:h}));let{all:l,pinIds:u}=r||{all:!1,pinIds:[]};return l?new Promise((l,r)=>i((0,c.Z)({inverseSelection:!0,selectedPinIds:u,source:{boardId:t||e,sectionId:n||null},target:{boardId:e,sectionId:a.id}},m)).then(()=>l(a)).catch(r)):(u.length>0&&i((0,d.N8)(p.Z.BOARDFEED,e)),a)})}function y(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function f(e,t,n){return i=>a.Z.create("BoardSectionEditResource",{section_id:t,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete({showError:!1}).then(()=>Promise.all([i(y(e,t)),i((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),i((0,o.Tq)(e,"pin_count")),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:n}))]))}function b(e,t,n,i){return l=>a.Z.create("BoardSectionEditResource",{section_id:t,title:n,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then(t=>{let n=t.resource_response.data;return l(t=>{let i=n.board;i&&i.id!==e?(t(y(e,n.id??"")),t((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[n.id??""],itemType:"boardsection"})),t((0,o.Tq)(e,"pin_count")),t(g(i.id??"",n)),t((0,d.vX)({feedId:i.id??"",feedType:p.Z.BOARD_SECTIONS,itemIds:[n.id??""],itemType:"boardsection"})),t((0,o.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:n}})}),l((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:i})),n})}function v(e,t,n){return i=>(0,l.Z)({url:`/v3/board/sections/${t}/merge/${n}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(a=>Promise.all([i(y(e,t)),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e})),i(h(n)),i((0,d.N8)(p.Z.BOARD_SECTION_PINS,n))]).then(()=>a))}let x=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t}),k=(e,t)=>n=>a.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then(i=>(n(x(e,t)),i.resource_response.data)),P=e=>t=>a.Z.create("BoardSectionResource",{section_id:e}).callGet().then(n=>{let i=n.resource_response.data||{id:"",title:""};return t(x(e,i)),n}),S=(e,t,n,i)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:n,pinCount:i}}),w=(e,t,n,i)=>l=>{let r=a.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return l(S(e,t,n,i)),r},T=(e,t,n,l)=>r=>{let o={board_id:e,initial_pins:t,name:n},c="BoardSectionResource";return a.Z.create(c,o).callCreate().then(n=>{let a=n.resource_response.data,m=(0,i.Fv)(a,u.Z[c]);return l({event_type:7100,object_id_str:a.id}),r((0,s.XM)(c,o,n,m)),r(g(e,a)),r((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),t.length&&r({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:a.id},pinIds:t}}),n})},I=e=>t=>{let{source:n,target:l,pinIds:r}=e;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||l.boardId!==n.boardId){let e={board_id:l.boardId,pin_ids:r,section_id:l.sectionId};return a.Z.create("BulkEditResource",e).callUpdate()}if(l.sectionId){let e={section_id:l.sectionId,pins:r},n="BoardSectionEditResource";return a.Z.create(n,e).callUpdate().then(a=>{let l=(0,i.Fv)(a.resource_response.data,u.Z[n]);return t((0,s.XM)(n,e,a,l)),a})}let o={section_id:n.sectionId,pins:r};return a.Z.create("BoardSectionPinsResource",o).callDelete()},A=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:n,target:i,excludePinIds:l}=e,r={board_id:n.boardId,new_board_id:i.boardId,pin_ids:l,old_section_id:n.sectionId,new_section_id:i.sectionId};return a.Z.create("BulkEditSelectAllResource",r).callUpdate()},E=(e,t,n,i,a)=>l=>l(T(e,[],t,a)).then(t=>{let a=t.resource_response.data.id;return l(A({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:a},excludePinIds:n}))})},821419:(e,t,n)=>{"use strict";n.d(t,{Br:()=>m,Cr:()=>T,K8:()=>b,L1:()=>D,Tq:()=>y,YQ:()=>F,YV:()=>w,ZP:()=>I,aX:()=>A,eo:()=>g,fJ:()=>z,md:()=>h,oG:()=>_,oL:()=>E,of:()=>v,xH:()=>f,xQ:()=>x,xR:()=>L,xk:()=>P,yT:()=>p,zS:()=>O});var i=n(216167),a=n(481177),l=n(107366),r=n(227258),s=n(827625),o=n(281871),d=n(885837),c=n(64819),u=n(937310);function p(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function m(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function g({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}let _=(e,t)=>n=>n((0,r.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function y(e,t,n){return(0,r.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function f(e,t,n){return i=>(0,l.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:n?{orbac_subject_id:n}:{}}).then(()=>Promise.all([i(g({boardId:e})),i(y(t,"pin_count")),i((0,c.N8)(u.Z.BOARD_SECTIONS,t))]))}function b(e){return t=>{e&&(0,d.Q)(e).forEach(e=>{t(e)})}}let v=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),x=e=>_(e,"pin_count");function k(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function P(e,t){return n=>(n(k(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function S(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function w(e,t){return n=>(n(S(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}let T=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),I=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function A(e,t,n){let l={name:e,privacy:a.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>i.Z.create("BoardResource",l).callCreate().then(n=>{let i=n.resource_response.data;return e(t&&(0,s.jB)("BoardsResource",(0,o.Z)(t,!1))),i})}function E(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}let C=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),j=(e,t,n)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}),R=(e,t,n,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:i}}),L=(e,t,n)=>async a=>{a(C(e,t));let l=await i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return l.resource_response.error||n({event_type:29,object_id_str:e}),l},F=(e,t,n,a,l,r)=>async s=>{let o="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";s(j(e,a?.id??"",n));try{let n=await i.Z.create(o,{board_id:e,field_set_key:"boardEdit",invited_user_id:a?.id??"",...r?{orbac_subject_id:r}:{}}).callDelete();n.resource_response.error||l({event_type:"accepted"===t?25:29,object_id_str:e})}catch(i){s(R(e,n,t,[a]))}},D=(e,t,n,a)=>l=>{let r=i.Z.create("BoardResource",{board_id:n}).callDelete();return l(g({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:a})),r},O=(e,t)=>n=>i.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(i=>(n((0,c.Qv)("archived-boards",[{id:e,type:"board"}])),n(k(e,t)),i)),z=(e,t)=>n=>i.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(i=>(n((0,c.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),n(S(e)),i))},265330:(e,t,n)=>{"use strict";n.d(t,{V:()=>r,u:()=>l});var i=n(216167),a=n(821419);let l=e=>t=>i.Z.create("BoardResource",{board_id:e}).callGet().then(e=>{let n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,a.yT)(n)),e});function r(e,t,n){return(l,r)=>{let{boards:s}=r(),o=s[e],d=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},c={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,...t.name&&{name:t.name},privacy:t.privacy,sensitivity:t.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...d};return l((0,a.yT)({...c,id:e})),i.Z.create("BoardResource",{...c,board_id:e}).callUpdate().then(e=>{let n=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(n.allow_homefeed_recommendations=t.allow_homefeed_recommendations),l((0,a.yT)(n)),e}).catch(e=>{throw o&&l((0,a.yT)(o)),e})}}},930822:(e,t,n)=>{"use strict";n.d(t,{DD:()=>u,lg:()=>p,Th:()=>h,YH:()=>o,wH:()=>s,IU:()=>m,L8:()=>c});var i=n(216167),a=n(107366),l=n(64819),r=n(937310);function s({didItDataId:e,isLikedByMe:t}){return n=>((0,a.Z)({url:`/v3/did_it/${e}/like/`,method:t?"DELETE":"POST"}),n({type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:!t}}))}function o({didItDataId:e,isMarkedHelpfulByMe:t}){return n=>((0,a.Z)({url:`/v3/helpful/2/${e}/`,method:t?"DELETE":"POST"}),n({type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:!t}}))}function d(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function u({aggregatedPinDataId:e,details:t,fromUnifiedComment:n,image_signatures:a,pin_id:s,username:o,updateParentDidItCount:d}){let u={aggregatedPinDataId:e,details:t,image_signatures:a,pin_id:s};return t=>i.Z.create("DidItActivityResource",u).callCreate().then(i=>{let a=i.resource_response.data;t({type:"PIN_DID_IT",payload:{id:s,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:a}}),t((0,l.vX)({feedId:e,feedType:n?r.Z.UNIFIED_COMMENTS:r.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type})),t((0,l.vX)({feedId:o,feedType:r.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type})),d&&t(c(e,1))},()=>{})}function p({aggregatedPinDataId:e,feedType:t,id:n,isOwnedByMe:a,pinId:s,username:o,updateParentDidItCount:u}){return p=>{i.Z.create("DidItActivityResource",{user_did_it_data_id:n,pinId:s}).callDelete().then(()=>{a&&p({type:"PIN_DID_IT",payload:{id:s,value:!1}}),p(d(n)),p((0,l.EX)({feedId:e??"",feedType:t||r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,l.EX)({feedId:o,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,l.EX)({feedId:o,feedType:r.Z.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&p(c(n,-1))},()=>{})}}function m({id:e,details:t,image_signatures:n,pinId:a}){let l={details:t,image_signatures:n,user_did_it_data_id:e,pin_id:a};return e=>{i.Z.create("DidItActivityResource",l).callUpdate().then(t=>{let n=t.resource_response.data;e({type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:n}})},()=>{})}}function h(e,t,n,i,s){return o=>{(0,a.Z)({url:`/v3/did_it/${n}/flag/`,method:"PUT",data:{reason:i,detailed_reasons:t,explanation:void 0}}).then(()=>{o(d(n)),e&&o((0,l.EX)({feedId:e,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),o((0,l.EX)({feedId:s,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"}))},()=>{})}}},64819:(e,t,n)=>{"use strict";function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>r,N8:()=>a,Qv:()=>l,_f:()=>i,vX:()=>s});let l=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},430408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,S:()=>p});var i=n(216167),a=n(821419),l=n(402287),r=n(64819),s=n(937310),o=n(622888);let d=e=>t=>{o.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},c=e=>(0,r.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId);function u(e,t){let{source:n,target:i}=e;i.boardId!==n.boardId?(t((0,a.Tq)(n.boardId,"pin_count")),t((0,a.Tq)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t((0,a.Tq)(i.boardId,"pin_count")),n.sectionId&&t((0,l.CE)(n.sectionId)),i.sectionId&&t((0,l.CE)(i.sectionId))}function p(e){return t=>{let{selectedPinIds:n,source:i,target:a}=e;t((0,r.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,r.vX)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),u(e,t)}}function m(e,t){return n=>(function(e,t,n){let{inverseSelection:a,selectedPinIds:l,source:o,target:u,orbacSubjectId:p}=e;if(o.boardId===u.boardId&&(o.sectionId||null)===(u.sectionId||null))return Promise.reject();if(a){let e={board_id:o.boardId,new_board_id:u.boardId,old_section_id:o.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:l,orbac_subject_id:p};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(c(o)),t(c(u))])).catch(d(n))}{let e=(e,n)=>{t((0,r.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:l,itemType:"pin"})),t((0,r.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:l,itemType:"pin"}))};e(o,u);let a=()=>e(u,o);if(u.boardId===o.boardId){if(u.sectionId){let e={section_id:u.sectionId,pins:l,orbac_subject_id:p};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{a(),d(n)(e)})}{let e={section_id:o.sectionId,pins:l,orbac_subject_id:p};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{a(),d(n)(e)})}}{let e={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:l,orbac_subject_id:p};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{a(),d(n)(e)})}}})(e,n,t).then(()=>u(e,n))}},176063:(e,t,n)=>{"use strict";function i(e){return{type:"PIN_NAV_CONTEXT_CREATE",payload:e}}function a(){return{type:"PIN_NAV_CONTEXT_DELETE"}}n.d(t,{H:()=>a,k:()=>i})},409403:(e,t,n)=>{"use strict";function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function a(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function l(e){return{type:"PIN_SAVE",payload:e}}function r(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function o({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function d({id:e,text:t,nodeId:n}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:n}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function u({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{Gb:()=>r,I1:()=>o,Ib:()=>c,Ur:()=>l,Vw:()=>s,b9:()=>p,i0:()=>u,mO:()=>a,q1:()=>d,yR:()=>i,yj:()=>m})},117512:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,i:()=>c});var i=n(782677),a=n(216167),l=n(827625),r=n(386129),s=n(539426);let o=(e,t,n,i)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:n,pinnerId:i}}),d=(e,t)=>new Promise(n=>{e?(0,r.eR)(e).then(e=>{n(e)}):n(t)}),c=e=>t=>{let{method:n,guid:r,image_base64:c,image_url:u}=e;return d(c,u).then(d=>{let c={...e,method:"button"!==n||r?n:"button_external",image_url:d,image_base64:void 0},u="PinResource";return a.Z.create(u,c).callCreate().then(e=>{let n=(0,i.Fv)(e.resource_response.data,s.Z[u]);t((0,l.XM)(u,c,e,n));let a=e.resource_response.data,{board:{id:r},pinner:{id:d},section:p}=a,m=p&&p.id;return t(o(a.id,r,m,d)),e})})}},232518:(e,t,n)=>{"use strict";function i(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:()=>i})},410391:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,q:()=>d});var i=n(216167),a=n(821419),l=n(64819),r=n(937310);function s(e){return t=>{let{inSelectAll:n,selectedPinIds:s,orbacSubjectId:o,source:{boardId:d,sectionId:c}}=e;return t((0,a.xQ)(d)),t((0,l.EX)({feedId:c||d,feedType:c?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,inverseSelection:n,itemIds:s,itemType:"pin"})),i.Z.create(n?"BulkEditSelectAllResource":"BulkEditResource",{board_id:d,section_id:c,pin_ids:s,orbac_subject_id:o}).callDelete()}}let o=(e,t,n,i)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}),d=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:a})=>(l,r)=>{let s=i.Z.create("PinResource",{id:e,client_tracking_params:a}).callDelete(),{session:{userId:d}}=r();return l(o(e,t,n,d)),s}},291867:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l,a:()=>a});var i=n(107366);function a(e,t){return async n=>{let{resource_response:a}=await (0,i.Z)({url:`/v3/storypins/${e}/mentions/`,method:"DELETE"});return n({type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}),a}}function l(e){return async t=>{let{resource_response:n}=await (0,i.Z)({url:`/v3/aggregated_comments/${e}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),{data:a}=n;return t({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:a.id,tagged_users:a.tagged_users}}),n}}},137525:(e,t,n)=>{"use strict";n.d(t,{G3:()=>u,Gy:()=>c,Ps:()=>o,fA:()=>p,xQ:()=>d});var i=n(782677),a=n(216167),l=n(827625),r=n(539426);function s(e,t,n){return{type:"UPDATE_PIN_REACTION_COUNT",payload:{increment:t,reactionType:n,pinId:e}}}function o(e,t){return s(e,!1,t)}function d(e,t){return s(e,!0,t)}let c=(e,t,n,s,o)=>d=>{let c={pin_id:e,user_id:s,reaction_type:t,reaction_pin_id:n,action_type:"reaction",client_tracking_parameters:o},u="ReactionsResource";return a.Z.create(u,c).callUpdate().then(e=>{let t=(0,i.Fv)(e.resource_response.data,r.Z[u]);d((0,l.XM)(u,c,e,t))})},u=(e,t,n,s)=>o=>{let d={pin_id:e,user_id:n,reaction_pin_id:t,action_type:"unreaction",client_tracking_parameters:s},c="ReactionsResource";return a.Z.create(c,d).callDelete().then(e=>{let t=(0,i.Fv)(e.resource_response.data,r.Z[c]);o((0,l.XM)(c,d,e,t))})};function p(e,t,n){return{type:"PIN_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}},170568:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>o,FK:()=>s,H5:()=>b,MI:()=>h,O0:()=>m,QZ:()=>r,W:()=>y,WF:()=>c,Wz:()=>v,a5:()=>u,dz:()=>_,e0:()=>p,e2:()=>l,iW:()=>f,n1:()=>a,rm:()=>d,xu:()=>g});var i=n(96157);let a=()=>({type:"DISMISS_UNAUTH_SAVE"}),l=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),r=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),s=()=>({type:"HIDE_NAV_FOOTER"}),o=()=>({type:"SHOW_NAV_FOOTER"}),d=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),c=()=>({type:"SHOW_REPIN_ANIMATION"}),u=()=>({type:"HIDE_REPIN_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),m=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),h=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),g=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),_=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),y=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),f=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},b=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),v=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,i.bo)(e)?"today":(0,i.dr)(e)?"ideas":t&&(0,i.dZ)(e,t)?"own_section":t&&(0,i.J)(e,t)?"own_board":(0,i.OJ)(e)?"section":(0,i.am)(e)?"board":(0,i.L6)(e)?"closeup":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.En)(e)?"search":(0,i.$V)(e)?"topic":"":""})},70982:(e,t,n)=>{"use strict";n.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>p,yA:()=>o});var i=n(216167),a=n(107366),l=n(386129);function r(e,t,n,a){return i.Z.create("UserFollowResource",{user_id:e,invite_code:a||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:n})}function s(e,t=null,n,i){return a=>{r(e,t,n,i).callCreate().catch(()=>a((0,l.P_)(e,!1))),a((0,l.P_)(e,!0))}}function o(e,t=null,n,i){return async a=>{a((0,l.P_)(e,!0)),await r(e,t,n,i).callCreate().catch(t=>{throw a((0,l.P_)(e,!1)),t})}}function d(e,t=null,n){return i=>{r(e,t,n).callDelete().catch(()=>i((0,l.P_)(e,!0))),i((0,l.P_)(e,!1))}}function c(e,t=null,n){return async i=>{i((0,l.P_)(e,!1)),await r(e,t,n).callDelete().catch(t=>{throw i((0,l.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,a.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},386129:(e,t,n)=>{"use strict";n.d(t,{Ge:()=>d,JS:()=>r,OF:()=>v,P_:()=>s,Q_:()=>p,b8:()=>m,eR:()=>b,h2:()=>c,h6:()=>u});var i=n(216167),a=n(107366),l=n(666698);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:n,blockContext:a,logContextEvent:l})=>async r=>{r(o(e,!0));let s=await i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:a}).callCreate().catch(()=>r(o(e,!1)));return l({event_type:54,object_id_str:e}),s},c=(e,t)=>async n=>{n(o(e,!1));let a=await i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>n(o(e,!0)));return t({event_type:55,object_id_str:e}),a};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>{let n=i.Z.create("UserStateResource",{state:e,value:t});return n.callCreate()},m=(e,t,n)=>(i,r)=>{(0,a.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{n({event_type:48,object_id_str:r().session.userId}),e(),(0,l.Dm)()},t)},h=e=>e>=200&&e<400,g=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",_=async(e,t,n)=>{let a=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(a.resource_response.data[e]){let i=a.resource_response.data[e],{status:l,signature:r}=i;if("processing"===l||"registered"===l)setTimeout(async()=>{_(e,t,n)},5e3);else if("succeeded"===l){let e=g(r);t(e)}else n()}else n()},y=(e,t,n,a,l)=>{let r=new FormData;return r.append("img",e),i.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:i,upload_url:r,upload_parameters:s}=t.resource_response.data,o=new XMLHttpRequest;o.open("POST",r,!0),o.onload=()=>{h(o.status)?(n(100),_(i,a,l)):l()},o.upload.onprogress=e=>{let t=Math.round(100*e.loaded/e.total);n(t)};let d=new FormData;for(let e in s)d.append(e,s[e]);d.append("file",e),o.send(d)}},()=>{l()})},f=e=>new Promise((t,n)=>{y(e,"pinimage",()=>{},e=>{t(e)},e=>{n(e)})}),b=e=>new Promise((t,n)=>{"string"==typeof e?e.startsWith("data")&&f(function(e,t=512){let n=e.split(";"),i=n[0].split(":")[1],a=n[1].split(",")[1],l=atob(a),r=[];for(let e=0;e<l.length;e+=t){let n=l.slice(e,e+t),i=Array(n.length);for(let e=0;e<n.length;e+=1)i[e]=n.charCodeAt(e);let a=new Uint8Array(i);r.push(a)}let s=new Blob(r,{type:i});return s}(e)).then(e=>t(e)):n("Invalid Image")}),v=e=>()=>(0,a.Z)({url:"/v3/register/exists/",data:{email:e}})},539426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(949457);let a={AggregatedCommentResource:i.rm,AggregatedCommentFeedResource:i.LR,AggregatedCommentReplyResource:i.rm,AggregatedCommentReplyFeedResource:i.LR,AggregatedActivityFeedResource:i.LR,BestPinsFeedAltResource:i.LR,BoardArchiveResource:i.LR,BoardContentRecommendationResource:i.LR,BoardFeedResource:i.LR,BoardFollowingResource:i.LR,BoardInviteResource:i.sf,BoardInvitesResource:i.Ht,BoardlessPinsResource:i.LR,BoardPickerBoardsResource:{all_boards:i.LR,boards_shortlist:i.LR},BoardSectionEditResource:i._F,BoardSectionsRepinResource:i.LR,BoardSectionsResource:i.LR,BoardsFeedResource:i.LR,BoardResource:i.IY,BoardSectionResource:i._F,BoardSectionPinsResource:i.LR,BoardToolsFeedResource:i.LR,ContactRequestsResource:i.LR,ConversationsResource:i.LR,ConversationMessagesResource:i.dq,DidItCommentsResource:i.LR,DidItLikedByResource:i.Gn,DidItUserFeedResource:i.LR,HolidaySpotlightResource:i.LR,InterestFollowingResource:i.LR,InterestResource:i.cC,MoreIdeasTabsBoardsResource:i.LR,NewsHubResource:i.LR,NewsHubDetailsResource:i.LR,NewsHubSummaryResource:i.t6,NuxInterestsResource:i.LR,NuxTopicToCreatorsResource:i.Gn,PinResource:i.Cj,PinCatalogResource:i.LR,PinsFromBrandResource:i.LR,ReactionsResource:i.fE,RelatedArticlesResource:i.LR,RelatedInterestsResource:i.LR,RelatedModulesResource:i.LR,RelatedPinFeedResource:i.LR,RelatedProductFeedResource:i.LR,RelatedStreamResource:i.LR,RepinResource:i.Cj,BaseSearchResource:{results:i.LR},SearchResource:i.LR,SectionToolsFeedResource:i.LR,ShareSuggestionsTypeaheadResource:{items:i.LR},ShoppingFeedModularizedResource:i.LR,StoryFeedResource:i.LR,StoryPinTaggedProductsResource:i.LR,SuggestedCreatorFollowsResource:i.Gn,TodayArticleFeedResource:i.LR,IdeasHubTodayArticlesResource:i.LR,TodayArticleResource:i.iF,TodayTabInterestFeedResource:i.LR,TodayTabResource:i.LR,TopicFeedResource:i.LR,UnifiedCommentsResource:i.LR,UserActivityPinsResource:i.LR,UserFollowingResource:i.LR,UserRecentActivityResource:i.LR,UserHomefeedResource:i.LR,UserPinsResource:i.LR,UserSettingsResource:i.EA,UserStoryPinsFeedResource:i.LR,UserResource:i.EA,VideosFeedResource:i.LR,VisualLiveSearchResource:{results:i.LR},VisualLiveSearchProductFeedResource:i.LR,VisualSearchFlashlightUnifiedResource:i.LR,SeoTier1CandidateResource:i.LR},l=a},949457:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>d,EA:()=>l,Gn:()=>w,Ht:()=>S,IY:()=>o,LR:()=>I,_F:()=>p,cC:()=>b,dq:()=>h,fE:()=>u,iF:()=>f,rm:()=>r,sN:()=>T,sf:()=>v,t6:()=>P});var i=n(782677);let a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),l=new i.fK.Entity(a.user),r=new i.fK.Entity(a.aggregatedComment,{user:l,tagged_users:[l]}),s=new i.fK.Entity(a.article),o=new i.fK.Entity(a.board),d=new i.fK.Entity(a.pin),c=new i.fK.Entity(a.reaction),u=new i.fK.Array(c),p=new i.fK.Entity(a.boardsection),m=new i.fK.Entity(a.conversationMessage,{sender:l,users:[l],board:o,pin:d,user:l}),h=new i.fK.Array(m),g=new i.fK.Entity(a.contactrequest),_=new i.fK.Entity(a.story),y=new i.fK.Entity(a.triedit),f=new i.fK.Entity(a.todayArticle,{article_creator_user:l,content_pin:d,content_pin_official_user:l,video_pin:d}),b=new i.fK.Entity(a.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),v=new i.fK.Entity(a.invite,{invited_by_user:l,invited_user:l,board:o},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),x=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},k=new i.fK.Union({user:l,board:o,invite:v,pin:d,topic:b,triedit:y},x),P=new i.fK.Entity(a.notification,{content_items:[{content_object:k}],header_icon_objects:[k]}),S=new i.fK.Array(v),w=new i.fK.Array(l),T=new i.fK.Array(o),I=new i.fK.Array({aggregatedComment:r,article:s,board:o,boardsection:p,contactrequest:g,conversationMessage:m,notification:P,pin:d,story:_,todayArticle:f,topic:b,triedit:y,user:l},x,e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});_.define({objects:I})},937310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},800858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(442279),a=n(937310);let l=(0,i.P1)((e,t,n)=>n,({feeds:e},t)=>e[`${a.Z.UNIFIED_COMMENTS}:${t}`],({didItData:e})=>e,(e,t,n)=>t?.map(({id:t,type:i})=>{let a="aggregatedcomment"===i.toLowerCase()?e[t]:n[t];return a}).filter(e=>e)||[]),r=l},125768:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(702664),a=n(616550),l=n(883119),r=n(224796),s=n(587703),o=n(525364),d=n(140017),c=n(340523),u=n(731714),p=n(217058),m=n(623409),h=n(554786),g=n(785893);function _({alignIconLeft:e,bgColor:t,color:n,disableRedirect:_=!1,fallbackUrl:y,icon:f="arrow-back",onTouch:b,padding:v,placement:x,shouldUseFallbackUrl:k,size:P="lg",viewParameter:S,viewType:w,fallbackUrlForExp:T}){let I=(0,d.ZP)(),A=(0,h.HG)(),{checkExperiment:E}=(0,c.F)(),C=(0,a.k6)(),j=(0,a.TH)(),R=(0,i.useSelector)(e=>e.session.isAuthenticated),L=(0,s.Z)(),F=(0,m.Z)(),D=!R&&T&&"/ideas"===y,{viewType:O,viewParameter:z}=(0,o.SU)(),[M,N]=w?[w,S]:[O,z],Z=()=>j.search&&j.search.includes("?nativeShouldDismiss=true"),B=()=>{let e=u.Z.getItem(r.pm);j.key||"/ideas"!==y?(0,p.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(x)}.is_auth_${String(R)}`),F({action:"click",item:"back-button"}),M&&L({view_type:M,view_parameter:N,element:34,event_type:102}),b&&b(),_||((!j.key||j.state&&"redirect"===j.state.referrer||k)&&y?D?A&&E("web_unauth_backbutton_navigation").anyEnabled?(C.push(T||y),(0,p.My)("web.unauth.back_button.l1interest")):!A&&E("mweb_unauth_backbutton_navigation").anyEnabled?(C.push(T||y),(0,p.My)("mweb.unauth.back_button.l1interest")):C.push(y):C.push(y):j.pathname.includes("/password/reset/")&&Z()?C.push("/login/?dismissWebview=true"):C.goBack())};return(0,g.jsx)(l.xu,{"data-test-id":"back-button",children:e?(0,g.jsx)(l.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===f?-1:-2,width:48,children:(0,g.jsx)(l.hU,{accessibilityLabel:I._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:f,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:B,padding:"auto"!==v?v:2,size:P})}):(0,g.jsx)(l.hU,{accessibilityLabel:I._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:f,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:B,padding:"auto"!==v?v:2,size:P})})}},529081:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});let i=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140},615806:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(216167),a=n(237040),l=n(97032),r=n(529081);function s({checkExperiment:e,history:t,i18n:n,logContextEvent:s,onSuccess:o,onUndo:d,originalPinId:c,pinId:u,trackingParams:p,disableRepinAnimation:m,showNewUserSavetoProfileAnimation:h,showRepinConfirmation:g,historyPush:_,savePinId:y}){return(f,b)=>{let{pins:v,session:x}=b(),{userId:k}=x,P=v[u],S=n._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.');return i.Z.create("BoardResource",{name:S,layout:"quick_saves",protected:!1,return_existing:!0,user_id:k}).callCreate().then(i=>{let b=i.resource_response.data;(0,a.ib)({checkExperiment:e,isAuthMweb:x.isAuthenticated&&(x.isMobile||x.isTablet)});let v=new l.Z({boardId:b.id,dispatch:f,isQuickSave:!0,history:t,i18n:n,onSuccess:o,onUndo:d,originalPinId:c,pinId:u,section:void 0,showNewUserSavetoProfileAnimation:h,showRepinToasts:e=>g?g(e,m):void 0,trackingParams:p,userId:x.userId,historyPush:_,savePinId:y,pinData:{trackingParams:P?P.tracking_params:void 0,viewParameter:P?(0,r.A)({hasRichMetadata:!!P.rich_metadata,hasRichMetadataProducts:!!P.rich_metadata?.products,hasRichMetadataArticle:!!P.rich_metadata?.article,hasRichMetadataRecipe:!!P.rich_metadata?.recipe}):void 0,pinnedToBoardId:P?P.pinned_to_board?.id:void 0}});return v.processRepin(s)})}}},572895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(702664),a=n(616550),l=n(587703),r=n(140017),s=n(602377),o=n(623409),d=n(413009),c=n(323294),u=n(942397),p=n(739382),m=n(358589),h=n(386008);function g({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:g,hasRichMetadataArticle:_,hasRichMetadataRecipe:y,imagesUrls:f,isFromUnauthContextMenu:b,isStoryPin:v,pinId:x,nodeId:k,attributionLabel:P}){let S=(0,l.Z)(),w=(0,o.Z)(),{isAuthenticated:T,userId:I}=(0,i.useSelector)(({session:e})=>e),A=(0,m.Z)(),E=(0,r.ZP)(),C=(0,h.mN)()(I),j=(0,a.TH)();b=b??!1;let R=(0,d.Z)({embedSrc:e,embedType:t,imagesUrls:f,pinId:x,nodeId:k,isFromUnauthContextMenu:b,attributionLabel:P});return e=>{w({action:"click",item:"save-button"}),b||S({view_type:3,view_parameter:x?(0,c.CK)({hasRichMetadata:n,hasRichMetadataProducts:g,hasRichMetadataArticle:_,hasRichMetadataRecipe:y}):67,element:48,event_type:102,aux_data:{...T?{login_state:(0,u.xT)(C)?s.Z.LIMITED:s.Z.DEFAULT}:{}}}),v&&S({component:229,element:10943,event_type:102,view_type:3,view_parameter:157}),!T&&(e.preventDefault(),R&&R.onSave()),A({fn:()=>{},modalHeader:(0,p.Bx)(E),nextLocation:(0,p.Qj)(j)})(e)}}},499728:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(702664),a=n(413009),l=n(256918);function r({embedSrc:e,embedType:t,imagesUrls:n,pinId:r,nodeId:s,pinnerId:o}){let{isAuthenticated:d,userId:c}=(0,i.useSelector)(({session:e})=>e),u=(0,l.M)(),p=(0,a.Z)({embedSrc:e,embedType:t,imagesUrls:n,pinId:r,nodeId:s});return!!r&&(d?!!(o===c||u?.isSaved(r)):p?.isSaved??!1)}},274836:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(702664),a=n(616550),l=n(140017),r=n(13848),s=n(413009),o=n(638365),d=n(358589),c=n(454514),u=n(265330),p=n(402287),m=n(410391),h=n(785893);let g=({boardId:e,boardSectionId:t,clientTrackingParams:n,dispatch:i,i18n:a,newPinId:l,onError:r,onSuccess:s,originalPinId:o,shouldRefresh:d=!1,showToast:g,sourcePinId:_,undoSavedPin:y})=>i((0,m.q)({pinId:l,boardId:e,boardSectionId:t,clientTrackingParams:n})).then(()=>{o&&y(o),y(_),d&&(t&&i((0,p.A4)(t)),e&&i((0,u.u)(e))),g(({hideToast:e})=>(0,h.jsx)(c.ZP,{onHide:e,text:a._('Pin removed!', 'Utils.Unsave.Success', 'User removed their pin')})),s&&s()}).catch(()=>{g(({hideToast:e})=>(0,h.jsx)(c.ZP,{onHide:e,text:a._('Sorry! There was an error removing your Pin.', 'Utils.Unsave.Error', 'Error when user tried to remove pin'),type:"error"})),r?.()});var _=n(256918);function y({boardId:e,embedSrc:t,embedType:n,imagesUrls:c,pinId:u,nodeId:p,pinnerId:m,pinnedToBoardId:h,pinSectionId:y,trackingParams:f,showSingleToast:b,onError:v,shouldRefresh:x=!0}){let k=(0,i.useDispatch)(),P=(0,d.Z)(),S=(0,r.F9)()[b?"showOneToast":"showToast"],w=(0,l.ZP)(),T=(0,s.Z)({embedSrc:t,embedType:n,imagesUrls:c,pinId:u,nodeId:p}),I=(0,a.k6)(),A=(0,a.TH)(),E=(0,_.M)(),{isAuthenticated:C,userId:j}=(0,i.useSelector)(({session:e})=>e),R=(0,o.Z)(A.state?A.state.trackingParams:"",f),L=P({fn:()=>{if(!u||!e||!m){v?.();return}let t=m===j,n=!t&&E?.getSavedPinId(u)||u,i=t?I.goBack():void 0;g({boardId:!t&&h?h:e,boardSectionId:y??"",clientTrackingParams:R,dispatch:k,i18n:w,newPinId:n,onError:v,onSuccess:i,shouldRefresh:x,showToast:S,sourcePinId:u,undoSavedPin:E?.unsave??(()=>void 0)})}});return C?L:T?.onUnsave||(()=>void 0)}},256918:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,Q:()=>o});var i=n(667294),a=n(342513),l=n(785893);let{Provider:r,useMaybeHook:s}=(0,a.Z)("RepinContext");function o({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>n(n=>({...n,[e]:t})),unsave:e=>n(t=>({...t,[e]:null}))}),[t]);return(0,l.jsx)(r,{value:a,children:e})}},283970:(e,t,n)=>{"use strict";n.d(t,{H:()=>l,I:()=>a});var i=n(342513);let{Provider:a,useHook:l}=(0,i.Z)("ScreenSize")},898233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(667294),a=n(883119),l=n(510989),r=n(140017),s=n(608516),o=n(785893);let d=(0,i.lazy)(()=>Promise.all([n.e(93810),n.e(10472),n.e(15502),n.e(61116)]).then(n.bind(n,729564)));function c(e){let t=(0,r.ZP)();return(0,o.jsx)(l.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,o.jsx)(s.Z,{fallback:(0,o.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,o.jsx)(a.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,o.jsx)(d,{...e})})})}},41117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i,a=n(667294);n(167912);var l=n(883119),r=n(333739),s=n(140017),o=n(339001),d=n(217058),c=n(623409),u=n(554786),p=n(999624),m=n(38555),h=n(937875),g=n(785893);let _=void 0!==i?i:i=n(72177),y=({onTap:e,isOpen:t})=>{let n=(0,s.ZP)();return(0,g.jsx)(l.iP,{onTap:e,tapStyle:"compress",children:(0,g.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},display:"flex",justifyContent:"between",paddingY:5,children:[(0,g.jsx)(l.xv,{size:"300",weight:"bold",children:n._('Product details', 'productDetails.descriptionTap.text', 'text in tap area to open product description dropdown')}),(0,g.jsx)(l.JO,{accessibilityLabel:n._('Arrow forward', 'productDetails.openDropdown', 'accessibility label on button'),color:"default",icon:t?"arrow-down":"arrow-forward"})]})})};function f({onClickTitleOrDomain:e,pinKey:t}){let{data:n,childDataKey__DEPRECATED:i}=(0,r.sr)(_,t,{type:"pin",useLegacyAdapter:e=>e&&{closeupAttribution:e.closeup_attribution&&{domainUrl:e.closeup_attribution.domain_url},closeupUnifiedDescription:e.closeup_unified_description}}),f=(0,s.ZP)(),b=(0,u.ZP)(),v=n?.closeupAttribution?.domainUrl,x=(0,m.Z)(i),k=(0,h.j)({components:x||[],pinDescription:n?.closeupUnifiedDescription&&n.closeupUnifiedDescription.trim()}),[P,S]=(0,a.useState)(!1),w=(0,c.Z)();return(0,g.jsx)(l.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:k.length>0&&(0,g.jsxs)(l.xu,{marginTop:6,width:"100%",children:[(0,g.jsx)(y,{isOpen:P,onTap:()=>{S(!P),w({action:"click",item:"pdp-details"}),(0,d.My)("unauth.pdp.details.click",{action:P?"close":"open",device:b})}}),(0,g.jsx)(l.xu,{maxHeight:P?"75vh":"0vh",overflow:"scrollY",paddingX:4,children:(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},marginBottom:6,marginTop:2,children:[(0,g.jsx)(p.Z,{descriptions:k}),v&&(0,g.jsx)(l.xu,{marginTop:6,children:(0,g.jsx)(l.xv,{children:(0,o.nk)(f._('Ships from and sold by {{ userDomain }}', 'productDetails.productDescription.soldBy', 'Domain url of seller'),{userDomain:(0,g.jsx)(l.iP,{onTap:e,tapStyle:"compress",children:(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:v})},v)})})})]})})]})})}},844035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var i,a,l,r,s,o=n(667294),d=n(167912),c=n(883119),u=n(554646),p=n(7860),m=n(98068),h=n(214877),g=n(140017),_=n(339001),y=n(59545),f=n(567344),b=n(5859),v=n(916845),x=n(618429),k=n(687603),P=n(323294),S=n(19447);n(587703),n(995917),n(686769);var w=n(785893);void 0!==i||(i=n(824929)),n(930837),void 0!==a||(a=n(338453)),void 0!==l||(l=n(495041)),void 0!==r||(r=n(745611));var T=n(38555),I=n(937875);let A=void 0!==s?s:s=n(562628);function E({aggregateRating:e,brandInfo:t,closeupAttributionDomainId:n,inMwebPdpCommentsExp:i,isImagePinForUnauthOnTablet:a,isOutOfStock:l,isStale:r,onClickTitleOrDomain:s,graphqlRef:d,inlinePinActionBar:S,pinId:A,pinLink:E,closeupUnifiedDescription:C,offerSummary:j,gridTitle:R,pinTitle:L,richSummaryDisplayName:F,richMetadataTitle:D,setIsActionBarInline:O,shippingInfo:z,storyPinDataId:M,storyPinDataMetadataPinTitle:N,pinJoinVisualAnnotation:Z}){let B=(0,g.ZP)(),{isAuthenticated:U}=(0,b.B)(),{logContextEvent:K}=(0,h.v)(),V=(0,P.AH)(E),H=C&&C.trim(),G=R||L;U||(G=(0,f.Ly)({pinTitle:L,gridTitle:R,richSummaryDisplayName:F,richMetadataTitle:D,storyPinDataId:M,storyPinDataMetadataPinTitle:N,pinJoinVisualAnnotation:Z}));let $=(0,x.Z)({isImagePinForUnauthOnTablet:a}),W=(0,T.Z)(d?{type:"graphqlRef",data:d}:{type:"deprecated",data:A}),q=(0,I.j)({components:W,pinDescription:H}),[Y,X]=(0,o.useState)(!1),J=G&&(0,w.jsx)(c.xu,{marginBottom:2,marginTop:2,children:(0,w.jsx)(v.Z,{forceSmallerHeading:!a,graphqlRef:d,hasLink:V,lineClamp:$,onClick:s,pinId:A,textAlign:"start"})}),{rating_count:Q,review_count:ee,rating_value:et}=e||{},en=(0,w.jsx)(m.Z,{bracket:!0,count:Q||ee,countFormat:"number",countType:Number(Q||0)?"rating":"review",hideSeparationDot:!0,ratingValue:et,shippingInfo:z&&{freeShippingPrice:z.free_shipping_price,freeShippingValue:z.free_shipping_value}}),ei=(0,w.jsx)(u.Z,{inMwebPdpCommentsExp:i,structuredDescription:q,type:"expandable"}),ea=t?.name,el=t?.userId,er=n&&n===el||t?.isMerchant,es=!!ea,eo=(0,o.useCallback)(e=>{if(e&&es){let t=ea!==e&&(null===er||!1===er);return t?(0,_.nk)(B._('{{ brand }} sold by {{ merchant }}', 'productmetadata.officialuserattribution.text', 'officialuserattribution text. brand:name of the brand. merchant:name of the merchant'),{brand:(0,w.jsx)(c.xv,{inline:!0,weight:"bold",children:ea},"brand-name"),merchant:(0,w.jsx)(c.xv,{inline:!0,weight:"bold",children:e},"merchant-name")}):[(0,w.jsx)(c.xv,{inline:!0,weight:"bold",children:ea},"brand-name")]}return e},[ea,er,B,es]),ed=(0,w.jsx)(k.Z,{getDisplayName:eo,graphqlRef:d,onMouseDown:es?()=>{K({event_type:102,object_id_str:A,view_type:3,view_parameter:144,element:13592,aux_data:{pin_id:A,commerce_data:JSON.stringify({pin_show_pdp:"1"})}})}:void 0,pinId:A}),ec=(0,w.jsx)(p.Z,{colorOverride:"default",isSoldOut:l,isStale:r,productDetails:{maxPrice:j?.max_price,minPrice:j?.min_price,price:j?.price,standardPrice:j?.standard_price},type:"pdpPlusMobileHeading"});return(0,w.jsxs)(c.xu,{children:[(0,w.jsx)(c.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,w.jsx)(y.Z,{onVisibilityChange:e=>{if(e&&e.length>0&&O){let{intersectionRatio:t,boundingClientRect:n}=e[0],i=n.y<0;O(1===t||i)}},options:{threshold:[1]},children:e=>(0,w.jsx)(c.xu,{ref:e,children:(0,w.jsxs)(c.xu,{marginBottom:4,children:[J,ec,(0,w.jsx)(c.xu,{marginBottom:2,children:en}),ed]})})})}),S,q.length>0&&(0,w.jsx)(c.xu,{marginTop:6,width:"100%",children:ei}),!1]})}function C({pinId:e,graphqlRef:t,...n}){let i;let a=(0,d.useFragment)(A,t),l=a.pinJoin?.visualAnnotation||[];if(l.length<1)return null;let{richMetadata:r,richSummary:s}=a;r?.products?.[0]&&r.products[0].name&&r.products[0].offerSummary&&(i=r.products[0].offerSummary),!i&&s?.products?.[0]&&s.products[0].name&&s.products[0].offerSummary&&(i=s.products[0].offerSummary);let o={min_price:i?.minPrice,max_price:i?.maxPrice,price:i?.price,standard_price:i?.standardPrice},c={rating_value:r?.aggregateRating?.ratingValue??void 0,review_count:r?.aggregateRating?.reviewCount??void 0,rating_count:r?.aggregateRating?.ratingCount??void 0},u={free_shipping_price:r?.products?.[0].shippingInfo?.freeShippingPrice,free_shipping_value:r?.products?.[0].shippingInfo?.freeShippingValue},p=a.isOosProduct||i?.inStock===!1,m=a.isStaleProduct,h={isMerchant:r?.products?.[0].brand?.isMerchant,name:r?.products?.[0].brand?.name,userId:r?.products?.[0].brand?.userId};return(0,w.jsx)(E,{...n,aggregateRating:c,brandInfo:h,closeupAttributionDomainId:a.closeupAttribution?.entityId,closeupAttributionDomainUrl:a.closeupAttribution?.domainUrl,closeupUnifiedDescription:a.closeupUnifiedDescription??"",graphqlRef:a,gridTitle:a.gridTitle,isOutOfStock:p,isStale:m??!1,offerSummary:o,pinId:e,pinJoinVisualAnnotation:l,pinLink:a.link,pinTitle:a.title,richMetadataTitle:r?.title??"",richSummaryDisplayName:s?.displayName??"",shippingInfo:u,storyPinDataId:a.storyPinDataId,storyPinDataMetadataPinTitle:a.storyPinData?.metadata?.pinTitle})}function j({pinId:e,...t}){let n;let i=(0,S.S6)()(e),a=i?.rich_metadata,l=i?.rich_summary;a?.products?.[0]&&a.products[0].name&&a.products[0].offer_summary&&(n=a.products[0].offer_summary),!n&&l?.products?.[0]&&l.products[0].name&&l.products[0].offer_summary&&(n=l.products[0].offer_summary);let r=i?.is_oos_product||n?.in_stock===!1,s=i?.is_stale_product,o={isMerchant:a?.products?.[0].brand?.is_merchant,name:a?.products?.[0].brand?.name,userId:a?.products?.[0].brand?.user_id};return(0,w.jsx)(E,{...t,aggregateRating:i?.rich_metadata?.aggregate_rating,brandInfo:o,closeupAttributionDomainId:i?.closeup_attribution?.id,closeupAttributionDomainUrl:i?.closeup_attribution?.domain_url,closeupUnifiedDescription:i?.closeup_unified_description??"",gridTitle:i?.grid_title,isOutOfStock:r,isStale:s??!1,offerSummary:n,pinId:e,pinJoinVisualAnnotation:i?.pin_join?.visual_annotation,pinLink:i?.link,pinTitle:i?.title,richMetadataTitle:i?.rich_metadata?.title??"",richSummaryDisplayName:i?.rich_summary?.display_name??"",shippingInfo:i?.rich_metadata?.products?.[0].shipping_info,storyPinDataId:i?.story_pin_data_id,storyPinDataMetadataPinTitle:i?.story_pin_data?.metadata?.pin_title})}function R({graphqlRef:e,...t}){return e?(0,w.jsx)(C,{...t,graphqlRef:e}):(0,w.jsx)(j,{...t})}},955288:(e,t,n)=>{"use strict";n.d(t,{jF:()=>g,ZP:()=>f});var i,a=n(167912),l=n(883119),r=n(19447),s=n(785893);let o=({maxPrice:e,minPrice:t,price:n,standardPrice:i,NoPrice:a,RangedPrice:l,RegularPrice:r,RangedSalePrice:o,SalePrice:d})=>t&&e&&i?(0,s.jsx)(o,{regularPriceRange:i,saleMaxPrice:e,saleMinPrice:t}):t&&e?(0,s.jsx)(l,{maxPrice:e,minPrice:t}):n?i&&n!==i?(0,s.jsx)(d,{regularPrice:i,salePrice:n}):(0,s.jsx)(r,{price:n}):(0,s.jsx)(a,{}),d=()=>null,c=void 0!==i?i:i=n(730206),u=({price:e,align:t,fontSize:n})=>(0,s.jsx)(l.X6,{align:t,color:"default",size:n||"400",children:e}),p=({minPrice:e,maxPrice:t,align:n,fontSize:i})=>(0,s.jsx)(l.X6,{align:n,color:"default",size:i||"400",children:`${e}-${t}`}),m=({salePrice:e,regularPrice:t,align:n,fontSize:i})=>(0,s.jsxs)(l.X6,{align:n,size:i||"400",children:[(0,s.jsx)("span",{style:{color:"#0074e8"},children:e})," ",(0,s.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${t}`})]}),h=({saleMinPrice:e,saleMaxPrice:t,regularPriceRange:n,align:i,fontSize:a})=>(0,s.jsxs)(l.X6,{align:i,size:a||"400",children:[(0,s.jsx)("span",{style:{color:"#0074e8"},children:`${e}-${t}`})," ",(0,s.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${n}`})]});function g({maxPrice:e,minPrice:t,price:n,standardPrice:i,align:a,NoPrice:l,RangedPrice:r,RangedSalePrice:c,RegularPrice:g,SalePrice:_,fontSize:y}){return l||(l=e=>(0,s.jsx)(d,{...e,align:a,fontSize:y})),r||(r=e=>(0,s.jsx)(p,{...e,align:a,fontSize:y})),c||(c=e=>(0,s.jsx)(h,{...e,align:a,fontSize:y})),g||(g=e=>(0,s.jsx)(u,{...e,align:a,fontSize:y})),_||(_=e=>(0,s.jsx)(m,{...e,align:a,fontSize:y})),(0,s.jsx)(o,{maxPrice:e,minPrice:t,NoPrice:l,price:n,RangedPrice:r,RangedSalePrice:c,RegularPrice:g,SalePrice:_,standardPrice:i})}function _(e){let t;let n=(0,a.useFragment)(c,e.graphqlRef),i=n?.richMetadata,l=n?.richSummary;return i?.products?.[0]&&i.products[0].name&&i.products[0].offerSummary&&(t=i.products[0].offerSummary),!t&&l?.products?.[0]&&l.products[0].name&&l.products[0].offerSummary&&(t=l.products[0].offerSummary),(0,s.jsx)(g,{maxPrice:t?.maxPrice,minPrice:t?.minPrice,NoPrice:e.NoPrice,price:t?.price,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,RegularPrice:e.RegularPrice,SalePrice:e.SalePrice,standardPrice:t?.standardPrice})}function y(e){let t;let n=(0,r.S6)()(e.pinId||""),i=n?.rich_metadata,a=n?.rich_summary;return i?.products?.[0]&&i.products[0].name&&i.products[0].offer_summary&&(t=i.products[0].offer_summary),!t&&a?.products?.[0]&&a.products[0].name&&a.products[0].offer_summary&&(t=a.products[0].offer_summary),(0,s.jsx)(g,{maxPrice:t?.max_price,minPrice:t?.min_price,NoPrice:e.NoPrice,price:t?.price,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,RegularPrice:e.RegularPrice,SalePrice:e.SalePrice,standardPrice:t?.standard_price})}function f(e){return e.graphqlRef?(0,s.jsx)(_,{...e}):(0,s.jsx)(y,{...e})}},311462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i,a,l=n(667294);n(167912);var r=n(616550),s=n(883119),o=n(893912),d=n(663056),c=n(899165),u=n(587703),p=n(207012),m=n(807023),h=n(213377),g=n(140017),_=n(340523),y=n(5859),f=n(71328),b=n(494125),v=n(57158),x=n(810052),k=n(19447),P=n(217058),S=n(554786),w=n(38964),T=n(785893);function I({alt:e,dominantColor:t,height:n,onLoad:i,src:a,width:l,unauthLazyLoad:o,index:d}){let c=(0,r.k6)(),u=(0,r.$B)(),{isAuthenticated:p}=(0,y.B)(),m=(0,S.ZP)(),h=()=>{c&&u&&u.params&&u.params.id&&c.push(`/pin/${u.params.id}#${w.v}`,{imageData:{src:a,height:n,width:l}})};return(0,T.jsxs)(s.iP,{onTap:()=>{p||(0,P.My)("unauth.pdp.carousel.click",{device:m,index:d}),h()},tapStyle:"compress",children:[(0,T.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},height:"100%",position:"absolute",top:!0,width:"100%",zIndex:new s.Ry(1)}),(0,T.jsx)(s.Ee,{alt:e,color:t,loading:o?"lazy":"auto",naturalHeight:n,naturalWidth:l,onLoad:i,src:a})]})}let A=void 0!==i?i:i=n(682827);function E({pinKey:e,pwtSurfaceContext:t,viewParameter:i,unauthLazyLoad:P}){let S;let w=(0,r.$B)(),E=(0,g.ZP)(),C=(0,u.Z)(),[j,R]=(0,l.useState)(0),L=(0,k.S6)(),{isAuthenticated:F}=(0,y.B)(),D=(0,l.useRef)(null),O=(0,l.useRef)([]);if("graphqlRef"===e.type)S=e;else{let t=L(e.data);S=null!=t?{type:"deprecated",data:t}:null}let z=(0,p.Z)(A,S),{childDataKey__DEPRECATED:M}=(0,m.Q)(void 0!==a?a:a=n(230494),z,{useLegacyAdapter:e=>({})}),N=(0,l.useCallback)(()=>{t&&t.markConstraintComplete("PinPageMainImageRendered")},[t]),{checkExperiment:Z}=(0,_.F)(),B=Z("web_higher_res_carousel_image").anyEnabled,U=E._('Pin image', 'Pin closeup image', 'Pin closeup image'),K=(0,c.Z)({isHiddenPin:z?.isHidden,isUnsafePin:z?.isUnsafe}),V=K&&0===j,H=(0,d.Z)(M),G=(H?.carouselSlots??[]).filter(({imageSizeMap:e})=>(0,o.Z)(e,B)),$=G.length,{imageSignature:W}=G[j]||{},q=()=>{let e=Z(F?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled;if(D.current){if(e){let e=new IntersectionObserver(([t])=>{let{left:n,width:i}=t.boundingClientRect,a=n+i/2;for(let e=0;e<$;e++){let t=-1/0,n=1/0,i=async()=>{let i=new Promise(i=>{let a=new IntersectionObserver(([n])=>{t=n.boundingClientRect.x,a.unobserve(O.current[e]?.current)});a.observe(O.current[e]?.current);let l=new IntersectionObserver(([t])=>{n=t.boundingClientRect.x,l.unobserve(O.current[e+1]?.current)});l.observe(O.current[e+1]?.current),i()});await i};if(i(),t<=a&&n>a){R(e);break}}D.current&&e.unobserve(D.current)});D.current&&e.observe(D.current)}else{let{left:e,width:t}=D.current.getBoundingClientRect(),n=e+t/2;for(let e=0;e<$;e++){let{x:t}=O.current[e].current.getBoundingClientRect(),{x:i=1/0}=O.current[e+1]?.current.getBoundingClientRect()||{};if(t<=n&&i>n){R(e);break}}}}};(0,b.Z)(()=>{O.current=Array($).fill().map((e,t)=>O.current[t]||(0,l.createRef)());let e=D.current;return e&&e.addEventListener("scroll",q),()=>{e?.removeEventListener("scroll",q)}}),(0,l.useEffect)(()=>{W&&C({event_type:13,view_type:3,view_parameter:144,element:10555,aux_data:{view_object_image_signature:W}})},[C,W]);let Y=(0,l.useRef)(x.a()?.setHasScrolledPastMainContent);(0,l.useEffect)(()=>{let e=(0,f.Z)(()=>{if(D.current){let t=window.scrollY>D.current.offsetTop+D.current.offsetHeight;Y.current?.(t),t&&window.removeEventListener("scroll",e)}},10);e(),window.addEventListener("scroll",e)},[]);let X=(0,x.a)(),{hasScrolledPastMainContent:J}=X??Object.freeze({}),Q="visualSearch";return F||J||(Q="moreLikeThisButton"),(0,T.jsxs)(s.xu,{marginEnd:-h.D6,marginStart:-h.D6,position:"relative",children:[(0,T.jsx)(s.xu,{ref:D,display:"flex",maxHeight:"60vh",minHeight:"30vh",overflow:"scrollX",children:G.map((e,t)=>{let n=0===t,i=t===$-1,a=(0,o.Z)(e.imageSizeMap,B);return(0,T.jsx)(s.xu,{ref:O.current[t],alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},display:"flex",flex:"none",marginEnd:i?0:2,position:"relative",width:"80%",children:(0,T.jsx)(I,{alt:U,dominantColor:"#ffffff00",height:a?.height??1,index:t,onLoad:N,src:a?.url??"",unauthLazyLoad:P&&!n,width:a?.width??1})},`${z?.entityId??""}_${t}`)})}),(0,T.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{transition:`opacity 500ms, \
                         visibility 500ms ease-in-out`,visibility:V?"visible":"hidden"}},opacity:V?1:0,children:(0,T.jsx)(v.Z,{imageSignature:W,isPdp:!0,pinId:w.params.id||z?.entityId||"",type:Q,viewParameter:i})})]})}},647639:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>W});var i=n(667294),a=n(616550),l=n(224796),r=n(197059),s=n(658583),o=n(622541),d=n(353971),c=n(239493),u=n(877457),p=n(322079),m=n(454514),h=n(140017),g=n(96157),_=n(96452),y=n(640258),f=n(897650),b=n(624797);let v=({isDesktop:e,location:t,history:n})=>{let i=n&&n.location.state?.isAppFactoryOAuth||((0,b.mB)(t.search).next??"").startsWith("/app-factory-oauth/");return i||(0,g.l$)(t)||(0,g.re)(t)||(0,g.OK)(t)||(0,g.Ni)(t)||(0,g.dt)(t)||e&&("/invited"===t.pathname||t.pathname.startsWith("/about/"))};var x=n(974371),k=n(11453),P=n(508218),S=n(516256),w=n(992083),T=n(237856),I=n(5859),A=n(731714),E=n(217058),C=n(13848),j=n(554786),R=n(149722),L=n(546689),F=n(505573),D=n(310822),O=n(27460),z=n(883119),M=n(587703),N=n(175324),Z=n(930837),B=n(766311),U=n(785893);function K({handleShowLogin:e,handleConfirmSignup:t,handleCancelClick:n}){let i=(0,h.ZP)(),a=(0,M.Z)();return(0,U.jsx)(B.Z,{viewParameter:3202,viewType:10,children:(0,U.jsx)(Z.ZP,{accessibilityModalLabel:"",closeOnOutsideClick:!1,isOpen:!0,onDismiss:()=>{},type:"google_one_tap",children:(0,U.jsxs)(z.xu,{padding:6,children:[(0,U.jsx)(z.xu,{display:"inlineBlock",marginEnd:2,marginTop:2,position:"absolute",right:!0,top:!0,children:(0,U.jsx)(z.hU,{accessibilityLabel:i._('Cancel', 'Button to close the signup/login modal', 'Button to close the signup/login modal'),icon:"cancel",iconColor:"gray",onClick:()=>{a({element:73,event_type:102,view_parameter:3202,view_type:10}),n()},size:"sm"})}),(0,U.jsx)(z.xv,{align:"start",weight:"bold",children:(0,U.jsx)("span",{className:"deprecatedTextSizeXL",children:i._('Continue to Pinterest', 'Title of a dialog telling enabling the user to continue with sign up or log in', 'Title of a dialog telling enabling the user to continue with sign up or log in')})}),(0,U.jsx)(z.xu,{marginTop:2,children:(0,U.jsx)(z.xv,{align:"start",children:i._('Hmm, it looks like you don\'t have an account yet. Let\'s get started!', 'Description text of a dialog asking the user to sign up for a Pinterest account', 'Description text of a dialog asking the user to sign up for a Pinterest account')})}),(0,U.jsx)(z.xu,{marginTop:5,children:(0,U.jsx)(z.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,E.NC)("press_one_tap_modal_signup"),a({element:31,event_type:102,view_parameter:3202,view_type:10}),t()},text:i._('Sign up', 'Text on a button which will create an account when clicked', 'Text on a button which will create an account when clicked')})}),(0,U.jsx)(z.xu,{marginTop:2,children:(0,U.jsx)(z.zx,{color:"gray",fullWidth:!0,onClick:()=>{a({element:30,event_type:102,view_parameter:3202,view_type:10}),e()},text:i._('Log in using a different method', 'Text on a button which will take the user to login when clicked', 'Text on a button which will take the user to login when clicked')})})]})})})}let V=({step:e,...t})=>"mobile"===e?(0,U.jsx)(K,{...t}):(0,U.jsx)(N.Z,{...t,step:e});function H(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G extends i.PureComponent{constructor(...e){super(...e),H(this,"state",{isAttemptingSignup:!1,modal:null,showAccountSuspended:!1}),H(this,"prompt",()=>{f.Fm()?.prompt(()=>{})}),H(this,"deferredHandleOneTapResponse",e=>{let{autologinIsDisabled:t}=this.props,n=(0,f.PL)(e.select_by);if("SIGN_IN_WITH_GOOGLE_BUTTON"===n){this.handleOneTapResponse(e);return}"AUTO_LOGIN"===n&&t||setTimeout(()=>{this.handleOneTapResponse(e)},3e3)}),H(this,"attemptSignup",async({googleOpenId:e})=>{let{history:t,pageType:n,showDesktopGoogleOneTapTriggeredModal:i}=this.props,a=(0,y.Z)(e),l={type:"google",google_open_id_token:e,first_name:a.given_name,last_name:a.family_name,image_url:a.picture};(0,E.NC)("attempt_signup_with_one_tap"),i?i({type:"GDPR_REQUIRES_AGE",socialRegistrationCredentials:{type:"google_one_tap",context:{container:"google_one_tap_modal",page:n},signupOptions:l}}):(this.setState({isAttemptingSignup:!1,modal:null}),t.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:l,progressBarAnimationDuration:4500}}))})}async componentDidMount(){let{autologinIsDisabled:e,googleSignInApi:t}=this.props;await t.ensureInit("oneTap",this.deferredHandleOneTapResponse),e||this.prompt()}componentDidUpdate(e){e.autologinIsDisabled&&!this.props.autologinIsDisabled&&this.prompt()}componentWillUnmount(){"phone"===this.props.deviceType?f.Fm()?.cancel():window.smartlock?.cancelLastOperation?.()}async handleOneTapResponse(e){let{authenticationClient:t,deviceType:n,history:i,shouldSeeAuthOneTapModalExp:a,location:r,pageType:s,showError:o,showDesktopGoogleOneTapTriggeredModal:d}=this.props,{credential:c,select_by:u}=e,p=(0,f.PL)(u),m="AUTO_LOGIN"===p;a&&(A.Z.setItem(l.tr,!0),(0,E.My)(`auth_onetap_modal.click.${p}`)),m?(0,w.Z)({type:"autologin",status:"start"}):(0,w.Z)({type:"manualLoginAttempt",fromConnectButton:"SIGN_IN_WITH_GOOGLE_BUTTON"===p});try{let e={google_open_id_token:c,autologin:m},a=(0,f.mK)(p),l={event_type:7534,element:"SIGN_IN_WITH_GOOGLE_BUTTON"===p?12981:"ONE_TAP_PROMPT"===p?12982:null,view_type:10,view_parameter:3201,aux_data:{signup_login_method:S.Z.GOOGLE_ONE_TAP,upsell_reason:"google_one_tap"}};"desktop"===n?await t.desktopLogin({creds:e,loggingOptions:{loggingData:{container:"google_one_tap_modal",page:s,trigger:a},loginAttemptContextEvent:l}}):await t.mobileLogin(e,i,(0,L.Yy)(r)||r.pathname,{isAutologin:m,trigger:a},l),m&&(0,w.Z)({type:"autologin",status:"success"}),d&&P.ZP.handleRedirectWithFallbackWindowLocation()}catch(e){m&&(0,w.Z)({type:"autologin",status:"failure"}),d?e?.api_error_code===_.xN?"SIGN_IN_WITH_GOOGLE_BUTTON"!==p&&((0,g.C$)(r)||(0,g.Xn)(r))?((0,E.NC)("show_one_tap_modal_static"),this.setState({modal:{step:(0,g.C$)(r)?"staticSignupLogin":(0,g.Xn)(r)?"staticSignupLoginWithTOS":m?"staticSignupLogin":"delayedSignupLoadingSpinner",handleConfirmSignup:()=>{this.attemptSignup({googleOpenId:c})}}})):this.attemptSignup({googleOpenId:c}):e?.api_error_code===_.Zn?d({type:"MFA",mfaGoogleOpenId:c}):e?.api_error_code===_.an?this.setState({showAccountSuspended:!0}):(o({action:"login",ui:"modal"}),d({type:"LOGIN_ERROR"})):e?.api_error_code===_.xN&&"tablet"!==n?(0,g.C$)(r)?((0,E.NC)("show_one_tap_modal_mobile"),this.setState({modal:{step:"mobile",handleConfirmSignup:()=>{this.attemptSignup({googleOpenId:c})}}})):this.attemptSignup({googleOpenId:c}):o({action:"login",ui:"toast",message:e.message})}}render(){let{showAccountSuspended:e,modal:t,isAttemptingSignup:n}=this.state,{history:i,location:a,showDesktopGoogleOneTapTriggeredModal:l}=this.props;return e?(0,U.jsx)(d.Z,{onClose:()=>this.setState({showAccountSuspended:!1})}):!l&&n?(0,U.jsx)(D.Z,{progressBarAnimationDuration:4500}):t?(0,U.jsx)(V,{handleCancelClick:()=>this.setState({modal:null}),handleConfirmSignup:t.handleConfirmSignup,handleShowLogin:l?()=>l({type:"CLICK_LOGIN_BUTTON"}):()=>{this.setState({modal:null}),i.push({pathname:"/login/",state:{next:a.pathname}})},step:t.step}):null}}let $=()=>{let{isAuth:e,isLimitedLogin:t}=(0,R.Z)(),{country:n,isBot:i}=(0,I.B)(),l=(0,j.ZP)(),r=(0,a.TH)(),d=(0,a.k6)();return s.U2(o.e7)&&(0,E.My)(`pcons.google_autologin_disabled_cookie.${(0,T.M)()}`),e&&!t||i||"CH"===n||!!s.U2(o.e7)||v({isDesktop:"desktop"===l,location:r,history:d})};function W(){let e=(0,h.ZP)(),t=(0,j.ZP)(),n=(0,a.TH)(),i=(0,a.k6)(),{showToast:l}=(0,C.F9)(),s=(0,F.Z)(),o=(0,r.Z)(),d=(0,x.M)(),g=(0,u.g)(),_=g?.showGoogleOneTapTriggeredModal,y=$(),f=(0,p.Z)(),b=(0,O.f)(),v=(0,R.Z)(),P=(0,k.jr)(v);return d?(0,U.jsx)(G,{authenticationClient:{desktopLogin:f,mobileLogin:b},autologinIsDisabled:!P&&y,deviceType:t,googleSignInApi:d,history:i,i18n:e,location:n,navigateAfterLoginStatusChange:o,pageType:s,shouldSeeAuthOneTapModalExp:P,showDesktopGoogleOneTapTriggeredModal:_,showError:({action:t,ui:n,message:i})=>{let a="signup"===t?e._('We couldn\u2019t sign you up with that account. Try the Google button!', ' - ', ' -- '):e._('We couldn\u2019t log you in with that account. Try the Google button!', ' - ', ' -- '),r=i||a;"toast"===n?l(({hideToast:e})=>(0,U.jsx)(m.ZP,{onHide:e,text:r})):(0,c.x)(r)}}):null}},761547:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var i=n(667294),a=n(702664),l=n(883119),r=n(587703),s=n(869801),o=n(741069),d=n(41005),c=n(661257),u=n(94149),p=n(958399),m=n(892878),h=n(406693),g=n(329395),_=n(847069),y=n(454514),f=n(140017),b=n(340370),v=n(776427),x=n(5859),k=n(191313),P=n(623409),S=n(13848),w=n(554786),T=n(353453),I=n(80263),A=n(434108),E=n(953565),C=n(785893);function j(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let R=()=>n.e(6527).then(n.t.bind(n,842152,23)),L=String(86),F=({text:e})=>(0,C.jsx)(l.xv,{align:"center",size:"100",children:e});class D extends i.PureComponent{constructor(...e){super(...e),j(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),j(this,"setClipboard",e=>{let{Clipboard:t,invitePath:n}=this.state;(0,I.sF)(n,t,e,this.showCopyToast)}),j(this,"showCopyToast",()=>{this.logShareClick(12),this.setNewAppOrder(12),this.props.onShare?.(),this.props.showToast(({hideToast:e})=>(0,C.jsx)(y.ZP,{onHide:e,text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard')})),this.props.setShareSent?.(!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})}),j(this,"getDefaultAppOrder",()=>{let{country:e,isDesktop:t}=this.props;return(0,I.pW)({country:e,isDesktop:t,shouldShowNativeShare:!!navigator.share})}),j(this,"getAppOrder",()=>{let{isDesktop:e,showFixedRows:t}=this.props,n=JSON.parse((0,k.qn)(A.B));return!n||e?this.getDefaultAppOrder():(n=[...n.filter(e=>11!==e&&12!==e)],t?n.unshift(12):n.push(12),navigator.share&&n.push(11),n)}),j(this,"setNewAppOrder",e=>{let{isDesktop:t}=this.props;t||A.F6.has(e)||(0,k.Nh)(A.B,JSON.stringify([e,...this.getAppOrder().filter(t=>t!==e)]))}),j(this,"handleMessagingAppClick",e=>{this.props.onShare?.(),this.props.setShareSent?.(!0),this.logShareClick(e),this.setFreshInviteCode(e),A.rO.has(e)||(0,k.Nh)(A.Cq,e),this.setNewAppOrder(e)}),j(this,"handleMessengerClick",()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)}),j(this,"handleTwitterClick",()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)}),j(this,"handleWhatsappClick",()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)}),j(this,"handleLineClick",()=>{this.handleMessagingAppClick(8)}),j(this,"handleTelegramClick",()=>{this.handleMessagingAppClick(20)}),j(this,"handleViberClick",()=>{this.handleMessagingAppClick(22)}),j(this,"handleEmailClick",()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})}),j(this,"handleFacebookClick",()=>{this.props.onShare?.(),this.props.setShareSent?.(!0),this.props.trackInteraction({action:"click",item:"facebook-share-icon"}),this.logShareClick(5);let{inviteCode:e,invitePath:t,fbLoaded:n}=this.state;(0,I.Rh)(n,t,e||""),this.setFreshInviteCode(5),this.setNewAppOrder(5)}),j(this,"handleSmsClick",()=>{this.handleMessagingAppClick(4)}),j(this,"logShareClick",(e,t=this.state.inviteCode)=>{let{objectId:n,objectType:i,component:a,clientTrackingParams:l,logContextEvent:r,viewType:s,viewParameter:o,socialShareComponent:d}=this.props;(0,I.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:l,logContextEvent:r,view_type:s,view_parameter:o,socialShareComponent:d})}),j(this,"copyButtonRef",null),j(this,"renderAppsInCustomOrder",({Email:e,Facebook:t,FBMessenger:n,Line:a,WhatsApp:l,Twitter:r,Viber:s,Telegram:o,CopyLink:d,Sms:c,ShareVia:u})=>{let p=this.getAppOrder(),m=new Map([[6,n],[10,l],[5,t],[9,r],[3,e],[8,a],[20,o],[22,s],[4,c],[12,d],[11,u]]);return(0,C.jsx)(i.Fragment,{children:p.map(e=>(0,C.jsxs)(i.Fragment,{children:[" ",m.get(e)]},e))})}),j(this,"onHandleRepinSave",({event:e})=>{this.props.onSave?.(),this.props.onNavigation({event:e})})}componentDidMount(){this.setFreshInviteCode(12),(0,v.we)(this.props.locale).then(()=>{this.setState({fbLoaded:!0})}),R().then(({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))})}componentDidUpdate({objectId:e}){let{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){let{objectId:t,objectType:n,fetchFreshInviteCode:i}=this.props,{invitePath:a,inviteCode:l,title:r,message:s}=await i(e,t,n),o={};a&&(o.invitePath=a),l&&(o.inviteCode=l),r&&(o.inviteTitle=r),s&&(o.inviteMessage=s),this.setState(o)}render(){let{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:a,shouldShowVerticalContacts:r,showFixedRows:y}=this.props,{invitePath:f,inviteMessage:b,inviteTitle:v}=this.state,{emailShareLink:x,messengerShareLink:k,twitterShareLink:P,whatsappShareLink:S,lineShareLink:w,telegramShareLink:T,viberShareLink:A,smsShareLink:j}=(0,I.tA)({invitePath:f,inviteTitle:v,objectType:t,i18n:this.props.i18n,isDesktop:e}),R=({children:t})=>(0,C.jsx)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:e||y?`${L}px`:"100%",children:(0,C.jsx)(l.xu,{marginBottom:y?2:0,children:t})}),D=({children:e})=>(0,C.jsx)(l.xu,{display:"flex",justifyContent:"center",marginBottom:1,paddingX:3,children:e}),O=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.xu,{"data-test-id":"fbmessenger-share-icon",children:(0,C.jsx)(l.Tg,{href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},rel:"nofollow",rounding:"circle",children:(0,C.jsx)(p.Z,{size:56})})})}),(0,C.jsx)(F,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),z=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.xu,{"data-test-id":"whatsapp-share-icon",children:(0,C.jsx)(l.Tg,{href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},rel:"nofollow",rounding:"circle",children:(0,C.jsx)(g.Z,{size:56})})})}),(0,C.jsx)(F,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),M=(0,C.jsx)(l.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),this.handleFacebookClick()},children:(0,C.jsx)(d.Z,{size:56})})}),(0,C.jsx)(F,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),N=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.xu,{"data-test-id":"twitter-share-icon",children:(0,C.jsx)(l.Tg,{href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},rel:"nofollow",rounding:"circle",children:(0,C.jsx)(_.Z,{size:56})})})}),(0,C.jsx)(F,{text:this.props.i18n._('X', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),Z=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.Tg,{href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},rel:"nofollow",rounding:"circle",children:(0,C.jsx)(u.Z,{size:56})})}),(0,C.jsx)(F,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),B=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.Tg,{href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},rel:"nofollow",rounding:"circle",children:(0,C.jsx)(h.Z,{size:56})})}),(0,C.jsx)(F,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),U=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.Tg,{href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},rel:"nofollow",rounding:"circle",children:(0,C.jsx)(m.Z,{size:56})})}),(0,C.jsx)(F,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),K=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.xu,{"data-test-id":"email-share-button",children:(0,C.jsx)(l.Tg,{href:x,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},rel:"nofollow",rounding:"circle",target:"blank",children:(0,C.jsx)(o.Z,{size:56})})})}),(0,C.jsx)(F,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),V=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.Tg,{href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),this.props.onShare?.(),t();let n=b.indexOf("https://");navigator.share&&navigator.share({url:f,text:n>0?b.slice(0,n):b,title:v}).then(()=>{this.handleMessagingAppClick(11),(0,E.nP)("allshareoptions_navigator_share.success",{sampleRate:1})}).catch(e=>{(0,E.nP)("allshareoptions_navigator_share.error",{sampleRate:1,tags:{name:e.name,message:e.message}})})},rel:"nofollow",rounding:"circle",target:"blank",children:(0,C.jsx)(l.xu,{height:56,children:(0,C.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,C.jsx)(F,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),H=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.Tg,{href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},rel:"nofollow",rounding:"circle",children:a?(0,C.jsx)(c.Z,{size:56}):(0,C.jsx)(l.xu,{"data-test-id":"message-share-button",children:(0,C.jsx)(s.Z,{size:56})})})}),(0,C.jsx)(F,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),G=(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:56,children:(0,C.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,C.jsx)(F,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,C.jsxs)(l.xu,{children:[(0,C.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,C.jsxs)(l.xu,{column:y?3:void 0,direction:y?"row":void 0,display:"flex",height:e&&!y?200:"100%",justifyContent:"start",marginBottom:-2,marginTop:r?-2:void 0,overflow:e||y?void 0:"scrollX",paddingX:1,paddingY:2,width:e&&!y?370:"100%",wrap:y||e,children:[i&&n&&(0,C.jsxs)(R,{children:[(0,C.jsx)(D,{children:(0,C.jsx)(l.iP,{onTap:this.onHandleRepinSave,rounding:"circle",children:(0,C.jsx)(l.Sj,{bgColor:"red",icon:"save-outline",size:"xl"})})}),(0,C.jsx)(F,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}),this.renderAppsInCustomOrder({Email:K,Facebook:M,FBMessenger:O,Line:Z,WhatsApp:z,Twitter:N,Viber:B,Telegram:U,CopyLink:G,Sms:H,ShareVia:V})]})}),(0,C.jsx)(l.xu,{height:y?32:16})]})}}function O(e){let t=(0,f.ZP)(),n=(0,w.HG)(),{showToast:i}=(0,S.F9)(),{country:l,locale:s}=(0,x.B)(),o=(0,b.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),d=(0,a.useSelector)(({session:e})=>e.userAgentPlatform),c=d===T.RL||d===T.s4,u=(0,r.Z)(),p=(0,P.Z)(),m=(0,I.D3)();return(0,C.jsx)(D,{...e,country:l,fetchFreshInviteCode:m,i18n:t,isAppleDevice:c,isDesktop:n,locale:s,logContextEvent:u,onNavigation:o,showToast:i,trackInteraction:p})}},80263:(e,t,n)=>{"use strict";n.d(t,{D3:()=>g,Iz:()=>_,Rh:()=>u,pW:()=>d,sF:()=>p,tA:()=>c});var i,a=n(167912),l=n(216167),r=n(776427),s=n(498803);let o={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:n}){let{FBMessenger:i,WhatsApp:a,Facebook:l,Twitter:r,Email:s,Line:d,Telegram:c,Viber:u,Sms:p,CopyLink:m,ShareVia:h}=o;function g(){switch(e){case"US":return t?[a,l,r,s]:[p,i,a,l,r];case"ID":return t?[a,d,s,l]:[a,c,p,d,s,l];case"JP":case"TH":case"TW":return t?[d,r,s,l]:[d,s,p,r,l];case"GR":return t?[a,l,r,s]:[u,i,a,p,l,r];case"IR":case"IQ":return t?[a,l,r,s]:[a,c,p,i,r];case"UA":case"RU":return t?[a,l,r,s]:[a,u,c,l,i,p,r];default:return t?[a,l,r,s]:[a,i,p,l,r]}}let _=t?[m,...g()]:[...g(),m,...n?[h]:[]];return _}function c({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:a}){let l=i._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===n&&(l=i._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));let s=`mailto:?subject=${encodeURIComponent(l)}&body=${encodeURIComponent(e)}`,o=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${r.GH}`,d=`${t}
${e}`,c=a?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=a?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,p=a?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,m=`viber://forward?text=${encodeURIComponent(d)}`,h=`tg://msg?text=${encodeURIComponent(d)}`,g=`sms:?&body=${encodeURIComponent(d)}`;return{emailShareLink:s,messengerShareLink:o,twitterShareLink:c,whatsappShareLink:u,lineShareLink:p,telegramShareLink:h,viberShareLink:m,smsShareLink:g}}function u(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},e=>{e&&!e.error_message&&i&&i()})}function p(e,t,n,i){if(!n||!t)return;let a=new t(n,{container:n.parentElement,text:()=>e});a.on("success",e=>{i&&i(e)}),a.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}let m=void 0!==i?i:i=n(256218),h=()=>{let e=(0,a.useRelayEnvironment)();return async(t,n,i,l)=>{let r={invite_category:t,invite_object:n,invite_channel:i};return await new Promise((t,n)=>(0,a.fetchQuery)(e,m,{inviteType:JSON.stringify(r),objectId:l}).subscribe({next:e=>t({inviteCode:e.v3InviteUserExternalQuery?.data?.inviteCode??"",invitePath:e.v3InviteUserExternalQuery?.data?.inviteUrl??"",title:e.v3InviteUserExternalQuery?.data?.title??"",message:e.v3InviteUserExternalQuery?.data?.message??""}),error:e=>n(e)}))}};function g(){let e=h();return async(t,n,i)=>await e(3,i,t,n)}async function _({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:r,logContextEvent:o,view_parameter:d,view_type:c,socialShareComponent:u}){let p;o({aux_data:{invite_object:i},object_id_str:n,component:a,clientTrackingParams:r,element:s.cc[e],event_type:102,view_type:c,view_parameter:d}),p=2===i?s.LO:3===i?s.Pu:s.dB,o({event_type:10399,component:14122===a?14312:14123===a?14310:u||a,object_id_str:n,view_type:c,view_parameter:d,aux_data:{invite_object:i},element:p[e]}),l.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n,client_tracking_params:r}).callCreate()}},240137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var i=n(667294),a=n(883119),l=n(922719),r=n(587703),s=n(140017),o=n(406893),d=n(5859),c=n(191313),u=n(623409),p=n(554786),m=n(494125),h=n(353453),g=n(236798),_=n(622155),y=n(869801),f=n(41005),b=n(661257),v=n(94149),x=n(958399),k=n(892878),P=n(406693),S=n(329395),w=n(847069),T=n(434108),I=n(785893);let A="#ffffff",E="ANIMATE_SHARE",C=()=>{let e=`${E}_default {
      from: {
        opacity: 1;
        visibility:visible;
      }
      7% {
        fill: ${A};
        opacity: 0;
        visibility:hidden;
      }
      89% {
        fill: ${A};
        opacity: 0;
        visibility:hidden;
      }
      93% {
        opacity: 0.5;
        visibility:visible;
      }
      to {
        fill: #111111;
        opacity: 1;
        visibility:visible;
      }
    }`,t=`${E}_upsellApp {
      from {
        opacity: 0;
        fill: ${A};
      }
      7% {
        fill: ${A};
        transform: scale(1.25);
        opacity: 1;
      }
      11% {
        transform: scale(1);
        opacity: 1;
      }
      89% {
        fill: ${A};
        transform: scale(1);
        opacity: 1;
      }
      93% {
        transform: scale(1.25);
        opacity: 1;
      }
      to {
        fill: ${A};
        opacity: 0;
      }
    }`;return(0,l.Ll)([e,t])},j=e=>({animation:`${E}_${e} ${T.zn}ms ease-in-out`,WebkitAnimation:`${E}_${e} ${T.zn}ms ease-in-out`}),R=({children:e,handleShareTap:t,upsellIcon:n})=>{let i=(0,s.ZP)();return n?((0,c.Nh)(T.RV,Date.now()),(0,I.jsxs)(a.xu,{children:[(0,I.jsx)(o.Z,{unsafeCSS:C()}),(0,I.jsxs)(a.xu,{alignItems:"center",borderStyle:"none",dangerouslySetInlineStyle:{__style:{borderRadius:"22px",...j("container")}},display:"flex",height:48,justifyContent:"center",width:48,children:[(0,I.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:j("upsellApp")},opacity:0,position:"absolute",children:(0,I.jsx)(a.iP,{accessibilityLabel:i._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onTap:({event:e})=>t(e),children:n})}),(0,I.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:j("default")},position:"absolute",children:e})]})]})):e},L=({onDefaultSendButtonClick:e,sendButtonColor:t,viewParameter:n})=>{let l=(0,p.HG)(),s=(0,r.Z)(),o=(0,u.Z)(),{country:A,userAgent:{platform:E}}=(0,d.B)(),C=E===h.RL||E===h.s4,[j,L]=(0,i.useState)(),F=(0,_._l)(),{hasSeenAuthMobileLandingToast:D}=(0,_.w2)()||{},O=()=>{o({action:"click",item:"share-button"}),s({component:194,element:46,event_type:102,view_type:3,view_parameter:n})};return(0,m.Z)(()=>{if(!l){let e=function({country:e,isAppleDevice:t}){let n=(0,c.qn)(T.RV),i=n&&Date.now()-Number(n)<T.bm;if(!i){let n=Number((0,c.qn)(T.Cq))||T.iS.get(e)||10;switch(n){case 5:return(0,I.jsx)(f.Z,{size:T.VZ});case 6:return(0,I.jsx)(x.Z,{size:T.VZ});case 8:return(0,I.jsx)(v.Z,{size:T.VZ});case 4:return t?(0,I.jsx)(b.Z,{size:T.VZ}):(0,I.jsx)(a.xu,{"data-test-id":"message-share-button",children:(0,I.jsx)(y.Z,{size:T.VZ})});case 20:return(0,I.jsx)(k.Z,{size:T.VZ});case 9:return(0,I.jsx)(w.Z,{size:T.VZ});case 22:return(0,I.jsx)(P.Z,{size:T.VZ});case 10:return(0,I.jsx)(S.Z,{size:T.VZ})}}return null}({country:A,isAppleDevice:C});e&&setTimeout(()=>{L(e)},T.W_)}}),F&&!D?(0,I.jsx)(a.xu,{"data-test-id":"share-button-no-animation",children:(0,I.jsx)(g.Z,{color:t,onSendButtonClick:e,trackShareTap:O})}):(0,I.jsx)(R,{handleShareTap:t=>{O(),e(t)},upsellIcon:j,children:(0,I.jsx)(a.xu,{"data-test-id":"share-button-no-animation",children:(0,I.jsx)(g.Z,{color:t,onSendButtonClick:e,trackShareTap:O})})})}},917094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),l=n(587703),r=n(494125),s=n(761547),o=n(867178),d=n(333965),c=n(785893);let u=new a.H3([d.Z]);function p({anchor:e,onDismiss:t,objectId:n,objectType:d,title:p,component:m,viewType:h,viewParameter:g}){let _=(0,l.Z)(),[y,f]=(0,i.useState)(!1);return(0,r.Z)(()=>{_({event_type:10400,view_type:h,object_id_str:n,component:m,view_parameter:g,element:(0,o.O)(d),aux_data:{invite_object:d}})}),(0,c.jsx)(a.mh,{zIndex:u,children:(0,c.jsx)(a.J2,{anchor:e,onDismiss:()=>{y||_({component:m,event_type:10403,element:13478,view_type:h,view_parameter:g,aux_data:{invite_object:d}}),t()},positionRelativeToAnchor:!1,size:"xl",children:(0,c.jsx)(a.xu,{"data-test-id":"share-menu-container",children:(0,c.jsxs)(a.kC,{alignItems:"center",direction:"column",overflow:"hidden",width:360,wrap:!0,children:[(0,c.jsx)(a.xu,{marginBottom:4,marginTop:4,children:(0,c.jsx)(a.xv,{size:"300",weight:"bold",children:(0,c.jsx)(a.xu,{"data-test-id":"share-send-message",children:p})})}),(0,c.jsx)(a.kC,{width:360,children:(0,c.jsx)(s.Z,{component:m,objectId:n,objectType:d,onDismiss:t,setShareSent:e=>f(e)})})]})})})})}},434108:(e,t,n)=>{"use strict";n.d(t,{B:()=>l,Cq:()=>a,F6:()=>u,RV:()=>i,VZ:()=>r,W_:()=>o,bm:()=>s,iS:()=>p,rO:()=>c,zn:()=>d});let i="animatedShareIconLastViewed",a="lastUsedSocialShare",l="customizedSocialAppOrder",r=44,s=9e5,o=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},867178:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});let i=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},734950:(e,t,n)=>{"use strict";n.d(t,{P:()=>h,Z:()=>_});var i=n(667294),a=n(293041),l=n(883119),r=n(86785),s=n(140017),o=n(406893),d=n(340523),c=n(5859),u=n(554786),p=n(785893);function m(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=`
  video::cue {
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Helvetica, ' Pro W3', '', Meiryo, ' ', Arial, sans-serif;
    font-weight: 450;
    font-size: 18px;
  }
`;class g extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{videoStartTime:0}),m(this,"setVideoPlayerRef",e=>{let{setVideoRef:t,handlePlay:n,autoplay:i=!0}=this.props;this.videoPlayerRef=e,e&&t&&t(e.video),this.videoPlayerRef&&this.videoPlayerRef.video&&n&&i&&this.videoPlayerRef.video.addEventListener("canplay",()=>{n({userTriggeredPlay:!1})})}),m(this,"hls",null),m(this,"initializeHls",()=>{this.destroyHls();let{src:e}=this.props,t=new a.ZP;a.ZP.isSupported()&&!(0,r.G6)(this.props.requestContext.userAgent.browserName)&&(t.loadSource(e),this.videoPlayerRef&&t.attachMedia(this.videoPlayerRef.video)),this.hls=t}),m(this,"destroyHls",()=>{let{hls:e}=this;e&&e.destroy()}),m(this,"onPlay",({event:e})=>{let{handlePlay:t}=this.props;e.stopPropagation(),t&&t({userTriggeredPlay:!0})}),m(this,"onPause",({event:e})=>{let{handlePause:t}=this.props;e.stopPropagation(),t&&t()}),m(this,"handleVolumeChange",({event:e,volume:t})=>{let{onVolumeChange:n}=this.props;e.stopPropagation(),n&&n({volume:t})}),m(this,"handleOnReady",e=>{this.props.onReady&&this.props.onReady(e)}),m(this,"handleEnded",()=>{let{onEnded:e}=this.props;e&&e()}),m(this,"handlePlaying",()=>{let{clearSeekTime:e}=this.props;e&&e()})}componentDidMount(){this.initializeHls()}componentWillUnmount(){this.destroyHls()}componentDidUpdate(e){let{activeStreamItemIndex:t,playing:n,src:i,seekTime:l,captionsEnabled:r,isDesktop:s,isTablet:o,requestContext:d,isVideoPin:c}=this.props,{isAuthenticated:u}=d;l&&l!==e.seekTime&&this.setState({videoStartTime:l});let p=this.videoPlayerRef?.video?.textTracks[0];p&&(r?p.mode="showing":p.mode="disabled",p.addEventListener("cuechange",()=>{let e=p.activeCues&&p.activeCues.length>0&&p.activeCues[0];e&&e.line&&(s?(e.line=-6,e.size=88):(u?e.line=-8:(e.line=-10,o&&(e.line=-15)),e.size=70),c&&(e.line=-5))})),t!==e.activeStreamItemIndex&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=0),e.src!==i&&(this.initializeHls(),this.hls&&this.hls.on(a.ZP.Events.MANIFEST_PARSED,()=>{void 0!==n&&n&&this.videoPlayerRef&&this.videoPlayerRef.play()}))}render(){let{aspectRatio:e,controls:t,loop:n=!1,poster:i,src:a,onTimeChange:r,playing:s,volume:d,captions:c,isInCaptionsExperiment:u}=this.props;return(0,p.jsxs)(l.xu,{width:"100%",children:[(0,p.jsx)(o.Z,{unsafeCSS:h}),(0,p.jsx)(l.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,autoplay:s,captions:c,controls:t,crossOrigin:u?"anonymous":void 0,loop:n,onControlsPause:this.onPause,onControlsPlay:this.onPlay,onEnded:this.handleEnded,onPlay:()=>{},onPlayError:()=>{},onPlaying:this.handlePlaying,onReady:this.handleOnReady,onTimeChange:r,onVolumeChange:this.handleVolumeChange,playing:s,playsInline:!0,poster:i,src:a,startTime:this.state.videoStartTime||void 0,volume:d})]})}}function _(e){let{clearSeekTime:t,pinId:n="",seekTime:i}=e,a=(0,s.ZP)(),l=(0,c.B)(),r=(0,u.HG)(),o=(0,u.Wb)(),{checkExperiment:m}=(0,d.F)(),{anyEnabled:h}=m("unauth_mweb_video_pin_captions",{dangerouslySkipActivation:!0});return(0,p.jsx)(g,{...e,clearSeekTime:()=>{t&&t(n)},i18n:a,isDesktop:r,isInCaptionsExperiment:h,isTablet:o,requestContext:l,seekTime:i})}},187033:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(667294),a=n(734950),l=n(785893);function r(e){let{onReady:t,volume:n}=e,[r,s]=(0,i.useState)(!0),o=(0,i.useCallback)(()=>{s(!1)},[]),d=(0,i.useCallback)(()=>{s(!0)},[]);return(0,l.jsx)(a.Z,{...e,handlePause:o,handlePlay:d,onReady:e=>{t&&t(e)},playing:r,volume:n})}},614064:(e,t,n)=>{"use strict";n.d(t,{D:()=>M,Z:()=>K});var i,a,l=n(667294),r=n(167912),s=n(616550),o=n(883119),d=n(587703),c=n(696534),u=n(103322),p=n(140017),m=n(558273),h=n(661428),g=n(5859),_=n(14583),y=n(554786),f=n(149722),b=n(19447),v=n(572895),x=n(499728),k=n(274836),P=n(329593),S=n(771981),w=n(758964),T=n(40432),I=n(623409),A=n(916840),E=n(785893);let C=void 0!==i?i:i=n(393204),j=({clickthrough:e,onLoad:t})=>{let n=(0,p.ZP)(),i=(0,I.Z)();return(0,l.useEffect)(()=>{t&&t()},[t]),(0,E.jsx)(o.xu,{"data-test-id":"idea-pin-section-visit-button",children:(0,E.jsx)(o.iP,{fullWidth:!0,onTap:()=>{i({action:"click",item:"visit-button"}),e()},rounding:"pill",children:(0,E.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:T.pzk}},display:"flex",height:S.oe,justifyContent:"center",paddingX:S.rM,paddingY:S.Ai,rounding:S.dX,children:(0,E.jsx)(o.xv,{color:"light",size:"300",weight:"bold",children:n._('Visit', 'CloseupStreams.IdeaPinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin')})})})})},R=({clickthroughInterstitialExperience:e,graphqlRef:t,onLoad:n})=>{let i=(0,r.useFragment)(C,t),a=(0,A.I)({clickthroughInterstitialExperience:e,graphqlRef:i});return(0,E.jsx)(j,{clickthrough:a,onLoad:n})},L=({clickthroughInterstitialExperience:e,pinId:t,onLoad:n})=>{let i=(0,A.Z)({clickthroughInterstitialExperience:e,pinId:t});return(0,E.jsx)(j,{clickthrough:i,onLoad:n})};function F({clickthroughInterstitialExperience:e,pinId:t,graphqlRef:n,onLoad:i}){return n?(0,E.jsx)(R,{clickthroughInterstitialExperience:e,graphqlRef:n,onLoad:i}):(0,E.jsx)(L,{clickthroughInterstitialExperience:e,onLoad:i,pinId:t})}var D=n(705572);let O=(0,l.lazy)(()=>Promise.resolve().then(n.bind(n,738012))),z=(0,l.lazy)(()=>Promise.resolve().then(n.bind(n,405510))),M=60,N=void 0!==a?a:a=n(25479);function Z({clientTrackingParams:e,experience:t,pinId:n,nodeId:i,pinnedToBoardId:a,viewParameter:r,graphqlRef:h,viewType:b,boardId:T,embedSrc:I,embedType:A,hasRichMetadata:C,hasRichMetadataProducts:j,hasRichMetadataArticle:R,hasRichMetadataRecipe:L,imagesUrls:M,pinnerId:N,pinSectionId:Z,trackingParams:B,isEligibleForAggregatedComments:U,hasLink:K,component:V,attributionLabel:H}){let{isRTL:G}=(0,g.B)(),$=(0,p.ZP)(),W=(0,d.Z)(),q=(0,f.Z)(),Y=q.isAuth,[X,J]=(0,l.useState)(!1),Q=(0,s.TH)(),ee=(0,m.NK)(n,Q),et=(0,y.HG)(),en=et?S.hk:S.gx,ei=et?S.R_:S.CR,ea=(0,x.Z)({embedSrc:I,embedType:A,imagesUrls:M,pinId:n,nodeId:i,pinnerId:N}),el=(0,v.Z)({embedSrc:I,embedType:A,hasRichMetadata:C,hasRichMetadataProducts:j,hasRichMetadataArticle:R,hasRichMetadataRecipe:L,imagesUrls:M,isStoryPin:!0,pinId:n,nodeId:i,attributionLabel:H}),er=(0,k.Z)({boardId:T??"",embedSrc:I,embedType:A,imagesUrls:M,pinId:n,nodeId:i,pinnerId:N??"",pinnedToBoardId:a,pinSectionId:Z,trackingParams:B,shouldRefresh:!1}),es=(0,c.Yc)(),eo=es?"darkGray":"white",ed=et?"11px":"40px",ec=et?ed:"0px",eu=(0,E.jsx)(P.Z,{buttonText:et?"":"Save",clientTrackingParams:e,deeplinkUri:ee.deeplinkUri,isOnIdeaPinCloseup:!0,onTouch:el,onUnsave:er,pinId:n,pinnedToBoardId:a,shouldShowSavedButton:ea,to:ee.mwebUri,viewParameter:r,viewType:b}),{paddingX:ep,paddingY:em}=(0,S._P)(et),eh=h?{type:"graphqlRef",data:h}:{type:"deprecated",data:n};return(0,E.jsxs)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:ec,backgroundColor:et?"transparent":"#000000"}},"data-test-id":"story-pin-action-bar-mweb",left:et&&G,marginEnd:et||G?2:0,marginStart:et&&G?2:0,paddingX:ep,paddingY:em,position:"absolute",right:et&&!G,width:et?"initial":"100%",zIndex:S.lp,children:[(0,E.jsxs)(o.kC,{alignItems:et?"center":"stretch",direction:et?"column":"row",gap:et?{row:0,column:2}:void 0,justifyContent:et?"end":"start",width:"100%",children:[et&&(0,E.jsx)(o.kC,{alignItems:"center",dataTestId:"pin-more-button",height:en,justifyContent:"center",width:ei,children:(0,E.jsx)(o.hU,{accessibilityLabel:$._('more', 'closeup.storyPin.actionBar.contextualMenu', 'Pin more button'),icon:"ellipsis",iconColor:eo,onClick:()=>{J(!0),W({component:229,element:10946,event_type:102,view_type:3,view_parameter:157})},size:"lg"})}),Y&&(0,E.jsx)(u.Z,{name:"SafeSuspense_StoryPinActionBar_ReactionPickerContainer",children:(0,E.jsx)(_.Z,{children:et?(0,E.jsx)(o.kC,{alignItems:"center",height:en,justifyContent:"center",width:ei,children:(0,E.jsx)(O,{experience:t,iconColor:eo,isIdeaPinCloseUp:!0,nativePinType:"storyPin",pinId:n})}):(0,E.jsx)(l.Fragment,{})})}),(0,E.jsxs)(o.kC,{direction:et?"column":"row",flex:et?"none":"grow",justifyContent:et?"start":"between",children:[(0,E.jsx)(u.Z,{name:"SafeSuspense_CloseupModals_ShareMenu",children:(0,E.jsx)(_.Z,{children:et?(0,E.jsx)(o.kC,{alignItems:"center",dataTestId:"share-button-container",height:en,justifyContent:"center",width:ei,children:(0,E.jsx)(D.Z,{clientTrackingParams:e,component:V,iconColor:eo,iconSize:"lg",pinId:n,viewParameter:r,viewType:b})}):U&&(0,E.jsx)(o.kC,{alignContent:"center",alignItems:"center",height:32,justifyContent:"center",children:(0,E.jsx)(z,{pinId:n,pinKey:eh,viewParameter:r})})})}),!et&&(0,E.jsxs)(o.kC,{gap:2,children:[K&&(0,E.jsx)(o.xu,{alignItems:"center","data-test-id":"streams-visit-text-btn",display:"flex",height:en,justifyContent:"center",children:(0,E.jsx)(F,{graphqlRef:h,pinId:n})}),(0,E.jsx)(o.xu,{alignItems:"center","data-test-id":"streams-save-text-btn",display:"flex",height:en,justifyContent:"center",children:eu})]}),(0,E.jsx)(u.Z,{name:"SafeSuspense_StoryPinActionBar_CommentThreadContainer",children:(0,E.jsx)(_.Z,{children:et?U&&(0,E.jsx)(o.kC,{alignItems:"center",dataTestId:"comment-button-container",height:en,justifyContent:"center",width:ei,children:(0,E.jsx)(z,{pinId:n,pinKey:eh,viewParameter:r})}):(0,E.jsx)(o.kC,{alignContent:"center",alignItems:"center",height:32,justifyContent:"center",children:(0,E.jsx)(D.Z,{clientTrackingParams:e,component:V,iconColor:eo,iconSize:"md",pinId:n,viewParameter:r,viewType:b})})})})]}),et&&(0,E.jsx)(o.xu,{alignItems:"center","data-test-id":"streams-save-text-btn",display:"flex",height:en,justifyContent:"center",children:eu})]}),X&&(0,E.jsx)(w.Z,{onDismiss:()=>J(!1),pinId:n})]})}function B({graphqlRef:e,...t}){let n=(0,r.useFragment)(N,e),i=(0,h.Z)({type:"graphqlRef",data:n}),a=(0,s.TH)();return(0,E.jsx)(Z,{...t,attributionLabel:a.state?.attributionLabel,boardId:n.board?.entityId,embedSrc:n.embed?.src,embedType:n.embed?.type,graphqlRef:n,hasLink:!!n.link&&!n.link.startsWith("https://i.pinimg.com"),hasRichMetadata:!!n.richMetadata,hasRichMetadataArticle:!!n.richMetadata?.article,hasRichMetadataProducts:!!n.richMetadata?.products,hasRichMetadataRecipe:!!n.richMetadata?.recipe,imagesUrls:i,isEligibleForAggregatedComments:n.isEligibleForAggregatedComments??!0,nodeId:n.nodeId,pinnedToBoardId:n.pinnedToBoard?.entityId,pinnerId:n.pinner?.entityId,pinSectionId:n.section?.entityId,trackingParams:n.trackingParams})}function U(e){let t=(0,b.S6)()(e.pinId),n=t?.board?.id,i=(0,s.TH)(),a=(0,h.Z)(null!=t?{type:"deprecated",data:t}:null);return(0,E.jsx)(Z,{...e,attributionLabel:i.state?.attributionLabel,boardId:n,embedSrc:t?.embed?.src,embedType:t?.embed?.type,graphqlRef:null,hasLink:!!t?.link&&!t.link.startsWith("https://i.pinimg.com"),hasRichMetadata:!!t?.rich_metadata,hasRichMetadataArticle:!!t?.rich_metadata?.article,hasRichMetadataProducts:!!t?.rich_metadata?.products,hasRichMetadataRecipe:!!t?.rich_metadata?.recipe,imagesUrls:a,isEligibleForAggregatedComments:t?.is_eligible_for_aggregated_comments??!1,nodeId:t?.node_id,pinnedToBoardId:t?.pinned_to_board?.id,pinnerId:t?.pinner?.id,pinSectionId:t?.section?.id,trackingParams:t?.tracking_params})}function K({graphqlRef:e,...t}){return e?(0,E.jsx)(B,{graphqlRef:e,...t}):(0,E.jsx)(U,{...t})}},758964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(883119),a=n(930837),l=n(140017),r=n(256661),s=n(272768),o=n(785893);function d({onDismiss:e,pinId:t}){let n=(0,l.ZP)(),d=(0,r.R)();return(0,o.jsx)(a.ZP,{accessibilityModalLabel:"",mobileAccessibilityCloseIconLabel:n._('close report modal', ' - ', ' -- '),onDismiss:e,type:"closeup_page",children:(0,s.E)(d)&&(0,o.jsx)(i.xu,{padding:3,children:(0,o.jsx)(s.Z,{graphqlRef:null,nativePinType:"storyPin",onDismiss:e,pinId:t,textSize:"300"})})})}},994391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(883119),a=n(887582),l=n(187033),r=n(614064),s=n(785893);let o=e=>{let{media:t,altImageText:n,dominantColor:o="#000000",pageType:d,isVideo:c}=e,{windowHeight:u,windowWidth:p}=(0,a.Z)(),m=u-r.D,h=Math.min(16*p/9,m),g=h/p;return t||t?.width?(0,s.jsx)(i.xu,{height:"100%",overflow:"hidden",position:"relative",width:"100%",children:c?(()=>{if(!t.video_list||!t.video_list.V_HLSV3_MOBILE)return null;let{width:e,height:n,thumbnail:a,url:r}=t.video_list.V_HLSV3_MOBILE;return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",width:"100%",children:(0,s.jsx)(l.default,{aspectRatio:(e??1)/(n??1),controls:!0,poster:a,src:r??""})})})():(()=>{if(!t.width)return null;let e="number"==typeof t.height&&"number"==typeof t.width?t.height/t.width:1,a="contain";return("cover"===d||e>g)&&(a="cover"),(0,s.jsx)(i.Ee,{alt:n,color:o,fit:a,naturalHeight:t.height??1,naturalWidth:t.width,src:t.url??""})})()}):null}},234573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i,a=n(167912),l=n(883119),r=n(712658),s=n(749886),o=n(627408),d=n(407996),c=n(19447),u=n(994391),p=n(667294),m=n(490166),h=n(771981),g=n(587703),_=n(140017),y=n(785893);let f=({blockImage:e,text:t})=>{let n=(0,_.ZP)();return e&&e.url?(0,y.jsx)(l.Ee,{alt:t,fit:"cover",naturalHeight:e.height??1,naturalWidth:e.width??1,src:e.url}):(0,y.jsx)(l.JO,{accessibilityLabel:n._('Default link block icon', 'Icon for default link blocks without an image', 'Icon for default link blocks without an image'),color:"subtle",icon:"link",size:35})};class b extends p.Component{constructor(...e){var t,n,i;super(...e),t="onTouch",n=e=>{e.stopPropagation();let{block:t,logContextEvent:n,pageId:i}=this.props,{src_url:a="",canonical_url:l=""}=t;n({view_type:3,component:228,view_parameter:157,element:11157,event_type:102,aux_data:{story_pin_page_id:i,src_url:a,canonical_url:l}})},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){this.props.logContextEvent({event_type:120,view_type:3,component:228,view_parameter:157,element:11157})}render(){let{block:e}=this.props;if(e.type!==h.h8.LINK)return null;let{image:t,text:n="",normalized_url:i,src_url:a}=e,r=t?.images?.["345x"];return(0,y.jsx)(l.Tg,{href:a||"",onTap:({event:e})=>this.onTouch(e),rel:"nofollow",rounding:2,tapStyle:"compress",target:"blank",children:(0,y.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",display:"flex",overflow:"hidden",rounding:2,children:[(0,y.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},display:"flex",flex:"none",height:48,justifyContent:"center",minWidth:48,width:48,children:(0,y.jsx)(f,{blockImage:r,text:n})}),(0,y.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},flex:"grow",overflow:"hidden",paddingX:5,children:[(0,y.jsx)(l.xv,{lineClamp:1,size:"100",weight:"bold",children:n}),(0,y.jsx)(l.xv,{color:"shopping",size:"100",children:i})]})]})})}}function v(e){let t=(0,g.Z)();return(0,y.jsx)(b,{...e,logContextEvent:t})}function x(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends p.PureComponent{constructor(...e){super(...e),x(this,"state",{isTextDrawerExpanded:!1}),x(this,"toggleIsTextDrawerExpanded",e=>{e.stopPropagation();let{isTextDrawerExpanded:t}=this.state;this.setState({isTextDrawerExpanded:!t})}),x(this,"renderBlock",(e,t,n)=>{let{isTextDrawerExpanded:i}=this.state;switch(e.type){case h.h8.HEADING:return(0,y.jsxs)(l.xu,{display:"flex",justifyContent:"between",marginBottom:2,children:[(0,y.jsx)(l.xu,{maxWidth:"90%",children:(0,y.jsx)(l.X6,{color:"default",overflow:"normal",size:"500",children:e.text})}),(0,y.jsx)(l.JO,{accessibilityLabel:i?"hide":"expand",color:"default",icon:i?"arrow-down":"arrow-up"})]},t);case h.h8.PARAGRAPH:return(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,y.jsx)(l.xv,{color:"default",children:e.text})},t);case h.h8.LINK:return(0,y.jsx)(l.xu,{marginTop:6,children:(0,y.jsx)(v,{block:e,pageId:n})},t);default:return null}})}render(){let{associatedText:e,pageId:t}=this.props,{isTextDrawerExpanded:n}=this.state,i=(e??[]).map((e,n)=>this.renderBlock(e,n,t)).filter(e=>null!==e);return i.length?(0,y.jsx)(m.Z,{onTouch:this.toggleIsTextDrawerExpanded,pressState:"none",children:(0,y.jsx)(l.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"40px 40px 0px 0px"}},height:n?void 0:132,left:!0,maxHeight:n?"80%":void 0,minHeight:n?132:void 0,overflow:n?"auto":"hidden",padding:6,position:"absolute",right:!0,children:i})}):null}}var P=n(920040);let S=void 0!==i?i:i=n(322511),w=({onLastPage:e,textOnly:t,dominantColor:n,images:i,blocks:a,pageId:r,video:s,hasImageAdjusted:d})=>{let c=s||i?.["750x"]||i?.["236x"]||i?.["1200x"]||i?.originals,p=(a?.length??0)>0,m=p&&a?.[0].text?a[0].text:"";return(0,y.jsx)(o.Z,{auxData:{story_pin_page_id:r},component:228,view:3,viewParameter:157,children:(0,y.jsxs)(l.xu,{height:"100%",width:"100%",children:[!t&&(0,y.jsx)(u.Z,{altImageText:m,dominantColor:n??void 0,isVideo:!!s,media:c,pageType:"media"}),e&&(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0, 0.7)"}},left:!0,position:"absolute",right:!0,top:!0}),p&&!d&&!e&&(0,y.jsx)(k,{associatedText:a??void 0,pageId:r??void 0})]})})},T=({page:e})=>{if(!e)return null;let t=e.video?{video_list:e.video.videoList?{V_HLSV3_MOBILE:e.video.videoList.vHLSV3MOBILE?{width:e.video.videoList.vHLSV3MOBILE.width??void 0,height:e.video.videoList.vHLSV3MOBILE.height??void 0,thumbnail:e.video.videoList.vHLSV3MOBILE.thumbnail??void 0,url:e.video.videoList.vHLSV3MOBILE.url??void 0}:void 0}:void 0}:void 0,n=(0,r.g)(e),i=(e.blocks??[]).reduce((e,t)=>{if(4===t.blockType){let n={block_type:4,type:s.h8.LINK,text:t.text??void 0,src_url:t.srcUrl??void 0,canonical_url:t.canonicalUrl??void 0,normalized_url:t.normalizedUrl??void 0,image:void 0};return[...e,n]}return e},[]),a=n?.length||i.length?[...n??[],...i??[]]:null;return{blocks:a,video:t}};function I({pageId:e,graphqlRef:t,onLastPage:n,textOnly:i}){let l=(0,a.useFragment)(S,t),r=(l.storyPinData?.pages??[]).find(t=>t.storyPageId===e),s=r?.dominantColorAdjusted??r?.dominantColor??"",{imageImages:o,imageAdjustedImages:c,hasImageImages:u,hasImageAdjustedImages:p}=(0,P.Z)(r)||Object.freeze({});if(!r)return null;let m=!!r.dominantColorAdjusted||p,h=!!r.dominantColor||u;if(!h&&!m&&!r.video&&!i)return(0,y.jsx)(d.Z,{});let{blocks:g,video:_}=T({page:r})??Object.freeze({});return(0,y.jsx)(w,{blocks:g,dominantColor:s,hasImageAdjusted:m,images:m?c:o,onLastPage:n,pageId:r.storyPageId,textOnly:i,video:_})}function A({pageId:e,pinId:t,textOnly:n,onLastPage:i}){let a=(0,c.S6)()(t??""),l=(a?.story_pin_data?.pages??[]).find(t=>t.id===e),{image:r,image_adjusted:s,blocks:o,video:u,id:p}=l||Object.freeze({}),{dominant_color:m,images:h}=s||r||Object.freeze({});return r||u||n?(0,y.jsx)(w,{blocks:o,dominantColor:m,hasImageAdjusted:!!s,images:h,onLastPage:i,pageId:p,textOnly:n,video:u}):(0,y.jsx)(d.Z,{})}function E({pageId:e,pinId:t,graphqlRef:n,...i}){return n?(0,y.jsx)(I,{graphqlRef:n,pageId:e,...i}):(0,y.jsx)(A,{pageId:e,pinId:t,...i})}},596736:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var i,a=n(667294),l=n(167912),r=n(883119),s=n(214877),o=n(930837),d=n(140017),c=n(406893),u=n(340523),p=n(554786),m=n(149722),h=n(19447),g=n(771981),_=n(785893);let y=void 0!==i?i:i=n(606296),f=({children:e,handleCloseModal:t})=>{let n=(0,p.HG)(),i=(0,d.ZP)();return n?(0,_.jsx)(o.ZP,{accessibilityModalLabel:i._('Artist and song title for this Pin', 'web.closeup.musicAttibutionModal', 'Artist and song title for Pin music attribution'),heading:(0,_.jsxs)(r.kC,{justifyContent:"between",children:[(0,_.jsx)(r.X6,{size:"500",children:i._('Playlist for this video', 'web.closeup.musicAttibutionModal.heading', 'Title for music attribution modal')}),(0,_.jsx)(r.hU,{accessibilityLabel:i._('Close modal button', 'web.closeup.musicAttibutionModal.closeButton', 'Close modal button for music attribution modal'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})]}),onDismiss:t,children:e}):(0,_.jsx)(r.mh,{zIndex:g.lp,children:(0,_.jsx)(r.Io,{heading:i._('Playlist for this video', 'mWeb.closeup.musicAttibutionModal.heading', 'Title for music attribution modal'),onDismiss:t,children:e})})},b=({musicAttributions:e,pageMusicBlockAudioArtistName:t,pageMusicBlockAudioTitle:n,playbackHandlers:i,shouldMute:l,viewParameter:o})=>{let h=(0,d.ZP)(),{logContextEvent:g}=(0,s.v)(),{checkExperiment:y}=(0,u.F)(),b=(0,p.ZP)(),v=(0,m.Z)(),x="desktop"!==b&&y(v.isAuth?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,[k,P]=(0,a.useState)(!1),S=new r.Ry(6);if((0,a.useEffect)(()=>{(e?.length||l)&&e&&g({event_type:l?14600:14601,view_type:3,view_parameter:o})},[g,e,l,o]),!e?.length&&!l)return null;let{handlePause:w,handlePlay:T}=i||{},I=null;if(l)I=h._('Audio not available in your location', 'closeup.storyPin.musicAttribution', 'Informational message to tell user audio is not available in their location');else{let e=t??"",i=n??"";I=e&&i?`${e} - ${i}`:""}if(e?.length===1){let t=e[0],{artist:n="",title:i=""}=t;I=n&&i?`${n} - ${i}`:""}return(0,_.jsx)(r.xu,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",overflow:"hidden",zIndex:S,children:l?(0,_.jsx)(a.Fragment,{children:(0,_.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,_.jsx)(r.xu,{marginEnd:2,children:(0,_.jsx)(r.JO,{accessibilityLabel:h._('Music icon', 'mWeb.closeup.storyPin.musicMutedIcon', 'Music muted icon for idea pin music attribution'),color:"light",icon:"music-off",inline:!0,size:12})}),(0,_.jsx)(r.xv,{color:"light",inline:!0,overflow:"noWrap",size:"100",children:h._('Audio not available in your location', 'closeup.storyPin.musicAttribution', 'Informational message to tell user audio is not available in their location')})]})}):(0,_.jsxs)(a.Fragment,{children:[e&&e.length>=2?(0,_.jsx)(r.xu,{children:(0,_.jsx)(r.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{w?.(),P(!0)},children:(0,_.jsxs)(r.kC,{alignItems:"center",justifyContent:x?"center":"start",children:[(0,_.jsx)(r.xu,{marginEnd:2,children:(0,_.jsx)(r.JO,{accessibilityLabel:h._('Music icon', 'mWeb.closeup.storypin.musicicon', 'Artist and song title for idea pin music attribution'),color:"light",icon:l?"music-off":"music-on",inline:!0,size:12})}),(0,_.jsx)(r.xv,{color:"light",inline:!0,overflow:"noWrap",size:"100",children:h._('View the playlist', 'mWeb.closeup.musicAttibutionModal.entryPoint', 'Entry point for playlist modal')})]})})}):(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(r.JO,{accessibilityLabel:h._('Music icon', 'mWeb.closeup.storypin.musicicon', 'Music icon for idea pin music attribution'),color:"light",icon:l?"music-off":"music-on",inline:!0,size:12}),(0,_.jsx)(r.xu,{marginStart:2,overflow:"hidden",children:(0,_.jsxs)("span",{className:I.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:I.length>=50?"260px":void 0},children:[(0,_.jsx)(r.xv,{color:"light",inline:!0,overflow:"noWrap",size:"100",children:I}),(0,_.jsx)(c.Z,{unsafeCSS:`
                  .marquee {
                   animation: marquee 10s linear infinite;
                   animation-delay: 2s;
                  }

                  .marquee:hover {
                      animation-play-state: paused;
                  }

                 @keyframes marquee {
                   0% {
                     transform: translateX(0%);
                    }
                  50% {
                    transform: translateX(-100%);
                  }
                  100% {
                    transform: translateX(0%);
                  }
              }
            `})]})})]}),k&&(0,_.jsx)(f,{handleCloseModal:()=>{T?.(),P(!1)},children:(0,_.jsx)(r.xu,{marginBottom:5,paddingX:5,paddingY:1,children:e?.map(({isrc:e,thumbnailImageUrl:t,thumbnail_image_url:n,title:i,artist:a})=>_.jsxs(r.xu,{display:"flex",padding:1,children:[_.jsx(r.xu,{color:"darkWash",height:60,rounding:7,width:60,children:_.jsx(r.Ee,{alt:h._('Image of album art', 'mWeb.closeup.musicAttibutionModal.albumArt', 'Alt text for image of album art for associated song'),color:"darkWash",naturalHeight:1,naturalWidth:1,src:t||n||""})}),_.jsxs(r.xu,{direction:"column",display:"flex",justifyContent:"center",paddingX:2,children:[_.jsx(r.xv,{weight:"bold",children:i}),_.jsx(r.xv,{size:"100",children:a})]})]},e))})})]})})};function v({activePageIndex:e,graphqlRef:t,...n}){let i;let a=(0,l.useFragment)(y,t),r=a?.storyPinData,s=e||0===e?r?.pages?.[e]:null,o=!1;return r&&s?(o=s.shouldMute||!1,i=s.musicAttributions):(o=a?.shouldMute||!1,i=a?.musicAttributions),(0,_.jsx)(b,{...n,graphqlRef:null,musicAttributions:i,shouldMute:o})}function x({activePageIndex:e,pinId:t,...n}){let i;let a=(0,h.S6)()(t),l=a?.story_pin_data,r=e||0===e?l?.pages?.[e]:null,s=!1;return l&&r?(s=r.should_mute||!1,i=r.music_attributions):(s=a?.should_mute||!1,i=a?.music_attributions),(0,_.jsx)(b,{...n,graphqlRef:null,musicAttributions:i,shouldMute:s})}function k({graphqlRef:e,...t}){return e?(0,_.jsx)(v,{graphqlRef:e,...t}):(0,_.jsx)(x,{graphqlRef:null,...t})}},705572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),l=n(140017),r=n(241552),s=n(554786),o=n(149722),d=n(771981),c=n(785893);let u=(0,i.lazy)(()=>Promise.all([n.e(24586),n.e(38108)]).then(n.bind(n,28986))),p=({pinId:e,iconColor:t,iconSize:n,clientTrackingParams:p,viewType:m,viewParameter:h,component:g})=>{let _=(0,l.ZP)(),{isAuth:y}=(0,o.Z)(),{hideUnauthSharingModals:f}=(0,r.l)()??Object.freeze({}),[b,v]=(0,i.useState)(!1),x=(0,s.HG)(),k=()=>v(!0),P=()=>{v(!1),y||f?.()};return(0,c.jsxs)(i.Fragment,{children:[x?(0,c.jsx)(a.hU,{accessibilityLabel:_._('Share Pin', 'closeup.storyPin.actionBar.sharePin', 'Share pin entry point'),icon:"share",iconColor:t||"white",onClick:b?P:k,size:n||"lg"}):(0,c.jsx)(a.iP,{accessibilityLabel:_._('share', 'closeup.storyPin.actionBar.shareButton', 'Share entry point'),onTap:k,children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTguMzI2MjEgNi4zODY2N0w3LjM0NjIxIDcuMzY4MzNDNi42OTYyMSA4LjAxOTE3IDUuNjQxMjEgOC4wMjA4MyA0Ljk4ODcxIDcuMzdDNC4zMzc4NyA2LjcyIDQuMzM3MDQgNS42NjUgNC45ODcwNCA1LjAxMzMzTDkuOTkwMzcgMEwxNS4wMTEyIDUuMDEwODNDMTUuNjYyIDUuNjYxNjcgMTUuNjYyOSA2LjcxNjY3IDE1LjAxMjkgNy4zNjgzM0MxNC4zNjI5IDguMDE5MTcgMTMuMzA3OSA4LjAyMDgzIDEyLjY1NjIgNy4zN0wxMS42NTk1IDYuMzc1ODNWMTEuNTI0MkMxMS42NTk1IDEyLjQ0NDIgMTAuOTEyOSAxMy4xOTA4IDkuOTkyODcgMTMuMTkwOEM5LjA3MjA0IDEzLjE5MDggOC4zMjYyMSAxMi40NDQyIDguMzI2MjEgMTEuNTI0MlY2LjM4NjY3WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE1LjgzMzQgMTMuMzMzNUMxNS44MzM0IDEyLjQxMzUgMTYuNTggMTEuNjY2OCAxNy41IDExLjY2NjhDMTguNDIgMTEuNjY2OCAxOS4xNjY3IDEyLjQxMzUgMTkuMTY2NyAxMy4zMzM1VjE4LjMzMzVDMTkuMTY2NyAxOS4yNTM1IDE4LjQyIDIwLjAwMDIgMTcuNSAyMC4wMDAySDIuNTAwMDRDMS41ODAwNCAyMC4wMDAyIDAuODMzMzc0IDE5LjI1MzUgMC44MzMzNzQgMTguMzMzNVYxMy4zMzM1QzAuODMzMzc0IDEyLjQxMzUgMS41ODAwNCAxMS42NjY4IDIuNTAwMDQgMTEuNjY2OEMzLjQyMDA0IDExLjY2NjggNC4xNjY3MSAxMi40MTM1IDQuMTY2NzEgMTMuMzMzNVYxNi42NjY4SDE1LjgzMzRWMTMuMzMzNVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=")',WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",background:"white"}},"data-test-id":"share-button-container",minHeight:d.gx,minWidth:d.CR})}),(0,c.jsx)(u,{clientTrackingParams:p,component:g,element:10942,hideContactsSuggestions:!y,isOpen:b,objectId:e,objectType:1,onDismiss:P,viewParameter:h,viewType:m})]})}},810495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>eN});var i,a,l,r,s,o,d,c,u,p,m,h=n(667294),g=n(167912),_=n(883119),y=n(990328),f=n(343902),b=n(5859),v=n(749886),x=n(554786),k=n(771981),P=n(616550),S=n(406718),w=n(903591),T=n(587703),I=n(205841),A=n(140017),E=n(339001),C=n(995917),j=n(48481),R=n(520718),L=n(149722),F=n(557403),D=n(848272),O=n(19447),z=n(785893);let M=void 0!==i?i:i=n(267959);function N({elementType:e,onFlyoutClose:t,onFlyoutOpen:n,pinId:i,tooltipElementType:a,videoProgressInfo:l,title:r,hasPrice:s,imageUrl:o,productCurrentPrice:d,pinCreator:c,blockStyleRotation:u,blockEndTime:p,blockErrorMessage:m,blockInteractiveStickerType:g,blockIsRemoved:y,blockIsValid:f,blockStartTime:b,blockTypeIdentifier:v,stickerDataQuestionCommentId:x,stickerDataBoardId:O,blockUserImageUrl:M,blockUserFullName:N,blockUserUsername:Z}){let B=(0,A.ZP)(),U=(0,L.Z)(),[K,V]=(0,h.useState)(!1),H=(0,h.useRef)(),G=(0,P.k6)(),$=(0,T.Z)(),W=(0,S.Z)(),q=(0,j.Z)(),Y=f&&5===g&&!!O,X=(0,C.Z)(Y?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:O}}:null),J=f&&7===g&&!!x,Q=(0,D.Z)(),{is_collaborative:ee,pin_count:et,url:en}=X.data||{},ei=null;v===k.h8.PRODUCT_STICKER?ei=i?`/pin/${i}/`:"/":v===k.h8.MENTION_STICKER?ei=`/${Z??""}/`:Y&&(ei=X.isLoaded?`${en}`:null);let{currentTime:ea}=l||{},el=!(0,R.Z)({currentTime:ea,endTime:p,startTime:b}),[er,es]=(0,h.useState)(!1);(0,h.useEffect)(()=>{el&&V(!1)},[el]);let eo=()=>{$({event_type:123,view_type:3,view_parameter:157,component:228,element:a}),V(!1),t&&t()},ed=e=>{$({event_type:120,view_type:3,view_parameter:157,component:228,element:a,aux_data:{error_message:!f&&m?m:null}}),V(!0),n&&n(),e.preventDefault(),e.stopPropagation()},ec=()=>f?Y?X.isLoaded?(0,z.jsxs)(h.Fragment,{children:[(0,z.jsxs)(_.xu,{flex:"grow",paddingX:2,children:[(0,z.jsx)(_.xv,{lineClamp:1,size:"100",weight:"bold",children:ee?B._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):B._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing')}),(0,z.jsx)(_.xv,{size:"100",children:(!!et||0===et)&&(0,E.nk)(B.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', et, 'closeup.StoryPin.stickerBlock.boardSticker.boardLabel', 'Caption when board tag flyout that showing number of Pins on board'),{pinCount:et})})]}),(0,z.jsx)(_.xu,{flex:"none",children:(0,z.jsx)(_.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]}):(0,z.jsx)(h.Fragment,{children:(0,z.jsxs)(_.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,z.jsx)(_.xu,{marginEnd:1,paddingX:2,children:(0,z.jsx)(_.xv,{color:"subtle",lineClamp:1,size:"100",children:B._('Loading board...', 'closeup.StoryPin.stickerBlock.boardSticker.loadingText', 'Label explaining board sticker still loading')})}),(0,z.jsx)(_.$j,{accessibilityLabel:B._('Board is loading', 'closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText', 'Accessibility label for board loading spinner'),show:!0,size:"sm"})]})}):(0,z.jsx)(_.xu,{paddingX:2,paddingY:2,children:(0,z.jsx)(_.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:B._('Sticker not supported yet', 'closeup.StoryPin.stickerBlock.genericStickerError', 'Label explaining this sticker has not been implemented yet')})}):(0,z.jsx)(_.xu,{paddingX:2,paddingY:2,children:(0,z.jsx)(_.xv,{color:"subtle",lineClamp:1,size:"100",weight:"bold",children:m})}),eu=()=>{let e=null;switch(v){case k.h8.PRODUCT_STICKER:e=(0,z.jsxs)(h.Fragment,{children:[(0,z.jsx)(_.xu,{flex:"none",children:(0,z.jsx)(_.zd,{height:40,rounding:3,wash:!0,width:40,children:(0,z.jsx)(_.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:o||""})})}),(0,z.jsx)(_.xu,{flex:"grow",paddingX:2,children:s?(0,z.jsxs)(_.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,z.jsx)(_.xv,{color:"shopping",lineClamp:1,size:"100",weight:"bold",children:d}),(0,z.jsx)(_.xv,{lineClamp:1,size:"100",children:r})]}):(0,z.jsx)(_.xv,{lineClamp:1,size:"100",children:r})}),(0,z.jsx)(_.xu,{flex:"none",children:(0,z.jsx)(_.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case k.h8.MENTION_STICKER:e=(0,z.jsxs)(h.Fragment,{children:[(0,z.jsx)(_.xu,{flex:"none",children:(0,z.jsx)(I.qE,{name:N??"",size:"sm",src:M??void 0})}),(0,z.jsx)(_.xu,{flex:"grow",paddingX:2,children:(0,z.jsx)(_.xv,{lineClamp:1,size:"200",weight:"bold",children:N})}),(0,z.jsx)(_.xu,{flex:"none",children:(0,z.jsx)(_.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case k.h8.GENERIC_STICKER:e=ec();break;case k.h8.VTO_MAKEUP_STICKER:e=(0,z.jsx)(_.xv,{size:"300",weight:"bold",children:B._('Try this sticker on your phone!', 'closeup.storyPin.vtoMakeupSticker', 'Caption when @vitural-try-on-makeup tag is tapped for Web')})}let t=ee?B._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):B._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing');return(0,z.jsx)(_.J2,{_deprecatedShowCaret:!0,accessibilityLabel:t,anchor:H.current,idealDirection:"up",onDismiss:eo,positionRelativeToAnchor:!1,size:y?"flexible":"sm",children:(0,z.jsx)(_.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:v===k.h8.PRODUCT_STICKER?1:3,width:"100%",children:y?(0,z.jsx)(_.xv,{color:"subtle",size:"200",weight:"bold",children:B._('Tag removed!', 'closeup.storyPin.stickerBlock', 'Caption when the tag is removed')}):e})})},ep=async(e,t,n)=>(i&&x&&(await Q({force:n,parentId:x,pinId:i,text:e,tags:JSON.stringify(t),isReply:!0}),es(!1)),!0);return(0,z.jsxs)(_.xu,{ref:H,bottom:!0,dangerouslySetInlineStyle:{__style:{transform:`rotate(${u??0}deg)`,touchAction:"none"}},"data-test-id":(v||"")+"_container",display:"flex",left:!0,position:"absolute",right:!0,rounding:2,top:!0,zIndex:k.B5,children:[(0,z.jsx)(_.iP,{disabled:el,onTap:K?eo:({event:t})=>{el||($({view_type:3,view_parameter:157,component:228,element:e,event_type:102}),J?U.isAuth?es(!0):q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_idea_pin_question_sticker",desktopOptions:{modalType:"login"}}):ed(t))},rounding:"pill"}),K&&(0,z.jsx)(_.mh,{zIndex:k.tD,children:y?eu():(0,z.jsx)(_.iP,{fullWidth:!0,onTap:({event:e})=>{$({view_type:3,view_parameter:157,component:228,element:a,event_type:102}),e.preventDefault(),e.stopPropagation(),ei?G.push(ei):eo()},children:eu()})}),J&&(0,z.jsx)(F.Z,{commentWarningModalState:w.A9.NONE,dismissCommentWarningModal:()=>{},heading:(0,E.nk)(B._('Reply to {{ creator }}', 'ideapin.questionsticker.replymodal.heading', 'Replying to creator Q&A'),{creator:c}).join(" "),initialMentions:[],isModalOpen:er,onDismiss:()=>{es(!1)},onPost:ep,placeholder:W?B._('Your reply will show up as a public comment on this Pin', 'pin.questionsticker.replymodal.placeholder', 'Placeholder informing that Q&A reply will be a public comment'):B._('Your reply will show up as a public comment on this Idea Pin', 'ideapin.questionsticker.replymodal.placeholder', 'Placeholder informing that Q&A reply will be a public comment')})]})}function Z({graphqlRef:e,...t}){let n=(0,g.useFragment)(M,e),{gridTitle:i,description:a,richSummary:l}=n||Object.freeze({}),r=n.imageSpec_236x,{displayName:s,products:o}=l||{},d=o?.[0].offerSummary||Object.freeze({}),{price:c,maxPrice:u}=d||{},p=n.nativeCreator?.firstName||n.nativeCreator?.fullName||n.nativeCreator?.username;return(0,z.jsx)(N,{...t,hasPrice:!!d&&(!!c||!!u),imageUrl:r?.url,pinCreator:p,pinId:n.entityId,productCurrentPrice:c,title:s||i||a})}function B({blockPinId:e,pinId:t,...n}){let i=t||e,a=(0,O.S6)()(i??""),{grid_title:l,description:r,images:s,rich_summary:o}=a||{},d=(s||{})["236x"]||{},{display_name:c,products:u}=o||{},p=((u||[])[0]||{}).offer_summary||{},{price:m,max_price:h}=p||{},g=a?.native_creator?.first_name||a?.native_creator?.full_name||a?.native_creator?.username;return(0,z.jsx)(N,{...n,hasPrice:!!p&&(!!m||!!h),imageUrl:d.url,pinCreator:g,pinId:i,productCurrentPrice:m,title:c||l||r})}function U({graphqlRef:e,blockPinId:t,...n}){return e?(0,z.jsx)(Z,{graphqlRef:e,...n}):(0,z.jsx)(B,{blockPinId:t,...n})}let K=void 0!==a?a:a=n(779429),V=void 0!==l?l:l=n(132142);function H({graphqlRef:e,rootPingraphqlRef:t,...n}){let i=(0,g.useFragment)(V,t),a=(0,g.useFragment)(K,e);return(0,z.jsx)(U,{...n,blockEndTime:a.endTime,blockErrorMessage:a.errorMessage,blockInteractiveStickerType:a.interactiveStickerType,blockIsRemoved:a.isRemoved,blockIsValid:a.isValid,blockPinId:null,blockStartTime:a.startTime,blockStyleRotation:a.blockStyle?.rotation,blockTypeIdentifier:k.h8.GENERIC_STICKER,blockUserFullName:null,blockUserImageUrl:null,blockUserUsername:null,graphqlRef:i,stickerDataBoardId:a.stickerData?.boardId,stickerDataQuestionCommentId:a.stickerData?.questionCommentId})}function G({graphqlRef:e,...t}){let n=(0,g.useFragment)(K,e);return(0,z.jsx)(U,{...t,blockEndTime:n.endTime,blockErrorMessage:n.errorMessage,blockInteractiveStickerType:n.interactiveStickerType,blockIsRemoved:n.isRemoved,blockIsValid:n.isValid,blockPinId:null,blockStartTime:n.startTime,blockStyleRotation:n.blockStyle?.rotation,blockTypeIdentifier:k.h8.GENERIC_STICKER,blockUserFullName:null,blockUserImageUrl:null,blockUserUsername:null,graphqlRef:null,stickerDataBoardId:n.stickerData?.boardId,stickerDataQuestionCommentId:n.stickerData?.questionCommentId})}function $({block:e,...t}){let{block_style:{rotation:n=0}={},end_time:i,error_message:a,interactive_sticker_type:l=null,is_removed:r,is_valid:s,start_time:o,sticker_data:d,type:c}=e,{board_id:u,question_comment_id:p}=d||{};return(0,z.jsx)(U,{...t,blockEndTime:i,blockErrorMessage:a,blockInteractiveStickerType:l,blockIsRemoved:r,blockIsValid:s,blockPinId:null,blockStartTime:o,blockStyleRotation:n,blockTypeIdentifier:c,blockUserFullName:null,blockUserImageUrl:null,blockUserUsername:null,graphqlRef:null,stickerDataBoardId:u,stickerDataQuestionCommentId:p})}function W({block:e,resourceBlock:t,rootPingraphqlRef:n,...i}){return e&&n?(0,z.jsx)(H,{graphqlRef:e,rootPingraphqlRef:n,...i}):e&&!n?(0,z.jsx)(G,{graphqlRef:e,...i}):t?(0,z.jsx)($,{block:t,...i}):null}var q=n(763865),Y=n(6845);let X=void 0!==r?r:r=n(483381);function J({blockText:e,styleAlignment:t,styleFontSize:n,styleHexColor:i,styleHighlightColor:a,styleVerticalAlignment:l,fontName:r,fontLetterSpacing:s,fontLineHeight:o,fontUrl:d,fontDefaultSize:c}){return(0,Y.m)({hasFont:!0,letterSpacing:s,lineHeight:o,name:r,url:d}),(0,z.jsx)("h1",{style:(0,q.RK)({alignment:t,verticalAlignment:l??k.Wz.vertical_alignment}),children:(0,z.jsx)("span",{style:(0,q.BN)({fontSize:n||c,hexColor:i??k.Wz.hex_color,letterSpacing:s,lineHeight:o,name:r,highlightColor:a}),children:e})})}function Q({graphqlRef:e}){let t=(0,g.useFragment)(X,e);return(0,z.jsx)(J,{blockText:t.text,fontDefaultSize:t.style?.font?.defaultSize??k.Wz.font.default_size,fontLetterSpacing:t.style?.font?.letterSpacing??k.Wz.font.letter_spacing,fontLineHeight:t.style?.font?.lineHeight??k.Wz.font.line_height,fontName:t.style?.font?.name??k.Wz.font.name,fontUrl:t.style?.font?.url??k.Wz.font.url,styleAlignment:t.style?.alignment??k.Wz.alignment,styleFontSize:t.style?.fontSize??k.Wz.font_size,styleHexColor:t.style?.hexColor??k.Wz.hex_color,styleHighlightColor:t.style?.highlightColor??k.Wz.highlight_color,styleVerticalAlignment:t.style?.verticalAlignment??k.Wz.vertical_alignment})}function ee({block:e}){return(0,z.jsx)(J,{blockText:e.text,fontDefaultSize:e.style?.font?.default_size??k.Wz.font.default_size,fontLetterSpacing:e.style?.font?.letter_spacing??k.Wz.font.letter_spacing,fontLineHeight:e.style?.font?.line_height??k.Wz.font.line_height,fontName:e.style?.font?.name??k.Wz.font.name,fontUrl:e.style?.font?.url??k.Wz.font.url,styleAlignment:e.style?.alignment??k.Wz.alignment,styleFontSize:e.style?.font_size??k.Wz.font_size,styleHexColor:e.style?.hex_color??k.Wz.hex_color,styleHighlightColor:e.style?.highlight_color??k.Wz.highlight_color,styleVerticalAlignment:e.style?.vertical_alignment??k.Wz.vertical_alignment})}function et({block:e,resourceBlock:t}){return e?(0,z.jsx)(Q,{graphqlRef:e}):t?(0,z.jsx)(ee,{block:t}):null}let en=void 0!==s?s:s=n(439231);function ei({imageHeight:e,imageWidth:t,imageUrl:n}){let i=(0,A.ZP)();return(0,z.jsx)(_.xu,{flex:"grow",children:(0,z.jsx)(_.Ee,{alt:i._('Story pin image', 'mweb.closeup.storypin.renderer', 'Alt text for story pin image'),color:"transparent",naturalHeight:e??1,naturalWidth:t??1,src:n??""})})}function ea({graphqlRef:e}){let t=(0,g.useFragment)(en,e);return t.imageSpec_750x?(0,z.jsx)(ei,{imageHeight:t.imageSpec_750x.height,imageUrl:t.imageSpec_750x.url,imageWidth:t.imageSpec_750x.width}):null}function el({block:e}){let t=e.image;if(!t)return null;let{images:n={}}=t,i=n["750x"];return(0,z.jsx)(ei,{imageHeight:i?.height,imageUrl:i?.url,imageWidth:i?.width})}function er({block:e,resourceBlock:t}){return e?(0,z.jsx)(ea,{graphqlRef:e}):t?(0,z.jsx)(el,{block:t}):null}let es=void 0!==o?o:o=n(361838);function eo({graphqlRef:e,...t}){let n=(0,g.useFragment)(es,e);return(0,z.jsx)(U,{...t,blockEndTime:n.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:n.isRemoved,blockIsValid:null,blockPinId:null,blockStartTime:n.startTime,blockStyleRotation:n.blockStyle?.rotation,blockTypeIdentifier:k.h8.MENTION_STICKER,blockUserFullName:n.user?.fullName,blockUserImageUrl:n.user?.imageSmallUrl,blockUserUsername:n.user?.username,graphqlRef:null,stickerDataBoardId:null,stickerDataQuestionCommentId:null})}function ed({block:e,...t}){let{block_style:{rotation:n}={},end_time:i,is_removed:a,start_time:l,type:r}=e,{image_small_url:s,full_name:o,username:d}=e.user??{};return(0,z.jsx)(U,{...t,blockEndTime:i,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:a,blockIsValid:null,blockPinId:null,blockStartTime:l,blockStyleRotation:n,blockTypeIdentifier:r,blockUserFullName:o,blockUserImageUrl:s,blockUserUsername:d,graphqlRef:null,stickerDataBoardId:null,stickerDataQuestionCommentId:null})}function ec({block:e,resourceBlock:t,...n}){return e?(0,z.jsx)(eo,{graphqlRef:e,...n}):t?(0,z.jsx)(ed,{block:t,...n}):null}let eu=void 0!==d?d:d=n(567394);function ep({blockText:e,styleAlignment:t,styleFontSize:n,styleHexColor:i,styleHighlightColor:a,styleVerticalAlignment:l,fontName:r,fontLetterSpacing:s,fontLineHeight:o,fontUrl:d,fontDefaultSize:c}){(0,Y.m)({hasFont:!0,letterSpacing:s,lineHeight:o,name:r,url:d});let u=(e??"").split(/\r?\n/g);return(0,z.jsx)("div",{style:(0,q.RK)({alignment:t,verticalAlignment:l??k.Cc.vertical_alignment}),children:(0,z.jsx)("p",{style:(0,q.BN)({fontSize:n||c,hexColor:i??k.Cc.hex_color,letterSpacing:s,lineHeight:o,name:r}),children:u.map((t,n)=>(0,z.jsx)("span",{style:(0,q.xm)({highlightColor:t.trim().length?a:null}),children:n===u.length-1?t:(0,z.jsxs)(h.Fragment,{children:[t," ",(0,z.jsx)("br",{})]})},`paragraphLine-${n}-${(e??"").substr(0,9)}`))})})}function em({graphqlRef:e}){let t=(0,g.useFragment)(eu,e);return(0,z.jsx)(ep,{blockText:t.text,fontDefaultSize:t.style?.font?.defaultSize??k.Cc.font.default_size,fontLetterSpacing:t.style?.font?.letterSpacing??k.Cc.font.letter_spacing,fontLineHeight:t.style?.font?.lineHeight??k.Cc.font.line_height,fontName:t.style?.font?.name??k.Cc.font.name,fontUrl:t.style?.font?.url??k.Cc.font.url,styleAlignment:t.style?.alignment??k.Cc.alignment,styleFontSize:t.style?.fontSize??k.Cc.font_size,styleHexColor:t.style?.hexColor??k.Cc.hex_color,styleHighlightColor:t.style?.highlightColor??k.Cc.highlight_color,styleVerticalAlignment:t.style?.verticalAlignment??k.Cc.vertical_alignment})}function eh({block:e}){return(0,z.jsx)(ep,{blockText:e.text,fontDefaultSize:e.style?.font?.default_size??k.Cc.font.default_size,fontLetterSpacing:e.style?.font?.letter_spacing??k.Cc.font.letter_spacing,fontLineHeight:e.style?.font?.line_height??k.Cc.font.line_height,fontName:e.style?.font?.name??k.Cc.font.name,fontUrl:e.style?.font?.url??k.Cc.font.url,styleAlignment:e.style?.alignment??k.Cc.alignment,styleFontSize:e.style?.font_size??k.Cc.font_size,styleHexColor:e.style?.hex_color??k.Cc.hex_color,styleHighlightColor:e.style?.highlight_color??k.Cc.highlight_color,styleVerticalAlignment:e.style?.vertical_alignment??k.Cc.vertical_alignment})}function eg({block:e,resourceBlock:t}){return e?(0,z.jsx)(em,{graphqlRef:e}):t?(0,z.jsx)(eh,{block:t}):null}let e_=void 0!==c?c:c=n(441496);function ey({graphqlRef:e,...t}){let n=(0,g.useFragment)(e_,e);return(0,z.jsx)(U,{...t,blockEndTime:n.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:n.isRemoved,blockIsValid:null,blockPinId:n.pinId,blockStartTime:n.startTime,blockStyleRotation:n.blockStyle?.rotation,blockTypeIdentifier:k.h8.PRODUCT_STICKER,blockUserFullName:null,blockUserImageUrl:null,blockUserUsername:null,graphqlRef:null,stickerDataBoardId:null,stickerDataQuestionCommentId:null})}function ef({block:e,...t}){let{block_style:{rotation:n}={},end_time:i,is_removed:a,start_time:l,type:r}=e;return(0,z.jsx)(U,{...t,blockEndTime:i,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:a,blockIsValid:null,blockPinId:e.pin_id,blockStartTime:l,blockStyleRotation:n,blockTypeIdentifier:r,blockUserFullName:null,blockUserImageUrl:null,blockUserUsername:null,graphqlRef:null,stickerDataBoardId:null,stickerDataQuestionCommentId:null})}function eb({block:e,resourceBlock:t,...n}){return e?(0,z.jsx)(ey,{graphqlRef:e,...n}):t?(0,z.jsx)(ef,{block:t,...n}):null}var ev=n(214164),ex=n(961011),ek=n(369708),eP=n(734950);let eS=void 0!==u?u:u=n(453624);function ew({activeStreamItemIndex:e,hasPinPosterImage:t,isActive:n,isSinglePage:i,muteVideos:a,onVideoEnded:l,onVideoTimeChange:r,pinAspectRatio:s,blockStyleWidth:o,blockStyleHeight:d,blockVideo:c,pinId:u,pinPosterImage:p}){let m=function(){let e=(0,x.HG)(),[t,n]=(0,h.useState)(v.ap);return(0,h.useEffect)(()=>{"undefined"!=typeof window&&n(e?v.ap:window.innerWidth/window.innerHeight)},[e]),t}(),g=(0,b.B)(),{isBot:y}=g,{isSeekingIdeaPin:f,seekTimes:k}=(0,ev.Hx)(),{captionsEnabled:P}=(0,ek.r)(),{clearSeekTime:S}=(0,ev.RC)(),w=k&&k[u]||0,T=(0,h.useRef)();(0,ex.Z)(e=>{e&&!T.current?.paused&&T.current?.pause()},T.current);let I=g.locale.toLowerCase(),A=(c?.captionsUrls||c?.captions_urls)??{},E=I&&A[I]||Object.values(A)[0]||"";if(!c)return null;let{width:C,height:j,thumbnail:R,url:L}=c,F=o&&d?o/d*m:m,D=(C??1)/(j??1),O={height:"100%",left:"0%",top:"0%",width:"100%"};if(F<D){let e=100*D/F;O.width=y?"100%":`${e}%`,O.left=y?"":`-${(e-100)/2}%`}else if(F>D){let e=100*F/D;O.height=`${e}%`,O.top=`-${(e-100)/2}%`}let M=(0,z.jsx)(eP.Z,{activeStreamItemIndex:e,aspectRatio:(C??1)/(j??1),captions:String(E)||"",captionsEnabled:P,clearSeekTime:S,loop:i,onEnded:n?l:()=>{},onTimeChange:({time:e})=>{if(r&&"number"==typeof c.duration&&c.duration>0&&!f&&n){let t=c.duration/1e3;r({currentTime:e,duration:t,pinId:u})}},pinId:u,playing:!f&&n,poster:t&&p||(R??void 0),seekTime:w,setVideoRef:e=>{T.current=e},src:L??"",volume:a?0:1});return s!==v.ap?M:(0,z.jsx)(_.xu,{height:"100%",width:"100%",children:(0,z.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:O},position:"absolute",children:M})})}function eT({graphqlRef:e,...t}){let n=(0,g.useFragment)(eS,e),i=n.videoData?.videoList?.vHLSV3MOBILE;return(0,z.jsx)(ew,{blockStyleHeight:n.blockStyle?.height,blockStyleWidth:n.blockStyle?.width,blockVideo:i,...t})}function eI({block:e,...t}){let n=e.video?.video_list?.V_HLSV3_MOBILE;return(0,z.jsx)(ew,{blockStyleHeight:e.block_style?.height,blockStyleWidth:e.block_style?.width,blockVideo:n,...t})}function eA({block:e,resourceBlock:t,...n}){return e?(0,z.jsx)(eT,{graphqlRef:e,...n}):t?(0,z.jsx)(eI,{block:t,...n}):null}let eE=void 0!==p?p:p=n(555009);function eC({graphqlRef:e,...t}){let n=(0,g.useFragment)(eE,e);return(0,z.jsx)(U,{...t,blockEndTime:n.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:n.isRemoved,blockIsValid:null,blockPinId:n.pinId,blockStartTime:n.startTime,blockStyleRotation:n.blockStyle?.rotation,blockTypeIdentifier:k.h8.VTO_MAKEUP_STICKER,blockUserFullName:null,blockUserImageUrl:null,blockUserUsername:null,graphqlRef:null,stickerDataBoardId:null,stickerDataQuestionCommentId:null})}function ej({block:e,...t}){let{block_style:{rotation:n}={},end_time:i,is_removed:a,start_time:l,type:r}=e;return(0,z.jsx)(U,{...t,blockEndTime:i,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:a,blockIsValid:null,blockPinId:e.pin_id,blockStartTime:l,blockStyleRotation:n,blockTypeIdentifier:r,blockUserFullName:null,blockUserImageUrl:null,blockUserUsername:null,graphqlRef:null,stickerDataBoardId:null,stickerDataQuestionCommentId:null})}function eR({block:e,resourceBlock:t,...n}){return e?(0,z.jsx)(eC,{graphqlRef:e,...n}):t?(0,z.jsx)(ej,{block:t,...n}):null}let eL=void 0!==m?m:m=n(752099);function eF(){let[e,t]=(0,h.useState)(0),[n,i]=(0,h.useState)(0);return(0,h.useEffect)(()=>{"undefined"!=typeof window&&(t(window.innerWidth),i(window.innerHeight))},[]),{windowHeight:n,windowWidth:e}}let eD=({children:e,height:t,isParagraphBlock:n,isStaticImageIdeaPin:i,isVideoOrImageBlock:a,left:l,pinAspectRatio:r=v.ap,top:s,width:o})=>{let{windowHeight:d,windowWidth:c}=eF(),u=(0,x.HG)(),{isBot:p}=(0,b.B)(),{defaultWidth:m,scaledHeight:g,scaledLeft:f,scaledWidth:k,scaledBottom:P,scaledTop:S}=(0,h.useMemo)(()=>{let e=c/y._B,n=i||r!==v.ap?r:c/d,a=y._B/n,u=(o||0)*y._B*e/100,m=(t||0)*a*e/100,h=(l||0)*y._B*e/100,g=(s||0)*a*e/100,_=p?c:`${o??100}%`;return{defaultWidth:_,scaledHeight:m,scaledLeft:h,scaledWidth:u,scaledBottom:80*e,scaledTop:g}},[t,p,i,l,r,s,o,d,c]);return l=p?0:l,a||u?(0,z.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{top:`${s??0}%`,left:`${l??0}%`}},display:"flex",height:`${t??100}%`,position:i?"relative":"absolute",width:m,children:e}):(0,z.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{top:n?void 0:`${S}px`,bottom:`${P}px`,left:p?"0px":`${f}px`}},display:"flex",height:`${g}px`,position:"absolute",width:p?c:`${k}px`,children:e})};function eO({activeStreamItemIndex:e,block:t,isActive:n,isCoverImageWithTitle:i,isSinglePage:a,isStaticImageIdeaPin:l=!1,muteVideos:r,onFlyoutClose:s,onFlyoutOpen:o,onVideoEnded:d,onVideoTimeChange:c,pinAspectRatio:u,pinId:p,videoProgressInfo:m,BoxWrapper:h=eD}){let{block_style:{height:g,width:_,x_coord:y,y_coord:v}={},interactive_sticker_type:x=null}=t,{isBot:P}=(0,b.B)(),{windowWidth:S}=eF();return(0,z.jsxs)(h,{height:g,isParagraphBlock:k.h8.PARAGRAPH===t.type,isStaticImageIdeaPin:l,isVideoOrImageBlock:[k.h8.IMAGE,k.h8.VIDEO].includes(t.type),left:y,pinAspectRatio:u,top:v,width:P?S:_,children:[t.type===k.h8.PARAGRAPH&&(0,z.jsx)(eg,{block:null,resourceBlock:t}),t.type===k.h8.HEADING&&!i&&(0,z.jsx)(et,{block:null,resourceBlock:t}),t.type===k.h8.IMAGE&&(0,z.jsx)(er,{block:null,resourceBlock:t}),t.type===k.h8.VIDEO&&(0,z.jsx)(eA,{activeStreamItemIndex:e,block:null,isActive:n,isSinglePage:a,muteVideos:r,onVideoEnded:d,onVideoTimeChange:c,pinAspectRatio:u,pinId:p,resourceBlock:t}),t.type===k.h8.MENTION_STICKER&&(0,z.jsx)(f.Z,{children:(0,z.jsx)(ec,{block:null,elementType:12120,onFlyoutClose:s,onFlyoutOpen:o,pinId:null,resourceBlock:t,tooltipElementType:12121,videoProgressInfo:m})}),t.type===k.h8.GENERIC_STICKER&&(5===x?(0,z.jsx)(W,{block:null,elementType:12827,onFlyoutClose:s,onFlyoutOpen:o,pinId:null,resourceBlock:t,rootPingraphqlRef:null,tooltipElementType:12828,videoProgressInfo:m}):(0,z.jsx)(W,{block:null,elementType:12858,onFlyoutClose:s,onFlyoutOpen:o,pinId:p,resourceBlock:t,rootPingraphqlRef:null,tooltipElementType:12859,videoProgressInfo:m})),t.type===k.h8.PRODUCT_STICKER&&(0,z.jsx)(eb,{block:null,elementType:12223,onFlyoutClose:s,onFlyoutOpen:o,pinId:null,resourceBlock:t,tooltipElementType:12224,videoProgressInfo:m}),t.type===k.h8.VTO_MAKEUP_STICKER&&(0,z.jsx)(eR,{block:null,elementType:12561,onFlyoutClose:s,onFlyoutOpen:o,pinId:null,resourceBlock:t,tooltipElementType:12561,videoProgressInfo:m})]})}function ez({activeStreamItemIndex:e,graphqlRef:t,isStaticImageIdeaPin:n,pageId:i,pinAspectRatio:a,pinId:l,BoxWrapper:r=eD,...s}){let o=(0,g.useFragment)(eL,t),d=o.imageSpec_736x?.url||"",c=!!d,u=(o.storyPinData?.pages??[]).find(e=>e.storyPageId===i),{isBot:p}=(0,b.B)(),{windowWidth:m}=eF();return(u?.blocks??[]).map(t=>{let{height:i,width:u,xCoord:h,yCoord:g}=t.blockStyle??Object.freeze({});return(0,z.jsxs)(r,{height:i,isParagraphBlock:0===t.blockType,isStaticImageIdeaPin:!!n,isVideoOrImageBlock:[2,3].includes(t.blockType),left:h,pinAspectRatio:a,top:g,width:p?m:u,children:[0===t.blockType&&(0,z.jsx)(eg,{block:t}),1===t.blockType&&(0,z.jsx)(et,{block:t}),2===t.blockType&&(0,z.jsx)(er,{block:t}),3===t.blockType&&(0,z.jsx)(eA,{activeStreamItemIndex:e,block:t,hasPinPosterImage:c,isActive:s.isActive,isSinglePage:s.isSinglePage,muteVideos:s.muteVideos,onVideoEnded:s.onVideoEnded,onVideoTimeChange:s.onVideoTimeChange,pinAspectRatio:a,pinId:l,pinPosterImage:d}),12===t.blockType&&(0,z.jsx)(f.Z,{children:(0,z.jsx)(ec,{block:t,elementType:12120,onFlyoutOpen:s.onFlyoutOpen,pinId:null,tooltipElementType:12121,videoProgressInfo:s.videoProgressInfo})}),19===t.blockType&&5===t.interactiveStickerType&&(0,z.jsx)(W,{block:t,elementType:12120,onFlyoutOpen:s.onFlyoutOpen,pinId:null,rootPingraphqlRef:null,tooltipElementType:12121,videoProgressInfo:s.videoProgressInfo}),19===t.blockType&&7===t.interactiveStickerType&&(0,z.jsx)(W,{block:t,elementType:12858,onFlyoutOpen:s.onFlyoutOpen,pinId:o.entityId,rootPingraphqlRef:o,tooltipElementType:12859,videoProgressInfo:s.videoProgressInfo}),13===t.blockType&&(0,z.jsx)(eb,{block:t,elementType:12223,onFlyoutOpen:s.onFlyoutOpen,pinId:null,tooltipElementType:12224,videoProgressInfo:s.videoProgressInfo}),17===t.blockType&&(0,z.jsx)(eR,{block:t,elementType:12561,onFlyoutOpen:s.onFlyoutOpen,pinId:null,tooltipElementType:12561,videoProgressInfo:s.videoProgressInfo})]},`${i??""}-${u??""}-${t.blockType??""}`)})}function eM({blocks:e,...t}){return(e??[]).map((e,n)=>(0,z.jsx)(eO,{block:e,...t},`${n}-${e.block_type??""}`))}function eN({blocks:e,pageId:t,maybeGraphqlRef:n,...i}){return n?(0,z.jsx)(ez,{graphqlRef:n,pageId:t,...i}):(0,z.jsx)(eM,{blocks:e,...i})}},680053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>tb});var i,a,l,r,s,o,d,c,u,p,m,h=n(667294),g=n(167912),_=n(616550),y=n(883119),f=n(207229),b=n(587703),v=n(696534),x=n(140017),k=n(558273),P=n(340523),S=n(551587),w=n(5859),T=n(573810),I=n(749886),A=n(214164),E=n(685247),C=n(627408),j=n(554786),R=n(494125),L=n(149722),F=n(115557),D=n(407996),O=n(490166),z=n(407053),M=n(19447),N=n(596736),Z=n(702664),B=n(339001),U=n(785893);let K=e=>{let{name:t="",unit:n="",amt:i=""}=e;return(0,U.jsxs)("li",{style:{display:"table-row"},children:[(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:20}},children:!!i&&(0,U.jsx)(y.xu,{marginStart:6,children:(0,U.jsxs)(y.xv,{size:"200",weight:"bold",children:[i," ",n]})})}),(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell"}},width:"70%",children:(0,U.jsx)(y.xv,{size:"200",children:t})})]})};var V=n(737244),H=n(703142);function G({i18n:e,storyPinMetadataTemplateType:t,storyPinMetadataRecipeData:n}){if(!n||1!==t)return null;let{cooking_time:i,prep_time:a,serving_size:l=null}=n,r="number"==typeof i&&"number"==typeof a?i+a:0;return{timeLabel:r?(0,H.Ys)((0,V.X)({m:r}),e):null,servingSize:l}}let $=void 0!==i?i:i=n(852388),W=({storyPinPages:e})=>{let t=e?.[1]&&5===e[1].layout?e[1]:null,n=e?.[1]&&6===e[1].layout?e[1]:null;return t||n},q=({listPage:e,listType:t,storyPinMetadataTemplateType:n,storyPinMetadataRecipeData:i})=>{let a=(0,x.ZP)();if(!e)return null;let{blocks:l}=e,r="ingredients"===t?G({i18n:a,storyPinMetadataRecipeData:i,storyPinMetadataTemplateType:n}):null,s=r?r.servingSize:null,o=s?(0,B.nk)(a.ngettext('{{servingSize}} serving', '{{servingSize}} servings', s, 'closeup.storyPin.listModal.ingredients.servings', 'number of servings for a recipe'),{servingSize:s}):null;return(0,U.jsxs)(y.xu,{children:[(0,U.jsxs)(y.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:7,children:[(0,U.jsx)(y.X6,{overflow:"normal",size:"400",children:"ingredients"===t?a._('Ingredients', 'closeup.storyPin.listModal.ingredients', 'Heading for list of ingredients'):a._('Supplies', 'closeup.storyPin.listModal.supplies', 'Heading for list of supplies')}),o&&(0,U.jsx)(y.xu,{marginBottom:4,children:(0,U.jsx)(y.xv,{color:"subtle",children:o})})]}),(0,U.jsx)("ul",{style:{padding:0},children:(l??[]).map(({name:e,unit:t,amt:n},i)=>(0,U.jsx)(K,{amt:n,name:e,unit:t},e||i))})]})};function Y({graphqlRef:e,...t}){let n=(0,g.useFragment)($,e),i=W({storyPinPages:n.pages});return(0,U.jsx)(q,{...t,listPage:i})}function X({pinId:e,...t}){let n=(0,M.S6)()(e),i=W({storyPinPages:n?.story_pin_data?.pages});return(0,U.jsx)(q,{...t,listPage:i})}function J({graphqlRef:e,pinId:t,...n}){return e?(0,U.jsx)(Y,{graphqlRef:e,...n}):(0,U.jsx)(X,{pinId:t,...n})}var Q=n(930837),ee=n(564855),et=n(955288);function en({imageSize:e,index:t,hasPin:n,pinId:i,gridTitle:a,image236x:l,hasProductDetailsCurrentPrice:r,hasProductDetailsMaxPrice:s}){return n?(0,U.jsx)(y.xu,{marginEnd:t%2==0?2:0,marginTop:4,width:e,children:(0,U.jsxs)(y.Tg,{href:`/pin/${i??""}`,rounding:4,tapStyle:"none",children:[(0,U.jsx)(y.xu,{maxHeight:176,maxWidth:176,overflow:"hidden",rounding:5,width:e,children:(0,U.jsx)(y.zd,{height:e,wash:!0,width:e,children:(0,U.jsx)(y.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:l?.height??1,naturalWidth:l?.width??1,src:l?.url??""})})}),(r||s)&&(0,U.jsx)(y.xu,{marginTop:2,children:(0,U.jsx)(et.ZP,{graphqlRef:null,pinId:i})}),!!a&&(0,U.jsx)(y.xu,{marginTop:1,children:(0,U.jsx)(y.xv,{size:"100",children:(0,ee.ZP)(a,40)})})]})}):null}var ei=n(705007);let ea="calc((100vw - (12px * 3)) / 2)",el=void 0!==a?a:a=n(834731),er=({fullName:e,hasStoryPinMetadataBasics:t,imageLargeUrl:n,imageMediumUrl:i,imageSmallUrl:a,isOpen:l,link:r,hasListPage:s,listType:o,onDismiss:d,pinId:c,pinTitle:u,pinDescription:p,storyPinMetadataRecipeData:m,storyPinMetadataTemplateType:h,taggedProducts:g,username:_,maybeGraphqlRef:f,clientTrackingParams:b})=>{let v=(0,x.ZP)(),k=(0,M.S6)(),P=g.length<20&&g.length%2!=0;return(0,U.jsx)(Q.ZP,{accessibilityModalLabel:"",isOpen:l,mobileAccessibilityCloseIconLabel:v._('Close', 'StoryPin.Modal', 'Close modal window'),onDismiss:d,type:"story_pin_list",children:(0,U.jsx)(y.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",maxHeight:"75vh",overflow:"scrollY",paddingX:4,children:(0,U.jsxs)(y.xu,{flex:"grow",marginBottom:4,width:"100%",children:[(t||r||u||p)&&(0,U.jsx)(ei.Z,{clientTrackingParams:b,description:p,fullName:e,graphqlRef:f,imageLargeUrl:n,imageMediumUrl:i,imageSmallUrl:a,link:r,pinId:c??"",templateType:h,title:u,username:_}),!!s&&(0,U.jsx)(y.xu,{"data-test-id":"story-pin-basics",children:(0,U.jsx)(J,{graphqlRef:f?.storyPinData,listType:o,pinId:c,storyPinMetadataRecipeData:m,storyPinMetadataTemplateType:h})}),(0,U.jsxs)(y.kC,{alignItems:"stretch",direction:"row",justifyContent:"center",wrap:!0,children:[g.length>0&&g.map((e,t)=>{let n=k(e.id);return(0,U.jsx)(en,{gridTitle:n?.grid_title,hasPin:!!n,hasProductDetailsCurrentPrice:!!n?.rich_summary?.products?.[0].offer_summary?.price,hasProductDetailsMaxPrice:!!n?.rich_summary?.products?.[0].offer_summary?.max_price,image236x:n?.images?.["236x"]?{height:n.images["236x"].height,url:n.images["236x"].url,width:n.images["236x"].width}:void 0,imageSize:ea,index:t,pinId:n?.id},e.id)}),P&&(0,U.jsx)(y.xu,{width:ea})]})]})})})};function es({graphqlRef:e,...t}){let n=(0,g.useFragment)(el,e),i=n.storyPinData,a=!!i?.metadata?.basics,l=i?.metadata?.recipeData;return(0,U.jsx)(er,{...t,hasStoryPinMetadataBasics:a,maybeGraphqlRef:n,pinDescription:n.closeupUnifiedDescription,pinTitle:n.title??"",storyPinMetadataRecipeData:{cooking_time:l?.cookingTime??0,prep_time:l?.prepTime??0,serving_size:l?.servingSize??0},storyPinMetadataTemplateType:i?.metadata?.templateType})}function eo(e){let t=(0,M.S6)()(e.pinId),n=t?.story_pin_data,i=!!(n?.metadata?.basics&&Object.keys(n.metadata.basics).length>0);return(0,U.jsx)(er,{...e,hasStoryPinMetadataBasics:i,maybeGraphqlRef:null,pinDescription:t?.closeup_unified_description,pinTitle:t?.title??"",storyPinMetadataRecipeData:n?.metadata?.recipe_data,storyPinMetadataTemplateType:n?.metadata?.template_type})}function ed({graphqlRef:e,...t}){return e?(0,U.jsx)(es,{graphqlRef:e,...t}):(0,U.jsx)(eo,{...t})}var ec=n(453688);let eu=void 0!==l?l:l=n(941783);function ep(e){return(0,ec.Z)(function({domain:e,listBlocks:t,keyValueBlock:n,description:i}){let a=[];for(let l of(e&&a.push(e),n.length>0&&a.push(...n),i&&a.push(i),t??[]))if(l.heading&&a.push(l.heading),l.blocks)for(let e of l.blocks)e.text&&a.push(e.text);return a}(e))}var em=n(465074),eh=n(236817);let eg=void 0!==r?r:r=n(94164);function e_({anchorRef:e,onTap:t,previewText:n,previewTitle:i}){let a=(0,x.ZP)();if(!i&&!n)return null;let l=(0,eh.j)(n);return(0,U.jsx)(y.iP,{ref:e,onTap:t,children:(0,U.jsx)(eh.Z,{dir:l,children:(0,U.jsxs)(y.kC,{direction:"column",gap:1,children:[i&&(0,U.jsx)(y.X6,{accessibilityLevel:1,color:"light",lineClamp:1,size:"100",children:i}),n&&(0,U.jsxs)(y.xv,{color:"light",inline:!0,size:"100",children:[n.length>90?`${n.substr(0,90)} ... `:n,n.length>90?(0,U.jsx)(y.xv,{color:"light",inline:!0,size:"100",weight:"bold",children:a._('more', 'storyPin.previewText.more', 'Story pin preview text truncation')}):null]})]})})})}function ey({graphqlRef:e,...t}){let n=(0,x.ZP)(),i=(0,g.useFragment)(eg,e),{storyPinData:a,closeupUnifiedDescription:l,title:r}=i||{},s=(a?.metadata?.basics?.keyValueBlocks||[]).map(e=>(0,em.Z)(e.categoryType,e.value,n)),o=function(e,t,n,i){let a=(0,g.useFragment)(eu,e);return ep({domain:null,keyValueBlock:n,listBlocks:a?.listBlocks,description:i})}(a?.metadata?.basics,0,s.filter(e=>""!==e),l?.trim());return(0,U.jsx)(e_,{...t,previewText:o,previewTitle:r})}function ef({pinId:e,...t}){let n=(0,x.ZP)(),i=(0,M.S6)()(e),{title:a,story_pin_data:l,closeup_unified_description:r}=i||{},s=(l?.metadata?.basics?.key_value_blocks||[]).map(e=>(0,em.Z)(e.category_type,e.value,n)),o=l?.metadata?.basics?.list_blocks,d=ep({domain:null,listBlocks:o,keyValueBlock:s.filter(e=>""!==e),description:r?.trim()});return(0,U.jsx)(e_,{...t,previewText:d,previewTitle:a})}function eb({graphqlRef:e,pinId:t,...n}){return e?(0,U.jsx)(ey,{graphqlRef:e,...n}):(0,U.jsx)(ef,{pinId:t,...n})}let ev={5:"ingredients",6:"supplies"},ex=void 0!==s?s:s=n(716891),ek=({anchorRef:e,fullName:t,hasProductPins:n,imageLargeUrl:i,imageMediumUrl:a,imageSmallUrl:l,storyPinData:r,username:s,pinDomain:o,pinLink:d,pinId:c,maybeGraphqlRef:u,title:p,description:m,clientTrackingParams:g})=>{let _;let f=(0,Z.useSelector)(({feeds:e})=>e["story-pin-tagged-products"])||[],[b,v]=(0,h.useState)(!1),x=W({storyPinPages:r?.pages}),k=r?.metadata?.basics;o&&d&&(_={domain:o,url:d});let P=b&&(!!x||!!k||f.length>0||!!_||p||m);return P?(0,U.jsx)(ed,{clientTrackingParams:g,fullName:t,graphqlRef:u,hasListPage:!!x,imageLargeUrl:i,imageMediumUrl:a,imageSmallUrl:l,isOpen:b,link:_,listType:ev[x?.layout]||null,onDismiss:()=>v(!1),pinId:c??"",taggedProducts:n&&f?f:[],username:s}):(0,U.jsx)(y.xu,{"data-test-id":"StoryPinDescriptionContainer",children:(0,U.jsx)(eb,{anchorRef:e,graphqlRef:u,onTap:e=>{e.event.preventDefault(),e.event.stopPropagation(),v(!0)},pinDomain:o,pinId:c??""})})};function eP({graphqlRef:e,...t}){let n=(0,g.useFragment)(ex,e);return(0,U.jsx)(ek,{...t,description:n.closeupUnifiedDescription,hasProductPins:!!n.storyPinData?.hasProductPins,maybeGraphqlRef:n,pinDomain:n.domain,pinLink:n.link,storyPinData:n.storyPinData,title:n.title})}function eS(e){let t=(0,M.S6)()(e.pinId??""),n=t?.story_pin_data;return(0,U.jsx)(ek,{...e,description:t?.closeup_unified_description,hasProductPins:!!t?.story_pin_data?.has_product_pins,maybeGraphqlRef:null,pinDomain:t?.domain,pinLink:t?.link,storyPinData:n,title:t?.title})}function ew({graphqlRef:e,...t}){return e?(0,U.jsx)(eP,{graphqlRef:e,...t}):(0,U.jsx)(eS,{...t})}var eT=n(205841),eI=n(213503),eA=n(70982),eE=n(386129),eC=n(386008),ej=n(517545);function eR({adsOnlyProfileSite:e,avatarSize:t="sm",blockedByMe:n,explicitlyFollowedByMe:i,fullName:a,hasAffiliatedProducts:l,id:r,imageLargeUrl:s,imageMediumUrl:o,imageSmallUrl:d,isAdsOnlyProfile:c,noFollowButton:u,pageId:p,pinId:m,pinImageSignature:g,sponsorName:_,sponsorId:f,sponsorUsername:v,sponsorshipStatus:k,textColor:S="default",username:w,verified:T,clientTrackingParams:I}){let A=(0,b.Z)(),E=(0,eC.mN)()(r),C=(0,Z.useDispatch)(),[j,R]=(0,h.useState)(E?E.explicitly_followed_by_me:i),F=e=>C((0,eE.h2)(e,A)),D=(0,L.Z)(),O=D.isAuth&&D.id,z=(0,x.ZP)(),{checkExperiment:M}=(0,P.F)(),N=c&&e,B=()=>{A({aux_data:{creator_id:r,pin_id:m,...p?{story_pin_page_id:p}:{}},component:230,event_type:102,object_id_str:m,view_parameter:157,view_type:3}),N&&A({event_type:9371,element:13382,component:230})},K=v&&_,V=K||(ej.j.includes(k)||l)&&M("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,H=K?(0,U.jsx)(y.xv,{color:S,inline:!0,size:"200",weight:"bold",children:(0,U.jsx)(y.rU,{href:`/${v??""}/`,onClick:()=>{A({aux_data:{pin_id:m,story_pin_page_id:p,...r&&f?{creator_id:r,sponsor_id:f}:{}},component:230,event_type:102,object_id_str:m,view_parameter:157,view_type:3})},tapStyle:"compress",children:_})}):void 0,G=N&&e?e:`/${encodeURIComponent(w)}/`;return(0,U.jsx)(y.kC,{alignItems:"center",justifyContent:"between",children:(0,U.jsxs)(y.xu,{alignItems:"center",display:"flex",flex:"grow",marginEnd:2,children:[(0,U.jsx)(y.xu,{flex:"none",marginEnd:2,children:(0,U.jsx)(y.Tg,{href:G,onTap:B,rel:N?"nofollow":"none",rounding:2,tapStyle:"compress",target:N?"blank":null,children:(0,U.jsx)(eT.qE,{name:a??"",size:t,src:s||o||d||"",verified:T})})}),(0,U.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:V?{flex:"1 1 30%"}:{}},marginEnd:2,overflow:"hidden",children:[(0,U.jsx)(y.xv,{color:S,lineClamp:1,weight:"bold",children:(0,U.jsx)(y.rU,{href:G,onClick:B,rel:N?"nofollow":"none",rounding:2,tapStyle:"compress",target:N?"blank":null,children:w})}),V?(0,U.jsx)(ej.Z,{hasAffiliatedProducts:l,sponsorName:H,sponsorshipStatus:k,textColor:S}):null]}),!u&&(0,U.jsx)(y.xu,{flex:"grow",children:n?(0,U.jsx)(y.zx,{color:"gray",fullWidth:!0,onClick:()=>F(r),size:"sm",text:z._('Unblock', ' - ', ' -- ')}):(0,U.jsx)(eI.Z,{auxData:{pin_id:m,image_signature:g},clientTrackingParams:I,followEventType:45,id:r,isFollowed:j,isIdeaPin:!0,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:O===r,onFollow:e=>{R(!0),C((0,eA.ZN)(e))},onUnfollow:e=>{C((0,eA.fv)(e)),R(!1)},pinKey:null,size:"sm",unfollowEventType:46,viewParameter:157,viewType:3})})]})})}let eL=void 0!==o?o:o=n(489503);function eF({anchorRef:e,creatorAdsOnlyProfileSite:t,creatorBlockedByMe:n,creatorExplicitlyFollowedByMe:i,creatorFullName:a,creatorId:l,creatorImageLargeUrl:r,creatorImageMediumUrl:s,creatorImageSmallUrl:o,creatorIsAdsOnlyProfile:d,creatorUsername:c,creatorVerified:u,currentPageIndex:p,handlePause:m,handlePlay:h,isMultiPagePin:g,maybeGraphqlRef:_,pinId:f,pinImageSignature:b,sponsorFullName:v,sponsorId:x,sponsorshipStatus:k,sponsorUsername:P,storyPinHasProductPins:S,pageId:w,pageMusicBlockAudioArtistName:T,pageMusicBlockAudioTitle:I,clientTrackingParams:A}){return(0,U.jsxs)(y.kC,{direction:"column",gap:2,children:[(0,U.jsx)(eR,{adsOnlyProfileSite:t,blockedByMe:n,clientTrackingParams:A,explicitlyFollowedByMe:i,fullName:a??"",hasAffiliatedProducts:S,id:l??"",imageLargeUrl:r,imageMediumUrl:s,imageSmallUrl:o,isAdsOnlyProfile:!!d,pageId:w??void 0,pinId:f,pinImageSignature:b??"",sponsorId:x??"",sponsorName:v??"",sponsorshipStatus:k,sponsorUsername:P??"",textColor:"light",username:c??"",verified:u??!1}),(0,U.jsx)(ew,{anchorRef:e,clientTrackingParams:A,fullName:a??"",graphqlRef:_,imageLargeUrl:r,imageMediumUrl:s,imageSmallUrl:o,pinId:f,username:c??""}),!g&&(0,U.jsx)(N.Z,{activePageIndex:p,graphqlRef:_,pageMusicBlockAudioArtistName:T,pageMusicBlockAudioTitle:I,pinId:f,playbackHandlers:{handlePause:m,handlePlay:h},viewParameter:157})]})}function eD({graphqlRef:e,...t}){let n=(0,g.useFragment)(eL,e);return(0,U.jsx)(eF,{...t,maybeGraphqlRef:n})}function eO({graphqlRef:e,...t}){return e?(0,U.jsx)(eD,{graphqlRef:e,...t}):(0,U.jsx)(eF,{maybeGraphqlRef:null,...t})}var ez=n(771981),eM=n(695238),eN=n(994391),eZ=n(920040);let eB=void 0!==d?d:d=n(568312);function eU({storyPinTitle:e,dominantColor:t,hasImageAdjusted:n,hasImage:i,images:a}){if(!i&&!n)return(0,U.jsx)(D.Z,{});let l=a?.["750x"]||a?.["236x"]||a?.["1200x"]||a?.originals;return(0,U.jsx)(C.Z,{component:227,view:3,viewParameter:157,children:(0,U.jsxs)(y.xu,{height:"100%",width:"100%",children:[(0,U.jsx)(eN.Z,{altImageText:e,dominantColor:t,media:l,pageType:"cover"}),(0,U.jsx)(y.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:n?{}:{backgroundImage:"linear-gradient(rgba(0,0,0,0), rgba(0,0,0, 0.5))"}},left:!0,position:"absolute",right:!0,top:!0}),(0,U.jsx)(y.xu,{bottom:!0,left:!0,paddingX:4,paddingY:4,position:"absolute",right:!0,children:!n&&(0,U.jsx)(y.xu,{column:9,children:(0,U.jsx)(y.X6,{color:"light",overflow:"normal",size:"500",children:e})})})]})})}let eK=(0,eM.Z)({useGraphQLAdapter:e=>{let t=(0,g.useFragment)(eB,e),{imageImages:n,imageAdjustedImages:i,hasImageImages:a,hasImageAdjustedImages:l}=(0,eZ.Z)(t)||Object.freeze({});if(!t)return null;let r=t.blocks?.[0].text||"",s=t.dominantColorAdjusted??t.dominantColor,o=!!t.dominantColorAdjusted||l,d=!!t.dominantColor||a;return{storyPinTitle:r,dominantColor:s??void 0,images:o?i:n,hasImageAdjusted:o,hasImage:d}},useLegacyAdapter:e=>{let{image:t,image_adjusted:n,blocks:i}=e,a=i?.[0].text||"",{dominant_color:l,images:r}=n||t||{};return{storyPinTitle:a,dominantColor:l,images:r,hasImageAdjusted:!!n,hasImage:!!t}}});function eV({page:e}){return(0,U.jsx)(eK,{input:"graphql"===e.type?{enabled:!0,data:e.data}:{enabled:!1,data:e.data},children:({data:e})=>e&&(0,U.jsx)(eU,{...e})})}var eH=n(614064),eG=n(758964),e$=n(887582);let eW=({block:e})=>{let{windowWidth:t}=(0,e$.Z)();if(e.type!==ez.h8.INGREDIENT)return null;let{name:n,unit:i,amt:a}=e;return(0,U.jsxs)("li",{style:{display:"table-row"},children:[(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:8}},children:!!a&&(0,U.jsxs)(y.xv,{children:[a," ",i]})}),(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",maxWidth:.7*t}},children:(0,U.jsx)(y.xv,{children:n})})]})},eq=void 0!==c?c:c=n(639172),eY=e=>5===e.block_type,eX=({ingredientBlocks:e,servingSize:t})=>{let n=(0,x.ZP)(),{windowHeight:i,windowWidth:a}=(0,e$.Z)(),l=Math.min(16*a/9,i),r=t?(0,B.nk)(n.ngettext('{{servingSize}} serving', '{{servingSize}} servings', t, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:t}):null;return(0,U.jsxs)(y.xu,{color:"default",height:l,padding:4,position:"relative",width:a,children:[(0,U.jsx)(y.xu,{marginTop:12,children:(0,U.jsx)(y.X6,{overflow:"normal",children:n._('Ingredients', 'Heading for list of ingredients', 'Heading for list of ingredients')})}),r&&(0,U.jsx)(y.xu,{marginBottom:4,children:(0,U.jsx)(y.xv,{color:"subtle",children:r})}),(0,U.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,U.jsx)("ul",{style:{padding:0},children:(e??[]).map((e,t)=>(0,U.jsx)(eW,{block:e},e.name||t))})})]})},eJ=(0,eM.Z)({useGraphQLAdapter:e=>{let t=(0,g.useFragment)(eq,e);if(!t)return null;let n=t.blocks?t.blocks.reduce((e,t)=>{if(5===t.blockType){let n={type:5,amt:t.amt??void 0,name:t.name??void 0,unit:t.unit??void 0};return[...e,n]}return e},[]):void 0;return{ingredientBlocks:n}},useLegacyAdapter:e=>{let t=e.blocks?.filter(eY);return{ingredientBlocks:t}}});function eQ({page:e,servingSize:t}){return(0,U.jsx)(eJ,{input:"graphql"===e.type?{enabled:!0,data:e.data}:{enabled:!1,data:e.data},children:({data:e})=>e&&(0,U.jsx)(eX,{...e,servingSize:t})})}var e0=n(234573),e1=n(125740);let e2=e=>({transition:`transform ${e/1e3}s ease-in 0s`}),e3=e=>{let{animationDuration:t=0,children:n,currentPageIndex:i,height:a,index:l,marginTop:r,width:s}=e,{isBot:o}=(0,w.B)(),d=Math.abs(l-i);return 0===d?(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#000000",marginTop:`${r}px`,...e2(t),...t>0?{transform:"translateX(calc(-100% - 1px))"}:{transform:"translateX(0)"}}},"data-test-id":"story-pin-animation",height:a,position:"absolute",width:s,children:n}):1===d?(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#000000",marginTop:`${r}px`,...e2(t),...t>0?{transform:"translateX(0)"}:{transform:"translateX(calc(100% + 1px))"}}},"data-test-id":"story-pin-animation",height:a,position:"absolute",width:s,children:n}):o?(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#000000",transform:"translateX(1000%)"}},position:"absolute",children:n}):null},e6=({block:e})=>{let{windowWidth:t}=(0,e$.Z)();if(e.type!==ez.h8.SUPPLY)return null;let{name:n,amt:i}=e;return(0,U.jsxs)("li",{style:{display:"table-row"},children:[(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:8}},children:!!i&&(0,U.jsx)(y.xv,{children:i})}),(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",maxWidth:.7*t}},children:(0,U.jsx)(y.xv,{children:n})})]})},e4=void 0!==u?u:u=n(108536),e5=e=>6===e.block_type,e8=({suppliesBlocks:e})=>{let t=(0,x.ZP)(),{windowHeight:n,windowWidth:i}=(0,e$.Z)(),a=Math.min(16*i/9,n);return(0,U.jsxs)(y.xu,{color:"default",height:a,padding:4,position:"relative",width:i,children:[(0,U.jsx)(y.xu,{marginTop:12,children:(0,U.jsx)(y.X6,{overflow:"normal",children:t._('Supplies', 'Heading for list of supplies', 'Heading for list of supplies')})}),(0,U.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,U.jsx)("ul",{style:{padding:0},children:(e??[]).map((e,t)=>(0,U.jsx)(e6,{block:e},e.name||t))})})]})},e7=(0,eM.Z)({useGraphQLAdapter:e=>{let t=(0,g.useFragment)(e4,e);if(!t)return null;let n=t.blocks?t.blocks.reduce((e,t)=>{if(6===t.blockType){let n={type:6,amt:t.amt??void 0,name:t.name??void 0};return[...e,n]}return e},[]):void 0;return{suppliesBlocks:n}},useLegacyAdapter:e=>{let t=e.blocks?.filter(e5);return{suppliesBlocks:t}}});function e9({page:e}){return(0,U.jsx)(e7,{input:"graphql"===e.type?{enabled:!0,data:e.data}:{enabled:!1,data:e.data},children:({data:e})=>e&&(0,U.jsx)(e8,{...e})})}var te=n(479144),tt=n(333739),tn=n(797456),ti=n(217058),ta=n(623409),tl=n(369708);let tr=void 0!==p?p:p=n(665076),ts=({accessibilityLabel:e,disabled:t,handleTap:n,icon:i,dataTestId:a})=>(0,U.jsx)(y.xu,{"data-test-id":a,opacity:t?.5:void 0,children:(0,U.jsx)(y.iP,{disabled:t,onTap:({event:e})=>{e.stopPropagation(),!t&&n&&n()},tapStyle:"compress",children:(0,U.jsx)(y.JO,{accessibilityLabel:e,color:"light",icon:i,size:20})})});function to({activePageIndex:e,handlePageChange:t,handlePlay:n,handlePause:i,handleMute:a,inRemoveRelatedStreamsExp:l,isInactiveStreamPin:r,isPlaying:s,isMuted:o,pageCount:d,pinId:c,progressInfo:u,setVideoProgress:p,shouldMute:m,showVideoControls:g=!1,videoDurations:_=[],captionsExpGroup:f="",viewParameter:b}){let v=(0,x.ZP)(),{currentTime:k}=u||{},{seekTimes:P}=(0,A.Hx)(),S=(0,j.HG)(),w=(0,tl.r)(),T=(0,ta.Z)(),{captionsEnabled:E}=w,C=Object.keys(P).includes(c)&&P[c]?P[c]:k,R=(0,h.useMemo)(()=>_.reduce((e,t)=>e+(t.duration||0),0)/F.gJ,[_]),L=(0,h.useMemo)(()=>_.filter((t,n)=>n<e).reduce((e,t)=>e+(t.duration||0),0)/F.gJ,[_,e]),D=_.length>0&&_[e].isVideo?C+L:5*k+L,O=f.startsWith("enabled_captions")||f.startsWith("employees"),z=v._('Hide captions', 'gestalt.video.accessibilityHideCaptionsLabel', 'ARIA label for hide captions button'),M=v._('Show captions', 'gestalt.video.accessibilityShowCaptionsLabel', 'ARIA label for show captions button');return(0,U.jsxs)(y.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:4*(l?3:5),pointerEvents:"auto",touchAction:"none"}},direction:"row",display:"flex",justifyContent:"center",width:"100%",children:[l&&(0,U.jsx)(y.xu,{children:(0,U.jsx)(y.xv,{color:"light",size:"100",children:(0,I.Lc)(D)})}),(0,U.jsx)(tn.ZP,{activePageCurrentTime:C,activePageIndex:e,currentTime:D,duration:R,handlePause:i,handlePlay:n,handleVideoScrubbingNewPage:t,isInactiveStreamPin:r,isPlaying:s,pageCount:d,pageDurations:_,pinId:c,progressInfo:u,setVideoProgress:p,shouldShowPlayhead:!0,showEndCard:!1,videoDurations:_,viewParameter:b}),l&&(0,U.jsx)(y.xu,{children:(0,U.jsx)(y.xv,{color:"light",size:"100",children:(0,I.Lc)(R)})}),O&&(0,U.jsx)(ts,{accessibilityLabel:O?M:z,dataTestId:"closed-captions-button",disabled:!O,handleTap:()=>{let e=S?"desktop_pin_page":"mweb_pin_page";E?(0,ti.My)(`${e}.closed_captions_button.toggle_off`):(0,ti.My)(`${e}.closed_captions_button.toggle_on`),T({action:"click",item:"closed-captions-button"}),w.setCaptionsEnabled(!E)},icon:E?"captions":"captions-outline"}),!!a&&(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{opacity:g||!s?1:0,transition:"all .1s"}},"data-test-id":"mute-control-button",marginEnd:S?3:0,children:(0,U.jsx)(ts,{accessibilityLabel:o?v._('Mute', 'closeup.IdeaPinVideo.mute', 'Mute button on Idea Pin video'):v._('Unmute', 'closeup.IdeaPinVideo.unmute', 'Unmute button on Idea Pin video'),dataTestId:"closed-captions-button",disabled:!!m,handleTap:a,icon:m||o?"mute":"sound"})})]})}let td=({activePageIndex:e,pinKey:t,...n})=>{let{data:i}=(0,tt.sr)(tr,t,{type:"pin",useLegacyAdapter:e=>({storyPinData:e.story_pin_data&&{pages:e.story_pin_data.pages&&e.story_pin_data.pages.map(e=>e&&{ad:e.ad&&{__typename:"Pin"},blocks:e.blocks&&e.blocks.map(e=>e&&3===e.block_type?{blockType:e.block_type,video:e.video&&{videoList:e.video.video_list&&{v720P:e.video.video_list.V_720P&&{duration:e.video.video_list.V_720P.duration},vHLSV3MOBILE:e.video.video_list.V_HLSV3_MOBILE&&{duration:e.video.video_list.V_HLSV3_MOBILE.duration}}}}:{}),layout:e.layout,shouldMute:e.should_mute})}})});if(!i)return(0,U.jsx)(D.Z,{});let{storyPinData:a}=i,{shouldMute:l}=a?.pages?.[e]||{},r=a?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),s=r?.map(e=>e.blocks?.find(e=>3===e.blockType)),o=s?.map(e=>{let t=e?.video?.videoList?.v720P?.duration||e?.video?.videoList?.vHLSV3MOBILE?.duration;return t?{duration:t,isVideo:!0}:{duration:k.oN,isVideo:!1}});return(0,U.jsx)(to,{...n,activePageIndex:e,shouldMute:l,videoDurations:o})};var tc=n(223996);let tu=void 0!==m?m:m=n(11432),tp=e=>(e??[]).filter(e=>!(e.data?.layout===2&&!e.data?.ad||e.data?.layout===5||e.data?.layout===6)),tm=(e,t)=>{let n=e.state?.startingStoryPageId;if(!n)return 0;let i=tp(t)??[];return i.findIndex(e=>("graphql"===e.type?e.data?.pageId:e.data.id)===n)||0};function th(e){let t=(0,E.n4)(e,"0.8.0");return null!=t&&t>=0}function tg({activeStreamItemIndex:e,currentPageIndex:t,graphqlRef:n,handlePause:i,handlePlay:a,isActive:l,isAuthenticated:r,isInactiveStreamPin:s,isSinglePage:o,mute:d,onVideoEnded:c,page:u,pinId:p,setFlyoutOpen:m,storyPinMetadataRecipeData:h,storyPinMetadataTemplateType:g,storyPinMetadataVersion:_,pinAspectRatio:y,videoProgress:f,setVideoProgress:b}){let v=(0,x.ZP)(),k=th(_??"");if(!u)return null;let P="graphql"===u.type?u.data?.pageId:u.data.id;if(k)return(0,U.jsx)(e1.Z,{activeStreamItemIndex:e,graphqlRef:n,isActive:!s&&l,isAuthenticated:r,isSinglePage:o,muteVideos:d,onFlyoutClose:()=>{a(),m(!1)},onFlyoutOpen:()=>{i(),m(!0)},onVideoEnded:()=>{c(t)},pageId:P,pinAspectRatio:y,pinId:p,setVideoProgress:b,videoProgress:f});switch(u.data?.layout){case 0:return(0,U.jsx)(eV,{page:u},P);case 1:case 3:case 4:return(0,U.jsx)(e0.Z,{graphqlRef:n,pageId:P,pinId:p},P);case 5:let S=G({i18n:v,storyPinMetadataRecipeData:h,storyPinMetadataTemplateType:g}),w=S?S.servingSize:null;return(0,U.jsx)(eQ,{page:u,servingSize:w},P);case 6:return(0,U.jsx)(e9,{page:u},P);default:return null}}function t_(e){let{activeStreamItemIndex:t,clientTrackingParams:n,creatorAdsOnlyProfileSite:i,creatorBlockedByMe:a,creatorExplicitlyFollowedByMe:l,creatorFullName:r,creatorId:s,creatorImageLargeUrl:o,creatorImageMediumUrl:d,creatorImageSmallUrl:c,creatorIsAdsOnlyProfile:u,creatorUsername:p,creatorVerified:m,dominantColor:g,experience:D,graphqlRef:M,imageSignature:Z,isFirstInStream:B,isInactiveStreamPin:K,isRelatedStreamPin:V,isStreamMuted:H,pinAspectRatio:G,pinId:$,pinnedToBoardId:W,reactionCounts:q,setStreamMuted:Y,sponsorFullName:X,sponsorId:J,sponsorshipCreatorId:Q,sponsorshipStatus:ee,sponsorUsername:et,storyPinDataId:en,storyPinHasProductPins:ei,storyPinMetadataRecipeData:ea,storyPinMetadataTemplateType:el,storyPinMetadataVersion:er,storyPinPages:es,streamItemIndex:eo,viewParameter:ed,viewType:ec,attributionLabel:eu}=e,ep=(0,h.useRef)(null),{checkExperiment:em}=(0,P.F)(),{storyPinHeight:eh,fillerPaddingTop:eg}=(0,te.Z)(),e_=(0,j.ZP)(),ey=(0,x.ZP)(),ef=(0,_.TH)(),eb=(0,b.Z)(),ev=(0,L.Z)(),{width:ex}=(0,f.Z)()||{},{isRTL:ek}=(0,w.B)(),eP=(0,j.HG)(),[eS,ew]=(0,h.useState)(tm(ef,es)),[eT,eI]=(0,h.useState)(!1),eA=(0,h.useRef)(null),eE=(0,h.useRef)(null),eC=ev.isAuth,ej="desktop"!==e_&&em(eC?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,eR=(0,v.vs)(),[eL,eF]=(0,h.useState)(!0),eD=H??eL,[eM,eN]=(0,h.useState)(!0),[eZ,eB]=(0,h.useState)(null),[eU,eK]=(0,h.useState)(!1),[eV,e$]=(0,h.useState)(!1),{clearSeekTime:eW}=(0,A.RC)(),{isSeekingIdeaPin:eq,seekTimes:eY}=(0,A.Hx)(),eX=eY&&eY[$],eJ=(eU||!eM)&&!eq&&!eV,eQ=(es&&es[eS].data?.videoBlocks)??[].find(e=>e.type===ez.h8.VIDEO||3===e.block_type||3===e.blockType),e0={};es&&es.length>eS&&es[eS]&&(e0=es[eS].data?.video?.video_list?.V_HLSV3_MOBILE?.captions_urls||{}),eQ&&eQ.length>eS&&eQ[eS]&&(e0=eQ[eS].video?.videoList?.vHLSV3MOBILE?.captionsUrls||{});let e1=!1;e0&&0!==Object.keys(e0).length&&(e1=!0);let e2=e1&&!eP?em(eC?"auth_mweb_video_pin_captions":"unauth_mweb_video_pin_captions",{dangerouslySkipActivation:!0}).group:"",[e6,e4]=(0,h.useState)(!1),{paddingY:e5}=(0,ez._P)(eP),e8=4*e5;(0,h.useEffect)(()=>(eJ&&(eE.current=setTimeout(()=>{eK(!1)},I.DL)),()=>{clearTimeout(eE.current)}),[eM,eJ]),(0,h.useEffect)(()=>{if(eA.current&&eX){let e=eA.current;e.pause(),e.remaining=k.oN-eX*F.gJ,eB({currentTime:eX/k.P6,duration:1,pinId:$})}},[eX,$]);let e7="desktop"!==e_&&!K&&em("closeup_mweb_remove_fsv_logging");(0,h.useEffect)(()=>{"desktop"===e_||e6||K||e7||(eb({event_type:9314,view_type:1,view_parameter:ed,component:13801,aux_data:{grid_index:eo,pin_id:$,image_signature:Z,creator_id:Q,story_pin_data_id:en},clientTrackingParams:n}),e4(!0))},[n,e_,e6,K,Z,eb,$,Q,en,eo,ed,e7]),(0,h.useEffect)(()=>{eC||(0,T.Nh)(z.Uw,z.zu),("desktop"===e_||B)&&eb({event_type:13,view_type:3,view_parameter:157,component:13283,object_id_str:$})},[]),(0,R.Z)(()=>(ta(eS),()=>{eA.current&&eA.current instanceof E.B7&&eA.current.clear()}));let e9=(0,h.useCallback)(()=>ej?0:eP?e8:ez.hk+e8,[ej,eP,e8]),tt=tp(es)??[],tn=tt.length,ti=tt[eS],ta=e=>{eB({currentTime:0,duration:1,pinId:$}),tr(e)},tl=e=>{eM||eN(!0),ta(e),ew(e)},tr=(0,h.useCallback)(e=>{let t=tt[e].data,n=(t?.blocks??t?.videoBlocks??[]).find(e=>e.type===ez.h8.VIDEO||3===e.block_type||3===e.blockType);eA.current&&eA.current instanceof E.B7&&(eA.current.clear(),eA.current=null),n||(eA.current=new E.B7(e=>{eB({currentTime:e<1?e:1,duration:1,pinId:$})},()=>{e<tn-1?tl(e+1):tl(0)},k.oN))},[$,es,tn]),ts=()=>{eS<tn-1&&tl(eS+1)},to=e=>{eB({currentTime:0,duration:eZ?.duration??1,pinId:$}),eW(),e===tn-1&&tl(0),e===eS&&ts()};if(!es)return null;let tc="number"==typeof eh?`${eh}px`:te.F,{heightString:tu,marginTop:t_}=function({actionBarHeight:e,actionBarPaddingY:t,availableHeightFormatted:n,availableHeightRaw:i,inRemoveRelatedStreamsExp:a,pinAspectRatio:l,windowWidth:r}){let s=0,o=`${e}px - 2 * ${t}px`,d=`calc(${n} - ${a?"0px":o})`;if("number"==typeof l&&"number"==typeof i){let n=Math.min(r/l,i-e-2*t);d=`${n}px`,s=(i-n)/2}return{heightString:d,marginTop:s}}({actionBarHeight:eP||ej?0:ez.gx,actionBarPaddingY:e8,availableHeightFormatted:tc,availableHeightRaw:eh,inRemoveRelatedStreamsExp:ej,pinAspectRatio:"number"==typeof G&&G!==I.ap?G:null,windowWidth:ex}),ty=eP?"calc(100vw - 110px)":"100%",tf="number"==typeof eg?"desktop"!==e_?`${eg}px`:eg:te.F,tb=()=>{eN(!0),eK(!1),eA.current?(eA.current.resume(),eX>0&&eW()):eZ||ta(eS)},tv=()=>{eN(!1),eA.current&&eA.current.pause()},tx=(ti.data?.blocks??ti.data?.musicBlocks??[]).find(e=>e.type===ez.h8.MUSIC||11===e.blockType),tk=M?{type:"graphqlRef",data:M}:{type:"deprecated",data:$},tP=(0,S.Z)(e2);return(0,U.jsxs)(h.Fragment,{children:[(0,U.jsx)(C.Z,{component:85,view:3,viewParameter:157,children:(0,U.jsxs)(y.xu,{marginEnd:eP?-2:0,marginStart:eP?-2:0,position:"relative",children:[(0,U.jsxs)(y.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:g??""}},"data-test-id":"story-pin-full-bleed-slideshow-mweb",height:tc,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(0,U.jsx)(y.xu,{alignItems:"center",alignSelf:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",paddingBottom:e9(),marginBottom:0,transition:"all .2s ease-in-out",...eJ?{backgroundColor:"rgba(0,0,0,.6)"}:{}}},display:"flex",height:"100%",id:`idea-pin-closeup-pause-play-scrubber-overlay-${$}-${t??0}`,justifyContent:"center",left:!0,opacity:tP?.4:.8,position:"absolute",right:!0,rounding:eP||ej?0:ez.HG,top:!0,zIndex:ez.lt,children:(0,U.jsx)(y.kC,{alignItems:"center",justifyContent:"center",children:eJ&&(0,U.jsx)(y.iP,{onTap:()=>eM?tv():tb(),tapStyle:"compress",children:(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"play-control-button",children:(0,U.jsx)(y.JO,{accessibilityLabel:"Play",color:"light",icon:eM?"pause":"play",inline:!0,size:48})})})})}),(0,U.jsxs)(O.Z,{onTouch:()=>{eq||eK(!eU)},pressState:"none",children:[tt.map((e,n)=>(0,U.jsx)(h.Fragment,{children:(0,U.jsx)(e3,{currentPageIndex:eS,height:tu,index:n,marginTop:t_,width:"100%",children:(0,U.jsx)(tg,{activeStreamItemIndex:t,anchorRef:ep,currentPageIndex:eS,graphqlRef:M,handlePause:tv,handlePlay:tb,isActive:eM&&eS===n&&!K,isAuthenticated:eC,isInactiveStreamPin:K,isSinglePage:1===tt.length,mute:tn>1||eD,onVideoEnded:to,page:e,pinAspectRatio:G,pinId:$,setFlyoutOpen:e$,setVideoProgress:eB,storyPinMetadataRecipeData:ea,storyPinMetadataTemplateType:el,storyPinMetadataVersion:er,videoProgress:eZ})})},`${$}-${n}`)),!(tn>1)&&ej&&(0,U.jsx)(y.xu,{alignContent:"center",display:"flex",justifyContent:"center",paddingY:5,children:(0,U.jsx)(N.Z,{activePageIndex:eS,graphqlRef:M,pageMusicBlockAudioArtistName:tx?.audio?.artist_name??tx?.audio?.artistName,pageMusicBlockAudioTitle:tx?.audio?.title,pinId:$,playbackHandlers:{handlePause:tv,handlePlay:tb},viewParameter:157})}),(0,U.jsxs)(y.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:eP||ej?0:ez.hk+e8,background:"linear-gradient(to top, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0))",paddingTop:"6vh"}},direction:"column",display:"flex",left:!0,paddingX:6,position:"absolute",right:!0,zIndex:ej?new y.Ry(1):ez.lp,children:[!eq&&!ej&&(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{textShadow:"0px 0px 8px rgb(0 0 0 / 30%)"}},marginBottom:2,width:ty,children:(0,U.jsx)(eO,{anchorRef:ep,clientTrackingParams:n,creatorAdsOnlyProfileSite:i??"",creatorBlockedByMe:a??!1,creatorExplicitlyFollowedByMe:l??!1,creatorFullName:r,creatorId:s,creatorImageLargeUrl:o,creatorImageMediumUrl:d,creatorImageSmallUrl:c,creatorIsAdsOnlyProfile:!!u,creatorUsername:p,creatorVerified:m,currentPageIndex:eS,graphqlRef:M,handlePause:tv,handlePlay:tb,isMultiPagePin:tn>1,pageId:ti.data?.id,pageMusicBlockAudioArtistName:tx?.audio?.artist_name??tx?.audio?.artistName,pageMusicBlockAudioTitle:tx?.audio?.title,pinId:$,pinImageSignature:Z,sponsorFullName:X,sponsorId:J,sponsorshipStatus:ee,sponsorUsername:et,storyPinHasProductPins:ei??!1})}),(0,U.jsx)(td,{activePageIndex:eS,captionsExpGroup:e2,handleMute:tn>1?void 0:()=>{Y?.(!eD),eF(!eD)},handlePageChange:tl,handlePause:tv,handlePlay:tb,inRemoveRelatedStreamsExp:ej,isInactiveStreamPin:K,isMuted:eD,isPlaying:!K&&eM,pageCount:tt.length,pinId:$,pinKey:tk,progressInfo:eZ,setVideoProgress:eB,showVideoControls:!0})]}),!eP&&!ej&&(0,U.jsx)(y.xu,{"data-test-id":"pin-more-button",height:ez.hk,left:ek,padding:2,position:"absolute",right:!ek,top:!0,width:ez.R_,children:(0,U.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),eb({component:229,element:10946,event_type:102,view_type:3,view_parameter:157}),eI(!0)},children:(0,U.jsx)(y.hU,{accessibilityLabel:ey._('more', 'closeup.storyPin.actionBar.contextualMenu', 'Pin more button'),icon:"ellipsis",iconColor:eR?"darkGray":"white",size:"lg"})})}),!eC&&er&&th(er)&&(0,U.jsxs)(h.Fragment,{children:[(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 100%)"}},height:120,position:"absolute",top:!0,width:"100%"}),(0,U.jsx)(y.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},height:120,position:"absolute",width:"100%"})]})]}),!eP&&!ej&&(0,U.jsx)(eH.Z,{attributionLabel:eu,clientTrackingParams:n,component:228,experience:D,graphqlRef:M,pinId:$,pinnedToBoardId:W,reactionCounts:q,viewParameter:ed,viewType:ec})]}),(0,U.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginTop:V||ej?0:-64,paddingTop:tf}},"data-test-id":"filler",height:"auto"})]})}),eT&&(0,U.jsx)(eG.Z,{onDismiss:()=>eI(!1),pinId:$})]})}function ty({graphqlRef:e,...t}){let n=(0,g.useFragment)(tu,e),{dominantColor:i,imageSignature:a,nativeCreator:l,pinner:r,sponsorship:s,storyPinData:o,storyPinDataId:d}=n,c=n.aggregatedPinData?.entityId,u=s?.sponsor,p=s?.creator?.entityId,m=s?.status,h=l||r,y=o?.pages?.map(e=>({type:"graphql",data:e})),f=(0,_.TH)(),b=(0,tc.Z)(n);if(!n)return(0,U.jsx)(D.Z,{});let v=o?.metadata?.recipeData,x=o?.metadata?.canvasAspectRatio||I.ap;return(0,U.jsx)(t_,{...t,aggregatedPinDataId:c,attributionLabel:f.state?.attributionLabel,creatorAdsOnlyProfileSite:h?.adsOnlyProfileSite,creatorBlockedByMe:h?.blockedByMe,creatorExplicitlyFollowedByMe:h?.explicitlyFollowedByMe,creatorFullName:h?.fullName,creatorId:h?.entityId,creatorImageLargeUrl:h?.imageLargeUrl,creatorImageMediumUrl:h?.imageMediumUrl,creatorImageSmallUrl:h?.imageSmallUrl,creatorIsAdsOnlyProfile:h?.isAdsOnlyProfile,creatorUsername:h?.username??"",creatorVerified:h?.verifiedIdentity?.verified??!1,dominantColor:i,graphqlRef:n,imageSignature:a,pinAspectRatio:x,pinTitle:n.title,reactionCounts:b,sponsorFullName:u?.fullName,sponsorId:u?.entityId,sponsorshipCreatorId:p,sponsorshipStatus:m,sponsorUsername:u?.username,storyPinDataId:d,storyPinHasProductPins:o?.hasProductPins??!1,storyPinMetadataRecipeData:{cooking_time:v?.cookingTime??0,prep_time:v?.prepTime??0,serving_size:v?.servingSize??0},storyPinMetadataTemplateType:o?.metadata?.templateType,storyPinMetadataVersion:o?.metadata?.version,storyPinPages:y})}function tf(e){let{pinId:t}=e,n=(0,M.S6)()(t),i=(0,_.TH)();if(!n)return(0,U.jsx)(D.Z,{});let{aggregated_pin_data:a,dominant_color:l,image_signature:r,native_creator:s,pinner:o,reaction_counts:d,sponsorship:c,story_pin_data_id:u,story_pin_data:p}=n,m=a?.id,h=s||o,g=c?.sponsor,y=c?.creator?.id,f=c?.status,b=p?.pages?.map(e=>({type:"legacy",data:e})),v=p?.metadata?.canvas_aspect_ratio||I.ap;return(0,U.jsx)(t_,{...e,aggregatedPinDataId:m,attributionLabel:i.state?.attributionLabel,creatorAdsOnlyProfileSite:h?.ads_only_profile_site,creatorBlockedByMe:h?.blocked_by_me,creatorExplicitlyFollowedByMe:h?.explicitly_followed_by_me,creatorFullName:h?.full_name,creatorId:h?.id,creatorImageLargeUrl:h?.image_large_url,creatorImageMediumUrl:h?.image_medium_url,creatorImageSmallUrl:h?.image_small_url,creatorIsAdsOnlyProfile:h?.is_ads_only_profile,creatorUsername:h?.username??"",creatorVerified:h?.verified_identity?.verified??!1,dominantColor:l,imageSignature:r,pinAspectRatio:v,pinTitle:n.title,reactionCounts:d,sponsorFullName:g?.full_name,sponsorId:g?.id,sponsorshipCreatorId:y,sponsorshipStatus:f,sponsorUsername:g?.username,storyPinDataId:u,storyPinHasProductPins:p?.has_product_pins??!1,storyPinMetadataRecipeData:p?.metadata?.recipe_data,storyPinMetadataTemplateType:p?.metadata?.template_type,storyPinMetadataVersion:p?.metadata?.version,storyPinPages:b})}function tb({graphqlRef:e,...t}){return e?(0,U.jsx)(ty,{graphqlRef:e,...t}):(0,U.jsx)(tf,{...t})}},465074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(737244),a=n(131620),l=n(703142);function r(e,t,n,r){switch(e){case 0:{let e=parseInt(t,10);return function({isShortened:e,minutes:t,i18n:n}){if(!t)return"";if(e)return(0,a.Z)(t,n).join("");let r=(0,l.Ys)((0,i.X)({m:t}),n);if(!r)return"";let s=r.join(""),o=n._('Cook Time', 'ideapin.basics.cookTime', 'The cook time for the food in this pin');return`${o}: ${s}`}({minutes:e,i18n:n,isShortened:r})}case 1:{let e=parseInt(t,10);return function({servingSize:e,i18n:t}){return e?1===e?`${e} ${t._('serving', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:`${e} ${t._('servings', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:""}({servingSize:e,i18n:n})}case 2:return function({difficulty:e,i18n:t}){let n={1:t._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:t._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:t._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},i=t._('Difficulty', 'ideapin.basics.difficulty', 'The difficulty for the activity in this pin');return`${i}: ${n[e??"1"]}`}({difficulty:t,i18n:n});default:return""}}},453688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=e=>e.join(`  `)},125740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i,a=n(667294),l=n(167912),r=n(883119),s=n(340523),o=n(749886),d=n(627408),c=n(554786),u=n(149722),p=n(19447),m=n(771981),h=n(810495),g=n(785893);let _=void 0!==i?i:i=n(896057);function y({activeStreamItemIndex:e,isActive:t,isSinglePage:n=!1,muteVideos:i,onFlyoutClose:l,onFlyoutOpen:p,onVideoEnded:_,pinId:y,maybeGraphqlRef:f,pinAspectRatio:b,pageId:v,pageLayout:x,pageShouldMute:k,pageHasImageAdjusted:P,pageStyleBackgroundColor:S,pageBlocks:w,hasVideoBlock:T,videoProgress:I,setVideoProgress:A}){let E=(0,c.HG)(),C=(0,c.Wb)(),j=(0,u.Z)(),{checkExperiment:R}=(0,s.F)(),L=!E&&R(j.isAuth?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,F=0===x;return(0,g.jsx)(d.Z,{component:F?227:228,view:3,viewParameter:157,...T?{element:10957}:null,children:(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:S||"#ffffff"}},left:!0,overflow:"hidden",position:"absolute",right:!0,rounding:E||L?0:m.HG,top:!0,zIndex:o.Ls,children:(0,g.jsx)(r.xu,{height:C?void 0:`calc(100vh -
              ${E?0:m.gx+8*m.r4}px
              )`,position:"relative",width:"100%",children:(0,g.jsx)(h.Z,{activeStreamItemIndex:e,blocks:w,isActive:t,isCoverImageWithTitle:F&&!P,isSinglePage:n,maybeGraphqlRef:f,muteVideos:k||!!i,onFlyoutClose:l,onFlyoutOpen:p,onVideoEnded:_,onVideoTimeChange:e=>{A&&A(e)},pageId:v,pinAspectRatio:b,pinId:y,videoProgressInfo:I})})})})})}function f(e){let t=(0,p.S6)()(e.pinId),n=(t?.story_pin_data?.pages??[]).find(t=>t.id===e.pageId),i=(n?.blocks??[]).find(e=>e.type===m.h8.MUSIC),a=(n?.blocks??[]).some(e=>e.type===m.h8.VIDEO);return(0,g.jsx)(y,{...e,hasVideoBlock:a,maybeGraphqlRef:null,musicBlock:i,pageBlocks:n?.blocks,pageHasImageAdjusted:!!n?.image_adjusted,pageId:n?.id,pageLayout:n?.layout,pageShouldMute:n?.should_mute,pageStyleBackgroundColor:n?.style?.background_color})}function b({graphqlRef:e,...t}){let n=(0,l.useFragment)(_,e),i=(n.storyPinData?.pages??[]).find(e=>e.storyPageId===t.pageId),a=!!i?.dominantColorAdjusted??!!i?.imageSignatureAdjusted,r=(i?.blocks??[]).find(e=>11===e.blockType),s=(i?.blocks??[]).some(e=>3===e.blockType);return(0,g.jsx)(y,{...t,hasVideoBlock:s,maybeGraphqlRef:n,musicBlock:r,pageBlocks:null,pageHasImageAdjusted:a,pageId:i?.storyPageId,pageLayout:i?.layout,pageShouldMute:i?.shouldMute,pageStyleBackgroundColor:i?.style?.backgroundColor})}function v({graphqlRef:e,...t}){return e?(0,g.jsx)(b,{graphqlRef:e,...t}):(0,g.jsx)(f,{...t})}},189093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(883119),a=n(140017),l=n(160133),r=n(785893);function s({isPinRep:e}){let t=(0,a.ZP)(),n=e?"default":"inverse",s=(0,r.jsx)(i.xu,{"data-test-id":"unavailable-pin",padding:e?1:0,children:(0,r.jsx)(i.xu,{color:e?"secondary":"dark",height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,top:!0,width:"100%",children:(0,r.jsxs)(i.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,r.jsx)(i.xu,{paddingY:4,children:(0,r.jsx)(i.JO,{accessibilityLabel:t._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,r.jsx)(i.xv,{align:"center",color:n,weight:"bold",children:t._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,r.jsx)(i.xu,{paddingY:1,children:(0,r.jsx)(i.xv,{align:"center",color:n,children:t._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?s:(0,r.jsx)(i.xu,{height:"100vh",children:(0,r.jsx)(l.Z,{children:s})})}},771981:(e,t,n)=>{"use strict";n.d(t,{Ai:()=>P,B5:()=>h,CR:()=>c,Cc:()=>r,HG:()=>b,R_:()=>o,Wz:()=>s,_P:()=>f,dP:()=>S,dX:()=>x,gx:()=>u,h8:()=>a,hk:()=>d,lp:()=>_,lt:()=>m,oe:()=>v,r4:()=>y,rM:()=>k,tD:()=>p});var i=n(883119);let a={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},l={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},r={...l,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},s={...l,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},o=64,d=64,c=48,u=48,p=new i.Ry(1),m=new i.H3([p]),h=new i.H3([m]),g=new i.H3([p]),_=new i.H3([g]),y=4;function f(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:y}}let b=6,v=47,x=8,k=4,P=5,S=3},705007:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i,a=n(667294),l=n(167912),r=n(883119),s=n(803947),o=n(230556),d=n(249123),c=n(587703),u=n(696534),p=n(205841),m=n(140017),h=n(406893),g=n(885121),_=n(629650),y=n(554786),f=n(149722),b=n(916840),v=n(387450),x=n(19447),k=n(605922),P=n(236817),S=n(785893);let w=void 0!==i?i:i=n(333682);function T({fullName:e,keyValueBlocks:t,imageLargeUrl:n,imageMediumUrl:i,imageSmallUrl:l,link:x,listBlocks:w,pinId:T,title:I,templateType:A,username:E,description:C,graphqlRef:j,clientTrackingParams:R}){let L=(0,m.ZP)(),F=(0,c.Z)(),D=(0,y.HG)(),O=(0,f.Z)(),z=(0,u.vs)(),M=(0,b.Z)({clickthroughInterstitialExperience:null,pinId:T??""}),[N,Z]=(0,a.useState)(!1),B=(t||[]).map((e,t)=>(0,S.jsx)(k.Z,{categoryType:e.categoryType??e.category_type,size:"300",type:"compact",value:e.value},`key-val-component-${t}`)).filter(e=>null!=e);if(!D)return(0,S.jsxs)(r.kC,{alignItems:"stretch",direction:"column",gap:4,justifyContent:"center",children:[(0,S.jsx)(h.Z,{unsafeCSS:`
            li.light-mode::marker {
              color: #111;
            }

            li.dark-mode::marker {
              color: #fff;
            }
          `}),(0,S.jsx)(v.Z,{clientTrackingParams:R,graphqlRef:j,hideFollowerCount:!0,justifyContent:"start",pinId:T,viewerId:O.id}),(0,S.jsx)(r.X6,{accessibilityLevel:1,align:"start",overflow:"breakWord",size:"400",children:I}),(0,S.jsx)(_.Z,{color:z?"light":"default",items:B.filter(e=>""!==e)}),C&&C.trim()?(0,S.jsx)(r.xu,{children:(0,S.jsx)(g.Z,{description:C,handleToggle:()=>{Z(!N)},isExpanded:N,maxHeight:38,Wrapper:({children:e})=>(0,S.jsx)(r.xv,{align:"start",size:"200",children:e})})}):null,(w||[]).map((e,t)=>(0,S.jsxs)(r.kC,{direction:"column",gap:4,children:[e.heading?(0,S.jsx)(r.xv,{size:"300",weight:"bold",children:e.heading}):null,e.blocks&&e.blocks.length>0?(0,S.jsx)("ul",{style:{listStyleType:"disc",paddingInlineStart:16,margin:0},children:e.blocks.map((t,n)=>(0,S.jsx)("li",{className:z?"dark-mode":"light-mode",style:{listStyle:"disc"},children:(0,S.jsx)(r.xv,{inline:!0,overflow:"normal",size:"300",children:t.text?t.text:""})},`item-${n}-${e.heading||"empty"}`))},`${e.heading||"empty"}-${t}-list`):null]},`${e.heading||"empty"}-${t}-listHeading`))]});let U=new Map([[null,L._('Notes', 'Closeup.StoryPinBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,L._('Ingredients', 'Closeup.StoryPinBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,L._('Supplies', 'Closeup.StoryPinBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,S.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[!D&&(0,S.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingY:4,children:[x&&(0,S.jsx)(r.xu,{"data-test-id":"link",marginBottom:2,children:(0,S.jsx)(r.rU,{href:x.url,onClick:()=>{F({view_type:132,view_parameter:3549,element:12971,event_type:102,aux_data:{pin_id:T,url:x?.url}}),M()},target:"blank",underline:"always",children:(0,S.jsx)(r.xv,{children:x.domain})})}),(0,S.jsx)(P.Z,{dir:(0,P.j)(I),children:(0,S.jsx)(r.X6,{align:"center",size:"500",children:I})}),(0,S.jsxs)(r.Tg,{fullWidth:!1,href:`/${E}/`,children:[(0,S.jsx)(r.xu,{padding:2,children:(0,S.jsx)(r.xu,{height:44,width:44,children:(0,S.jsx)(p.qE,{name:e??"",size:"fit",src:n||i||l||void 0})})}),(0,S.jsxs)(r.xu,{children:[(0,S.jsx)(r.xv,{inline:!0,size:"300",children:L._('By', 'closeup.storyPin.basicsLayout.publishedBy.label', 'Label for native creator')})," ",(0,S.jsx)(r.xv,{inline:!0,size:"300",weight:"bold",children:e})]})]})]}),w&&w.length>0&&(0,S.jsx)(r.xu,{marginBottom:8,children:(0,S.jsx)(s.Z,{heading:U.get(A),children:(0,S.jsx)(d.Z,{children:w.map((e,t)=>{let n=`${e.heading||"empty"}-${t}-listHeading`;return(0,S.jsxs)(a.Fragment,{children:[(0,S.jsx)(r.xu,{marginTop:2,paddingY:2}),(0,S.jsx)(r.xv,{size:o.n,weight:"bold",children:e.heading}),(e.blocks??[]).map((t,n)=>{let i=`item-${n}-${e.heading||"empty"}`;return(0,S.jsx)(a.Fragment,{children:(0,S.jsx)(r.xu,{marginBottom:1,children:(0,S.jsxs)(r.xv,{size:o.n,children:[" ",t.text?t.text:""]})})},i)})]},n)})})})})]})}function I({pinId:e,graphqlRef:t,...n}){let i=(0,x.S6)()(e),a=i?.story_pin_data?.metadata?.basics||{},{key_value_blocks:l,list_blocks:r}=a;return(0,S.jsx)(T,{...n,keyValueBlocks:l,listBlocks:r,pinId:e})}function A({pinId:e,graphqlRef:t,...n}){let i=(0,l.useFragment)(w,t),a=i?.storyPinData?.metadata?.basics||{};return(0,S.jsx)(T,{...n,graphqlRef:i,keyValueBlocks:a.keyValueBlocks,listBlocks:a.listBlocks,pinId:e})}function E(e){return e.graphqlRef?(0,S.jsx)(A,{graphqlRef:e.graphqlRef,...e}):(0,S.jsx)(I,{...e})}},605922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(883119),a=n(140017),l=n(339001),r=n(737244),s=n(790440),o=n(131620),d=n(785893);let c=({minutes:e,type:t,size:n})=>{let l=(0,a.ZP)();if("compact"===t){let t=(0,o.Z)(e,l);return(0,d.jsx)(i.xv,{inline:!0,size:n,children:t})}let c=(0,s.Z)((0,r.X)({m:e}),l);return(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{inline:!0,size:n,weight:"bold",children:l._('Cook Time: ', 'closeup.storyPin.basicsLayout.cookTime.label', 'Label for cook time (ex. Cook Time: 3 minutes)')}),(0,d.jsx)(i.xv,{inline:!0,size:n,children:c})]})},u=({servingSize:e,type:t,size:n})=>{let r=(0,a.ZP)(),s=(0,l.nk)(r.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return"compact"===t?(0,d.jsx)(i.xv,{inline:!0,size:n,children:s}):(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{inline:!0,size:n,weight:"bold",children:r._('Serving Size: ', 'closeup.storyPin.basicsLayout.servingSize.label', 'Label for serving size')}),(0,d.jsx)(i.xv,{inline:!0,size:n,children:s})]})},p=({difficulty:e,type:t,size:n})=>{let l=(0,a.ZP)(),r={1:l._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:l._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:l._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')};return(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{inline:!0,size:n,weight:"compact"===t?"normal":"bold",children:l._('Difficulty: ', 'closeup.storyPin.basicsLayout.difficulty.label', 'Label for difficulty')}),(0,d.jsx)(i.xv,{inline:!0,size:n,children:r[e??"1"]})]})};function m({categoryType:e,value:t,type:n,size:i}){if(0===e){let e=parseInt(t,10);return e?(0,d.jsx)(c,{minutes:e,size:i,type:n}):null}if(1===e){let e=parseInt(t,10);return(0,d.jsx)(u,{servingSize:e,size:i,type:n})}return 2===e?(0,d.jsx)(p,{difficulty:t,size:i,type:n}):null}},763865:(e,t,n)=>{"use strict";n.d(t,{BN:()=>a,RK:()=>i,d3:()=>r,xm:()=>l});let i=({alignment:e,verticalAlignment:t})=>{let n={alignItems:"flex-start",display:"flex",height:"100%",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.textAlign="center"),n},a=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:a,name:l})=>({fontSize:e,letterSpacing:i,lineHeight:a,color:t,fontFamily:l,margin:0,textShadow:n||t?.toLowerCase()!=="#ffffff"?void 0:"0px 1px 4px rgba(0, 0, 0, 0.2)",width:"100%",...n?{backgroundColor:n,borderRadius:5,padding:".05em .2em"}:{}}),l=({highlightColor:e})=>({...e?{backgroundColor:e,borderRadius:5,padding:".05em .2em"}:{}}),r=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]})},920040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i,a=n(667294),l=n(167912);let r=void 0!==i?i:i=n(117166),s=e=>{let t=(0,l.useFragment)(r,e),n=(0,a.useMemo)(()=>{if(!t)return null;let e={"750x":t.imageSpec_750x?{height:t.imageSpec_750x.height||void 0,url:t.imageSpec_750x.url||void 0,width:t.imageSpec_750x.width||void 0}:void 0,"236x":t.imageSpec_236x?{height:t.imageSpec_236x.height||void 0,url:t.imageSpec_236x.url||void 0,width:t.imageSpec_236x.width||void 0}:void 0,"1200x":t.imageSpec_1200x?{height:t.imageSpec_1200x.height||void 0,url:t.imageSpec_1200x.url||void 0,width:t.imageSpec_1200x.width||void 0}:void 0,original:t.imageSpec_orig?{height:t.imageSpec_orig.height||void 0,url:t.imageSpec_orig.url||void 0,width:t.imageSpec_orig.width||void 0}:void 0},n={"750x":t.imageAdjustedSpec_750x?{height:t.imageAdjustedSpec_750x.height||void 0,url:t.imageAdjustedSpec_750x.url||void 0,width:t.imageAdjustedSpec_750x.width||void 0}:void 0,"236x":t.imageAdjustedSpec_236x?{height:t.imageAdjustedSpec_236x.height||void 0,url:t.imageAdjustedSpec_236x.url||void 0,width:t.imageAdjustedSpec_236x.width||void 0}:void 0,"1200x":t.imageAdjustedSpec_1200x?{height:t.imageAdjustedSpec_1200x.height||void 0,url:t.imageAdjustedSpec_1200x.url||void 0,width:t.imageAdjustedSpec_1200x.width||void 0}:void 0,original:t.imageAdjustedSpec_orig?{height:t.imageAdjustedSpec_orig.height||void 0,url:t.imageAdjustedSpec_orig.url||void 0,width:t.imageAdjustedSpec_orig.width||void 0}:void 0},i=Object.values(n).some(e=>!!e),a=Object.values(e).some(e=>!!e);return{imageImages:e,imageAdjustedImages:n,hasImageAdjustedImages:i,hasImageImages:a}},[t]);return n}},6845:(e,t,n)=>{"use strict";n.d(t,{h:()=>r,m:()=>s});var i=n(537347),a=n.n(i),l=n(763865);function r(e,t){if("undefined"==typeof window)return Promise.resolve(void 0);let n=document.querySelector(`#${t}`);if(n)return Promise.resolve(void 0);(n=document.createElement("style")).setAttribute("id",t),e.filter(e=>!!e.fontFaceUrl).forEach(e=>{n&&e.fontFaceUrl&&n.appendChild(document.createTextNode(`@import url('${e.fontFaceUrl}');`))});let{head:i}=document;if(!i)return Promise.resolve(void 0);let l=document.createElement("style");l.setAttribute("id",`${t}-font-faces`),i.appendChild(n),i.appendChild(l);let r=[];return e.forEach(e=>{e&&e.styles&&e.styles.forEach(t=>{if(e.format&&t.fontUrl&&l&&l.sheet){let n=l.sheet;n.insertRule(`
            @font-face {
              font-family: "${e.fontFamily??""}";
              font-style: "${t.fontStyle}";
              font-weight: "${t.fontWeight}";
              src: url("${t.fontUrl}") format("${e.format}");
            }`)}r.push(new(a())(e.fontFamily,{weight:t.fontWeight,style:t.fontStyle}).load())})}),Promise.all(r)}function s(e){let{hasFont:t,letterSpacing:n,lineHeight:i,name:a,url:s}=e||{};t&&r([(0,l.d3)({letterSpacing:n,lineHeight:i,name:a,url:s})],(a??"").split(" ").join(""))}},479144:(e,t,n)=>{"use strict";n.d(t,{F:()=>d,Z:()=>c});var i=n(667294),a=n(340523),l=n(160567),r=n(554786),s=n(149722),o=n(771981);let d="100vh";function c(){let{isAuth:e}=(0,s.Z)(),t=(0,r.ZP)(),n="desktop"===t,d="tablet"===t,{checkExperiment:c}=(0,a.F)(),u=!n&&c(e?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,{paddingY:p}=(0,o._P)(n),m=4*p,[h,g]=(0,i.useState)(null),[_,y]=(0,i.useState)(null),[f,b]=(0,i.useState)(null),[v,x]=(0,i.useState)(null),k="desktop"!==t&&!u,P=(0,i.useCallback)(()=>{let n=d&&f?f:window?.innerHeight;if(!e){let e="tablet"===t?l.Pw:l.SB;n-=e}u&&(n-=o.hk+m),g(n),y(k?n+2:n)},[e,u,k,t,m,f,d]);return(0,i.useEffect)(()=>("undefined"!=typeof window&&(screen.orientation&&v!==screen.orientation.type&&(x(screen.orientation.type),b(window?.innerHeight)),P()),window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}),[t,e,k,v,P]),{storyPinHeight:h,fillerPaddingTop:_}}},236817:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,j:()=>l});var i=n(785893);let a=RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6A-Za-z\xc0-\xd6\xd8-\xf6--]*[---]");function l(e){return a.test(e||"")?"rtl":"ltr"}function r({children:e,dir:t="auto"}){return(0,i.jsx)("div",{dir:t,children:e})}},626468:(e,t,n)=>{"use strict";function i(e){let t=[],n="";for(let i of e)if(n){let e=!!i.match(/\s/),a=!!n.match(/\s/);if(e===a)n+=i;else if(!a&&n.includes("-")){let e=0;for(let i=0;i<n.length;i+=1)"-"===n[i]&&(t.push(n.substring(e,i+1)),e=i+1);t.push(n.substring(e)),n=i}else t.push(n),n=i}else n=i;return n.length&&t.push(n),t}function a({boxHeight:e,boxWidth:t,font:n,startFontSize:a,text:l}){if("undefined"==typeof document||!document.body)return{fontSize:a,lines:[]};let{body:r}=document,s=document.createElement("div");r.appendChild(s);let o=l?.split(/\r?\n/g),d=a,c=n.fontOverrides?.letterSpacing!=null?`${n.fontOverrides.letterSpacing}px`:void 0,u=n.fontOverrides?.lineHeight||1.1,p={letterSpacing:c,lineHeight:String(u),fontFamily:n.fontFamily,fontSize:`${d}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(s.style,p);let m=document.createElement("div");for(m.style.display="inline",s.appendChild(m),(o??[]).forEach((e,t)=>{let n=document.createElement("span");n.style.wordBreak="break-word",m.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(l??"").length-1&&n.appendChild(document.createElement("br"))});(m.offsetHeight>e||m.offsetWidth>t)&&d>0;)d-=1,s.style.fontSize=`${d}px`;return m.remove(),s.remove(),{fontSize:d,lines:d>0?function({font:e,fontSize:t,textList:n,width:a}){if("undefined"==typeof document||!document.body||a<=0||t<=0)return[];let{body:l}=document,r=document.createElement("div");l.appendChild(r);let s=e.fontOverrides?.letterSpacing!=null?`${e.fontOverrides.letterSpacing}px`:void 0,o=e.fontOverrides?.lineHeight||1.1,d={letterSpacing:s,lineHeight:String(o),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(r.style,d);let c=document.createElement("div");c.style.display="inline",r.appendChild(c);let u=document.createTextNode("");c.appendChild(u);let p=[],m="",h=e=>{let t=e.trim();return u.textContent=t,{text:t,width:c.offsetWidth}},g=e=>{let t=!!e.match(/\s/),n=0===m.length;if(u.textContent=`${m}${e}`,c.offsetWidth>a){if(t)p.push(h(m)),m="";else if(n)for(let t of e)g(t);else p.push(h(m)),m="",g(e)}else m+=e};for(let e of n??[]){0===e.length&&p.push(h(m));let t=i(e);t.forEach(e=>g(e)),m.length&&(p.push(h(m)),m="")}return c.remove(),r.remove(),p}({font:n,fontSize:d,textList:o,width:t}):[]}}function l(e){let t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("height").replace("px","")),i=parseFloat(t.getPropertyValue("font-size").replace("px","")),a=parseFloat(t.getPropertyValue("line-height").replace("px",""));Number.isNaN(a)&&(a=1.2*i);let l=Math.ceil(n/a);return l}n.d(t,{KV:()=>a,Yd:()=>i,xW:()=>l})},851193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(837639);function a(e){return{defaultStyle:0,fontFamily:e.name??"",fontGroup:i.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},961936:(e,t,n)=>{"use strict";n.d(t,{Af:()=>c,Ei:()=>o,II:()=>x,Lh:()=>y,U:()=>g,UC:()=>u,Zy:()=>s,dD:()=>l,er:()=>_,hb:()=>b,in:()=>d,j7:()=>f,kX:()=>m,me:()=>p,mx:()=>v,n5:()=>r,q8:()=>h,xH:()=>a});var i=n(749886);let a=1048576,l=3,r=20,s=3,o=10,d=50,c=10,u=720,p=1080,m=1200,h=375,g=h/i.ap,_=1200,y="#FFFFFF",f={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},b=420,v=325,x=768},999624:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(667294),a=n(883119),l=n(140017),r=n(937875),s=n(785893);let o=e=>0===e?0:2,d=({children:e,dangerouslySetInlineStyle:t,marginTop:n})=>(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:n,children:e}),c=({content:e,order:t,type:n})=>{if(!e)return null;let i=n===r.X.HEADER,l=[r.X.HEADER,r.X.BOLD].includes(n),c=t>0&&i?4:o(t);return(0,s.jsx)(d,{marginTop:c,children:(0,s.jsx)(a.xv,{size:"200",weight:l?"bold":"normal",children:e})})},u=({content:e,order:t})=>e?(0,s.jsx)(d,{marginTop:o(t),children:e}):null,p=({content:e,order:t})=>Array.isArray(e)&&0!==e.length?(0,s.jsx)(d,{marginTop:o(t),children:e.map(e=>(0,s.jsxs)(a.xu,{direction:"row",display:"flex",marginStart:1,marginTop:1,children:[(0,s.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:"\xb7"}),(0,s.jsx)(a.xu,{marginStart:1,children:(0,s.jsx)(a.xv,{size:"200",children:e})})]},e))}):null,m=({accessibilityLabel:e,content:t,order:n})=>t&&"object"==typeof t?(0,s.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:o(n),children:(0,s.jsx)(a.iA,{accessibilityLabel:e,children:(0,s.jsx)(a.iA.Body,{children:Object.entries(t).map(([e,t],n)=>(0,s.jsxs)(a.iA.Row,{children:[(0,s.jsx)(a.iA.Cell,{children:(0,s.jsx)(a.xv,{size:"100",weight:"bold",children:e})}),(0,s.jsx)(a.iA.Cell,{children:(0,s.jsx)(a.xv,{size:"100",children:String(t)})})]},n))})})}):null,h=({accessibilityLabel:e,content:t,order:n})=>{if(!Array.isArray(t)||t.length<2)return null;let i=t[0],l=t.slice(1);return(0,s.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:o(n),children:(0,s.jsxs)(a.iA,{accessibilityLabel:e,children:[(0,s.jsx)(a.iA.Header,{children:(0,s.jsx)(a.iA.Row,{children:i.map((e,t)=>(0,s.jsx)(a.iA.HeaderCell,{children:(0,s.jsx)(a.xv,{size:"100",weight:"bold",children:e})},t))})}),(0,s.jsx)(a.iA.Body,{children:l.map((e,t)=>(0,s.jsx)(a.iA.Row,{children:e.map((e,t)=>(0,s.jsx)(a.iA.Cell,{children:(0,s.jsx)(a.xv,{size:"100",children:e})},t))},t))})]})})},g=e=>{let t=(0,l.ZP)();switch(e.type){case r.X.POINTS:return(0,s.jsx)(p,{...e});case r.X.SPECS:return(0,s.jsx)(m,{accessibilityLabel:t._('Specification view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs', 'Content represented in specification format'),...e});case r.X.TABLE:return(0,s.jsx)(h,{accessibilityLabel:t._('Table view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable', 'Content represented in table format'),...e});case r.X.ELEMENT:return(0,s.jsx)(u,{...e});default:return(0,s.jsx)(c,{...e})}};function _({descriptions:e,onLoad:t}){return((0,i.useEffect)(()=>{"function"==typeof t&&t()},[t]),0===e.length)?null:e.map(({content:e,type:t},n)=>(0,s.jsx)(g,{content:e,order:n,type:t},n))}},38555:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i,a=n(667294);n(167912);var l=n(333739),r=n(937875);let s=void 0!==i?i:i=n(560346);function o(e){let{data:t}=(0,l.HF)(s,e,{type:"pin",useGraphQLAdapter:e=>(0,a.useMemo)(()=>{var t;return(t=e.formattedCloseupDescription)&&Array.isArray(t.components)?t.components.filter(e=>e.type).map(e=>{let t=e.type??"";return t===r.X.SPECS?{type:t,content:e.specsContent?.map(e=>({key:e.key,value:e.value}))}:{type:t,content:e.stringContent??e.pointsContent??e.tableContent}}):[]},[e.formattedCloseupDescription]),useLegacyAdapter:e=>{let t=e.formatted_description?.components;return Array.isArray(t)?t:[]}});return t??[]}},937875:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,j:()=>a});let i={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},a=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:i.PARAGRAPH}]},435333:(e,t,n)=>{"use strict";n.d(t,{JJ:()=>i,N3:()=>l,zu:()=>a});let i=["TR","WB"],a=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],l=[...i,...a,"AP","TG"]},155087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(883119),a=n(454514),l=n(140017),r=n(995917),s=n(554786),o=n(785893);function d({ideaPinImages:e}){let t=e.map((e,t)=>(0,o.jsx)(i.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:(0,o.jsx)(i.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e?.url??""})},t));return(0,o.jsx)(i.kC,{justifyContent:"center",children:(0,o.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function c({handleHide:e,text:t,userId:n,href:c,imageUrl:u}){let p=(0,l.ZP)(),m=(0,s.HG)(),h=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),g=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,o.jsx)(a.ZP,{duration:5e3,href:c,onHide:e,text:g,thumbnail:u?{image:(0,o.jsx)(i.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}:void 0});let _=(h.data||[]).slice(0,3).map(e=>e.images?.[m?"236x":"170x"]),y=(0,o.jsx)(d,{ideaPinImages:_});return(0,o.jsx)(a.ZP,{_dangerouslySetThumbnail:y,duration:5e3,href:c,onHide:e,text:g})}},81149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(883119),a=n(761203),l=n(785893);function r({boardId:e}){let t=(0,a.gC)()(e),n=t?.images&&t.images["170x"]?t.images["170x"][0]:void 0;return e&&n?(0,l.jsx)(i.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:n.url??""}):null}},915163:(e,t,n)=>{"use strict";n.d(t,{k:()=>r,w:()=>l});var i=n(883119),a=n(69979);let l=2e3,r=new i.H3([a.Z])},700198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var i,a=n(667294),l=n(167912),r=n(616550),s=n(883119),o=n(214877),d=n(454514),c=n(140017),u=n(339001),p=n(391884),m=n(180593),h=n(567344),g=n(661428),_=n(340523),y=n(5859),f=n(980803),b=n(447479),v=n(93810),x=n(48481),k=n(217058),P=n(13848),S=n(494125),w=n(177917),T=n(94521),I=n(323294),A=n(546689),E=n(718738),C=n(19447),j=n(785893);let R=({children:e,onTap:t,testId:n})=>{let[i,l]=(0,a.useState)(!1);return(0,j.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},"data-test-id":`more-options-${n}`,paddingX:3,paddingY:2,role:"listitem",rounding:2,children:(0,j.jsx)(s.iP,{onBlur:()=>l(!1),onFocus:()=>l(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:t,children:e})})},L=void 0!==i?i:i=n(161541),F=({i18n:e,pinId:t,showSignupModal:n,attributionLabelSource:i})=>(0,j.jsx)(R,{onTap:()=>{(0,k.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:i}),n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${i}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:t}}})},testId:"save",children:(0,j.jsx)(s.xv,{size:"200",weight:"bold",children:e._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})},"SaveMenuItem"),D=e=>({invite_category:3,invite_channel:12,object_type:1,object_id:e}),O=({pinId:e,variant:t,onSendButtonClick:n,dismissPriorToast:i})=>{let l=(0,c.ZP)(),{logContextEvent:r}=(0,o.v)(),[d,u]=(0,a.useState)(null),[p,m]=(0,a.useState)(!1),{logShareInvite:h,createShareInviteData:g}=(0,v.Z)(),_=()=>{null===d||p||(m(!0),h(D(e),d))},y=()=>{r({event_type:101,component:14162,element:72,object_id_str:e})};return(0,S.Z)(()=>{let t=async()=>{let t=await g({invite_category:3,invite_channel:12,object_type:"pin",object_id:e,path:""});u(t)};t()}),"copy_link"===t?(0,j.jsxs)(s.xu,{"data-test-id":"post-download-copy-link",children:[l._('Image downloaded to your device. ', 'context_menu.pin_downloaded.toastText', 'toast message to confirm when users downloaded a pin image'),(0,j.jsx)(w.Z,{asLink:!0,buttonSize:"sm",hideInput:!0,linkURL:d?.invite_url||"",onCopyText:l._('Copied link to your clipboard to share', 'context_menu.pin_downloaded.copy_link_button_activate', 'notify the user that the link is now copied to their clipboard'),onDidClickCopyButton:()=>{_(),y()},onDidFocus:_,oneToast:!0,toastDuration:5e3})]}):(0,j.jsxs)(s.xu,{"data-test-id":"post-download-share-pin",children:[l._('Image downloaded to your device. ', 'context_menu.pin_downloaded.toastText', 'toast message to confirm when users downloaded a pin image'),(0,j.jsx)(s.rU,{accessibilityLabel:l._('Share Pin', 'context_menu.pin_downloaded.share_pin_button', 'toast message that shows share pin sharesheet invite CTA'),display:"inline",href:"",onClick:()=>{i(),n(),y()},children:l._('Share Pin', 'context_menu.pin_downloaded.share_pin_button', 'toast message that shows share pin sharesheet invite CTA')})]})},z=({i18n:e,pinTitle:t,pinDescription:n,pinId:i,bestPinImgSrc:a,attributionLabelSource:l,logContextEvent:r,pinCategory:o,checkExperiment:c,showSignupModal:u,onSendButtonClick:p})=>{let{showOneToast:m}=(0,P.F9)(),{unauthUserStateDispatch:h}=(0,A.Rh)();return(0,j.jsx)(R,{onTap:()=>{let{expName:g,expGroup:_,limitReached:y,oldCount:f,newCount:b}=(0,T.H)(c,"dweb_download_in_context_menus_v3");if((0,k.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:l,expName:g,expGroup:_,limitReached:y,oldCount:f,newCount:b}),y){u({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${l}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:i}}});return}(0,T.Z)({filename:t||n||i,imgSrc:a||"",category:o,pinId:i,isUnauth:!0,platform:"web",expName:g,expGroup:_,imageDownloadSuccessCallback:()=>h({type:"UPDATE"})},r);let v=_.includes("copy_link"),x=v?"copy_link":"sharesheet";m(({hideToast:t})=>(0,j.jsx)(d.ZP,{duration:5e3,onHide:t,text:(0,j.jsx)(s.xv,{color:"inverse",children:(0,j.jsx)(O,{dismissPriorToast:t,onSendButtonClick:p,pinId:i,variant:x})}),thumbnail:{image:(0,j.jsx)(s.Ee,{alt:e._('Image of downloaded Pin', 'context_menu.pin_downloaded.altImageText', 'Alt text for image shown when downloading pin'),fit:"cover",naturalHeight:32,naturalWidth:32,src:a||""})}}))},testId:"download",children:(0,j.jsx)(s.xv,{size:"200",weight:"bold",children:e._('Download image', 'Button to download Pin image', 'Button to download Pin image')})},"DownloadMenuItem")},M=({pinId:e,pinLink:t,fromEllipsisButton:n,attributionLabelSource:i,showSignupModal:a,i18n:l})=>(0,j.jsx)(R,{onTap:()=>{(0,k.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:i}),window.open(n?t:`/pin/${e}/`),n||a({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},testId:"new-tab",children:(0,j.jsx)(s.xv,{size:"200",weight:"bold",children:l._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})},"NewTabMenuItem"),N=({history:e,levelOneInterestUrl:t,searchUrl:n,levelOneInterestName:i,i18n:a,interestTag:l,attributionLabelSource:r})=>(0,j.jsx)(R,{onTap:()=>{(0,k.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:r}),t?e.push(`${t}`):e.push(n)},testId:"interests",children:i?(0,j.jsx)(s.xv,{lineClamp:2,size:"200",weight:"bold",children:(0,u.nk)(a._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:i})}):(0,j.jsx)(s.xv,{lineClamp:2,size:"200",weight:"bold",children:(0,u.nk)(a._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:l})})},"MoreInterestsMenuItem"),Z=({attributionLabelSource:e,reportLink:t,i18n:n})=>(0,j.jsx)(a.Fragment,{children:(0,j.jsx)(R,{onTap:()=>{(0,k.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(t,"_blank")},testId:"dsa",children:(0,j.jsx)(s.xv,{size:"200",weight:"bold",children:n._('Report Pin for EU local law violation', 'dweb.unauth.context_menu.link.report_pin_dsa', 'Button to report Pin for EU local law violation')})})},"ReportForDSAMenuItem");function B({desktopContextMenuState:e,isMainPinImage:t,source:n,imagesUrls:i,embedSrc:a,embedType:l,pinJoinVisualAnnotation:u,pinJoinSeoBreadcrumbName:m,pinJoinSeoBreadcrumbUrl:h,pinId:g,pinLink:v,pinTitle:S,pinDescription:w,pinCategory:I,pinEligibleForDownload:A,onSendButtonClick:C,enabledUnauthContextMenu:R,anchor:L}){let D=(0,c.ZP)(),B=(0,r.k6)(),{logContextEvent:U}=(0,o.v)(),{countryFromIp:K,isBot:V,isSocialBot:H}=(0,y.B)(),{checkExperiment:G}=(0,_.F)(),{showOneToast:$}=(0,P.F9)(),W=(0,p.Z)({imagesUrls:i,embedSrc:a,embedType:l,excludeOriginals:!V&&!H}),q=u?.[0]??void 0,Y=(0,f.Z)(q),X=`/search/pins/?q=${encodeURIComponent(Y)}&rs=${b.i.IMAGE_ONLY_ATTRIBUTION}`,J=(0,x.Z)(),Q="dweb.plp.ellipsis.button"===n,{COUNTRY_CODES:ee}=E.LAW_CONFIGURATION.dsa,et=ee.includes(K);if(!W)return null;let en=(0,p.Z)({imagesUrls:i,embedSrc:a,embedType:l,excludeOriginals:!V&&!H}),ei="related_pin_right_click";Q?ei="action_bar_ellipsis":t&&(ei="right_click");let ea=`https://www.pinterest.com/about/dsa/?pinId=${g}`,el=[{component:()=>F({i18n:D,pinId:g,showSignupModal:J,attributionLabelSource:ei})},{component:()=>A&&z({i18n:D,pinTitle:S,pinDescription:w,pinId:g,bestPinImgSrc:en,attributionLabelSource:ei,logContextEvent:U,pinCategory:I,checkExperiment:G,showSignupModal:J,onSendButtonClick:C??(()=>{})})},{component:()=>!(t||Q&&!v)&&M({i18n:D,pinId:g,pinLink:v,fromEllipsisButton:Q,showSignupModal:J,attributionLabelSource:ei})},{component:()=>!!(q||m&&h)&&N({history:B,levelOneInterestUrl:h,searchUrl:X,levelOneInterestName:m,i18n:D,interestTag:q,attributionLabelSource:ei})},{component:()=>et&&Z({reportLink:ea,i18n:D,attributionLabelSource:ei})}],er=el.map(({component:e})=>e()).filter(e=>!!e);return R?(0,j.jsxs)(s.Lt,{anchor:L,disableMobileUI:!0,id:"desktop-context-menu",idealDirection:"down",onDismiss:()=>{},zIndex:new s.Ry(99999),children:[(0,j.jsx)(s.Lt.Item,{dataTestId:"pin-action-dropdown-save",onSelect:()=>{(0,k.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:ei}),J({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${ei}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:g}}})},option:{value:"saveImage",label:D._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')}}),A&&(0,j.jsx)(s.Lt.Item,{dataTestId:"pin-action-dropdown-download",onSelect:()=>{let{expName:e,expGroup:t,limitReached:n,oldCount:i,newCount:a}=(0,T.H)(G,"dweb_download_in_context_menus_v3");if((0,k.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:ei,expName:e,expGroup:t,limitReached:n,oldCount:i,newCount:a}),n){J({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${ei}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:g}}});return}(0,T.Z)({filename:S||w||g,imgSrc:en||"",category:I,pinId:g,isUnauth:!0,platform:"web",expName:e,expGroup:t},U);let l=t.includes("copy_link"),r=l?"copy_link":"sharesheet";$(({hideToast:e})=>(0,j.jsx)(d.ZP,{duration:5e3,onHide:e,text:(0,j.jsx)(s.xv,{color:"inverse",children:(0,j.jsx)(O,{dismissPriorToast:e,onSendButtonClick:C??(()=>{}),pinId:g,variant:r})}),thumbnail:{image:(0,j.jsx)(s.Ee,{alt:D._('Image of downloaded Pin', 'context_menu.pin_downloaded.altImageText', 'Alt text for image shown when downloading pin'),fit:"cover",naturalHeight:32,naturalWidth:32,src:en||""})}}))},option:{value:"downloadImage",label:D._('Download image', 'Button to download Pin image', 'Button to download Pin image')}}),et&&(0,j.jsx)(s.Lt.Item,{dataTestId:"pin-action-dropdown-report",onSelect:()=>{(0,k.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:ei}),window.open(ea,"_blank")},option:{value:"reportPin",label:D._('Report Pin for EU local law violation', 'dweb.unauth.context_menu.link.report_pin_dsa', 'Button to report Pin for EU local law violation')}})]}):(0,j.jsxs)(s.xu,{borderStyle:"shadow",color:"default",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},"data-test-id":"desktop-context-menu",direction:"column",display:"flex",maxWidth:250,paddingX:2,paddingY:3,position:"fixed",rounding:2,zIndex:new s.Ry(99999),children:[(0,j.jsx)(s.xu,{paddingX:3,paddingY:2,role:"img",rounding:2,children:(0,j.jsx)(s.JO,{accessibilityLabel:D._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary",icon:"pinterest"})}),er]})}function U({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,onSendButtonClick:i,...a}){let r;let s=(0,l.useFragment)(L,e),o=(0,g.Z)({type:"graphqlRef",data:s}),d=!!s.storyPinDataId,c=!!s.videos?.videoList,{isUnsafe:u}=s;(r=s.nativeCreator?s.nativeCreator:s.linkDomain?s.linkDomain.officialUser:s.originPinner||s.pinner)||(r=s.linkDomain?.officialUser??s.pinner);let{storyPinDataId:p}=s,_=s.richSummary?.displayName??"",y=s.richMetadata?.title??"",f=s.richMetadata?.description??"",b=s.storyPinData?.metadata?.pinTitle,v=s.pinJoin?.visualAnnotation||void 0,x=s.category||"",k=(0,h.Ly)({pinTitle:s.title,gridTitle:s.gridTitle,richSummaryDisplayName:_,richMetadataTitle:y,storyPinDataId:p,storyPinDataMetadataPinTitle:b,pinJoinVisualAnnotation:v}),P=(0,m.Z)({storyPinDataId:p,pinDescription:s.description,richMetadataDescription:f,richSummaryDisplayName:_,closeupDescription:s.closeupDescription,closeupUnifiedDescription:s.closeupUnifiedDescription});return(0,j.jsx)(B,{...a,embedSrc:s.embed&&s.embed.src,embedType:s.embed&&s.embed.type,imagesUrls:o,onSendButtonClick:i,pinCategory:x,pinDescription:P,pinEligibleForDownload:!!(!d&&!c&&!u&&i),pinId:t,pinJoinSeoBreadcrumbName:s.pinJoin?.seoBreadcrumbs&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:s.pinJoin?.seoBreadcrumbs&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].url:null),pinJoinVisualAnnotation:s.pinJoin?.visualAnnotation,pinTitle:k,sourceUserFullname:r?.fullName,sourceUserUsername:r?.username})}function K({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,onSendButtonClick:i,...a}){let l=(0,C.S6)()(t),r=(0,g.Z)(null!=l?{type:"deprecated",data:l}:null),s=l?.story_pin_data_id,o=l?.videos,d=!!s,c=!!o?.video_list,u=l?.title,p=l?.description,_=l?.grid_title,y=l?.rich_metadata?.title??"",f=l?.category,b=l?.rich_metadata?.description??"",v=l?.rich_summary?.display_name??"",x=l?.closeup_description,k=l?.closeup_unified_description,P=l?.story_pin_data?.metadata?.pin_title,S=l?.pin_join?.visual_annotation,w=l?.is_unsafe,{link_domain:T,native_creator:A,origin_pinner:E,pinner:R}=l||{},L=(0,I.wS)(T,A,E,R);L||(L=l?.link_domain?.official_user??l?.pinner);let{full_name:F,username:D}=L??{},O=(0,h.Ly)({pinTitle:u,gridTitle:_,richSummaryDisplayName:v,richMetadataTitle:y,storyPinDataId:s,storyPinDataMetadataPinTitle:P,pinJoinVisualAnnotation:S}),z=(0,m.Z)({storyPinDataId:s,pinDescription:p,richMetadataDescription:b,richSummaryDisplayName:v,closeupDescription:x,closeupUnifiedDescription:k});return(0,j.jsx)(B,{...a,embedSrc:l?.embed?.src,embedType:l?.embed?.type,imagesUrls:r,onSendButtonClick:i,pinCategory:f,pinDescription:z,pinEligibleForDownload:!!(!d&&!c&&!w&&i),pinId:t,pinJoinSeoBreadcrumbName:l?.pin_join?.seo_breadcrumbs&&(l.pin_join.seo_breadcrumbs.length>0?l.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:l?.pin_join?.seo_breadcrumbs&&(l.pin_join.seo_breadcrumbs.length>0?l.pin_join.seo_breadcrumbs[0].url:null),pinJoinVisualAnnotation:l?.pin_join?.visual_annotation,pinTitle:O,sourceUserFullname:F,sourceUserUsername:D})}function V(e){return e.graphqlRef?(0,j.jsx)(U,{...e,graphqlRef:e.graphqlRef}):(0,j.jsx)(K,{...e})}},333965:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(883119);let a=new i.Ry(9999),l=a},662175:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var i,a,l=n(667294),r=n(167912),s=n(616550),o=n(88346),d=n(883119),c=n(214877),u=n(119936),p=n(454514),m=n(140017),h=n(391884),g=n(180593),_=n(567344),y=n(340523),f=n(5859),b=n(980803),v=n(447479),x=n(93810),k=n(48481),P=n(217058),S=n(13848),w=n(494125),T=n(177917),I=n(339001),A=n(623409),E=n(90647),C=n(773616),j=n(785893);function R({type:e,onTap:t,location:n,l1InterestName:i,interestTag:a,sourceUserUsername:l,pinId:r}){let s=(0,m.ZP)(),o=(0,C.Z)(),c=(0,A.Z)();return"app-install"===e&&o?(0,j.jsx)(E.Z,{app_upsell_type:"mweb-context-menu",componentType:18,children:({handleOpenApp:t})=>(0,j.jsx)(d.iP,{onTap:()=>{(0,P.My)(`context.menu.tap.${n}.${e}`),r?(t({deepLinkUri:`/pin/${r}/`}),(0,P.My)("mweb.context_menu.open_in_app.pin")):(t({deepLinkUri:"/"}),(0,P.My)("mweb.context_menu.open_in_app.homepage")),(0,P.My)("mweb.context_menu.open_in_app")},children:(0,j.jsx)(d.xu,{"data-test-id":"more-options-open-app",marginBottom:4,children:(0,j.jsx)(d.xv,{size:"300",weight:"bold",children:s._('Open in app', 'mweb.context_menu.link.open_in_app', 'Link to open Pinterest app')})})})}):(0,j.jsx)(d.iP,{onTap:({event:n})=>{c({action:"click",item:"dsa"===e?"more-options-dsa-reporting":"save"===e?"more-options-save-image":"saveonly"===e?"more-options-save-pin":"new-tab"===e?"more-options-open-in-new-tab":"more-ideas"===e?"more-options-see-more-ideas":"more-from-creator"===e?"more-options-see-more-from-creator":"more-options-login-signup",within:"context-menu"}),t&&t("save"===e||"saveonly"===e?n:void 0)},children:(0,j.jsx)(d.xu,{"data-test-id":`more-options-${e}`,marginBottom:4,children:(0,j.jsx)(d.xv,{size:"300",weight:"bold",children:(()=>{switch(e){case"save":return s._('Save image', 'mweb.context_menu.link.save_image', 'Link to save the image');case"new-tab":return s._('Open link in new tab', 'mweb.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab');case"more-ideas":return i?(0,I.nk)(s._('See more ideas about {{l1InterestName}}', 'unauth.mweb.context_menu.link.see_more_ideas.l1', 'Link to see similar pins, l1InterestName: name of the top level pin category'),{l1InterestName:i}):(0,I.nk)(s._('See more ideas about {{interestTag}}', 'unauth.mweb.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins, interestTag: name of the interest type of pin'),{interestTag:a});case"more-from-creator":return(0,I.nk)(s._('See more from {{sourceUserUsername}}', 'unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator, sourceUserUsername: the user name of the pin creator'),{sourceUserUsername:l});case"login-signup":return s._('Log in or sign up for more', 'unauth.mweb.context_menu.link.login_signup', 'Link to log in or sign up');case"saveonly":return s._('Save', 'mweb.context_menu.link.saveonly', 'Link to save the pin');case"download":return s._('Download image', 'Button to download Pin image', 'Button to download Pin image');case"dsa":return s._('Report Pin for EU local law violation', 'unauth.context_menu.link.report_pin_dsa', 'Button to report Pin for EU local law violation');default:return null}})()})})})}var L=n(94521),F=n(546689),D=n(911049),O=n(718738),z=n(19447),M=n(572895);let N={"main-pin-long-press":"main_pin_longtouch","main-pin-overflow":"action_bar_ellipsis","main-pin-more-information":"main_pin_ellipsis","related-pins-long-press":"related_pin_longtouch","non-main-pin-more-information":"related_pin_ellipsis"},Z=["main-pin-long-press","main-pin-overflow","main-pin-more-information"],B=()=>{},U=void 0!==i?i:i=n(958636),K=e=>({invite_category:3,invite_channel:12,object_type:1,object_id:e}),V=({pinId:e,variant:t,onSendButtonClick:n,dismissPriorToast:i})=>{let a=(0,m.ZP)(),{logContextEvent:r}=(0,c.v)(),[s,o]=(0,l.useState)(null),[u,p]=(0,l.useState)(!1),{logShareInvite:h,createShareInviteData:g}=(0,x.Z)(),_=()=>{null===s||u||(p(!0),h(K(e),s))},y=()=>{r({event_type:101,component:14162,element:72,object_id_str:e})};return(0,w.Z)(()=>{let t=async()=>{let t=await g({invite_category:3,invite_channel:12,object_type:"pin",object_id:e,path:""});o(t)};t()}),"copy_link"===t?(0,j.jsxs)(d.xu,{"data-test-id":"post-download-copy-link",children:[a._('Image downloaded to your device. ', 'context_menu.pin_downloaded.toastText', 'toast message to confirm when users downloaded a pin image'),(0,j.jsx)(T.Z,{asLink:!0,buttonSize:"sm",hideInput:!0,linkURL:s?.invite_url||"",onCopyText:a._('Copied link to your clipboard to share', 'context_menu.pin_downloaded.copy_link_button_activate', 'notify the user that the link is now copied to their clipboard'),onDidClickCopyButton:()=>{_(),y()},onDidFocus:_,oneToast:!0,toastDuration:5e3})]}):(0,j.jsxs)(d.xu,{"data-test-id":"post-download-share-pin",children:[a._('Image downloaded to your device. ', 'context_menu.pin_downloaded.toastText', 'toast message to confirm when users downloaded a pin image'),(0,j.jsx)(d.rU,{accessibilityLabel:a._('Share Pin', 'context_menu.pin_downloaded.share_pin_button', 'toast message that shows share pin sharesheet invite CTA'),display:"inline",href:"",onClick:({event:e})=>{i(),n(e),y()},children:a._('Share Pin', 'context_menu.pin_downloaded.share_pin_button', 'toast message that shows share pin sharesheet invite CTA')})]})};function H({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataArticle:i,hasRichMetadataProducts:a,hasRichMetadataRecipe:l,interestTag:r,imagesUrls:o,isStoryPin:g,l1InterestName:_,location:x,onDismiss:T,pinId:I,nodeId:A,pinCategory:E,pinDescription:C,pinJoinSeoBreadcrumbUrl:z,pinTitle:Z,sourceUserUsername:U,vaseSection:K,pinEligibleForDownload:H,onSendButtonClick:G,seoBreadcrumbs:$}){let W=(0,m.ZP)(),{countryFromIp:q,isBot:Y,isSocialBot:X,isAuthenticated:J}=(0,f.B)(),Q=(0,s.k6)(),ee=(0,k.Z)(),et=(0,b.Z)(r),en=`/search/pins/?q=${encodeURIComponent(et)}&rs=${v.i.IMAGE_ONLY_ATTRIBUTION}`,ei=N[x],ea="click_context_menu_"+ei,{COUNTRY_CODES:el}=O.LAW_CONFIGURATION.dsa,er=el.includes(q),{checkExperiment:es}=(0,y.F)(),{showOneToast:eo}=(0,S.F9)(),ed="main-pin-more-information"===x||"main-pin-overflow"===x,ec=!J&&ed&&es("unauth_mweb_more_prominent_search").group.includes("bar"),eu=(0,M.Z)({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:a,hasRichMetadataArticle:i,hasRichMetadataRecipe:l,imagesUrls:o,isFromUnauthContextMenu:!0,isStoryPin:g,pinId:I,nodeId:A,attributionLabel:ea+"_save_button"}),ep=H?["save","download","app-install","new-tab"]:["save","app-install","new-tab"];er&&ep.push("dsa");let em=(0,h.Z)({imagesUrls:o,embedSrc:e,embedType:t,excludeOriginals:!Y&&!X}),{logContextEvent:eh}=(0,c.v)(),{unauthUserStateDispatch:eg}=(0,F.Rh)(),e_={save:e=>{e&&(e.stopPropagation(),eu(e),T())},saveonly:e=>{e&&(e.stopPropagation(),eu(e),T())},"new-tab":()=>{window.open(`/pin/${I}/`),T()},"more-ideas":_||r?()=>{Q.push(z?`${z}`:en),T()}:void 0,"more-from-creator":()=>{Q.push(`/${U}/`),T()},"login-signup":()=>{ee({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_"+ei+"_signup_or_login_button"}),T()},download:H?()=>{let{expName:e,expGroup:t,limitReached:n,oldCount:i,newCount:a}=(0,L.H)(es,"mweb_download_in_context_menus_v3");if((0,P.My)("mweb.unauth.context_menu.download_image",{attributionLabelSource:ea,expName:e,expGroup:t,limitReached:n,oldCount:i,newCount:a}),n){T(),ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${ea}_download_button`,mobileOptions:{headingType:"download_limit_reached"}});return}(0,L.Z)({filename:Z||C||I,imgSrc:em||"",category:E,pinId:I,isUnauth:!0,platform:"mweb",expName:e,expGroup:t,imageDownloadSuccessCallback:()=>eg({type:"UPDATE"})},eh);let l=t.includes("copy_link"),r=l?"copy_link":"sharesheet";eo(({hideToast:e})=>(0,j.jsx)(p.ZP,{duration:5e3,onHide:e,text:(0,j.jsx)(d.xv,{color:"inverse",children:(0,j.jsx)(V,{dismissPriorToast:e,onSendButtonClick:G??B,pinId:I,variant:r})}),thumbnail:{image:(0,j.jsx)(d.Ee,{alt:W._('Image of downloaded Pin', 'context_menu.pin_downloaded.altImageText', 'Alt text for image shown when downloading pin'),fit:"cover",naturalHeight:32,naturalWidth:32,src:em})}})),T()}:B,"app-install":()=>{},dsa:()=>{(0,P.My)("mweb.unauth.context_menu.dsa"),window.open(`https://www.pinterest.com/about/dsa/?pinId=${I}`,"_blank")}};return(0,w.Z)(()=>{(0,P.My)(`open.context_menu_modal.${x}`)}),(0,j.jsxs)(u.default,{accessibilityModalLabel:W._('Close', 'Close modal window', 'Close modal window'),isOpen:!0,mobileAccessibilityCloseIconLabel:W._('Close', 'context_modal.menu.close', 'Close modal window'),onDismiss:()=>{(0,P.My)(`dismiss.context_menu.modal.${x}`),T()},children:[ec&&(0,j.jsx)(d.xu,{marginBottom:-1,marginStart:3,marginTop:-3,children:(0,j.jsx)(D.Z,{breadcrumbs:$||[],disableOverflowGradient:!0,shouldHideLazyExploreButton:!1,shouldLeftAlign:!0})}),!!K&&(0,j.jsxs)(d.xu,{children:[(0,j.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:20,paddingRight:20,paddingBottom:20,paddingTop:8}},children:K}),(0,j.jsx)(d.xu,{marginBottom:5,paddingX:5,children:(0,j.jsx)(d.iz,{})})]}),(0,j.jsxs)(d.xu,{"data-test-id":"mobile-context-menu",marginBottom:6,marginStart:5,children:[(0,j.jsx)(d.xu,{marginBottom:4,children:(0,j.jsx)(d.xv,{size:"200",children:W._('More options', 'header.context_menu.modal', 'Header for the options on context menu modal')})}),ep.map(e=>e_[e]?(0,j.jsx)(R,{interestTag:r,l1InterestName:_,location:x,onTap:e_[e],pinId:I,sourceUserUsername:U,type:e},e):null)]})]})}function G({onDismiss:e,location:t,pinId:n,vaseSection:i,onSendButtonClick:a}){let l;let r=(0,z.S6)()(n),s=r?.story_pin_data_id,o=!!s,d=!!r?.videos?.video_list,c=r?.is_unsafe,u=!!(!o&&!d&&!c&&a&&Z.includes(t)),p=r?.title,m=r?.description,h=r?.grid_title,y=r?.rich_metadata?.title??"",f=r?.rich_metadata?.description??"",b=r?.rich_summary?.display_name??"",v=r?.closeup_description,x=r?.closeup_unified_description,k=r?.story_pin_data?.metadata?.pin_title,P=r?.pin_join?.visual_annotation,S=r?.pin_join?.seo_breadcrumbs&&(r.pin_join.seo_breadcrumbs.length>0?r.pin_join.seo_breadcrumbs[0].name:"")||"",w=r?.pin_join?.visual_annotation?.[0]??"";(l=r?.native_creator?r.native_creator:r?.link_domain?r.link_domain.official_user:r?.origin_pinner||r?.pinner)&&"string"!=typeof l||(l=r?.link_domain?.official_user??r?.pinner);let T=l?.username||"",I=r?.pin_join?.seo_breadcrumbs&&(r.pin_join.seo_breadcrumbs.length>0?r.pin_join.seo_breadcrumbs[0].url:"")||"",A=(0,_.Ly)({pinTitle:p,gridTitle:h,richSummaryDisplayName:b,richMetadataTitle:y,storyPinDataId:s,storyPinDataMetadataPinTitle:k,pinJoinVisualAnnotation:P})||"",E=(0,g.Z)({storyPinDataId:s,pinDescription:m,richMetadataDescription:f,richSummaryDisplayName:b,closeupDescription:v,closeupUnifiedDescription:x});return(0,j.jsx)(H,{embedSrc:r?.embed?.src,embedType:r?.embed?.type,hasRichMetadata:!!r?.rich_metadata,hasRichMetadataArticle:!!r?.rich_metadata?.article,hasRichMetadataProducts:!!r?.rich_metadata?.products,hasRichMetadataRecipe:!!r?.rich_metadata?.recipe,imagesUrls:r?.images?Object.keys(r.images).reduce((e,t)=>t&&r.images?.[t]?.url?{...e,[t]:r.images[t].url}:e,{}):void 0,interestTag:w,isStoryPin:o,l1InterestName:S,location:t,nodeId:r?.node_id,onDismiss:e,onSendButtonClick:a,pinCategory:r?.category,pinDescription:E,pinEligibleForDownload:u,pinId:n,pinJoinSeoBreadcrumbUrl:I,pinTitle:A,seoBreadcrumbs:r?.pin_join?.seo_breadcrumbs||[],sourceUserUsername:T,vaseSection:i})}function $({graphqlRef:e,onDismiss:t,location:n,pinId:i,vaseSection:a,onSendButtonClick:l}){let s;let o=(0,r.useFragment)(U,e),d=!!o.storyPinDataId,c=!!o.videos?.videoList,{isUnsafe:u}=o,p=!d&&!c&&!u&&Z.includes(n),{title:m}=o,{description:h}=o,{gridTitle:y}=o,f=o.richSummary?.displayName??"",b=o.richMetadata?.title??"",v=o.richMetadata?.description??"",{storyPinDataId:x}=o,k=o.storyPinData?.metadata?.pinTitle,P=o.pinJoin?.visualAnnotation||void 0,{closeupDescription:S}=o,{closeupUnifiedDescription:w}=o,T=o.pinJoin?.seoBreadcrumbs&&(o.pinJoin.seoBreadcrumbs.length>0?o.pinJoin.seoBreadcrumbs[0].name:"")||"",I=o.pinJoin?.visualAnnotation?.[0]??"";(s=o.nativeCreator?o.nativeCreator:o.linkDomain?o.linkDomain.officialUser:o.originPinner||o.pinner)&&"string"!=typeof s||(s=o.linkDomain?.officialUser??o.pinner);let A=s?.username||"",E=o.pinJoin?.seoBreadcrumbs&&(o.pinJoin.seoBreadcrumbs.length>0?o.pinJoin.seoBreadcrumbs[0].url:"")||"",C=o.category||"",R={"236x":o.imageSpec_236,"474x":o.imageSpec_474,"736x":o.imageSpec_736},L=(0,_.Ly)({pinTitle:m,gridTitle:y,richSummaryDisplayName:f,richMetadataTitle:b,storyPinDataId:x,storyPinDataMetadataPinTitle:k,pinJoinVisualAnnotation:P})||"",F=(0,g.Z)({storyPinDataId:x,pinDescription:h,richMetadataDescription:v,richSummaryDisplayName:f,closeupDescription:S,closeupUnifiedDescription:w}),D=(o.pinJoin?.seoBreadcrumbs||[]).reduce((e,t)=>(t.name&&t.url&&(e=[...e,{name:t.name,url:t.url}]),e),[]);return(0,j.jsx)(H,{embedSrc:o.embed?.src,embedType:o.embed?.type,hasRichMetadata:!!o.richMetadata,hasRichMetadataArticle:!!o.richMetadata?.article,hasRichMetadataProducts:!!o.richMetadata?.products,hasRichMetadataRecipe:!!o.richMetadata?.recipe,imagesUrls:Object.keys(R).reduce((e,t)=>t&&R[t]?.url?{...e,[t]:R[t].url}:e,{}),interestTag:I,isStoryPin:d,l1InterestName:T,location:n,nodeId:o.__id,onDismiss:t,onSendButtonClick:l,pinCategory:C,pinDescription:F,pinEligibleForDownload:p,pinId:i,pinJoinSeoBreadcrumbUrl:E,pinTitle:L,seoBreadcrumbs:D,sourceUserUsername:A,vaseSection:a})}function W({graphqlRef:e,...t}){return e?(0,j.jsx)($,{graphqlRef:e,...t}):(0,j.jsx)(G,{...t})}let q=void 0!==a?a:a=n(237915);function Y({graphqlRef:e,children:t,onSendButtonClick:n}){let i=(0,r.useFragment)(q,e),[a,d]=(0,l.useState)(null),[c,u]=(0,l.useState)(""),[p,m]=(0,l.useState)(""),{pathname:h}=(0,s.TH)(),g=!!a,_=(0,l.useMemo)(()=>({modal:{isShown:g},showUnauthContextMenu:({location:e,pinId:t,vaseSection:n})=>{d({vaseSection:n}),u(t),m(e)},dismissMobileUnauthContextMenu:()=>d(null)}),[g]);return(0,l.useEffect)(()=>{d(null)},[h]),(0,j.jsxs)(o.M,{value:_,children:[t,a&&(0,j.jsx)(W,{graphqlRef:i,location:p||"default",onDismiss:_.dismissMobileUnauthContextMenu,onSendButtonClick:n,pinId:c,vaseSection:a.vaseSection})]})}},825784:(e,t,n)=>{"use strict";n.d(t,{X:()=>c,f:()=>d});var i=n(667294),a=n(342513),l=n(558273);function r(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var s=n(785893);let{Provider:o,useHook:d}=(0,a.Z)("ReportData");function c({children:e}){let[t,n]=(0,i.useReducer)(r,null),a=(0,i.useCallback)(()=>n({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,i.useCallback)((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:i,nodeId:null}}),[]),c=(0,i.useCallback)((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation",nodeId:null}}),[]),u=(0,i.useCallback)(({id:e,viewParameter:t,viewType:i,nodeId:a})=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin",nodeId:a}}),[]),p=(0,i.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:i,firstVideoDuration:a,isProduct:r,viewParameter:s,viewType:o,isThirdPartyAd:d,nodeId:c})=>{let u=(0,l.jL)(t,i);n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:r,isPromoted:u,videoDuration:a,viewParameter:s,viewType:o,type:"pin",isThirdPartyAd:d,nodeId:c}})},[]),m=(0,i.useMemo)(()=>({reportData:t,dismiss:a,reportComment:d,reportConversation:c,reportImage:u,reportPin:p}),[t,a,d,c,u,p]);return(0,s.jsx)(o,{value:m,children:e})}},115526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i,a=n(667294),l=n(167912);let r=void 0!==i?i:i=n(566976),s=e=>{let t=(0,l.useFragment)(r,e),n=t?.pinJoin?.annotationsWithLinksArray,i=(0,a.useMemo)(()=>n?.reduce((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e,{}),[n]);return i}},223996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i,a=n(667294),l=n(167912);let r=void 0!==i?i:i=n(95840),s=e=>{let t=(0,l.useFragment)(r,e),n=t?.reactionCountsData,i=(0,a.useMemo)(()=>n?n.reduce((e,t)=>({...e,[String(t.reactionType??0)]:t.reactionCount??0}),{}):n,[n]);return i}},644701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i,a=n(702664);n(167912);var l=n(883119),r=n(587703),s=n(207012),o=n(140017),d=n(48481),c=n(217058),u=n(623409),p=n(149722),m=n(109615),h=n(213503),g=n(70982),_=n(386129),y=n(72461),f=n(339001),b=n(5859),v=n(785893);let x=({followerCount:e})=>{let t=(0,o.ZP)(),n=(0,y.Z)(),{locale:i}=(0,b.B)();return(0,v.jsx)(l.xv,{children:(0,f.nk)(t.ngettext('{{followers}} follower', '{{followers}} followers', e, 'pinPage.attribution.followersCount', 'Count of a user\'s followers'),{followers:n(i,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})},k=void 0!==i?i:i=n(12963);function P(e){let t=(0,p.Z)(),n=t.isAuth&&t.id,i=t.isAuth,y=(0,o.ZP)(),f=(0,d.Z)(),b=(0,r.Z)(),P=(0,u.Z)(),S=(0,a.useDispatch)(),w=e=>S((0,g.ZN)(e)),T=e=>S((0,g.fv)(e)),I=e=>S((0,_.h2)(e,b)),{avatarSize:A,detailText:E,hideButtons:C,blockedByMe:j,explicitlyFollowedByMe:R,followerCount:L,fullName:F,id:D,imageLargeUrl:O,imageMediumUrl:z,imageSmallUrl:M,isEligibleForPdp:N,isVerifiedMerchant:Z,verifiedIdentityVerified:B,username:U,isCurrentUser:K,isOnCloseup:V,isImagePinForUnauthOnTablet:H,pinId:G,pinKey:$,shouldNavigateToProfile:W=!0,textColor:q,type:Y,viewParameter:X,viewType:J,unauthFollow:Q,activateLexFollowExp:ee,clientTrackingParams:et}=e,en=(0,s.Z)(k,$),ei=(G&&G.length,()=>{i?(w(D),b({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:K,viewObjectId:G,viewObjectIdStr:G},object_id_str:D,clientTrackingParams:et})):f({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})}),ea=()=>{T(D),b({event_type:46,view_type:3,view_parameter:156,object_id_str:D,clientTrackingParams:et})},el=()=>(0,v.jsx)(h.Z,{clientTrackingParams:et,disableLog:!0,followEventType:45,id:D,isFollowed:R||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:n===D,onFollow:()=>V?ei():w(D),onUnfollow:()=>V?ea():T(D),pinKey:en,size:"md",unfollowEventType:46,viewParameter:X,viewType:J}),er=()=>{if(j)return(0,v.jsx)(l.zx,{color:"gray",fullWidth:!0,onClick:()=>I(D),size:"md",text:y._('Unblock', ' - ', ' -- ')});if(i)return el();if(ee){if(!ee().group.includes("hide_follow")&&Q)return el()}else if(Q)return el();return null},es=e=>(0,v.jsx)(l.xu,{"data-test-id":"avatar-image",children:(0,v.jsx)(l.HE,{accessibilityLabel:y._('User`s avatar', 'User`s avatar', 'User`s avatar'),collaborators:[{name:F??"",src:O||z||M||void 0}],onClick:()=>{P({action:"click",item:"avatar-image"})},size:(e||{}).size})}),eo=H?"calc(100% - 48px)":void 0,ed=Z||B,ec=(0,v.jsxs)(l.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,v.jsx)(l.xu,{flex:"none",marginEnd:2,children:es({size:A||"md"})}),(0,v.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxWidth:eo,children:[(0,v.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[!i&&N&&!ed&&(0,v.jsx)(l.xu,{marginEnd:1,children:(0,v.jsx)(l.xv,{children:y._('Saved by', 'Context on user rep', 'userRep.saveContext')})}),(0,v.jsx)(l.xu,{"data-test-id":"username",children:(0,v.jsx)(l.iP,{onTap:()=>{P({action:"click",item:"username"})},children:(0,v.jsx)(l.xv,{color:q||"default",lineClamp:H?1:void 0,weight:"bold",children:F})})}),ed&&(0,v.jsx)(l.xu,{marginStart:1,paddingY:1,children:(0,v.jsx)(m.Z,{showVerifiedIdentity:!Z,size:"sm"})})]}),(0,v.jsx)(l.xv,{color:q||"default",lineClamp:H?1:void 0,children:E}),!!L&&(0,v.jsx)(l.xu,{"data-test-id":"user-follower-count",children:(0,v.jsx)(l.iP,{onTap:()=>{P({action:"click",item:"user-follower-count"})},children:(0,v.jsx)(x,{followerCount:L})})})]})]}),eu="row"===Y?(0,v.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[ec,!C&&(0,v.jsx)(l.xu,{flex:"none",marginStart:2,children:er()})]}):(0,v.jsxs)(l.xu,{maxWidth:eo,padding:2,children:[es(),(0,v.jsxs)(l.xu,{display:"flex",paddingY:2,children:[(0,v.jsx)(l.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:F}),ed&&(0,v.jsx)(l.xu,{marginStart:1,paddingY:1,children:(0,v.jsx)(m.Z,{showVerifiedIdentity:!Z,size:"sm"})})]}),!C&&er()]}),ep=(0,v.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},display:"flex",justifyContent:"between",overflow:"hidden",children:[(0,v.jsx)(l.Tg,{href:`/${encodeURIComponent(U)}/`,onTap:()=>{i||((0,c.NC)("click_pin_closeup_profile"),P({action:"click",item:"user-rep"}))},rounding:2,tapStyle:"compress",children:ec}),!C&&(0,v.jsx)(l.xu,{flex:"none",marginStart:2,children:er()})]});return(0,v.jsx)(l.xu,{"data-test-id":"user-rep",width:"100%",children:W?ep:eu})}},628189:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>P});var i=n(667294),a=n(883119),l=n(214877),r=n(920434),s=n(541841),o=n(340523),d=n(537513),c=n(181056),u=n(131348),p=n(785893);function m(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],_="-64px 0px 0px 0px",y={rootMargin:_,threshold:g},f={rootMargin:_,threshold:[...c.iM]},b=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function v(){return new Date().getTime()}function x(e){return!!e.volume&&e.volume>0}class k extends i.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,i.createRef)()),m(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),m(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),m(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),m(this,"handleLoop",()=>{this.videoTime=0}),m(this,"handlePlaying",e=>{this.logVideoStart(),this.props.onPlaying&&this.props.onPlaying(e)}),m(this,"handleTimeChange",e=>{let{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;let i=1e3*e.time,a=function(e,t,n,i){if(e>t||n<=0)return null;for(let a of i){let i=a*n;if(e<=i&&t>i)return a}return null}(this.videoTime,i,this.currentInterval.videoDuration,h);if("number"==typeof a&&this.props.playing&&!t&&n){let e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)}),m(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),m(this,"handleReady",e=>{let{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),m(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),m(this,"handleVisibilityChange",e=>{if(0===e.length)return;let t=e.slice(-1)[0],n=function(e,t){for(let n=0;n<t.length;n+=1){let i=t[n],a=t[n+1];if(null==a||i<=e&&e<a)return i}return null}(Number.parseFloat(t.intersectionRatio.toFixed(2)),g);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:b.PAUSED}):this.startNewInterval({viewability:n}))}),m(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){let{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),m(this,"handleClose",()=>{this.startNewInterval()}),m(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1,started:!1};let t=v();this.handleWindowResize=(0,r.Z)(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:x(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){let n={};x(e)&&!x(this.props)?n.isAudible=!1:!x(e)&&x(this.props)&&(n.isAudible=!0);let i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?b.PLAYING:b.PAUSED:b.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){let n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){let{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:a,playing:l,surface:r}=this.props,{seeking:s}=this.state,{height:o,width:d,windowHeight:c,windowWidth:u,viewability:p,...m}=t;if(null!=o&&null!=d&&null!=c&&null!=u&&null!=p){let t={...m,gridAutoplay:6904===e&&l&&!s&&("AuthHomefeed"===r||"SearchItem"===r||"RelatedPinGrid"===r||"PdpRelatedPinGrid"===r),height:o,width:d,windowHeight:c,windowWidth:u,viewability:n||p};a({event_type:e,...function(e){let{eventData:{videoEvent:{gridAutoplay:t,videoDuration:n,startTime:i,endTime:a,videoStartTime:l,videoEndTime:r,isAudible:s,height:o,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:m,windowWidth:h,viewability:g}},component:_,objectId:y,view:f,viewParameter:b,...v}=e;return{component:_,object_id_str:y,view_type:f,view_parameter:b,aux_data:{...v},event_data:{videoEventData:{gridAutoplay:t,videoDuration:n,time:i,endTime:a,videoTime:l,endVideoTime:r,isAudible:s,height:o,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:m,windowWidth:h,viewability:g}}}}({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){let e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}logVideoStart(){if(this.props.shouldLogVideoStart&&!this.state.started){let e=v();this.logVideoEvent(3621,{...this.currentInterval,startTime:e,endTime:e,videoEndTime:this.videoTime}),this.setState({started:!0})}}startNewInterval(e){let t=v();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){let{aspectRatio:e,backgroundColor:t,captions:n,contextLogData:i,controls:l,cropHeight:r,hlsConfig:o,inAdsDesktopVideoExperiment:c,isAutoPlay:m,loop:h,objectFit:g,onLoadedChange:_,onControlsPause:b,onControlsPlay:v,onSeek:x,onVolumeChange:k,playbackRate:P,playing:S,playsInline:w,poster:T,preload:I,rootMargin:A,src:E,surface:C,videoStartTime:j,volume:R}=this.props,{seeking:L}=this.state,F=c?f:y;return void 0!==A&&(F.rootMargin=C?(0,d.e)(C):A),(0,p.jsx)(s.Z,{onVisibilityChange:this.handleVisibilityChange,options:F,children:(0,p.jsx)(a.xu,{ref:this.videoWrapperRef,dangerouslySetInlineStyle:{__style:r?{display:"flex",alignItems:"center",height:`${r}px`}:{}},onContextMenu:this.handleContextMenu,children:(0,p.jsx)(u.default,{aspectRatio:r?236/r:e,backgroundColor:t,captions:n,contextLogData:i,controls:l,hlsConfig:o,isAutoPlay:m,loop:h,objectFit:g,onControlsPause:b,onControlsPlay:v,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:_,onLoop:this.handleLoop,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onPlaying:this.handlePlaying,onReady:this.handleReady,onSeek:x,onTimeChange:this.handleTimeChange,onVolumeChange:k,playbackRate:P,playing:!L&&S,playsInline:w,poster:T,preload:I,src:E,videoStartTime:j,visible:this.visible,volume:R})})})}}function P(e){let{logContextEvent:t}=(0,l.v)(),{checkExperiment:n}=(0,o.F)(),i=n("web_video_start_log").anyEnabled;return(0,p.jsx)(k,{...e,logContextEvent:t,shouldLogVideoStart:i})}m(k,"defaultProps",a.nk.defaultProps)},131348:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VideoWrapper:()=>w,default:()=>T,getPlaylistSourceSrc:()=>S});var i=n(667294),a=n(86785),l=n(5859),r=n(214164),s=n(584452),o=n(369708),d=n(239821),c=n(883119),u=n(214877),p=n(406893),m=n(340523),h=n(149722),g=n(813779),_=n(115557),y=n(734950),f=n(785893);function b(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let n=e;return t&&(n=e.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com")),n}if(Array.isArray(e)&&e[0].src){let n=e[0].src;return t&&(n=n.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com")),n}return`unsupported_type_${typeof e}`}class x extends i.Component{constructor(...e){super(...e),b(this,"state",{canPlayVideo:!1,playbackState:_.Cy.DEFAULT,videoStartTime:this.props.seekTime?this.props.seekTime:this.props.videoStartTime||0}),b(this,"errorRetryCount",2),b(this,"hasSegmentStarted",!1),b(this,"hasPlaybackStarted",!1),b(this,"hasVideoSessionStarted",!1),b(this,"hasVideoSessionEnded",!1),b(this,"lastStallTime",null),b(this,"lastPauseTime",null),b(this,"logSessionStartOnNextPlay",!1),b(this,"playerId",""),b(this,"videoSessionId",""),b(this,"videoVisibleTime",null),b(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:v(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),b(this,"componentDidMount",()=>{let{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;(0,g.tE)("videoMounted",!1,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(_.DR,{initiator:"mount"}));let i=this.videoPlayerRef?.video?.textTracks[0];i&&i.addEventListener("cuechange",()=>{let e=i.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})}),b(this,"componentDidUpdate",e=>{let{playing:t,visible:n,appInFocus:i,seekTime:a,captionsEnabled:l}=this.props;a&&a!==e.seekTime&&this.setState({videoStartTime:a});let r=this.videoPlayerRef?.video?.textTracks[0];r&&(l?r.mode="showing":r.mode="disabled"),e.appInFocus&&!i&&(this.logPlaybackPerformance(_.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(_.$f,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(_.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&i&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(_.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}),b(this,"addSegment",()=>{let{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance,a=-1;e&&t&&0===n.length&&(a=e>t?e-t:0);let l=this.videoPlayerRef&&this.videoPlayerRef.video,r={indicatedKbps:-1,duration:l&&l.duration*_.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:i,viewportWidth:l&&l.clientWidth||-1,viewportHeight:l&&l.clientHeight||-1,watchedDurationMs:0};n.push(r)}),b(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*_.gJ:0),b(this,"getVideoResourceTiming",()=>{if(window?.performance?.getEntriesByName&&this.playbackPerformance.srcString){let e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null}),b(this,"handleCanPlayVideo",e=>{let{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:l}=this.state;(0,g.tE)("handleCanPlayVideo",!1,a,{firstCanPlayEvent:!l,playing:i}),this.playbackPerformance.hasFatalError=!1,l||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)}),b(this,"handleEnded",e=>{let{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(_.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:_.Cy.ENDED}),n&&n(e)}),b(this,"handleError",()=>{let{contextLogData:e={}}=this.props,{is_closeup_video:t=!1}=e,n=this.videoPlayerRef&&this.videoPlayerRef.video;n?.error?.code!==_.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${n?.error?.message||""}`,this.playbackPerformance.errorCode=n?.error?.code||0,this.playbackPerformance.errorName=n?.error?.message?.slice(0,100)||"unknown",this.playbackPerformance.errorReason=n?.error?.message?.slice(0,100)||"unknown";let i={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:n?.networkState||"unknown"};switch((0,g.tE)("fatalError",!1,t,i),n?.error?.code){case _.lG.MEDIA_ERR_ABORTED:break;case _.lG.MEDIA_ERR_NETWORK:case _.lG.MEDIA_ERR_DECODE:case _.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(n?.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:_.Cy.FAILED})}),b(this,"handleLoadedMetadata",()=>{this.setState({playbackState:_.Cy.LOADED_METADATA})}),b(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:_.Cy.LOAD_START})}),b(this,"handleLoadedData",()=>{this.setState({playbackState:_.Cy.LOADED_DATA})}),b(this,"handlePlaying",e=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:_.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime(),this.props.onPlaying&&this.props.onPlaying(e)}),b(this,"handleUserPause",({event:e})=>{let{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t({event:e})}),b(this,"handleVideoPause",()=>{this.state.playbackState===_.Cy.STALLING||this.state.playbackState===_.Cy.SEEKING||(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:_.Cy.PAUSED})}),b(this,"handleSeeking",()=>{this.playbackPerformance.numberOfSeeks+=1;let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==_.Cy.ENDED&&this.setState({playbackState:_.Cy.SEEKING})}),b(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==_.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:_.Cy.STALLING}))}),b(this,"handleTimeUpdate",e=>{let{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===_.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),b(this,"resetPlaybackMetrics",()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;let e=this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],t={...e,lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[t]}),b(this,"setLastSegmentStartPlayTime",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),b(this,"setLastSegmentPlaybackStartDate",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),b(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),b(this,"setVideoPlayerRef",e=>{let{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){let e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),b(this,"updateStallDuration",()=>{if(null!==this.lastStallTime){let{lastStallTime:e}=this;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}}),b(this,"updatePauseDuration",()=>{if(null!==this.lastPauseTime){let{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}}),b(this,"updateWatchDurationForCurrentSegment",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){let e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),b(this,"logPlaybackPerformance",(e,t)=>{let{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:l,preload:r}=this.props,{is_closeup_video:s=!1}=n,{canPlayTime:o,detailedErrors:d,errorCode:c,errorName:u,errorReason:p,hasFatalError:m,loadStartTime:h,totalPauseDurationMs:y,totalStallDurationMs:f,numberOfStalls:b,numberOfSeeks:v,playbackStartTimestamp:x,segments:k,srcString:P}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,w=e===_.DR,T=w&&!this.hasVideoSessionStarted,I=!w&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(S&&(T||I)){let T=-1;o&&h&&(T=o>h?o-h:0);let I=-1;o&&this.videoVisibleTime&&(I=o>this.videoVisibleTime?o-this.videoVisibleTime:0),w&&(this.videoSessionId=(0,_.Y7)(i),this.playerId=this.playerId||(0,_.EB)());let A=this.getVideoResourceTiming(),E={averageVideoKbps:-1,autoplaying:a,detailedErrors:d,downloadedKiloBytes:"number"==typeof A?.decodedBodySize&&A.decodedBodySize/_.Fm||0,errorCode:c,errorName:u,errorReason:p,fatalError:m,isCellular:!1,nativeVideoDurationMs:S.duration*_.gJ||-1,numberOfStalls:b,numberOfSeeks:v,overallPausedDurationMs:y,overallBufferDurationMs:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:x||-1,segments:[],sessionMark:e,screenPixelScale:window?.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:T,startupLatencyMs:I,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:P,wasVideoPreloaded:"auto"===r};if(!w){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();let e=k.reduce((e,t)=>e+(t.watchedDurationMs||0),0);E.overallWatchedDurationMs=e,E.startupVariantWatchedDurationMs=e,E.segments=this.playbackPerformance.segments,0===e?(E.errorName="invalid_watch_duration",E.rebufferRate=-1):E.rebufferRate=f/e}(0,g.ZP)(E,!1,s,{playbackState:this.state.playbackState,...t});let{view:C,viewParameter:j,component:R,element:L,objectId:F,...D}=n;l({event_type:3606,event_data:{videoPerformanceData:E},view_type:C,view_parameter:j,component:R,element:L,object_id_str:F,aux_data:{...D,is_closeup_video:s,playback_session_id:this.videoSessionId}}),w?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,g.tE)(w?"sessionStart":"sessionEnd",!1,s,{playbackState:this.state.playbackState,...t})}})}componentWillUnmount(){let{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(_.$f,{initiator:"unmount",loop:e})}render(){let{aspectRatio:e,captions:t,controls:n,loop:a,loopOverride:l,objectFit:r,onDurationChange:s,onFullscreenChange:o,onLoadedChange:d,onControlsPlay:u,onPlayheadDown:m,onPlayheadUp:h,onSeek:g,onVolumeChange:_,playbackRate:b,playing:x,playsInline:k,poster:P,preload:S,src:w,volume:T}=this.props,{canPlayVideo:I,videoStartTime:A}=this.state;return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(p.Z,{unsafeCSS:y.P}),(0,f.jsx)(c.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,autoplay:I&&x,captions:t,controls:n,loop:void 0===l?a:l,objectFit:r,onControlsPause:this.handleUserPause,onControlsPlay:u,onDurationChange:s,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:o,onLoadedChange:d,onLoadStart:this.handleLoadStart,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:m,onPlayheadUp:h,onPlaying:this.handlePlaying,onReady:this.handleCanPlayVideo,onSeek:g,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:_,onWaiting:this.handleStalled,playbackRate:b,playing:I&&x,playsInline:k,poster:P,preload:S,src:v(w,this.props.quicExpGroup),startTime:A||void 0,volume:T})]})}}let k=(0,i.memo)(function(e){let{logContextEvent:t}=(0,u.v)(),{country:n,isAuthenticated:i,isBot:a,isSocialBot:s,unauthId:o,userAgent:c}=(0,l.B)(),{browserName:p,browserVersion:_,isMobile:y}=c,{contextLogData:b={}}=e,{is_closeup_video:v=!1,view:k,viewParameter:P}=b,{appUI:{appInFocus:S}}=(0,d.I)(),{checkExperiment:w}=(0,m.F)(),{clearSeekTime:T}=(0,r.RC)(),I=null;i&&(I=w("web_video_quic").group.length?w("web_video_quic").group:null);let A=(0,h.Z)();return(0,g.r$)({browserName:p,browserVersion:_,country:n,isAuthenticated:i,isBot:a,is_closeup_video:v,isMobile:y,isSocialBot:s,view:k,viewParameter:P}),(0,f.jsx)(x,{...e,appInFocus:S,clearSeekTime:T,logContextEvent:t,quicExpGroup:I,userId:A.id||o})});function P(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let S=e=>{if(Array.isArray(e)){let t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return/m3u8$/.test(e)?e:void 0};class w extends i.PureComponent{constructor(...e){super(...e),P(this,"componentDidUpdate",e=>{e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&this.videoPlayerRef?.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),P(this,"isHslVideo",()=>{let e=S(this.props.src);return!this.props.preferMp4&&!(0,a.G6)(this.props.requestContext.userAgent.browserName)&&!!e}),P(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),P(this,"handleOnEnded",({event:e})=>{let{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))}),P(this,"handlePlaying",e=>{this.props.onPlaying&&this.props.onPlaying(e)})}render(){let{aspectRatio:e,appInFocus:t,backgroundColor:n,captions:i,toggleCaptions:a,clearSeekTime:l,contextLogData:r,controls:o,hlsConfig:d,isAutoPlay:c,loop:u,objectFit:p,onDurationChange:m,onEnded:h,onFullscreenChange:g,onLoadedChange:_,onControlsPause:y,onControlsPlay:b,onPlayheadDown:v,onPlayheadUp:x,onReady:P,onSeek:w,onTimeChange:T,onVolumeChange:I,playbackRate:A,playing:E,playsInline:C,poster:j,preferMp4:R,preload:L,seekTime:F,src:D,videoStartTime:O,visible:z,volume:M}=this.props,N=S(D),Z={...d,startPosition:O||-1},B=!h&&u;return this.isHslVideo()&&N?(0,f.jsx)(s.Z,{appInFocus:t,aspectRatio:e,backgroundColor:n,captions:i,captionsEnabled:a,clearSeekTime:l,contextLogData:r,controls:o,hlsConfig:Z,isAutoPlay:c,loop:u,loopOverride:B,objectFit:p,onControlsPause:y,onControlsPlay:b,onDurationChange:m,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:_,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:v,onPlayheadUp:x,onPlaying:this.handlePlaying,onReady:P,onSeek:w,onTimeChange:T,onVolumeChange:I,playbackRate:A,playing:E,playsInline:C,poster:j,preload:L,seekTime:F,setVideoRef:this.setVideoPlayerRef,src:N,visible:z,volume:M}):(0,f.jsx)(k,{aspectRatio:e,captions:i,captionsEnabled:a,clearSeekTime:l,contextLogData:r,controls:o,isAutoPlay:c,loop:u,loopOverride:B,objectFit:p,onControlsPause:y,onControlsPlay:b,onDurationChange:m,onEnded:this.handleOnEnded,onFullscreenChange:g,onLoadedChange:_,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:v,onPlayheadUp:x,onPlaying:this.handlePlaying,onReady:P,onSeek:w,onTimeChange:T,onVolumeChange:I,playbackRate:A,playing:E,playsInline:C,poster:j,preload:L,seekTime:F,setVideoRef:this.setVideoPlayerRef,src:R?D:N||D,videoStartTime:O,visible:z,volume:M})}}function T(e){let{appUI:{appInFocus:t}}=(0,d.I)(),{seekTime:n}=(0,r.Hx)(),{captionsEnabled:i}=(0,o.r)(),{clearSeekTime:a}=(0,r.RC)(),s=(0,l.B)();return(0,f.jsx)(w,{...e,appInFocus:t,clearSeekTime:a,requestContext:s,seekTime:n,toggleCaptions:i})}},181056:(e,t,n)=>{"use strict";n.d(t,{Ul:()=>l,VS:()=>i,hy:()=>r,iM:()=>a,j4:()=>s});let i=2,a=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],l={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},r=128,s=e=>e&&document.querySelector(`video[poster="${e}"]`)||null},255095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let i={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},a=/[&><\u2028\u2029]/g;var l=n(785893);function r({id:e,isRelayResponseScript:t,testId:n,type:r="application/json",value:s}){let o=JSON.stringify(s).replace(a,e=>i[e]);return(0,l.jsx)("script",{"data-test-id":n,id:e,...t?{"data-relay-response":!0}:{},dangerouslySetInnerHTML:{__html:o},type:r})}},431489:(e,t,n)=>{"use strict";n.d(t,{U:()=>l,Z:()=>r});var i=n(667294);let a=(0,i.createContext)();function l(){return(0,i.useContext)(a)}let r=a},42040:(e,t,n)=>{"use strict";n.d(t,{I:()=>c,Z:()=>u});var i=n(667294),a=n(616550),l=n(473727),r=n(201342),s=n(785893);let o=(0,i.createContext)(null);function d({children:e}){let t=(0,a.TH)(),n=(0,i.useMemo)(()=>t,[]);return(0,s.jsx)(o.Provider,{value:n,children:e})}function c(){let e=(0,a.TH)(),t=(0,i.useContext)(o);return e===t}function u({children:e,initialLocation:t}){return(0,s.jsx)(l.VK,{children:(0,s.jsx)(r.tn,{children:(0,s.jsx)(d,{children:e})})})}},311716:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/commentHelpful-99007872.svg"},600636:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/commentHelpfulOutline-7f59f782.svg"},559113:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/commentLoved-7942dc4f.svg"},133758:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/commentLovedOutline-97205606.svg"},184508:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/goodIdeaAnimated-5de05cb7.svg"},147916:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/goodIdeaGrid-e3e37a7f.svg"},167361:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/goodIdeaStatic-855554b0.svg"},697031:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/hahaAnimated-df9cb2fa.svg"},404247:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/hahaGrid-7945c718.svg"},836866:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/hahaStatic-28ee6e1e.svg"},620668:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/loveAnimated-ccd5b808.svg"},86119:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/loveGrid-1ec7b8e4.svg"},753873:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/loveStatic-31fc2a99.svg"},873774:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/reactionHeartOutline-24ab75a6.svg"},479197:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/reactionHeartOutlineWhite-61cdbdb7.svg"},110099:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/thanksAnimated-6831daf3.svg"},244892:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/thanksGrid-b3cf8b93.svg"},485846:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/thanksStatic-51f19932.svg"},461471:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/wowAnimated-b776449f.svg"},662502:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/wowGrid-9e62e75a.svg"},239784:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/wowStatic-d966adbd.svg"},693967:(e,t)=>{var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=l(t,n));return t}(n)))}return e}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0!==(n=(function(){return a}).apply(t,[]))&&(e.exports=n)}()},204942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(383997);function a(e,t,n){return(t=(0,i.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},601413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(204942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},383997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(671002);function a(e){var t=function(e,t){if("object"!=(0,i.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,i.Z)(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.Z)(t)?t:String(t)}},671002:(e,t,n)=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:()=>i})},116627:(e,t,n)=>{"use strict";let i;n.d(t,{B:()=>ns,C:()=>tY,S:()=>nW,e:()=>eP,g:()=>nO,r:()=>nD,t:()=>ny});var a,l,r=n(785893),s=n(667294),o=n(973935),d=Object.defineProperty,c={};((e,t)=>{for(var n in t)d(e,n,{get:t[n],enumerable:!0})})(c,{assign:()=>V,colors:()=>B,createStringInterpolator:()=>z,skipAnimation:()=>U,to:()=>M,willAdvance:()=>K});var u=I(),p=e=>P(e,u),m=I();p.write=e=>P(e,m);var h=I();p.onStart=e=>P(e,h);var g=I();p.onFrame=e=>P(e,g);var _=I();p.onFinish=e=>P(e,_);var y=[];p.setTimeout=(e,t)=>{let n=p.now()+t,i=()=>{let e=y.findIndex(e=>e.cancel==i);~e&&y.splice(e,1),x-=~e?1:0},a={time:n,handler:e,cancel:i};return y.splice(f(n),0,a),x+=1,S(),a};var f=e=>~(~y.findIndex(t=>t.time>e)||~y.length);p.cancel=e=>{h.delete(e),g.delete(e),_.delete(e),u.delete(e),m.delete(e)},p.sync=e=>{k=!0,p.batchedUpdates(e),k=!1},p.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function i(...e){t=e,p.onStart(n)}return i.handler=e,i.cancel=()=>{h.delete(n),t=null},i};var b="u">typeof window?window.requestAnimationFrame:()=>{};p.use=e=>b=e,p.now="u">typeof performance?()=>performance.now():Date.now,p.batchedUpdates=e=>e(),p.catch=console.error,p.frameLoop="always",p.advance=()=>{"demand"!==p.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):T()};var v=-1,x=0,k=!1;function P(e,t){k?(t.delete(e),e(0)):(t.add(e),S())}function S(){v<0&&(v=0,"demand"!==p.frameLoop&&b(w))}function w(){~v&&(b(w),p.batchedUpdates(T))}function T(){let e=v;v=p.now();let t=f(v);if(t&&(A(y.splice(0,t),e=>e.handler()),x-=t),!x){v=-1;return}h.flush(),u.flush(e?Math.min(64,v-e):16.667),g.flush(),m.flush(),_.flush()}function I(){let e=new Set,t=e;return{add(n){x+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(x-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,x-=t.size,A(t,t=>t(n)&&e.add(t)),x+=e.size,t=e)}}}function A(e,t){e.forEach(e=>{try{t(e)}catch(e){p.catch(e)}})}function E(){}var C=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),j={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function R(e,t){if(j.arr(e)){if(!j.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var L=(e,t)=>e.forEach(t);function F(e,t,n){if(j.arr(e)){for(let i=0;i<e.length;i++)t.call(n,e[i],`${i}`);return}for(let i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var D=e=>j.und(e)?[]:j.arr(e)?e:[e];function O(e,t){if(e.size){let n=Array.from(e);e.clear(),L(n,t)}}var z,M,N=(e,...t)=>O(e,e=>e(...t)),Z=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),B=null,U=!1,K=E,V=e=>{e.to&&(M=e.to),e.now&&(p.now=e.now),void 0!==e.colors&&(B=e.colors),null!=e.skipAnimation&&(U=e.skipAnimation),e.createStringInterpolator&&(z=e.createStringInterpolator),e.requestAnimationFrame&&p.use(e.requestAnimationFrame),e.batchedUpdates&&(p.batchedUpdates=e.batchedUpdates),e.willAdvance&&(K=e.willAdvance),e.frameLoop&&(p.frameLoop=e.frameLoop)},H=new Set,G=[],$=[],W=0,q={get idle(){return!H.size&&!G.length},start(e){W>e.priority?(H.add(e),p.onStart(Y)):(X(e),p(Q))},advance:Q,sort(e){if(W)p.onFrame(()=>q.sort(e));else{let t=G.indexOf(e);~t&&(G.splice(t,1),J(e))}},clear(){G=[],H.clear()}};function Y(){H.forEach(X),H.clear(),p(Q)}function X(e){G.includes(e)||J(e)}function J(e){G.splice(function(e,t){let n=e.findIndex(t);return n<0?e.length:n}(G,t=>t.priority>e.priority),0,e)}function Q(e){let t=$;for(let n=0;n<G.length;n++){let i=G[n];W=i.priority,i.idle||(K(i),i.advance(e),i.idle||t.push(i))}return W=0,($=G).length=0,(G=t).length>0}var ee=(e,t,n)=>Math.min(Math.max(n,e),t),et="[-+]?\\d*\\.?\\d+",en=et+"%";function ei(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var ea=RegExp("rgb"+ei(et,et,et)),el=RegExp("rgba"+ei(et,et,et,et)),er=RegExp("hsl"+ei(et,en,en)),es=RegExp("hsla"+ei(et,en,en,et)),eo=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ed=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ec=/^#([0-9a-fA-F]{6})$/,eu=/^#([0-9a-fA-F]{8})$/;function ep(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function em(e,t,n){let i=n<.5?n*(1+t):n+t-n*t,a=2*n-i,l=ep(a,i,e+1/3),r=ep(a,i,e),s=ep(a,i,e-1/3);return Math.round(255*l)<<24|Math.round(255*r)<<16|Math.round(255*s)<<8}function eh(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function eg(e){return(parseFloat(e)%360+360)%360/360}function e_(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ey(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function ef(e){let t;let n="number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ec.exec(e))?parseInt(t[1]+"ff",16)>>>0:B&&void 0!==B[e]?B[e]:(t=ea.exec(e))?(eh(t[1])<<24|eh(t[2])<<16|eh(t[3])<<8|255)>>>0:(t=el.exec(e))?(eh(t[1])<<24|eh(t[2])<<16|eh(t[3])<<8|e_(t[4]))>>>0:(t=eo.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=eu.exec(e))?parseInt(t[1],16)>>>0:(t=ed.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=er.exec(e))?(255|em(eg(t[1]),ey(t[2]),ey(t[3])))>>>0:(t=es.exec(e))?(em(eg(t[1]),ey(t[2]),ey(t[3]))|e_(t[4]))>>>0:null;if(null===n)return e;n=n||0;let i=(4278190080&n)>>>24,a=(16711680&n)>>>16,l=(65280&n)>>>8,r=(255&n)/255;return`rgba(${i}, ${a}, ${l}, ${r})`}var eb=(e,t,n)=>{if(j.fun(e))return e;if(j.arr(e))return eb({range:e,output:t,extrapolate:n});if(j.str(e.output[0]))return z(e);let i=e.output,a=e.range||[0,1],l=e.extrapolateLeft||e.extrapolate||"extend",r=e.extrapolateRight||e.extrapolate||"extend",s=e.easing||(e=>e);return t=>{let n=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(t,a);return function(e,t,n,i,a,l,r,s,o){let d=o?o(e):e;if(d<t){if("identity"===r)return d;"clamp"===r&&(d=t)}if(d>n){if("identity"===s)return d;"clamp"===s&&(d=n)}return i===a?i:t===n?e<=t?i:a:(t===-1/0?d=-d:n===1/0?d-=t:d=(d-t)/(n-t),d=l(d),i===-1/0?d=-d:a===1/0?d+=i:d=d*(a-i)+i,d)}(t,a[n],a[n+1],i[n],i[n+1],s,l,r,e.map)}},ev=2*Math.PI/3,ex=2*Math.PI/4.5,ek=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,eP={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>2.70158*e*e*e-1.70158*e*e,easeOutBack:e=>1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-2.5949095)/2:(Math.pow(2*e-2,2)*(3.5949095*(2*e-2)+2.5949095)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*ev),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*ev)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*ex))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*ex)/2+1,easeInBounce:e=>1-ek(1-e),easeOutBounce:ek,easeInOutBounce:e=>e<.5?(1-ek(1-2*e))/2:(1+ek(2*e-1))/2,steps:(e,t="end")=>n=>{n="end"===t?Math.min(n,.999):Math.max(n,.001);let i=n*e,a="end"===t?Math.floor(i):Math.ceil(i);return ee(0,1,a/e)}},eS=Symbol.for("FluidValue.get"),ew=Symbol.for("FluidValue.observers"),eT=e=>!!(e&&e[eS]),eI=e=>e&&e[eS]?e[eS]():e,eA=e=>e[ew]||null;function eE(e,t){let n=e[ew];n&&n.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}var eC=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");ej(this,e)}},ej=(e,t)=>eD(e,eS,t);function eR(e,t){if(e[eS]){let n=e[ew];n||eD(e,ew,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function eL(e,t){let n=e[ew];if(n&&n.has(t)){let i=n.size-1;i?n.delete(t):e[ew]=null,e.observerRemoved&&e.observerRemoved(i,t)}}var eF,eD=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),eO=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ez=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,eM=RegExp(`(${eO.source})(%|[a-z]+)`,"i"),eN=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eZ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,eB=e=>{let[t,n]=eU(e);if(!t||Z())return e;let i=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(i)return i.trim();if(n&&n.startsWith("--")){let t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&eZ.test(n)?eB(n):n||e},eU=e=>{let t=eZ.exec(e);if(!t)return[,];let[,n,i]=t;return[n,i]},eK=(e,t,n,i,a)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(i)}, ${a})`,eV=e=>{eF||(eF=B?RegExp(`(${Object.keys(B).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>eI(e).replace(eZ,eB).replace(ez,ef).replace(eF,ef)),n=t.map(e=>e.match(eO).map(Number)),i=n[0].map((e,t)=>n.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>eb({...e,output:t}));return e=>{var n;let a=!eM.test(t[0])&&(null==(n=t.find(e=>eM.test(e)))?void 0:n.replace(eO,"")),l=0;return t[0].replace(eO,()=>`${i[l++](e)}${a||""}`).replace(eN,eK)}},eH="react-spring: ",eG=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${eH}once requires a function parameter`);return(...n)=>{t||(e(...n),t=!0)}},e$=eG(console.warn);function eW(e){return j.str(e)&&("#"==e[0]||/\d/.test(e)||!Z()&&eZ.test(e)||e in(B||{}))}eG(console.warn);var eq=Z()?s.useEffect:s.useLayoutEffect,eY=()=>{let e=(0,s.useRef)(!1);return eq(()=>(e.current=!0,()=>{e.current=!1}),[]),e},eX=e=>(0,s.useEffect)(e,eJ),eJ=[],eQ=Symbol.for("Animated:node"),e0=e=>!!e&&e[eQ]===e,e1=e=>e&&e[eQ],e2=(e,t)=>C(e,eQ,t),e3=e=>e&&e[eQ]&&e[eQ].getPayload(),e6=class{constructor(){e2(this,this)}getPayload(){return this.payload||[]}},e4=class extends e6{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,j.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new e4(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return j.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,j.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},e5=class extends e4{constructor(e){super(0),this._string=null,this._toString=eb({output:[e,e]})}static create(e){return new e5(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(j.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=eb({output:[this.getValue(),e]})),this._value=0,super.reset()}},e8={dependencies:null},e7=class extends e6{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return F(this.source,(n,i)=>{e0(n)?t[i]=n.getValue(e):eT(n)?t[i]=eI(n):e||(t[i]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&L(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return F(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){e8.dependencies&&eT(e)&&e8.dependencies.add(e);let t=e3(e);t&&L(t,e=>this.add(e))}},e9=class extends e7{constructor(e){super(e)}static create(e){return new e9(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,n)=>t.setValue(e[n])).some(Boolean):(super.setValue(e.map(te)),!0)}};function te(e){return(eW(e)?e5:e4).create(e)}function tt(e){let t=e1(e);return t?t.constructor:j.arr(e)?e9:eW(e)?e5:e4}var tn=(e,t)=>{let n=!j.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,s.forwardRef)((i,a)=>{let l=(0,s.useRef)(null),r=n&&(0,s.useCallback)(e=>{l.current=(a&&(j.fun(a)?a(e):a.current=e),e)},[a]),[o,d]=function(e,t){let n=new Set;return e8.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new e7(e),e8.dependencies=null,[e,n]}(i,t),c=function(){let e=(0,s.useState)()[1],t=eY();return()=>{t.current&&e(Math.random())}}(),u=()=>{let e=l.current;(!n||e)&&(!!e&&t.applyAnimatedValues(e,o.getValue(!0)))===!1&&c()},m=new ti(u,d),h=(0,s.useRef)();eq(()=>(h.current=m,L(d,e=>eR(e,m)),()=>{h.current&&(L(h.current.deps,e=>eL(e,h.current)),p.cancel(h.current.update))})),(0,s.useEffect)(u,[]),eX(()=>()=>{let e=h.current;L(e.deps,t=>eL(t,e))});let g=t.getComponentProps(o.getValue());return s.createElement(e,{...g,ref:r})})},ti=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&p.write(this.update)}},ta=Symbol.for("AnimatedComponent"),tl=e=>j.str(e)?e:e&&j.str(e.displayName)?e.displayName:j.fun(e)&&e.name||null;function tr(e,...t){return j.fun(e)?e(...t):e}var ts=(e,t)=>!0===e||!!(t&&e&&(j.fun(e)?e(t):D(e).includes(t))),to=(e,t)=>j.obj(e)?t&&e[t]:e,td=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,tc=e=>e,tu=(e,t=tc)=>{let n=tp;e.default&&!0!==e.default&&(n=Object.keys(e=e.default));let i={};for(let a of n){let n=t(e[a],a);j.und(n)||(i[a]=n)}return i},tp=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tm={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function th(e){let t=function(e){let t={},n=0;if(F(e,(e,i)=>{tm[i]||(t[i]=e,n++)}),n)return t}(e);if(t){let n={to:t};return F(e,(e,i)=>i in t||(n[i]=e)),n}return{...e}}function tg(e){return e=eI(e),j.arr(e)?e.map(tg):eW(e)?c.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function t_(e){return j.fun(e)||j.arr(e)&&j.obj(e[0])}var ty={tension:170,friction:26,mass:1,damping:1,easing:eP.linear,clamp:!1},tf=class{constructor(){this.velocity=0,Object.assign(this,ty)}};function tb(e,t){if(j.und(t.decay)){let n=!j.und(t.tension)||!j.und(t.friction);!n&&j.und(t.frequency)&&j.und(t.damping)&&j.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var tv=[],tx=class{constructor(){this.changed=!1,this.values=tv,this.toValues=null,this.fromValues=tv,this.config=new tf,this.immediate=!1}};function tk(e,{key:t,props:n,defaultProps:i,state:a,actions:l}){return new Promise((r,s)=>{let o,d,u=ts(n.cancel??(null==i?void 0:i.cancel),t);if(u)g();else{j.und(n.pause)||(a.paused=ts(n.pause,t));let e=null==i?void 0:i.pause;!0!==e&&(e=a.paused||ts(e,t)),o=tr(n.delay||0,t),e?(a.resumeQueue.add(h),l.pause()):(l.resume(),h())}function m(){a.resumeQueue.add(h),a.timeouts.delete(d),d.cancel(),o=d.time-p.now()}function h(){o>0&&!c.skipAnimation?(a.delayed=!0,d=p.setTimeout(g,o),a.pauseQueue.add(m),a.timeouts.add(d)):g()}function g(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(m),a.timeouts.delete(d),e<=(a.cancelId||0)&&(u=!0);try{l.start({...n,callId:e,cancel:u},r)}catch(e){s(e)}}})}var tP=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?tT(e.get()):t.every(e=>e.noop)?tS(e.get()):tw(e.get(),t.every(e=>e.finished)),tS=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tw=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),tT=e=>({value:e,cancelled:!0,finished:!1});function tI(e,t,n,i){let{callId:a,parentId:l,onRest:r}=t,{asyncTo:s,promise:o}=n;return l||e!==s||t.reset?n.promise=(async()=>{let d,u,m;n.asyncId=a,n.asyncTo=e;let h=tu(t,(e,t)=>"onRest"===t?void 0:e),g=new Promise((e,t)=>(d=e,u=t)),_=e=>{let t=a<=(n.cancelId||0)&&tT(i)||a!==n.asyncId&&tw(i,!1);if(t)throw e.result=t,u(e),e},y=(e,t)=>{let l=new tE,r=new tC;return(async()=>{if(c.skipAnimation)throw tA(n),r.result=tw(i,!1),u(r),r;_(l);let s=j.obj(e)?{...e}:{...t,to:e};s.parentId=a,F(h,(e,t)=>{j.und(s[t])&&(s[t]=e)});let o=await i.start(s);return _(l),n.paused&&await new Promise(e=>{n.resumeQueue.add(e)}),o})()};if(c.skipAnimation)return tA(n),tw(i,!1);try{let t;t=j.arr(e)?(async e=>{for(let t of e)await y(t)})(e):Promise.resolve(e(y,i.stop.bind(i))),await Promise.all([t.then(d),g]),m=tw(i.get(),!0,!1)}catch(e){if(e instanceof tE)m=e.result;else if(e instanceof tC)m=e.result;else throw e}finally{a==n.asyncId&&(n.asyncId=l,n.asyncTo=l?s:void 0,n.promise=l?o:void 0)}return j.fun(r)&&p.batchedUpdates(()=>{r(m,i,i.item)}),m})():o}function tA(e,t){O(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var tE=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tC=class extends Error{constructor(){super("SkipAnimationSignal")}},tj=e=>e instanceof tL,tR=1,tL=class extends eC{constructor(){super(...arguments),this.id=tR++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=e1(this);return e&&e.getValue()}to(...e){return c.to(this,e)}interpolate(...e){return e$(`${eH}The "interpolate" function is deprecated in v9 (use "to" instead)`),c.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){eE(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||q.sort(this),eE(this,{type:"priority",parent:this,priority:e})}},tF=Symbol.for("SpringPhase"),tD=e=>(1&e[tF])>0,tO=e=>(2&e[tF])>0,tz=e=>(4&e[tF])>0,tM=(e,t)=>t?e[tF]|=3:e[tF]&=-3,tN=(e,t)=>t?e[tF]|=4:e[tF]&=-5,tZ=class extends tL{constructor(e,t){if(super(),this.animation=new tx,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!j.und(e)||!j.und(t)){let n=j.obj(e)?{...e}:{...t,from:e};j.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(tO(this)||this._state.asyncTo)||tz(this)}get goal(){return eI(this.animation.to)}get velocity(){let e=e1(this);return e instanceof e4?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return tD(this)}get isAnimating(){return tO(this)}get isPaused(){return tz(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1,i=this.animation,{toValues:a}=i,{config:l}=i,r=e3(i.to);!r&&eT(i.to)&&(a=D(eI(i.to))),i.values.forEach((s,o)=>{if(s.done)return;let d=s.constructor==e5?1:r?r[o].lastPosition:a[o],c=i.immediate,u=d;if(!c){let t;if(u=s.lastPosition,l.tension<=0){s.done=!0;return}let n=s.elapsedTime+=e,a=i.fromValues[o],r=null!=s.v0?s.v0:s.v0=j.arr(l.velocity)?l.velocity[o]:l.velocity,p=l.precision||(a==d?.005:Math.min(1,.001*Math.abs(d-a)));if(j.und(l.duration)){if(l.decay){let e=!0===l.decay?.998:l.decay,i=Math.exp(-(1-e)*n);u=a+r/(1-e)*(1-i),c=Math.abs(s.lastPosition-u)<=p,t=r*i}else{t=null==s.lastVelocity?r:s.lastVelocity;let n=l.restVelocity||p/10,i=l.clamp?0:l.bounce,o=!j.und(i),m=a==d?s.v0>0:a<d,h=Math.ceil(e/1);for(let e=0;e<h&&!(!(Math.abs(t)>n)&&(c=Math.abs(d-u)<=p));++e){o&&(u==d||u>d==m)&&(t=-t*i,u=d);let e=-(1e-6*l.tension)*(u-d),n=-(.001*l.friction)*t,a=(e+n)/l.mass;t+=1*a,u+=1*t}}}else{let i=1;l.duration>0&&(this._memoizedDuration!==l.duration&&(this._memoizedDuration=l.duration,s.durationProgress>0&&(s.elapsedTime=l.duration*s.durationProgress,n=s.elapsedTime+=e)),i=(i=(l.progress||0)+n/this._memoizedDuration)>1?1:i<0?0:i,s.durationProgress=i),t=((u=a+l.easing(i)*(d-a))-s.lastPosition)/e,c=1==i}s.lastVelocity=t,Number.isNaN(u)&&(console.warn("Got NaN while animating:",this),c=!0)}r&&!r[o].done&&(c=!1),c?s.done=!0:t=!1,s.setValue(u,l.round)&&(n=!0)});let s=e1(this),o=s.getValue();if(t){let e=eI(i.to);(o!==e||n)&&!l.decay?(s.setValue(e),this._onChange(e)):n&&l.decay&&this._onChange(o),this._stop()}else n&&this._onChange(o)}set(e){return p.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(tO(this)){let{to:e,config:t}=this.animation;p.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return j.und(e)?(n=this.queue||[],this.queue=[]):n=[j.obj(e)?e:{...t,to:e}],Promise.all(n.map(e=>this._update(e))).then(e=>tP(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),tA(this._state,e&&this._lastCallId),p.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:n,from:i}=e;(null==(n=j.obj(n)?n[t]:n)||t_(n))&&(n=void 0),null==(i=j.obj(i)?i[t]:i)&&(i=void 0);let a={to:n,from:i};return tD(this)||(e.reverse&&([n,i]=[i,n]),i=eI(i),j.und(i)?e1(this)||this._set(n):this._set(i)),a}_update({...e},t){let{key:n,defaultProps:i}=this;e.default&&Object.assign(i,tu(e,(e,t)=>/^on/.test(t)?to(e,n):e)),tG(this,e,"onProps"),t$(this,"onProps",e,this);let a=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let l=this._state;return tk(++this._lastCallId,{key:n,props:e,defaultProps:i,state:l,actions:{pause:()=>{tz(this)||(tN(this,!0),N(l.pauseQueue),t$(this,"onPause",tw(this,tB(this,this.animation.to)),this))},resume:()=>{tz(this)&&(tN(this,!1),tO(this)&&this._resume(),N(l.resumeQueue),t$(this,"onResume",tw(this,tB(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(n=>{if(e.loop&&n.finished&&!(t&&n.noop)){let t=tU(e);if(t)return this._update(t,!0)}return n})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(tT(this));let i=!j.und(e.to),a=!j.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(tT(this));this._lastToId=t.callId}let{key:l,defaultProps:r,animation:s}=this,{to:o,from:d}=s,{to:c=o,from:u=d}=e;a&&!i&&(!t.default||j.und(c))&&(c=u),t.reverse&&([c,u]=[u,c]);let m=!R(u,d);m&&(s.from=u),u=eI(u);let h=!R(c,o);h&&this._focus(c);let g=t_(t.to),{config:_}=s,{decay:y,velocity:f}=_;(i||a)&&(_.velocity=0),t.config&&!g&&function(e,t,n){for(let i in n&&(tb(n={...n},t),t={...n,...t}),tb(e,t),Object.assign(e,t),ty)null==e[i]&&(e[i]=ty[i]);let{frequency:i,damping:a}=e,{mass:l}=e;j.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*l,e.friction=4*Math.PI*a*l/i)}(_,tr(t.config,l),t.config!==r.config?tr(r.config,l):void 0);let b=e1(this);if(!b||j.und(c))return n(tw(this,!0));let v=j.und(t.reset)?a&&!t.default:!j.und(u)&&ts(t.reset,l),x=v?u:this.get(),k=tg(c),P=j.num(k)||j.arr(k)||eW(k),S=!g&&(!P||ts(r.immediate||t.immediate,l));if(h){let e=tt(c);if(e!==b.constructor){if(S)b=this._set(k);else throw Error(`Cannot animate between ${b.constructor.name} and ${e.name}, as the "to" prop suggests`)}}let w=b.constructor,T=eT(c),I=!1;if(!T){let e=v||!tD(this)&&m;(h||e)&&(T=!(I=R(tg(x),k))),(R(s.immediate,S)||S)&&R(_.decay,y)&&R(_.velocity,f)||(T=!0)}if(I&&tO(this)&&(s.changed&&!v?T=!0:T||this._stop(o)),!g&&((T||eT(o))&&(s.values=b.getPayload(),s.toValues=eT(c)?null:w==e5?[1]:D(k)),s.immediate==S||(s.immediate=S,S||v||this._set(o)),T)){let{onRest:e}=s;L(tH,e=>tG(this,t,e));let i=tw(this,tB(this,o));N(this._pendingCalls,i),this._pendingCalls.add(n),s.changed&&p.batchedUpdates(()=>{var t;s.changed=!v,null==e||e(i,this),v?tr(r.onRest,i):null==(t=s.onStart)||t.call(s,i,this)})}v&&this._set(x),g?n(tI(t.to,t,this._state,this)):T?this._start():tO(this)&&!h?this._pendingCalls.add(n):n(tS(x))}_focus(e){let t=this.animation;e!==t.to&&(eA(this)&&this._detach(),t.to=e,eA(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;eT(t)&&(eR(t,this),tj(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;eT(e)&&eL(e,this)}_set(e,t=!0){let n=eI(e);if(!j.und(n)){let e=e1(this);if(!e||!R(n,e.getValue())){let i=tt(n);e&&e.constructor==i?e.setValue(n):e2(this,i.create(n)),e&&p.batchedUpdates(()=>{this._onChange(n,t)})}}return e1(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,t$(this,"onStart",tw(this,tB(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),tr(this.animation.onChange,e,this)),tr(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;e1(this).reset(eI(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),tO(this)||(tM(this,!0),tz(this)||this._resume())}_resume(){c.skipAnimation?this.finish():q.start(this)}_stop(e,t){if(tO(this)){tM(this,!1);let n=this.animation;L(n.values,e=>{e.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),eE(this,{type:"idle",parent:this});let i=t?tT(this.get()):tw(this.get(),tB(this,e??n.to));N(this._pendingCalls,i),n.changed&&(n.changed=!1,t$(this,"onRest",i,this))}}};function tB(e,t){let n=tg(t),i=tg(e.get());return R(i,n)}function tU(e,t=e.loop,n=e.to){let i=tr(t);if(i){let a=!0!==i&&th(i),l=(a||e).reverse,r=!a||a.reset;return tK({...e,loop:t,default:!1,pause:void 0,to:!l||t_(n)?n:void 0,from:r?e.from:void 0,reset:r,...a})}}function tK(e){let{to:t,from:n}=e=th(e),i=new Set;return j.obj(t)&&tV(t,i),j.obj(n)&&tV(n,i),e.keys=i.size?Array.from(i):null,e}function tV(e,t){F(e,(e,n)=>null!=e&&t.add(n))}var tH=["onStart","onRest","onChange","onPause","onResume"];function tG(e,t,n){e.animation[n]=t[n]!==td(t,n)?to(t[n],e.key):void 0}function t$(e,t,...n){var i,a,l,r;null==(a=(i=e.animation)[t])||a.call(i,...n),null==(r=(l=e.defaultProps)[t])||r.call(l,...n)}var tW=["onStart","onChange","onRest"],tq=1,tY=class{constructor(e,t){this.id=tq++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(let t in e){let n=e[t];j.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(tK(e)),this}start(e){var t;let{queue:n}=this;return e?n=D(e).map(tK):this.queue=[],this._flush?this._flush(this,n):(tJ(this,n),t=this,Promise.all(n.map(e=>tX(t,e))).then(e=>tP(t,e)))}stop(e,t){if(!!e!==e&&(t=e),t){let n=this.springs;L(D(t),t=>n[t].stop(!!e))}else tA(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(j.und(e))this.start({pause:!0});else{let t=this.springs;L(D(e),e=>t[e].pause())}return this}resume(e){if(j.und(e))this.start({pause:!1});else{let t=this.springs;L(D(e),e=>t[e].resume())}return this}each(e){F(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:n}=this._events,i=this._active.size>0,a=this._changed.size>0;(i&&!this._started||a&&!this._started)&&(this._started=!0,O(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));let l=!i&&this._started,r=a||l&&n.size?this.get():null;a&&t.size&&O(t,([e,t])=>{t.value=r,e(t,this,this._item)}),l&&(this._started=!1,O(n,([e,t])=>{t.value=r,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}p.onFrame(this._onFrame)}};async function tX(e,t,n){let{keys:i,to:a,from:l,loop:r,onRest:s,onResolve:o}=t,d=j.obj(t.default)&&t.default;r&&(t.loop=!1),!1===a&&(t.to=null),!1===l&&(t.from=null);let c=j.arr(a)||j.fun(a)?a:void 0;c?(t.to=void 0,t.onRest=void 0,d&&(d.onRest=void 0)):L(tW,n=>{let i=t[n];if(j.fun(i)){let a=e._events[n];t[n]=({finished:e,cancelled:t})=>{let n=a.get(i);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):a.set(i,{value:null,finished:e||!1,cancelled:t||!1})},d&&(d[n]=t[n])}});let u=e._state;!u.paused===t.pause?(u.paused=t.pause,N(t.pause?u.pauseQueue:u.resumeQueue)):u.paused&&(t.pause=!0);let m=(i||Object.keys(e.springs)).map(n=>e.springs[n].start(t)),h=!0===t.cancel||!0===td(t,"cancel");(c||h&&u.asyncId)&&m.push(tk(++e._lastAsyncId,{props:t,state:u,actions:{pause:E,resume:E,start(t,n){h?(tA(u,e._lastAsyncId),n(tT(e))):(t.onRest=s,n(tI(c,t,u,e)))}}})),u.paused&&await new Promise(e=>{u.resumeQueue.add(e)});let g=tP(e,await Promise.all(m));if(r&&g.finished&&!(n&&g.noop)){let n=tU(t,r,a);if(n)return tJ(e,[n]),tX(e,n,!0)}return o&&p.batchedUpdates(()=>o(g,e,e.item)),g}function tJ(e,t){L(t,t=>{var n,i;n=e.springs,i=t=>(function(e,t){let n=new tZ;return n.key=e,t&&eR(n,t),n})(t,e),t.keys&&L(t.keys,e=>{(n[e]||(n[e]=i(e)))._prepareNode(t)})})}var tQ=({children:e,...t})=>{let n=(0,s.useContext)(t0),i=t.pause||!!n.pause,a=t.immediate||!!n.immediate;t=function(e,t){let[n]=(0,s.useState)(()=>({inputs:t,result:e()})),i=(0,s.useRef)(),a=i.current,l=a;return l?t&&l.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,l.inputs)||(l={inputs:t,result:e()}):l=n,(0,s.useEffect)(()=>{i.current=l,a==n&&(n.inputs=n.result=void 0)},[l]),l.result}(()=>({pause:i,immediate:a}),[i,a]);let{Provider:l}=t0;return s.createElement(l,{value:t},e)},t0=(Object.assign(tQ,s.createContext({})),tQ.Provider._context=tQ,tQ.Consumer._context=tQ,tQ);tQ.Provider=t0.Provider,tQ.Consumer=t0.Consumer;var t1=class extends tL{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=eb(...t);let n=this._get(),i=tt(n);e2(this,i.create(n))}advance(e){let t=this._get(),n=this.get();R(t,n)||(e1(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&t3(this._active)&&t6(this)}_get(){let e=j.arr(this.source)?this.source.map(eI):D(eI(this.source));return this.calc(...e)}_start(){this.idle&&!t3(this._active)&&(this.idle=!1,L(e3(this),e=>{e.done=!1}),c.skipAnimation?(p.batchedUpdates(()=>this.advance()),t6(this)):q.start(this))}_attach(){let e=1;L(D(this.source),t=>{eT(t)&&eR(t,this),tj(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){L(D(this.source),e=>{eT(e)&&eL(e,this)}),this._active.clear(),t6(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=D(this.source).reduce((e,t)=>Math.max(e,(tj(t)?t.priority:0)+1),0))}};function t2(e){return!1!==e.idle}function t3(e){return!e.size||Array.from(e).every(t2)}function t6(e){e.idle||(e.idle=!0,L(e3(e),e=>{e.done=!0}),eE(e,{type:"idle",parent:e}))}c.assign({createStringInterpolator:eV,to:(e,t)=>new t1(e,t)});var t4=/^--/,t5={},t8={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t7=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),t9=["Webkit","Ms","Moz","O"];t8=Object.keys(t8).reduce((e,t)=>(t9.forEach(n=>e[t7(n,t)]=e[t]),e),t8);var ne=/^(matrix|translate|scale|rotate|skew)/,nt=/^(translate)/,nn=/^(rotate|skew)/,ni=(e,t)=>j.num(e)&&0!==e?e+t:e,na=(e,t)=>j.arr(e)?e.every(e=>na(e,t)):j.num(e)?e===t:parseFloat(e)===t,nl=class extends e7{constructor({x:e,y:t,z:n,...i}){let a=[],l=[];(e||t||n)&&(a.push([e||0,t||0,n||0]),l.push(e=>[`translate3d(${e.map(e=>ni(e,"px")).join(",")})`,na(e,0)])),F(i,(e,t)=>{if("transform"===t)a.push([e||""]),l.push(e=>[e,""===e]);else if(ne.test(t)){if(delete i[t],j.und(e))return;let n=nt.test(t)?"px":nn.test(t)?"deg":"";a.push(D(e)),l.push("rotate3d"===t?([e,t,i,a])=>[`rotate3d(${e},${t},${i},${ni(a,n)})`,na(a,0)]:e=>[`${t}(${e.map(e=>ni(e,n)).join(",")})`,na(e,t.startsWith("scale")?1:0)])}}),a.length&&(i.transform=new nr(a,l)),super(i)}},nr=class extends eC{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return L(this.inputs,(n,i)=>{let a=eI(n[0]),[l,r]=this.transforms[i](j.arr(a)?a:n.map(eI));e+=" "+l,t=t&&r}),t?"none":e}observerAdded(e){1==e&&L(this.inputs,e=>L(e,e=>eT(e)&&eR(e,this)))}observerRemoved(e){0==e&&L(this.inputs,e=>L(e,e=>eT(e)&&eL(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),eE(this,e)}};c.assign({batchedUpdates:o.unstable_batchedUpdates,createStringInterpolator:eV,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}}),((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new e7(e),getComponentProps:i=e=>e}={})=>{let a={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:i},l=e=>{let t=tl(e)||"Anonymous";return(e=j.str(e)?l[e]||(l[e]=tn(e,a)):e[ta]||(e[ta]=tn(e,a))).displayName=`Animated(${t})`,e};return F(e,(t,n)=>{j.arr(e)&&(n=tl(t)),l[n]=l(t)})})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;let n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:i,children:a,scrollTop:l,scrollLeft:r,viewBox:s,...o}=t,d=Object.values(o),c=Object.keys(o).map(t=>n||e.hasAttribute(t)?t:t5[t]||(t5[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));for(let t in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(t)){var u;let n=null==(u=i[t])||"boolean"==typeof u||""===u?"":"number"!=typeof u||0===u||t4.test(t)||t8.hasOwnProperty(t)&&t8[t]?(""+u).trim():u+"px";t4.test(t)?e.style.setProperty(t,n):e.style[t]=n}c.forEach((t,n)=>{e.setAttribute(t,d[n])}),void 0!==l&&(e.scrollTop=l),void 0!==r&&(e.scrollLeft=r),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:e=>new nl(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n});let ns=375,no=e=>{let t=new OffscreenCanvas(e.width,e.height),n=t.getContext("2d");n.globalAlpha=.01,n.drawImage(e,0,0);let i=n.getImageData(0,0,e.width,e.height),a=0;for(;a<i.data.length;){let e=i.data[a]+i.data[a+1]+i.data[a+2];i.data[a+3]=e/3,a+=4}return n.putImageData(i,0,0),t.transferToImageBitmap()},nd=e=>{let t=new OffscreenCanvas(e.width,e.height),n=t.getContext("2d");n.drawImage(e,0,0);let i=n.getImageData(0,0,t.width,t.height).data;for(let e=0;e<i.length;e+=4){let t=i[e],n=i[e+1],a=i[e+2];if(0!==t||0!==n||0!==a)return!1}return!0},nc=(e,t,n)=>{let i=e.width*n.offset.x,a=e.height*n.offset.y,l=e.width*n.size.width,r=e.height*n.size.height,s=new OffscreenCanvas(l,r),o=s.getContext("2d");o.drawImage(e,-i,-a,e.width,e.height),o.globalCompositeOperation="destination-in";let d=nd(t)?t:no(t);return o.drawImage(d,0,0,l,r),s.transferToImageBitmap()},nu=async(e,t,n)=>{let i=atob(t),a=i.length,l=new Uint8Array(a);for(let e=0;e<a;e++)l[e]=i.codePointAt(e);let r=new Blob([l],{type:"image/png"}),s=await createImageBitmap(r);return nc(e,s,n)},np=(e,t,n)=>{let i=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("width",t.toString()),i.setAttribute("height",n.toString()),i.setAttribute("fill","white"),a.setAttribute("d",e),a.setAttribute("transform",`scale(${t}, ${n})`),i.append(a);let l=document.createElement("div");l.append(i),document.body.append(l);let r=i.getBBox();return l.remove(),{svg:i,bbox:r}},nm=async(e,t,n)=>{let{svg:i,bbox:a}=np(e,t,n),l=new Image;l.src=URL.createObjectURL(new Blob([new XMLSerializer().serializeToString(i)],{type:"image/svg+xml"})),await new Promise(e=>{l.addEventListener("load",()=>{e()},{once:!0})});let r=await createImageBitmap(l,a.x,a.y,a.width,a.height),s={offset:{x:a.x/t,y:a.y/n},size:{width:a.width/t,height:a.height/n}};return{mask:r,bounds:s}},nh=async(e,t)=>{let{mask:n,bounds:i}=await nm(t,e.width,e.height);return nc(e,n,i)},ng=e=>{let t=Math.max(Math.max(e.width/320),Math.max(e.height/320));return t>1?createImageBitmap(e,{resizeWidth:e.width/t,resizeHeight:e.height/t}):e},n_=e=>{let t=e.width,n=e.height,i=Math.min(2048/t,2048/n,1),a=Math.floor(t*i),l=Math.floor(n*i);return createImageBitmap(e,{resizeWidth:a,resizeHeight:l,resizeQuality:"high"})},ny=(e,t,n)=>({x:e.width/2+t[0]*n,y:e.height/2+t[1]*n}),nf=e=>{var t,n,i,a;if(!e.imageBitmap)return null;let l=null==e?void 0:e.mask,r=null==(n=null==(t=e.effect_data)?void 0:t.bitmapMask)?void 0:n.mask_image,s=null==(a=null==(i=e.effect_data)?void 0:i.bitmapMask)?void 0:a.mask_bounds;if(r&&s){let t={offset:{x:s[0][0],y:s[0][1]},size:{width:s[1][0],height:s[1][1]}};return nu(e.imageBitmap,r,t)}return l?nh(e.imageBitmap,l):e.imageBitmap},nb=async(e,t)=>{var n,i;let a=await nf(e);if(!a)return null;let l=t.width/ns,r=await ng(a),{x:s,y:o}=ny(t,e.offset,l);return{alpha:null==(n=e.effect_data)?void 0:n.alpha,offsetX:s,offsetY:o,image:a,height:r.height,width:r.width,rotation:-e.rotation,effectData:e.effect_data,scale:e.scale*l,shuffleItemId:e.id,isHidden:!!(null!=(i=e.effect_data)&&i.isHidden)}},nv={0:{family:"Helvetica",fontFile:null},1:{family:"Times New Roman",fontFile:null},2:{family:"Courier New",fontFile:"Courier-New-Bold.ttf"},3:{family:"Roboto Slab",fontFile:"RobotoSlab-Medium.ttf"},4:{family:"Playfair",fontFile:"PlayfairDisplay-Bold.ttf"},5:{family:"Shadows Into Light",fontFile:"ShadowsIntoLight-Regular.ttf"},6:{family:"Yellowtail",fontFile:"Yellowtail-Regular.ttf"},7:{family:"Bangers",fontFile:"Bangers-Regular.ttf"},8:{family:"Bungee Shade",fontFile:"BungeeShade-Regular.ttf"},9:{family:"Brand Hashtag",fontFile:null},10:{family:"Black Letter",fontFile:"UnifrakturMaguntia-Regular.ttf"},11:{family:"Condensed Bold",fontFile:"Anton-Regular.ttf"},12:{family:"Osward",fontFile:"Oswald-VariableFont_wght.ttf"},13:{family:"Slab Serif",fontFile:"AlfaSlabOne-Regular.ttf"},14:{family:"Art Nouveau",fontFile:"Amarante-Regular.ttf"},15:{family:"Copied Font",fontFile:"RubikDistressed-Regular.ttf"},16:{family:"Ornamental",fontFile:"Sancreek-Regular.ttf"},17:{family:"Spikey Weird",fontFile:"RubikBeastly-Regular.ttf"},18:{family:"Alex Brush",fontFile:"AlexBrush-Regular.ttf"},19:{family:"VT323",fontFile:"VT323-Regular.ttf"},20:{family:"Courier Prime",fontFile:"CourierPrime-Regular.ttf"},21:{family:"Courier Prime Italic",fontFile:"CourierPrime-Italic.ttf"},22:{family:"Courier Prime Bold",fontFile:"CourierPrime-Bold.ttf"},23:{family:"Grandstander",fontFile:"Grandstander-VariableFont_wght.ttf"},24:{family:"Grandstander Bold",fontFile:"Grandstander-VariableFont_wght.ttf"},25:{family:"Chakra",fontFile:"ChakraPetch-Regular.ttf"},26:{family:"Chakra Bold",fontFile:"ChakraPetch-Bold.ttf"},27:{family:"Hepta Slab",fontFile:"HeptaSlab-VariableFont_wght.ttf"},28:{family:"Hepta Slab Bold",fontFile:"HeptaSlab-VariableFont_wght.ttf"},29:{family:"Janitor",fontFile:"Janitor.ttf"},30:{family:"Lexend Peta",fontFile:"LexendPeta-Bold.ttf"},31:{family:"Luckiest Guy",fontFile:"LuckiestGuy-Regular.ttf"},32:{family:"Martian Mono",fontFile:"MartianMono-VariableFont_wdth,wght.ttf"},33:{family:"Martian Mono Bold",fontFile:"MartianMono-VariableFont_wdth,wght.ttf"},34:{family:"Meddon",fontFile:"Meddon.ttf"},35:{family:"Mister Firley",fontFile:"Mister-Firley.otf"},36:{family:"New Rocker",fontFile:"NewRocker-Regular.ttf"},37:{family:"Old Standard TT",fontFile:"OldStandardTT-Regular.ttf"},38:{family:"Old Standard TT Italic",fontFile:"OldStandardTT-Italic.ttf"},39:{family:"Old Standard TT Bold",fontFile:"OldStandardTT-Bold.ttf"},40:{family:"Pixel",fontFile:"Silkscreen-Regular.ttf"},41:{family:"Quicksand",fontFile:"Quicksand-VariableFont_wght.ttf"},42:{family:"Quicksand Bold",fontFile:"Quicksand-VariableFont_wght.ttf"},43:{family:"Unbounded",fontFile:"Unbounded-VariableFont_wght.ttf"},44:{family:"Unbounded Bold",fontFile:"Unbounded-VariableFont_wght.ttf"},45:{family:"Graphik Bold Italic",fontFile:"Graphik-Bold-Italic.otf"},46:{family:"Publico Banner Bold",fontFile:"Publico-Banner-Bold.otf"},47:{family:"Publico Banner Ultra Italic",fontFile:"Publico-Banner-Ultra-Italic.otf"},48:{family:"Graphik XCondensed Black",fontFile:"Graphik-XCond-Black.otf"},49:{family:"Lemon Yellow Sun Extra Bold",fontFile:"Lemon-Yellow-Sun-Extra-Bold.otf"}};var nx=((a=nx||{})[a.NONE=0]="NONE",a[a.PIN=1]="PIN",a[a.TEXT=2]="TEXT",a[a.IMAGE=3]="IMAGE",a),nk=((l=nk||{})[l.left=0]="left",l[l.center=1]="center",l[l.right=2]="right",l);let nP=(e,t)=>{let n=new OffscreenCanvas(1e4,1e4).getContext("2d");n.font=t;let i=n.measureText(e),a=i.fontBoundingBoxAscent+i.fontBoundingBoxDescent||i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;return{width:i.width,height:a}},nS=(e,t,n)=>{let i=300*n,a=[],l="";for(let n of e){let e=`${l}${n}`,{width:r}=nP(e,t);r>i?(a.push(l),l=n):l=e}return a.push(l),a},nw=(e,t,n)=>{let i=300*n,a=e.trim().split(" "),l=[],r="";for(let e of a)if(e.includes(`
`)){let a=e.split(`
`),s=a[0],o=a.at(-1)||"",d=`${r} ${s}`.trim(),{width:c}=nP(d,t),u=c>i;for(let e of(l.push(...u?[r]:[d]),a.slice(u?0:1,-1)))l.push(...nS(e,t,n));let p=nS(o,t,n);p.length>1?(l.push(...p.slice(0,-1)),r=p.at(-1)||""):r=o}else{let a=`${r} ${e}`.trim(),{width:s}=nP(a,t);if(s>i){l.push(r);let i=nS(e,t,n);i.length>1?(l.push(...i.slice(0,-1)),r=i.at(-1)||""):r=e}else r=a}return l.push(r),l},nT=async(e,t)=>{var n,i;let a=e.text;if(!a||!a.text)return null;let l=nv[a.font_type]||nv[0],r=a.text,s=a.font_size,o=a.color_hex,d=a.background_color_hex,c=a.alignment,u=t.width/ns,p=e.scale*u,m=s*p,h=`${/bold/i.test(l.family)?"700":"400"} ${m}px ${l.family}`;if(l.fontFile){let e=new FontFace(l.family,`url(https://s.pinimg.com/story_pins/fonts/${l.fontFile})`);document.fonts.add(e),await e.load()}let g=nw(r,h,p),_=g.map(e=>nP(e,h)),y=10*p,f=2*y,{canvasWidth:b,lineHeight:v}=_.reduce((e,t)=>({canvasWidth:Math.max(e.canvasWidth,t.width),lineHeight:Math.max(e.lineHeight,t.height)}),{canvasWidth:0,lineHeight:0}),x=g.length*v,k=new OffscreenCanvas(b+f,x),P=k.getContext("2d"),S=c===nk.left,w=c===nk.center,T=c===nk.right,I=k.width/2;P.textBaseline="ideographic",g.forEach((e,t)=>{let n=_[t].width+f,i=0,a=y;S&&(P.textAlign="left",i=0,a=y),w&&(P.textAlign="center",i=I-n/2,a=I),T&&(P.textAlign="right",i=k.width-n,a=k.width-y),d&&(P.fillStyle=d,P.fillRect(i,v*t,n,v)),P.fillStyle=o,P.font=h,P.fillText(e,a,v*(t+1))});let{x:A,y:E}=ny(t,e.offset,u),C=k.transferToImageBitmap(),j=await n_(C);return{alpha:null==(n=e.effect_data)?void 0:n.alpha,offsetX:A,offsetY:E,image:j,height:C.height/p,width:C.width/p,rotation:-e.rotation,effectData:e.effect_data,scale:p,isHidden:!!(null!=(i=e.effect_data)&&i.isHidden),shuffleItemId:e.id}};async function nI(e,t){let n=await fetch(e);if(!n.ok)throw Error(`HTTP error! Status: ${n.status}`);if("blob"===t)return n.blob();if("arraybuffer"===t)return n.arrayBuffer();throw Error("Something went wrong fetching the images!")}let nA=e=>{let t={},i=e.map(async e=>{var i;if(!e.images)return{...e,imageBitmap:null};let a=e.images,l=(null==(i=a["750x-heic"])?void 0:i.url)??a["750x"].url;if(void 0!==t[l]){let n=await t[l];return{...e,imageBitmap:n.imageBitmap}}let r=new Promise((t,i)=>{(async()=>{try{if(l.includes(".heic")){let i=await nI(l,"arraybuffer"),a=await (await n.e(93696).then(n.bind(n,393696))).heicBufferToBlob(i),r=await createImageBitmap(a,{premultiplyAlpha:"default",colorSpaceConversion:"none"});t({...e,imageBitmap:r})}else{let n=await nI(l,"blob"),i=await createImageBitmap(n,{premultiplyAlpha:"none",colorSpaceConversion:"none"});t({...e,imageBitmap:i})}}catch(e){i(e)}})()});return t[l]=r,r});return Promise.all(i)},nE=async({shuffle:e,canvasDimensions:t})=>{let n=(await nA(e.items??[])).map(e=>e.item_type===nx.TEXT?nT(e,t):e.item_type===nx.IMAGE||e.item_type===nx.PIN?nb(e,t):null);return(await Promise.all(n)).flatMap(e=>e?[e]:[])},nC=e=>Math.floor(e*(16/9)),nj=()=>!(typeof navigator>"u")&&/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent),nR=e=>{let{DistortionEffect:t,KernelEffect:n,ColorEffect:i,BoolParamValue:a}=e,l=Object.fromEntries(t.availableEffects().map(e=>[e,()=>t.byName(e)])),r=Object.fromEntries(n.availableEffects().map(e=>[e,()=>n.byName(e)]));return{...l,...r,scaly:()=>t.byName("pulse"),spinny:()=>t.byName("lavaLamp"),rotate:()=>t.byName("rotation"),echoNew:()=>n.byName("echo"),simpleGlitch:()=>n.byName("glitch"),fade:()=>i.byName("fade"),upDown:()=>{let e=t.byName("slide");return null==e||e.settings.update(new Map([["horizontal",new a(!1)]])),e},leftRight:()=>{let e=t.byName("slide");return null==e||e.settings.update(new Map([["horizontal",new a(!0)]])),e},rotateClockwise:()=>{let e=t.byName("rotation");return null==e||e.settings.update(new Map([["clockwise",new a(!0)]])),e},rotateCounterClockwise:()=>{let e=t.byName("rotation");return null==e||e.settings.update(new Map([["clockwise",new a(!1)]])),e}}},nL=e=>{let{ColorEffect:t}=e;return{...Object.fromEntries(t.availableEffects().map(e=>[e,()=>t.byName(e)])),alphaShadows:()=>t.byName("transparentShadows"),alphaHighlights:()=>t.byName("transparentHighlights"),fadeGradient:()=>t.byName("alphaGradient"),alpha:()=>t.byName("opacity"),fade:()=>t.byName("washed")}},nF=e=>{let{Filter:t}=e;return{...Object.fromEntries(t.availableFilters().map(e=>[e,()=>t.byName(e)])),dropShadow:()=>t.byName("shadow"),rippedPaper:()=>t.byName("tornPaper")}},nD=(e=0,t)=>t.Angle.fromRadians(e).multiply(2).turns,nO=(e,t)=>{let{Flip:n}=t;if(null===e)return n.none();let{isFlippedHorizontally:i,isFlippedVertically:a,rotationX:l,rotationY:r}=e;return i&&a?n.both():a?n.vertical():i?n.horizontal():0!==l||0!==r?new n(nD(r,t),-nD(l,t)):n.none()},nz=e=>Number.parseFloat(e.toFixed(2)),nM=e=>Math.round(360*e/Math.PI),nN=e=>2*e-1,nZ=e=>2*e,nB=e=>{let[t,n]=[.2,6],[i,a]=[.01,.3];return(e-t)/(n-t)*(a-i)+i},nU=(e,t)=>{let{FloatParamValue:n,LineParamValue:i}=t,a=e.alphaEffect,l=e.alphaEffectData,r=l.findIndex(e=>"string"==typeof e&&e===a),s=l[r+1],o=new Map([]);if("object"==typeof s)for(let[e,t]of s.entries()){if("gradientLine"in t){let t=s[e+1];if("float2x2"in t){let e=t.float2x2._0,n=t.float2x2._1;o.set("direction",new i({start:{x:nz(e[0]),y:nz(e[1])},end:{x:nz(n[0]),y:nz(n[1])}}))}}if("alpha"in t){let t=s[e+1];"float"in t&&o.set("opacity",new n(nz(t.float._0)))}}return o},nK=(e,t)=>{let{FloatParamValue:n,PointParamValue:i,BoolParamValue:a}=t,l=e.motionEffectData,r=e.motionEffect,s=l.findIndex(e=>"string"==typeof e&&e===r),o=l[s+1],d=new Map([]);if("object"==typeof o)for(let[e,t]of o.entries()){if("timeSpeed"in t){let t=o[e+1];"float"in t&&d.set("speed",new n(nz(t.float._0)))}if("intensity"in t){let t=o[e+1];"float"in t&&d.set("angle",new n(nM(t.float._0)))}if("direction"in t){let t=o[e+1];if("float2"in t){let e=t.float2._0;d.set("carousel"===r?"direction":"pivot",new i({x:nN(e[0]),y:nN(e[1])}))}}if("mirror"in t){let t=o[e+1];"bool"in t&&d.set("mirror",new a(t.bool._0))}if("scale"in t){let t=o[e+1];"float"in t&&d.set("scale",new n(t.float._0))}if("spacingX"in t){let t=o[e+1];"float"in t&&d.set("hSpacing",new n(nZ(t.float._0)))}if("spacingY"in t){let t=o[e+1];"float"in t&&d.set("vSpacing",new n(nZ(t.float._0)))}if("distortion"in t){let t=o[e+1];if("float2"in t){let e=t.float2._0;d.set("center",new i({x:nz(e[0]),y:nz(e[1])}))}}if("unique"in t){let{_0:l}=t.unique;if("horizontal"===l){let t=o[e+1];"bool"in t&&d.set("horizontal",new a(t.bool._0))}if("Direction"===l){let t=o[e+1];"bool"in t&&d.set("clockwise",new a(t.bool._0))}if("center"===l){let t=o[e+1];if("float2"in t){let e=t.float2._0;d.set("center",new i({x:nz(e[0]),y:nz(e[1])}))}}if("linearity"===l){let t=o[e+1];"bool"in t&&d.set("radial",new a(t.bool._0))}if("timeDirection"===l){let t=o[e+1];"bool"in t&&d.set("inverted",new a(!t.bool._0))}if("intensity"===l){let t=o[e+1];"float"in t&&d.set("strength",new n(nz(t.float._0)))}if("glitch_signal"===l){let t=o[e+1];"bool"in t&&d.set("animateColor",new a(t.bool._0))}if("glitch_dist_2"===l){let t=o[e+1];"float"in t&&d.set("intensity",new n(nz(t.float._0)))}if("glitch_lines"===l){let t=o[e+1];"float"in t&&d.set("lineWidth",new n(nz(t.float._0)))}if("glitch_aberration_radial"===l){let t=o[e+1];"float"in t&&d.set("colorDistortion",new n(nz(t.float._0)))}if("drop_scale"===l){let t=o[e+1];"float"in t&&d.set("melt",new n(nz(t.float._0)))}}}return d},nV=(e,t)=>{let{FloatParamValue:n}=t,i=e.filterEffectData,a=e.filter,l=i.findIndex(e=>"string"==typeof e&&e===a),r=i[l+1],s=new Map([]);if("object"==typeof r)for(let[e,t]of r.entries()){if("intensity"in t){let t=r[e+1];"float"in t&&s.set("strength",new n(nz(t.float._0)))}if("exposure"in t){let t=r[e+1];"float"in t&&s.set("exposure",new n(nz(t.float._0/.3)))}if("contrast"in t){let t=r[e+1];"float"in t&&s.set("contrast",new n(nz(t.float._0-1)))}if("saturation"in t){let t=r[e+1];"float"in t&&s.set("saturation",new n(nz(t.float._0-1)))}if("highlights"in t){let t=r[e+1];"float"in t&&s.set("highlights",new n(nz(t.float._0-1)))}if("shadows"in t){let t=r[e+1];"float"in t&&s.set("shadows",new n(nz(t.float._0)))}if("temperature"in t){let t=r[e+1];"float"in t&&s.set("temperature",new n(nz(t.float._0)))}if("tint"in t){let t=r[e+1];"float"in t&&s.set("tint",new n(nz(t.float._0)))}}return s},nH=(e,t)=>{let{FloatParamValue:n,ColorParamValue:i,Color:a,PointParamValue:l}=t,r=e.frameEffectData,s=e.frame,o=r.findIndex(e=>"string"==typeof e&&e===s),d=r[o+1],c=new Map([]);if("object"==typeof d)for(let[e,t]of d.entries()){if("color"in t){let t=d[e+1];if("float4"in t){let[e,n,l,r]=t.float4._0;c.set("color",new i(new a(255*e,255*n,255*l,255*r)))}}if("width"in t){let t=d[e+1];"float"in t&&c.set("radius",new n("border"===s?nB(t.float._0):t.float._0))}if("alpha"in t){let t=d[e+1];"float"in t&&c.set("opacity",new n(t.float._0))}if("direction"in t){let t=d[e+1];if("float2"in t){let e=t.float2._0;c.set("direction",new l({x:e[0]-.5,y:e[1]-.5}))}}}return c},nG=(e,t,n,i)=>{let{Renderer:a,LogLevel:l,Color:r,Sticker:s,KernelEffect:o,ColorEffect:d,Angle:c,ItemLayout:u,SceneItem:p}=e,m=new a(t,t.width,t.height,l.Disabled);return m.scene.bgColor=r.fromHex(i||"#E5E5E5"),n.forEach(t=>{var n,i,a,l,r;let h=new s(t.image);h.width=t.width,h.height=t.height,t.isHidden?h.opacity=0:h.opacity=void 0===t.alpha?1:t.alpha;let g=t.effectData,_=nL(e),y=nR(e),f=nF(e);if(g){if("none"!==g.motionEffect){let t=null==(n=y[g.motionEffect])?void 0:n.call(y);if(t){let n=nK(g,e);t.settings.update(n),t instanceof o?h.kernelEffect=t:t instanceof d?h.colorEffects.push(t):h.distortionEffects.push(t)}}if("none"!==g.alphaEffect){let t=null==(i=_[g.alphaEffect])?void 0:i.call(_);if(t){let n=nU(g,e);t.settings.update(n),h.colorEffects.push(t)}}if("none"!==g.filter){let t=null==(a=_[g.filter])?void 0:a.call(_);if(t){let n=nV(g,e);t.settings.update(n),h.colorEffects.push(t)}}if("none"!==g.frame){let t=null==(l=f[g.frame])?void 0:l.call(f);if(t){let n=nH(g,e);t.settings.update(n),h.filters.push(t)}}}let b=nO(g,e),v=new u(t.offsetX,t.offsetY,t.scale,0,c.fromRadians(t.rotation),b);null==m||m.scene.items.push(new p(h,v,null==(r=t.effectData)?void 0:r.objectId,t.shuffleItemId))}),{renderer:m}},n$=async()=>{i=await n.e(76049).then(n.bind(n,76049))},nW=({shuffle:e,width:t,children:a,rounded:l=!1,onClickSticker:o})=>{let[d,c]=(0,s.useState)(!1),[u,p]=(0,s.useState)(null),m=(0,s.useRef)(null),h=(0,s.useRef)(!1),g=(0,s.useRef)(null),_=(0,s.useRef)(null),y=(0,s.useRef)(null),f=(0,s.useRef)(null),b=(0,s.useRef)(null),v=(0,s.useRef)(null),x=(0,s.useRef)({controller:null,updateHighlighterBackground:null}),k=nj(),P=!!o;(0,s.useEffect)(function(){let a=async()=>{var a,l;if(await n$(),!m.current||!f.current||!e||!e.items||!i)return;let r=f.current.offsetWidth,s=m.current,o="100%"===t?r:t,d=nC(o);s.width=1152,s.height=nC(1152),s.style.width=`${o}px`,s.style.height=`${d}px`;let u={height:s.height,width:s.width};h.current=!0;let{initLibrary:p,FloatParamValue:b}=i;await p();let v=await nE({shuffle:e,canvasDimensions:u}),{renderer:k}=nG(i,s,v,null==(a=e.effect_data)?void 0:a.backgroundColor);k.render({updateHitTesting:P}),y.current=k,c(!0);let S=0,w=e=>{g.current=requestAnimationFrame(w);let t=e-S>=200&&P;t&&(S=e),k.render({updateHitTesting:t})};g.current=requestAnimationFrame(w);let T=e=>{var t,n;null==(n=null==(t=k.scene.highlighter)?void 0:t.effect.settings)||n.update(new Map([["bgShadow",new b(e)]]))};T(0),x.current={updateHighlighterBackground:T,controller:new tY({opacity:0,config:{easing:eP.easeOutCubic,duration:300}})};let I=v.some(e=>{var t;return(null==(t=e.effectData)?void 0:t.motionEffect)!=="none"}),A=null==(l=e.effect_data)?void 0:l.keyframeAnimation;if(A){let t=await n.e(45768).then(n.bind(n,345768));_.current=t.doKeyframes(A,k,u,e.items,i)}I||A||k.scene.items.forEach(({layout:e})=>{new tY({from:{scale:e.scale},to:[{scale:.9*e.scale},{scale:e.scale}],config:{duration:300,easing:eP.easeInOutCubic},onChange(t){"number"==typeof t&&(e.scale=t)}})})};null!=e&&e.items&&!h.current&&(h.current=!0,a())},[e,t,P]),(0,s.useEffect)(function(){return()=>{g.current&&cancelAnimationFrame(g.current),_.current&&_.current(),y.current&&y.current.destroy()}},[]);let S=(0,s.useCallback)(t=>{var n;let i=m.current,a=y.current;if(!i||!a)return null;let l=i.getBoundingClientRect(),r=i.width/l.width,s=i.height/l.height,o=(t.x-l.left)*r,d=(t.y-l.top)*s,c=a.itemAt(o,d),u=c?(null==(n=null==e?void 0:e.items)?void 0:n.find(e=>e.id===c.shuffleItemId))??null:null;return{sceneItem:c,shuffleItem:u}},[null==e?void 0:e.items]),w=(0,s.useCallback)(e=>{let{updateHighlighterBackground:t,controller:n}=x.current;null==n||n.start({opacity:"in"===e?.5:0,onChange(e){"number"==typeof e.value.opacity&&i&&(null==t||t(e.value.opacity))}})},[]),T=(0,s.useCallback)(e=>{let t=S({x:e.clientX,y:e.clientY});null!=t&&t.shuffleItem&&(null==o||o(t.shuffleItem))},[S,o]),I=(0,s.useCallback)(e=>{var t,n,i;let a=null==(t=y.current)?void 0:t.scene,l=S({x:e.clientX,y:e.clientY});l&&a&&(null==(n=l.sceneItem)?void 0:n.shuffleItemId)!==(null==u?void 0:u.shuffleItemId)&&(v.current&&(clearTimeout(v.current),v.current=null),p(l.sceneItem),(null==(i=l.shuffleItem)?void 0:i.item_type)!=nx.TEXT&&(l.sceneItem?v.current=setTimeout(()=>{a.focusedItem=l.sceneItem,w("in")},null!=u&&u.shuffleItemId&&l.sceneItem.shuffleItemId!=u.shuffleItemId?0:300):w("out")))},[S,null==u?void 0:u.shuffleItemId,w]),A=(0,s.useCallback)(()=>{let e=b.current;w("out"),e&&E(e.sceneItem,e.scale,"up"),u&&p(null),v.current&&clearTimeout(v.current)},[w,u]),E=(e,t,n)=>{let{layout:i}=e;new tY({from:{scale:i.scale},to:{scale:"down"===n?.9*t:t},config:{easing:eP.easeOutCubic,duration:150},onChange(e){"number"==typeof e.value.scale&&(i.scale=e.value.scale)}})},C=(0,s.useCallback)(e=>{var t,n;let i=e instanceof MouseEvent?{x:e.clientX,y:e.clientY}:{x:e.touches[0].clientX,y:e.touches[0].clientY};if(!(null==(t=y.current)?void 0:t.scene))return;let a=S(i);if(null!=a&&a.sceneItem&&a.shuffleItem){let{shuffleItem:e,sceneItem:t}=a,i=((null==(n=m.current)?void 0:n.width)??0)/ns,l=e.scale*i;b.current={scale:l,sceneItem:t},E(t,l,"down")}},[S]),j=(0,s.useCallback)(()=>{if(!b.current)return;let{sceneItem:e,scale:t}=b.current;E(e,t,"up")},[]);return(0,s.useEffect)(function(){let e=m.current;return null==e||e.addEventListener("click",T),k?(null==e||e.addEventListener("touchstart",C),null==e||e.addEventListener("touchend",j)):(null==e||e.addEventListener("mousedown",C),null==e||e.addEventListener("mouseup",j),null==e||e.addEventListener("mousemove",I),null==e||e.addEventListener("mouseleave",A)),()=>{null==e||e.removeEventListener("click",T),k?(null==e||e.removeEventListener("touchstart",C),null==e||e.removeEventListener("touchend",j)):(null==e||e.removeEventListener("mousedown",C),null==e||e.removeEventListener("mouseup",j),null==e||e.removeEventListener("mousemove",I),null==e||e.removeEventListener("mouseleave",A))}},[T,I,C,A,j,k]),(0,r.jsxs)("div",{ref:f,style:"100%"===t?{width:"100%"}:{},children:[a,(0,r.jsx)("canvas",{style:{borderRadius:l?"10%/5%":0,position:"absolute",cursor:null===u?"auto":"pointer",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",top:0,left:"50%",transform:"translateX(-50%)",opacity:d?1:0},ref:m})]})}},269220:(e,t,n)=>{"use strict";n.d(t,{s:()=>i.S});var i=n(116627);n(785893),n(667294),n(973935)},45528:(e,t,n)=>{"use strict";n.d(t,{NO:()=>er,Yn:()=>ei,a4:()=>j,mw:()=>E});var i,a,l=function(){return self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},r=function(e){if("loading"===document.readyState)return"loading";var t=l();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},s=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},o=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var i=e,a=i.id?"#"+i.id:s(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+a.length>(t||100)-1)return n||a;if(n=n?a+">"+n:a,i.id)break;e=i.parentNode}}catch(e){}return n},d=-1,c=function(){return d},u=function(e){addEventListener("pageshow",function(t){t.persisted&&(d=t.timeStamp,e(t))},!0)},p=function(){var e=l();return e&&e.activationStart||0},m=function(e,t){var n=l(),i="navigate";return c()>=0?i="back-forward-cache":n&&(document.prerendering||p()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},h=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},g=function(e,t,n,i){var a,l;return function(r){var s;t.value>=0&&(r||i)&&((l=t.value-(a||0))||void 0===a)&&(a=t.value,t.delta=l,t.rating=(s=t.value)>n[1]?"poor":s>n[0]?"needs-improvement":"good",e(t))}},_=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},y=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},f=function(e){var t=!1;return function(){t||(e(),t=!0)}},b=-1,v=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},x=function(e){"hidden"===document.visibilityState&&b>-1&&(b="visibilitychange"===e.type?e.timeStamp:0,P())},k=function(){addEventListener("visibilitychange",x,!0),addEventListener("prerenderingchange",x,!0)},P=function(){removeEventListener("visibilitychange",x,!0),removeEventListener("prerenderingchange",x,!0)},S=function(){return b<0&&(b=v(),k(),u(function(){setTimeout(function(){b=v(),k()},0)})),{get firstHiddenTime(){return b}}},w=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},T=[1800,3e3],I=function(e,t){t=t||{},w(function(){var n,i=S(),a=m("FCP"),l=h("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(l.disconnect(),e.startTime<i.firstHiddenTime&&(a.value=Math.max(e.startTime-p(),0),a.entries.push(e),n(!0)))})});l&&(n=g(e,a,T,t.reportAllChanges),u(function(i){n=g(e,a=m("FCP"),T,t.reportAllChanges),_(function(){a.value=performance.now()-i.timeStamp,n(!0)})}))})},A=[.1,.25],E=function(e,t){var n,i;n=function(t){(function(e){if(e.entries.length){var t,n=e.entries.reduce(function(e,t){return e&&e.value>t.value?e:t});if(n&&n.sources&&n.sources.length){var i=(t=n.sources).find(function(e){return e.node&&1===e.node.nodeType})||t[0];if(i)return void(e.attribution={largestShiftTarget:o(i.node),largestShiftTime:n.startTime,largestShiftValue:n.value,largestShiftSource:i,largestShiftEntry:n,loadState:r(n.startTime)})}}e.attribution={}})(t),e(t)},i=(i=t)||{},I(f(function(){var e,t=m("CLS",0),a=0,l=[],r=function(n){n.forEach(function(e){if(!e.hadRecentInput){var t=l[0],n=l[l.length-1];a&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,l.push(e)):(a=e.value,l=[e])}}),a>t.value&&(t.value=a,t.entries=l,e())},s=h("layout-shift",r);s&&(e=g(n,t,A,i.reportAllChanges),y(function(){r(s.takeRecords()),e(!0)}),u(function(){a=0,e=g(n,t=m("CLS",0),A,i.reportAllChanges),_(function(){return e()})}),setTimeout(e,0))}))},C=function(e){return e<=0||e>performance.now()},j=function(e,t){I(function(t){!function(e){if(e.entries.length){var t=l(),n=e.entries[e.entries.length-1];if(t){var i=t.responseStart;if(C(i))return;var a=Math.max(0,i-(t.activationStart||0));return void(e.attribution={timeToFirstByte:a,firstByteToFCP:e.value-a,loadState:r(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:r(c())}}(t),e(t)},t)},R=0,L=1/0,F=0,D=function(e){e.forEach(function(e){e.interactionId&&(L=Math.min(L,e.interactionId),R=(F=Math.max(F,e.interactionId))?(F-L)/7+1:0)})},O=function(){"interactionCount"in performance||i||(i=h("event",D,{type:"event",buffered:!0,durationThreshold:0}))},z=[],M=new Map,N=0,Z=[],B=function(e){if(Z.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=z[z.length-1],n=M.get(e.interactionId);if(n||z.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};M.set(i.id,i),z.push(i)}z.sort(function(e,t){return t.latency-e.latency}),z.length>10&&z.splice(10).forEach(function(e){return M.delete(e.id)})}}},U=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=f(e),"hidden"===document.visibilityState?e():(n=t(e),y(e)),n},K=[200,500],V=function(e,t){t=t||{},w(function(){O();var n,a,l=m("INP"),r=function(e){e.forEach(B);var t,n=(t=Math.min(z.length-1,Math.floor(((i?R:performance.interactionCount||0)-N)/50)),z[t]);n&&n.latency!==l.value&&(l.value=n.latency,l.entries=n.entries,a())},s=h("event",r,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});a=g(e,l,K,t.reportAllChanges),s&&("PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),y(function(){r(s.takeRecords()),a(!0)}),u(function(){N=0,z.length=0,M.clear(),a=g(e,l=m("INP"),K,t.reportAllChanges)}))})},H=[],G=new Map,$=[],W=new WeakMap,q=-1,Y=function(e){e.forEach(function(e){return H.push(e)})},X=function(){$=$.slice(-50);var e=new Set($.concat(z.map(function(e){return W.get(e.entries[0])})));G.forEach(function(t,n){e.has(n)||G.delete(n)});var t=new Set;G.forEach(function(e){en(e.startTime,e.processingEnd).forEach(function(e){t.add(e)})}),H=Array.from(t),q=-1};Z.push(function(e){for(var t,n=e.startTime+e.duration,i=$.length-1;i>=0;i--)if(8>=Math.abs(n-(t=$[i]))){var a=G.get(t);a.startTime=Math.min(e.startTime,a.startTime),a.processingStart=Math.min(e.processingStart,a.processingStart),a.processingEnd=Math.max(e.processingEnd,a.processingEnd),a.entries.push(e),n=t;break}n!==t&&($.push(n),G.set(n,{startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,entries:[e]})),(e.interactionId||"first-input"===e.entryType)&&W.set(e,n),q<0&&(q=U(X))});var J,Q,ee,et,en=function(e,t){for(var n,i=[],a=0;n=H[a];a++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;i.push(n)}return i},ei=function(e,t){a||(a=h("long-animation-frame",Y)),V(function(t){U(function(){var n,i,a,l,s,d,c,u,p,m;n=t.entries[0],i=W.get(n),a=G.get(i),l=n.processingStart,s=a.processingEnd,d=a.entries.sort(function(e,t){return e.processingStart-t.processingStart}),c=en(n.startTime,s),u=t.entries.find(function(e){return e.target}),p=[n.startTime+n.duration,s].concat(c.map(function(e){return e.startTime+e.duration})),m=Math.max.apply(Math,p),t.attribution={interactionTarget:o(u&&u.target),interactionType:n.name.startsWith("key")?"keyboard":"pointer",interactionTime:n.startTime,nextPaintTime:m,processedEventEntries:d,longAnimationFrameEntries:c,inputDelay:l-n.startTime,processingDuration:s-l,presentationDelay:Math.max(m-s,0),loadState:r(n.startTime)},e(t)})},t)},ea=[2500,4e3],el={},er=function(e,t){var n,i;n=function(t){(function(e){if(e.entries.length){var t=l();if(t){var n=t.responseStart;if(C(n))return;var i=t.activationStart||0,a=e.entries[e.entries.length-1],r=a.url&&performance.getEntriesByType("resource").filter(function(e){return e.name===a.url})[0],s=Math.max(0,n-i),d=Math.max(s,r?(r.requestStart||r.startTime)-i:0),c=Math.max(d,r?r.responseEnd-i:0),u=Math.max(c,a.startTime-i),p={element:o(a.element),timeToFirstByte:s,resourceLoadDelay:d-s,resourceLoadDuration:c-d,elementRenderDelay:u-c,navigationEntry:t,lcpEntry:a};return a.url&&(p.url=a.url),r&&(p.lcpResourceEntry=r),void(e.attribution=p)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value}})(t),e(t)},i=(i=t)||{},w(function(){var e,t=S(),a=m("LCP"),l=function(n){var i=n[n.length-1];i&&i.startTime<t.firstHiddenTime&&(a.value=Math.max(i.startTime-p(),0),a.entries=[i],e())},r=h("largest-contentful-paint",l);if(r){e=g(n,a,ea,i.reportAllChanges);var s=f(function(){el[a.id]||(l(r.takeRecords()),r.disconnect(),el[a.id]=!0,e(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return U(s)},!0)}),y(s),u(function(t){e=g(n,a=m("LCP"),ea,i.reportAllChanges),_(function(){a.value=performance.now()-t.timeStamp,el[a.id]=!0,e(!0)})})}})},es={passive:!0,capture:!0},eo=new Date,ed=function(e,t){J||(J=t,Q=e,ee=new Date,ep(removeEventListener),ec())},ec=function(){if(Q>=0&&Q<ee-eo){var e={entryType:"first-input",name:J.type,target:J.target,cancelable:J.cancelable,startTime:J.timeStamp,processingStart:J.timeStamp+Q};et.forEach(function(t){t(e)}),et=[]}},eu=function(e){if(e.cancelable){var t,n,i,a=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){ed(a,e),i()},n=function(){i()},i=function(){removeEventListener("pointerup",t,es),removeEventListener("pointercancel",n,es)},addEventListener("pointerup",t,es),addEventListener("pointercancel",n,es)):ed(a,e)}},ep=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,eu,es)})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MobileAndUnauthPinPage-02bd365c26d166f9.mjs.map